(self.webpackChunktrackify=self.webpackChunktrackify||[]).push([[179],{2011:(be,pe,V)=>{"use strict";V.d(pe,{Dh:()=>Ee,GT:()=>xe,Ot:()=>Ne,cc:()=>de,hO:()=>Ze,on:()=>ne,pX:()=>Te,xv:()=>ge});var O=V(4650),l=V(127),G=V(880);be=V.hmd(be);const he=["ngOnDestroy"],Te=(ae,De,Fe,He={})=>new Proxy(ae,{get:(Ue,Be)=>Fe.runOutsideAngular(()=>{var it;if(ae[Be])return!(null===(it=He?.spy)||void 0===it)&&it.get&&He.spy.get(Be,ae[Be]),ae[Be];if(he.indexOf(Be)>-1)return()=>{};const ue=De.toPromise().then(Me=>{const je=Me&&Me[Be];return"function"==typeof je?je.bind(Me):je&&je.then?je.then(fe=>Fe.run(()=>fe)):Fe.run(()=>je)});return new Proxy(()=>{},{get:(Me,je)=>ue[je],apply:(Me,je,fe)=>ue.then(me=>{var Ie;const Oe=me&&me(...fe);return!(null===(Ie=He?.spy)||void 0===Ie)&&Ie.apply&&He.spy.apply(Be,fe,Oe),Oe})})})}),xe=(ae,De)=>{De.forEach(Fe=>{Object.getOwnPropertyNames(Fe.prototype||Fe).forEach(He=>{Object.defineProperty(ae.prototype,He,Object.getOwnPropertyDescriptor(Fe.prototype||Fe,He))})})};class Ne{constructor(De){return De}}const Ee=new O.OlP("angularfire2.app.options"),ge=new O.OlP("angularfire2.app.name");function ne(ae,De,Fe){const Ue="object"==typeof Fe&&Fe||{};Ue.name=Ue.name||"string"==typeof Fe&&Fe||"[DEFAULT]";const it=l.Z.apps.filter(ue=>ue&&ue.name===Ue.name)[0]||De.runOutsideAngular(()=>l.Z.initializeApp(ae,Ue));try{JSON.stringify(ae)!==JSON.stringify(it.options)&&te("error",`${it.name} Firebase App already initialized with different options${be.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new Ne(it)}const te=(ae,...De)=>{(0,O.X6Q)()&&typeof console<"u"&&console[ae](...De)},ce={provide:Ne,useFactory:ne,deps:[Ee,O.R0b,[new O.FiY,ge]]};let Ze=(()=>{class ae{constructor(Fe){l.Z.registerVersion("angularfire",G.q4.full,"core"),l.Z.registerVersion("angularfire",G.q4.full,"app-compat"),l.Z.registerVersion("angular",O.q4F.full,Fe.toString())}static initializeApp(Fe,He){return{ngModule:ae,providers:[{provide:Ee,useValue:Fe},{provide:ge,useValue:He}]}}}return ae.\u0275fac=function(Fe){return new(Fe||ae)(O.LFG(O.Lbi))},ae.\u0275mod=O.oAB({type:ae}),ae.\u0275inj=O.cJS({providers:[ce]}),ae})();function de(ae,De,Fe,He,Ue){const[,Be,it]=globalThis.\u0275AngularfireInstanceCache.find(ue=>ue[0]===ae)||[];if(Be)return function qe(ae,De){try{return ae.toString()===De.toString()}catch{return ae===De}}(Ue,it)||(X("error",`${De} was already initialized on the ${Fe} Firebase App with different settings.${J?" You may need to reload as Firebase is not HMR aware.":""}`),X("warn",{is:Ue,was:it})),Be;{const ue=He();return globalThis.\u0275AngularfireInstanceCache.push([ae,ue,Ue]),ue}}const J=!!be.hot,X=(ae,...De)=>{(0,O.X6Q)()&&typeof console<"u"&&console[ae](...De)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},880:(be,pe,V)=>{"use strict";V.d(pe,{q4:()=>Jo,iC:()=>vu,HU:()=>yu,vb:()=>u_,JM:()=>a_,nk:()=>Oa,u3:()=>_l});var O=V(4650),l=V(5867),G=V(5861),he=V(9681),Te=V(2090),xe=V(4859),Ne=V(1877);V(2833);const ge="@firebase/remote-config",de=new Te.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class xt{constructor(W,se,ke,Ge){this.client=W,this.storage=se,this.storageCache=ke,this.logger=Ge}isCachedDataFresh(W,se){if(!se)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const ke=Date.now()-se,Ge=ke<=W;return this.logger.debug(`Config fetch cache check. Cache age millis: ${ke}. Cache max age millis (minimumFetchIntervalMillis setting): ${W}. Is cache hit: ${Ge}.`),Ge}fetch(W){var se=this;return(0,G.Z)(function*(){const[ke,Ge]=yield Promise.all([se.storage.getLastSuccessfulFetchTimestampMillis(),se.storage.getLastSuccessfulFetchResponse()]);if(Ge&&se.isCachedDataFresh(W.cacheMaxAgeMillis,ke))return Ge;W.eTag=Ge&&Ge.eTag;const mt=yield se.client.fetch(W),Bt=[se.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===mt.status&&Bt.push(se.storage.setLastSuccessfulFetchResponse(mt)),yield Promise.all(Bt),mt})()}}function In(z=navigator){return z.languages&&z.languages[0]||z.language}class Cn{constructor(W,se,ke,Ge,mt,Bt){this.firebaseInstallations=W,this.sdkVersion=se,this.namespace=ke,this.projectId=Ge,this.apiKey=mt,this.appId=Bt}fetch(W){var se=this;return(0,G.Z)(function*(){var ke,Ge,mt;const[Bt,hn]=yield Promise.all([se.firebaseInstallations.getId(),se.firebaseInstallations.getToken()]),bi=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${se.projectId}/namespaces/${se.namespace}:fetch?key=${se.apiKey}`,Sr={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":W.eTag||"*"},Kt={sdk_version:se.sdkVersion,app_instance_id:Bt,app_instance_id_token:hn,app_id:se.appId,language_code:In()},Zr={method:"POST",headers:Sr,body:JSON.stringify(Kt)},Pa=fetch(bi,Zr),Xo=new Promise((ea,ta)=>{W.signal.addEventListener(()=>{const Wr=new Error("The operation was aborted.");Wr.name="AbortError",ta(Wr)})});let La;try{yield Promise.race([Pa,Xo]),La=yield Pa}catch(ea){let ta="fetch-client-network";throw"AbortError"===(null===(ke=ea)||void 0===ke?void 0:ke.name)&&(ta="fetch-timeout"),de.create(ta,{originalErrorMessage:null===(Ge=ea)||void 0===Ge?void 0:Ge.message})}let Ki=La.status;const yl=La.headers.get("ETag")||void 0;let bu,zt;if(200===La.status){let ea;try{ea=yield La.json()}catch(ta){throw de.create("fetch-client-parse",{originalErrorMessage:null===(mt=ta)||void 0===mt?void 0:mt.message})}bu=ea.entries,zt=ea.state}if("INSTANCE_STATE_UNSPECIFIED"===zt?Ki=500:"NO_CHANGE"===zt?Ki=304:("NO_TEMPLATE"===zt||"EMPTY_CONFIG"===zt)&&(bu={}),304!==Ki&&200!==Ki)throw de.create("fetch-status",{httpStatus:Ki});return{status:Ki,eTag:yl,config:bu}})()}}class Zt{constructor(W,se){this.client=W,this.storage=se}fetch(W){var se=this;return(0,G.Z)(function*(){const ke=(yield se.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return se.attemptFetch(W,ke)})()}attemptFetch(W,{throttleEndTimeMillis:se,backoffCount:ke}){var Ge=this;return(0,G.Z)(function*(){yield function Ft(z,W){return new Promise((se,ke)=>{const Ge=Math.max(W-Date.now(),0),mt=setTimeout(se,Ge);z.addEventListener(()=>{clearTimeout(mt),ke(de.create("fetch-throttle",{throttleEndTimeMillis:W}))})})}(W.signal,se);try{const mt=yield Ge.client.fetch(W);return yield Ge.storage.deleteThrottleMetadata(),mt}catch(mt){if(!function en(z){if(!(z instanceof Te.ZR&&z.customData))return!1;const W=Number(z.customData.httpStatus);return 429===W||500===W||503===W||504===W}(mt))throw mt;const Bt={throttleEndTimeMillis:Date.now()+(0,Te.$s)(ke),backoffCount:ke+1};return yield Ge.storage.setThrottleMetadata(Bt),Ge.attemptFetch(W,Bt)}})()}}class nn{constructor(W,se,ke,Ge,mt){this.app=W,this._client=se,this._storageCache=ke,this._storage=Ge,this._logger=mt,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Rt(z,W){var se;const ke=z.target.error||void 0;return de.create(W,{originalErrorMessage:ke&&(null===(se=ke)||void 0===se?void 0:se.message)})}const Fn="app_namespace_store";class Or{constructor(W,se,ke,Ge=function cr(){return new Promise((z,W)=>{var se;try{const ke=indexedDB.open("firebase_remote_config",1);ke.onerror=Ge=>{W(Rt(Ge,"storage-open"))},ke.onsuccess=Ge=>{z(Ge.target.result)},ke.onupgradeneeded=Ge=>{0===Ge.oldVersion&&Ge.target.result.createObjectStore(Fn,{keyPath:"compositeKey"})}}catch(ke){W(de.create("storage-open",{originalErrorMessage:null===(se=ke)||void 0===se?void 0:se.message}))}})}()){this.appId=W,this.appName=se,this.namespace=ke,this.openDbPromise=Ge}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(W){return this.set("last_fetch_status",W)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(W){return this.set("last_successful_fetch_timestamp_millis",W)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(W){return this.set("last_successful_fetch_response",W)}getActiveConfig(){return this.get("active_config")}setActiveConfig(W){return this.set("active_config",W)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(W){return this.set("active_config_etag",W)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(W){return this.set("throttle_metadata",W)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(W){var se=this;return(0,G.Z)(function*(){const ke=yield se.openDbPromise;return new Promise((Ge,mt)=>{var Bt;const $n=ke.transaction([Fn],"readonly").objectStore(Fn),bi=se.createCompositeKey(W);try{const Sr=$n.get(bi);Sr.onerror=Kt=>{mt(Rt(Kt,"storage-get"))},Sr.onsuccess=Kt=>{const Zr=Kt.target.result;Ge(Zr?Zr.value:void 0)}}catch(Sr){mt(de.create("storage-get",{originalErrorMessage:null===(Bt=Sr)||void 0===Bt?void 0:Bt.message}))}})})()}set(W,se){var ke=this;return(0,G.Z)(function*(){const Ge=yield ke.openDbPromise;return new Promise((mt,Bt)=>{var hn;const bi=Ge.transaction([Fn],"readwrite").objectStore(Fn),Sr=ke.createCompositeKey(W);try{const Kt=bi.put({compositeKey:Sr,value:se});Kt.onerror=Zr=>{Bt(Rt(Zr,"storage-set"))},Kt.onsuccess=()=>{mt()}}catch(Kt){Bt(de.create("storage-set",{originalErrorMessage:null===(hn=Kt)||void 0===hn?void 0:hn.message}))}})})()}delete(W){var se=this;return(0,G.Z)(function*(){const ke=yield se.openDbPromise;return new Promise((Ge,mt)=>{var Bt;const $n=ke.transaction([Fn],"readwrite").objectStore(Fn),bi=se.createCompositeKey(W);try{const Sr=$n.delete(bi);Sr.onerror=Kt=>{mt(Rt(Kt,"storage-delete"))},Sr.onsuccess=()=>{Ge()}}catch(Sr){mt(de.create("storage-delete",{originalErrorMessage:null===(Bt=Sr)||void 0===Bt?void 0:Bt.message}))}})})()}createCompositeKey(W){return[this.appId,this.appName,this.namespace,W].join()}}class Ri{constructor(W){this.storage=W}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var W=this;return(0,G.Z)(function*(){const se=W.storage.getLastFetchStatus(),ke=W.storage.getLastSuccessfulFetchTimestampMillis(),Ge=W.storage.getActiveConfig(),mt=yield se;mt&&(W.lastFetchStatus=mt);const Bt=yield ke;Bt&&(W.lastSuccessfulFetchTimestampMillis=Bt);const hn=yield Ge;hn&&(W.activeConfig=hn)})()}setLastFetchStatus(W){return this.lastFetchStatus=W,this.storage.setLastFetchStatus(W)}setLastSuccessfulFetchTimestampMillis(W){return this.lastSuccessfulFetchTimestampMillis=W,this.storage.setLastSuccessfulFetchTimestampMillis(W)}setActiveConfig(W){return this.activeConfig=W,this.storage.setActiveConfig(W)}}function ii(){return jr.apply(this,arguments)}function jr(){return(jr=(0,G.Z)(function*(){if(!(0,Te.hl)())return!1;try{return yield(0,Te.eu)()}catch{return!1}})).apply(this,arguments)}!function ri(){(0,he._registerComponent)(new xe.wA("remote-config",function z(W,{instanceIdentifier:se}){const ke=W.getProvider("app").getImmediate(),Ge=W.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw de.create("registration-window");if(!(0,Te.hl)())throw de.create("indexed-db-unavailable");const{projectId:mt,apiKey:Bt,appId:hn}=ke.options;if(!mt)throw de.create("registration-project-id");if(!Bt)throw de.create("registration-api-key");if(!hn)throw de.create("registration-app-id");const $n=new Or(hn,ke.name,se=se||"firebase"),bi=new Ri($n),Sr=new Ne.Yd(ge);Sr.logLevel=Ne.in.ERROR;const Kt=new Cn(Ge,he.SDK_VERSION,se,mt,Bt,hn),Zr=new Zt(Kt,$n),Pa=new xt(Zr,$n,bi,Sr),Xo=new nn(ke,Pa,bi,$n,Sr);return function it(z){const W=(0,Te.m9)(z);W._initializePromise||(W._initializePromise=W._storageCache.loadFromStorage().then(()=>{W._isInitializationComplete=!0}))}(Xo),Xo},"PUBLIC").setMultipleInstances(!0)),(0,he.registerVersion)(ge,"0.3.15"),(0,he.registerVersion)(ge,"0.3.15","esm2017")}();var wn=V(8766);const It="/firebase-messaging-sw.js",wr="/firebase-cloud-messaging-push-scope",Qr="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",$r="google.c.a.c_id",Pr="google.c.a.c_l",En="google.c.a.ts",Bn="google.c.a.e";var ht=(()=>{return(z=ht||(ht={})).PUSH_RECEIVED="push-received",z.NOTIFICATION_CLICKED="notification-clicked",ht;var z})();function Gn(z){const W=new Uint8Array(z);return btoa(String.fromCharCode(...W)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Hr(z){const se=(z+"=".repeat((4-z.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),ke=atob(se),Ge=new Uint8Array(ke.length);for(let mt=0;mt<ke.length;++mt)Ge[mt]=ke.charCodeAt(mt);return Ge}const Er="fcm_token_details_db",ar="fcm_token_object_Store";function Qn(z){return Tn.apply(this,arguments)}function Tn(){return Tn=(0,G.Z)(function*(z){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(mt=>mt.name).includes(Er))return null;let W=null;return(yield(0,wn.X3)(Er,5,{upgrade:(ke=(0,G.Z)(function*(Ge,mt,Bt,hn){var $n;if(mt<2||!Ge.objectStoreNames.contains(ar))return;const bi=hn.objectStore(ar),Sr=yield bi.index("fcmSenderId").get(z);if(yield bi.clear(),Sr)if(2===mt){const Kt=Sr;if(!Kt.auth||!Kt.p256dh||!Kt.endpoint)return;W={token:Kt.fcmToken,createTime:null!==($n=Kt.createTime)&&void 0!==$n?$n:Date.now(),subscriptionOptions:{auth:Kt.auth,p256dh:Kt.p256dh,endpoint:Kt.endpoint,swScope:Kt.swScope,vapidKey:"string"==typeof Kt.vapidKey?Kt.vapidKey:Gn(Kt.vapidKey)}}}else if(3===mt){const Kt=Sr;W={token:Kt.fcmToken,createTime:Kt.createTime,subscriptionOptions:{auth:Gn(Kt.auth),p256dh:Gn(Kt.p256dh),endpoint:Kt.endpoint,swScope:Kt.swScope,vapidKey:Gn(Kt.vapidKey)}}}else if(4===mt){const Kt=Sr;W={token:Kt.fcmToken,createTime:Kt.createTime,subscriptionOptions:{auth:Gn(Kt.auth),p256dh:Gn(Kt.p256dh),endpoint:Kt.endpoint,swScope:Kt.swScope,vapidKey:Gn(Kt.vapidKey)}}}}),function(mt,Bt,hn,$n){return ke.apply(this,arguments)})})).close(),yield(0,wn.Lj)(Er),yield(0,wn.Lj)("fcm_vapid_details_db"),yield(0,wn.Lj)("undefined"),Lr(W)?W:null;var ke}),Tn.apply(this,arguments)}function Lr(z){if(!z||!z.subscriptionOptions)return!1;const{subscriptionOptions:W}=z;return"number"==typeof z.createTime&&z.createTime>0&&"string"==typeof z.token&&z.token.length>0&&"string"==typeof W.auth&&W.auth.length>0&&"string"==typeof W.p256dh&&W.p256dh.length>0&&"string"==typeof W.endpoint&&W.endpoint.length>0&&"string"==typeof W.swScope&&W.swScope.length>0&&"string"==typeof W.vapidKey&&W.vapidKey.length>0}const Xe="firebase-messaging-store";let We=null;function pt(){return We||(We=(0,wn.X3)("firebase-messaging-database",1,{upgrade:(z,W)=>{0===W&&z.createObjectStore(Xe)}})),We}function Ot(z){return Ht.apply(this,arguments)}function Ht(){return(Ht=(0,G.Z)(function*(z){const W=U(z),ke=yield(yield pt()).transaction(Xe).objectStore(Xe).get(W);if(ke)return ke;{const Ge=yield Qn(z.appConfig.senderId);if(Ge)return yield dn(z,Ge),Ge}})).apply(this,arguments)}function dn(z,W){return re.apply(this,arguments)}function re(){return(re=(0,G.Z)(function*(z,W){const se=U(z),Ge=(yield pt()).transaction(Xe,"readwrite");return yield Ge.objectStore(Xe).put(W,se),yield Ge.done,W})).apply(this,arguments)}function Y(z){return H.apply(this,arguments)}function H(){return(H=(0,G.Z)(function*(z){const W=U(z),ke=(yield pt()).transaction(Xe,"readwrite");yield ke.objectStore(Xe).delete(W),yield ke.done})).apply(this,arguments)}function U({appConfig:z}){return z.appId}const j=new Te.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function ie(z,W){return Ce.apply(this,arguments)}function Ce(){return(Ce=(0,G.Z)(function*(z,W){var se;const ke=yield Jn(z),Ge=Zn(W),mt={method:"POST",headers:ke,body:JSON.stringify(Ge)};let Bt;try{Bt=yield(yield fetch(Jt(z.appConfig),mt)).json()}catch(hn){throw j.create("token-subscribe-failed",{errorInfo:null===(se=hn)||void 0===se?void 0:se.toString()})}if(Bt.error)throw j.create("token-subscribe-failed",{errorInfo:Bt.error.message});if(!Bt.token)throw j.create("token-subscribe-no-token");return Bt.token})).apply(this,arguments)}function Je(z,W){return ze.apply(this,arguments)}function ze(){return(ze=(0,G.Z)(function*(z,W){var se;const ke=yield Jn(z),Ge=Zn(W.subscriptionOptions),mt={method:"PATCH",headers:ke,body:JSON.stringify(Ge)};let Bt;try{Bt=yield(yield fetch(`${Jt(z.appConfig)}/${W.token}`,mt)).json()}catch(hn){throw j.create("token-update-failed",{errorInfo:null===(se=hn)||void 0===se?void 0:se.toString()})}if(Bt.error)throw j.create("token-update-failed",{errorInfo:Bt.error.message});if(!Bt.token)throw j.create("token-update-no-token");return Bt.token})).apply(this,arguments)}function At(z,W){return gt.apply(this,arguments)}function gt(){return(gt=(0,G.Z)(function*(z,W){var se;const Ge={method:"DELETE",headers:yield Jn(z)};try{const Bt=yield(yield fetch(`${Jt(z.appConfig)}/${W}`,Ge)).json();if(Bt.error)throw j.create("token-unsubscribe-failed",{errorInfo:Bt.error.message})}catch(mt){throw j.create("token-unsubscribe-failed",{errorInfo:null===(se=mt)||void 0===se?void 0:se.toString()})}})).apply(this,arguments)}function Jt({projectId:z}){return`https://fcmregistrations.googleapis.com/v1/projects/${z}/registrations`}function Jn(z){return Wt.apply(this,arguments)}function Wt(){return(Wt=(0,G.Z)(function*({appConfig:z,installations:W}){const se=yield W.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":z.apiKey,"x-goog-firebase-installations-auth":`FIS ${se}`})})).apply(this,arguments)}function Zn({p256dh:z,auth:W,endpoint:se,vapidKey:ke}){const Ge={web:{endpoint:se,auth:W,p256dh:z}};return ke!==Qr&&(Ge.web.applicationPubKey=ke),Ge}const xo=6048e5;function Sa(z){return Qo.apply(this,arguments)}function Qo(){return(Qo=(0,G.Z)(function*(z){const W=yield dr(z.swRegistration,z.vapidKey),se={vapidKey:z.vapidKey,swScope:z.swRegistration.scope,endpoint:W.endpoint,auth:Gn(W.getKey("auth")),p256dh:Gn(W.getKey("p256dh"))},ke=yield Ot(z.firebaseDependencies);if(ke){if(An(ke.subscriptionOptions,se))return Date.now()>=ke.createTime+xo?_e(z,{token:ke.token,createTime:Date.now(),subscriptionOptions:se}):ke.token;try{yield At(z.firebaseDependencies,ke.token)}catch(Ge){console.warn(Ge)}return st(z.firebaseDependencies,se)}return st(z.firebaseDependencies,se)})).apply(this,arguments)}function du(z){return Fr.apply(this,arguments)}function Fr(){return(Fr=(0,G.Z)(function*(z){const W=yield Ot(z.firebaseDependencies);W&&(yield At(z.firebaseDependencies,W.token),yield Y(z.firebaseDependencies));const se=yield z.swRegistration.pushManager.getSubscription();return!se||se.unsubscribe()})).apply(this,arguments)}function _e(z,W){return Ve.apply(this,arguments)}function Ve(){return(Ve=(0,G.Z)(function*(z,W){try{const se=yield Je(z.firebaseDependencies,W),ke=Object.assign(Object.assign({},W),{token:se,createTime:Date.now()});return yield dn(z.firebaseDependencies,ke),se}catch(se){throw yield du(z),se}})).apply(this,arguments)}function st(z,W){return jt.apply(this,arguments)}function jt(){return(jt=(0,G.Z)(function*(z,W){const ke={token:yield ie(z,W),createTime:Date.now(),subscriptionOptions:W};return yield dn(z,ke),ke.token})).apply(this,arguments)}function dr(z,W){return Pt.apply(this,arguments)}function Pt(){return(Pt=(0,G.Z)(function*(z,W){return(yield z.pushManager.getSubscription())||z.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Hr(W)})})).apply(this,arguments)}function An(z,W){return W.vapidKey===z.vapidKey&&W.endpoint===z.endpoint&&W.auth===z.auth&&W.p256dh===z.p256dh}function jn(z){const W={from:z.from,collapseKey:z.collapse_key,messageId:z.fcmMessageId};return function _i(z,W){if(!W.notification)return;z.notification={};const se=W.notification.title;se&&(z.notification.title=se);const ke=W.notification.body;ke&&(z.notification.body=ke);const Ge=W.notification.image;Ge&&(z.notification.image=Ge);const mt=W.notification.icon;mt&&(z.notification.icon=mt)}(W,z),function hr(z,W){!W.data||(z.data=W.data)}(W,z),function Wi(z,W){var se,ke,Ge,mt,Bt;if(!(W.fcmOptions||null!==(se=W.notification)&&void 0!==se&&se.click_action))return;z.fcmOptions={};const hn=null!==(Ge=null===(ke=W.fcmOptions)||void 0===ke?void 0:ke.link)&&void 0!==Ge?Ge:null===(mt=W.notification)||void 0===mt?void 0:mt.click_action;hn&&(z.fcmOptions.link=hn);const $n=null===(Bt=W.fcmOptions)||void 0===Bt?void 0:Bt.analytics_label;$n&&(z.fcmOptions.analyticsLabel=$n)}(W,z),W}function Dt(z){return"object"==typeof z&&!!z&&$r in z}function sn(z,W){const se=[];for(let ke=0;ke<z.length;ke++)se.push(z.charAt(ke)),ke<W.length&&se.push(W.charAt(ke));return se.join("")}function yi(z){return j.create("missing-app-config-values",{valueName:z})}sn("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),sn("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Zs{constructor(W,se,ke){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Ge=function Ir(z){if(!z||!z.options)throw yi("App Configuration Object");if(!z.name)throw yi("App Name");const W=["projectId","apiKey","appId","messagingSenderId"],{options:se}=z;for(const ke of W)if(!se[ke])throw yi(ke);return{appName:z.name,projectId:se.projectId,apiKey:se.apiKey,appId:se.appId,senderId:se.messagingSenderId}}(W);this.firebaseDependencies={app:W,appConfig:Ge,installations:se,analyticsProvider:ke}}_delete(){return Promise.resolve()}}function Dr(z){return oo.apply(this,arguments)}function oo(){return(oo=(0,G.Z)(function*(z){var W;try{z.swRegistration=yield navigator.serviceWorker.register(It,{scope:wr}),z.swRegistration.update().catch(()=>{})}catch(se){throw j.create("failed-service-worker-registration",{browserErrorMessage:null===(W=se)||void 0===W?void 0:W.message})}})).apply(this,arguments)}function Cr(z,W){return ss.apply(this,arguments)}function ss(){return(ss=(0,G.Z)(function*(z,W){if(!W&&!z.swRegistration&&(yield Dr(z)),W||!z.swRegistration){if(!(W instanceof ServiceWorkerRegistration))throw j.create("invalid-sw-registration");z.swRegistration=W}})).apply(this,arguments)}function xa(z,W){return un.apply(this,arguments)}function un(){return(un=(0,G.Z)(function*(z,W){W?z.vapidKey=W:z.vapidKey||(z.vapidKey=Qr)})).apply(this,arguments)}function ao(){return(ao=(0,G.Z)(function*(z,W){if(!navigator)throw j.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw j.create("permission-blocked");return yield xa(z,W?.vapidKey),yield Cr(z,W?.serviceWorkerRegistration),Sa(z)})).apply(this,arguments)}function cl(z,W,se){return Mo.apply(this,arguments)}function Mo(){return(Mo=(0,G.Z)(function*(z,W,se){const ke=hi(W);(yield z.firebaseDependencies.analyticsProvider.get()).logEvent(ke,{message_id:se[$r],message_name:se[Pr],message_time:se[En],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function hi(z){switch(z){case ht.NOTIFICATION_CLICKED:return"notification_open";case ht.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Ws(){return(Ws=(0,G.Z)(function*(z,W){const se=W.data;if(!se.isFirebaseMessaging)return;z.onMessageHandler&&se.messageType===ht.PUSH_RECEIVED&&("function"==typeof z.onMessageHandler?z.onMessageHandler(jn(se)):z.onMessageHandler.next(jn(se)));const ke=se.data;Dt(ke)&&"1"===ke[Bn]&&(yield cl(z,se.messageType,ke))})).apply(this,arguments)}const Oi="@firebase/messaging",bc=z=>{const W=new Zs(z.getProvider("app").getImmediate(),z.getProvider("installations-internal").getImmediate(),z.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",se=>function Na(z,W){return Ws.apply(this,arguments)}(W,se)),W},Mn=z=>{const W=z.getProvider("messaging").getImmediate();return{getToken:ke=>function No(z,W){return ao.apply(this,arguments)}(W,ke)}};function hu(){return Ma.apply(this,arguments)}function Ma(){return(Ma=(0,G.Z)(function*(){try{yield(0,Te.eu)()}catch{return!1}return typeof window<"u"&&(0,Te.hl)()&&(0,Te.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function qs(){(0,he._registerComponent)(new xe.wA("messaging",bc,"PUBLIC")),(0,he._registerComponent)(new xe.wA("messaging-internal",Mn,"PRIVATE")),(0,he.registerVersion)(Oi,"0.11.0"),(0,he.registerVersion)(Oi,"0.11.0","esm2017")}();var hl=V(7982),Ra=V(4408),s_=V(7565);const uo=new class Yd extends s_.v{}(class Li extends Ra.o{constructor(W,se){super(W,se),this.scheduler=W,this.work=se}schedule(W,se=0){return se>0?super.schedule(W,se):(this.delay=se,this.state=W,this.scheduler.flush(this),this)}execute(W,se){return se>0||this.closed?super.execute(W,se):this._execute(W,se)}requestAsyncId(W,se,ke=0){return null!=ke&&ke>0||null==ke&&this.delay>0?super.requestAsyncId(W,se,ke):(W.flush(this),0)}});var pu=V(4986),Qd=V(9751),o_=V(8505),wp=V(9468),Ep=V(5363);const Jo=new O.GfV("7.5.0"),fl="__angularfire_symbol__analyticsIsSupportedValue",gu="__angularfire_symbol__analyticsIsSupported",Ip="__angularfire_symbol__remoteConfigIsSupportedValue",pl="__angularfire_symbol__remoteConfigIsSupported",mu="__angularfire_symbol__messagingIsSupportedValue",os="__angularfire_symbol__messagingIsSupported";globalThis[gu]||(globalThis[gu]=(0,hl.Gb)().then(z=>globalThis[fl]=z).catch(()=>globalThis[fl]=!1)),globalThis[os]||(globalThis[os]=hu().then(z=>globalThis[mu]=z).catch(()=>globalThis[mu]=!1)),globalThis[pl]||(globalThis[pl]=ii().then(z=>globalThis[Ip]=z).catch(()=>globalThis[Ip]=!1));const Oa={async:()=>globalThis[gu],sync:()=>{const z=globalThis[fl];if(void 0===z)throw new Error((z=>`The APP_INITIALIZER that is "making" isSupported() sync for the sake of convenient DI has not resolved in this\ncontext. Rather than injecting ${z} in the constructor, first ensure that ${z} is supported by calling\n\`await isSupported()\`, then retrieve the instance from the injector manually \`injector.get(${z})\`.`)("Analytics"));return z}};function a_(z,W,se){if(W){if(1===W.length)return W[0];const mt=W.filter(Bt=>Bt.app===se);if(1===mt.length)return mt[0]}return se.container.getProvider(z).getImmediate({optional:!0})}const u_=(z,W)=>{const se=W?[W]:(0,l.C6)(),ke=[];return se.forEach(Ge=>{Ge.container.getProvider(z).instances.forEach(Bt=>{ke.includes(Bt)||ke.push(Bt)})}),ke};function Ns(){}class gl{constructor(W,se=uo){this.zone=W,this.delegate=se}now(){return this.delegate.now()}schedule(W,se,ke){const Ge=this.zone;return this.delegate.schedule(function(Bt){Ge.runGuarded(()=>{W.apply(this,[Bt])})},se,ke)}}class _u{constructor(W){this.zone=W,this.task=null}call(W,se){const ke=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ns,{},Ns,Ns)),se.pipe((0,o_.b)({next:ke,complete:ke,error:ke})).subscribe(W).add(ke)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let yu=(()=>{class z{constructor(se){this.ngZone=se,this.outsideAngular=se.runOutsideAngular(()=>new gl(Zone.current)),this.insideAngular=se.run(()=>new gl(Zone.current,pu.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return z.\u0275fac=function(se){return new(se||z)(O.LFG(O.R0b))},z.\u0275prov=O.Yz7({token:z,factory:z.\u0275fac,providedIn:"root"}),z})();function zs(){const z=globalThis.\u0275AngularFireScheduler;if(!z)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return z}function Jd(z){return zs().ngZone.runOutsideAngular(()=>z())}function lo(z){return zs().ngZone.run(()=>z())}function vu(z){return zs(),function ml(z){return function(se){return(se=se.lift(new _u(z.ngZone))).pipe((0,wp.R)(z.outsideAngular),(0,Ep.Q)(z.insideAngular))}}(zs())(z)}const zi=(z,W)=>function(){const ke=arguments;return W&&setTimeout(()=>{"scheduled"===W.state&&W.invoke()},10),lo(()=>z.apply(void 0,ke))},_l=(z,W)=>function(){let se;const ke=arguments;for(let mt=0;mt<arguments.length;mt++)"function"==typeof ke[mt]&&(W&&(se||(se=lo(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ns,{},Ns,Ns)))),ke[mt]=zi(ke[mt],se));const Ge=Jd(()=>z.apply(this,ke));if(!W){if(Ge instanceof Qd.y){const mt=zs();return Ge.pipe((0,wp.R)(mt.outsideAngular),(0,Ep.Q)(mt.insideAngular))}return lo(()=>Ge)}return Ge instanceof Qd.y?Ge.pipe(vu):Ge instanceof Promise?lo(()=>new Promise((mt,Bt)=>Ge.then(hn=>lo(()=>mt(hn)),hn=>lo(()=>Bt(hn))))):"function"==typeof Ge&&se?function(){return setTimeout(()=>{se&&"scheduled"===se.state&&se.invoke()},10),Ge.apply(this,arguments)}:lo(()=>Ge)}},8247:(be,pe,V)=>{"use strict";V.d(pe,{$:()=>mt,A:()=>te,B:()=>de,G:()=>Ve,H:()=>An,J:()=>qs,L:()=>re,M:()=>Yd,N:()=>Qd,P:()=>bk,Q:()=>o_,R:()=>Cb,T:()=>wp,U:()=>pu,V:()=>gu,W:()=>Ip,X:()=>Cp,Y:()=>ml,Z:()=>_l,_:()=>W,a:()=>Tu,a0:()=>Sr,a1:()=>Zr,a2:()=>Xo,a3:()=>Ki,a4:()=>bu,a5:()=>ea,a6:()=>Wr,a7:()=>YT,a8:()=>hb,a9:()=>QT,aA:()=>Y,aB:()=>Ba,aC:()=>_s,aD:()=>N_,aE:()=>Fr,aI:()=>Ms,aL:()=>Jo,aa:()=>fb,ab:()=>Yi,ac:()=>Tc,af:()=>_k,ag:()=>pb,ah:()=>Ap,ak:()=>Ns,al:()=>h_,an:()=>rA,ao:()=>bb,ap:()=>je,aq:()=>gt,ar:()=>Je,as:()=>Fe,at:()=>ks,au:()=>sa,av:()=>Jt,aw:()=>He,ax:()=>ue,ay:()=>Mu,az:()=>me,b:()=>Dc,c:()=>S_,d:()=>Qs,e:()=>Ek,f:()=>cA,g:()=>M_,h:()=>Nb,i:()=>ah,j:()=>Fc,k:()=>R_,l:()=>dh,m:()=>yh,o:()=>Ee,r:()=>Oc,s:()=>Tl,u:()=>vk});var O=V(5861),l=V(2090),G=V(9681),he=V(1877),Te=V(655),xe=V(4859);const Ee={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},te={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const de=function ce(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},qe=function Ze(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},J=new l.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),ae=new he.Yd("@firebase/auth");function De(C,...y){ae.logLevel<=he.in.ERROR&&ae.error(`Auth (${G.SDK_VERSION}): ${C}`,...y)}function Fe(C,...y){throw it(C,...y)}function He(C,...y){return it(C,...y)}function Ue(C,y,w){const D=Object.assign(Object.assign({},qe()),{[y]:w});return new l.LL("auth","Firebase",D).create(y,{appName:C.name})}function Be(C,y,w){if(!(y instanceof w))throw w.name!==y.constructor.name&&Fe(C,"argument-error"),Ue(C,"argument-error",`Type of ${y.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function it(C,...y){if("string"!=typeof C){const w=y[0],D=[...y.slice(1)];return D[0]&&(D[0].appName=C.name),C._errorFactory.create(w,...D)}return J.create(C,...y)}function ue(C,y,...w){if(!C)throw it(y,...w)}function Me(C){const y="INTERNAL ASSERTION FAILED: "+C;throw De(y),new Error(y)}function je(C,y){C||Me(y)}const fe=new Map;function me(C){je(C instanceof Function,"Expected a class definition");let y=fe.get(C);return y?(je(y instanceof C,"Instance stored in cache mismatched with class"),y):(y=new C,fe.set(C,y),y)}function Ae(){var C;return typeof self<"u"&&(null===(C=self.location)||void 0===C?void 0:C.href)||""}function rt(){return"http:"===xt()||"https:"===xt()}function xt(){var C;return typeof self<"u"&&(null===(C=self.location)||void 0===C?void 0:C.protocol)||null}class Ft{constructor(y,w){this.shortDelay=y,this.longDelay=w,je(w>y,"Short delay should be less than long delay!"),this.isMobile=(0,l.uI)()||(0,l.b$)()}get(){return function In(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(rt()||(0,l.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function en(C,y){je(C.emulator,"Emulator should always be set here");const{url:w}=C.emulator;return y?`${w}${y.startsWith("/")?y.slice(1):y}`:w}class Zt{static initialize(y,w,D){this.fetchImpl=y,w&&(this.headersImpl=w),D&&(this.responseImpl=D)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void Me("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void Me("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void Me("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const zn={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},kr=new Ft(3e4,6e4);function nn(C,y){return C.tenantId&&!y.tenantId?Object.assign(Object.assign({},y),{tenantId:C.tenantId}):y}function Rt(C,y,w,D){return Fn.apply(this,arguments)}function Fn(){return(Fn=(0,O.Z)(function*(C,y,w,D,L={}){return Rr(C,L,(0,O.Z)(function*(){let Z={},ve={};D&&("GET"===y?ve=D:Z={body:JSON.stringify(D)});const Ke=(0,l.xO)(Object.assign({key:C.config.apiKey},ve)).slice(1),wt=yield C._getAdditionalHeaders();return wt["Content-Type"]="application/json",C.languageCode&&(wt["X-Firebase-Locale"]=C.languageCode),Zt.fetch()(Ri(C,C.config.apiHost,w,Ke),Object.assign({method:y,headers:wt,referrerPolicy:"no-referrer"},Z))}))})).apply(this,arguments)}function Rr(C,y,w){return mi.apply(this,arguments)}function mi(){return(mi=(0,O.Z)(function*(C,y,w){C._canInitEmulator=!1;const D=Object.assign(Object.assign({},zn),y);try{const L=new ri(C),Z=yield Promise.race([w(),L.promise]);L.clearNetworkTimeout();const ve=yield Z.json();if("needConfirmation"in ve)throw br(C,"account-exists-with-different-credential",ve);if(Z.ok&&!("errorMessage"in ve))return ve;{const Ke=Z.ok?ve.errorMessage:ve.error.message,[wt,Ut]=Ke.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===wt)throw br(C,"credential-already-in-use",ve);if("EMAIL_EXISTS"===wt)throw br(C,"email-already-in-use",ve);if("USER_DISABLED"===wt)throw br(C,"user-disabled",ve);const mn=D[wt]||wt.toLowerCase().replace(/[_\s]+/g,"-");if(Ut)throw Ue(C,mn,Ut);Fe(C,mn)}}catch(L){if(L instanceof l.ZR)throw L;Fe(C,"network-request-failed")}})).apply(this,arguments)}function cr(C,y,w,D){return Or.apply(this,arguments)}function Or(){return(Or=(0,O.Z)(function*(C,y,w,D,L={}){const Z=yield Rt(C,y,w,D,L);return"mfaPendingCredential"in Z&&Fe(C,"multi-factor-auth-required",{_serverResponse:Z}),Z})).apply(this,arguments)}function Ri(C,y,w,D){const L=`${y}${w}?${D}`;return C.config.emulator?en(C.config,L):`${C.config.apiScheme}://${L}`}class ri{constructor(y){this.auth=y,this.timer=null,this.promise=new Promise((w,D)=>{this.timer=setTimeout(()=>D(He(this.auth,"network-request-failed")),kr.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function br(C,y,w){const D={appName:C.name};w.email&&(D.email=w.email),w.phoneNumber&&(D.phoneNumber=w.phoneNumber);const L=He(C,y,D);return L.customData._tokenResponse=w,L}function ii(){return(ii=(0,O.Z)(function*(C,y){return Rt(C,"POST","/v1/accounts:delete",y)})).apply(this,arguments)}function jr(C,y){return wn.apply(this,arguments)}function wn(){return(wn=(0,O.Z)(function*(C,y){return Rt(C,"POST","/v1/accounts:update",y)})).apply(this,arguments)}function It(C,y){return wr.apply(this,arguments)}function wr(){return(wr=(0,O.Z)(function*(C,y){return Rt(C,"POST","/v1/accounts:lookup",y)})).apply(this,arguments)}function Qr(C){if(C)try{const y=new Date(Number(C));if(!isNaN(y.getTime()))return y.toUTCString()}catch{}}function Pr(){return(Pr=(0,O.Z)(function*(C,y=!1){const w=(0,l.m9)(C),D=yield w.getIdToken(y),L=Bn(D);ue(L&&L.exp&&L.auth_time&&L.iat,w.auth,"internal-error");const Z="object"==typeof L.firebase?L.firebase:void 0,ve=Z?.sign_in_provider;return{claims:L,token:D,authTime:Qr(En(L.auth_time)),issuedAtTime:Qr(En(L.iat)),expirationTime:Qr(En(L.exp)),signInProvider:ve||null,signInSecondFactor:Z?.sign_in_second_factor||null}})).apply(this,arguments)}function En(C){return 1e3*Number(C)}function Bn(C){var y;const[w,D,L]=C.split(".");if(void 0===w||void 0===D||void 0===L)return De("JWT malformed, contained fewer than 3 sections"),null;try{const Z=(0,l.tV)(D);return Z?JSON.parse(Z):(De("Failed to decode base64 JWT payload"),null)}catch(Z){return De("Caught error parsing JWT payload as JSON",null===(y=Z)||void 0===y?void 0:y.toString()),null}}function ht(C,y){return Gn.apply(this,arguments)}function Gn(){return(Gn=(0,O.Z)(function*(C,y,w=!1){if(w)return y;try{return yield y}catch(D){throw D instanceof l.ZR&&Hr(D)&&C.auth.currentUser===C&&(yield C.auth.signOut()),D}})).apply(this,arguments)}function Hr({code:C}){return"auth/user-disabled"===C||"auth/user-token-expired"===C}class Er{constructor(y){this.user=y,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(y){var w;if(y){const D=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),D}{this.errorBackoff=3e4;const L=(null!==(w=this.user.stsTokenManager.expirationTime)&&void 0!==w?w:0)-Date.now()-3e5;return Math.max(0,L)}}schedule(y=!1){var w=this;if(!this.isRunning)return;const D=this.getInterval(y);this.timerId=setTimeout((0,O.Z)(function*(){yield w.iteration()}),D)}iteration(){var y=this;return(0,O.Z)(function*(){var w;try{yield y.user.getIdToken(!0)}catch(D){return void("auth/network-request-failed"===(null===(w=D)||void 0===w?void 0:w.code)&&y.schedule(!0))}y.schedule()})()}}class di{constructor(y,w){this.createdAt=y,this.lastLoginAt=w,this._initializeTime()}_initializeTime(){this.lastSignInTime=Qr(this.lastLoginAt),this.creationTime=Qr(this.createdAt)}_copy(y){this.createdAt=y.createdAt,this.lastLoginAt=y.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function ar(C){return Qn.apply(this,arguments)}function Qn(){return(Qn=(0,O.Z)(function*(C){var y;const w=C.auth,D=yield C.getIdToken(),L=yield ht(C,It(w,{idToken:D}));ue(L?.users.length,w,"internal-error");const Z=L.users[0];C._notifyReloadListener(Z);const ve=null!==(y=Z.providerUserInfo)&&void 0!==y&&y.length?Gr(Z.providerUserInfo):[],Ke=rn(C.providerData,ve),mn=!!C.isAnonymous&&!(C.email&&Z.passwordHash||Ke?.length),pr={uid:Z.localId,displayName:Z.displayName||null,photoURL:Z.photoUrl||null,email:Z.email||null,emailVerified:Z.emailVerified||!1,phoneNumber:Z.phoneNumber||null,tenantId:Z.tenantId||null,providerData:Ke,metadata:new di(Z.createdAt,Z.lastLoginAt),isAnonymous:mn};Object.assign(C,pr)})).apply(this,arguments)}function Lr(){return(Lr=(0,O.Z)(function*(C){const y=(0,l.m9)(C);yield ar(y),yield y.auth._persistUserIfCurrent(y),y.auth._notifyListenersIfCurrent(y)})).apply(this,arguments)}function rn(C,y){return[...C.filter(D=>!y.some(L=>L.providerId===D.providerId)),...y]}function Gr(C){return C.map(y=>{var{providerId:w}=y,D=(0,Te._T)(y,["providerId"]);return{providerId:w,uid:D.rawId||"",displayName:D.displayName||null,email:D.email||null,phoneNumber:D.phoneNumber||null,photoURL:D.photoUrl||null}})}function We(){return(We=(0,O.Z)(function*(C,y){const w=yield Rr(C,{},(0,O.Z)(function*(){const D=(0,l.xO)({grant_type:"refresh_token",refresh_token:y}).slice(1),{tokenApiHost:L,apiKey:Z}=C.config,ve=Ri(C,L,"/v1/token",`key=${Z}`),Ke=yield C._getAdditionalHeaders();return Ke["Content-Type"]="application/x-www-form-urlencoded",Zt.fetch()(ve,{method:"POST",headers:Ke,body:D})}));return{accessToken:w.access_token,expiresIn:w.expires_in,refreshToken:w.refresh_token}})).apply(this,arguments)}class pt{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(y){ue(y.idToken,"internal-error"),ue(typeof y.idToken<"u","internal-error"),ue(typeof y.refreshToken<"u","internal-error");const w="expiresIn"in y&&typeof y.expiresIn<"u"?Number(y.expiresIn):function Nt(C){const y=Bn(C);return ue(y,"internal-error"),ue(typeof y.exp<"u","internal-error"),ue(typeof y.iat<"u","internal-error"),Number(y.exp)-Number(y.iat)}(y.idToken);this.updateTokensAndExpiration(y.idToken,y.refreshToken,w)}getToken(y,w=!1){var D=this;return(0,O.Z)(function*(){return ue(!D.accessToken||D.refreshToken,y,"user-token-expired"),w||!D.accessToken||D.isExpired?D.refreshToken?(yield D.refresh(y,D.refreshToken),D.accessToken):null:D.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(y,w){var D=this;return(0,O.Z)(function*(){const{accessToken:L,refreshToken:Z,expiresIn:ve}=yield function Xe(C,y){return We.apply(this,arguments)}(y,w);D.updateTokensAndExpiration(L,Z,Number(ve))})()}updateTokensAndExpiration(y,w,D){this.refreshToken=w||null,this.accessToken=y||null,this.expirationTime=Date.now()+1e3*D}static fromJSON(y,w){const{refreshToken:D,accessToken:L,expirationTime:Z}=w,ve=new pt;return D&&(ue("string"==typeof D,"internal-error",{appName:y}),ve.refreshToken=D),L&&(ue("string"==typeof L,"internal-error",{appName:y}),ve.accessToken=L),Z&&(ue("number"==typeof Z,"internal-error",{appName:y}),ve.expirationTime=Z),ve}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(y){this.accessToken=y.accessToken,this.refreshToken=y.refreshToken,this.expirationTime=y.expirationTime}_clone(){return Object.assign(new pt,this.toJSON())}_performRefresh(){return Me("not implemented")}}function Ot(C,y){ue("string"==typeof C||typeof C>"u","internal-error",{appName:y})}class Ht{constructor(y){var{uid:w,auth:D,stsTokenManager:L}=y,Z=(0,Te._T)(y,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Er(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=w,this.auth=D,this.stsTokenManager=L,this.accessToken=L.accessToken,this.displayName=Z.displayName||null,this.email=Z.email||null,this.emailVerified=Z.emailVerified||!1,this.phoneNumber=Z.phoneNumber||null,this.photoURL=Z.photoURL||null,this.isAnonymous=Z.isAnonymous||!1,this.tenantId=Z.tenantId||null,this.providerData=Z.providerData?[...Z.providerData]:[],this.metadata=new di(Z.createdAt||void 0,Z.lastLoginAt||void 0)}getIdToken(y){var w=this;return(0,O.Z)(function*(){const D=yield ht(w,w.stsTokenManager.getToken(w.auth,y));return ue(D,w.auth,"internal-error"),w.accessToken!==D&&(w.accessToken=D,yield w.auth._persistUserIfCurrent(w),w.auth._notifyListenersIfCurrent(w)),D})()}getIdTokenResult(y){return function $r(C){return Pr.apply(this,arguments)}(this,y)}reload(){return function Tn(C){return Lr.apply(this,arguments)}(this)}_assign(y){this!==y&&(ue(this.uid===y.uid,this.auth,"internal-error"),this.displayName=y.displayName,this.photoURL=y.photoURL,this.email=y.email,this.emailVerified=y.emailVerified,this.phoneNumber=y.phoneNumber,this.isAnonymous=y.isAnonymous,this.tenantId=y.tenantId,this.providerData=y.providerData.map(w=>Object.assign({},w)),this.metadata._copy(y.metadata),this.stsTokenManager._assign(y.stsTokenManager))}_clone(y){return new Ht(Object.assign(Object.assign({},this),{auth:y,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(y){ue(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=y,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(y){this.reloadListener?this.reloadListener(y):this.reloadUserInfo=y}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(y,w=!1){var D=this;return(0,O.Z)(function*(){let L=!1;y.idToken&&y.idToken!==D.stsTokenManager.accessToken&&(D.stsTokenManager.updateFromServerResponse(y),L=!0),w&&(yield ar(D)),yield D.auth._persistUserIfCurrent(D),L&&D.auth._notifyListenersIfCurrent(D)})()}delete(){var y=this;return(0,O.Z)(function*(){const w=yield y.getIdToken();return yield ht(y,function Br(C,y){return ii.apply(this,arguments)}(y.auth,{idToken:w})),y.stsTokenManager.clearRefreshToken(),y.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(y=>Object.assign({},y)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(y,w){var D,L,Z,ve,Ke,wt,Ut,mn;const pr=null!==(D=w.displayName)&&void 0!==D?D:void 0,co=null!==(L=w.email)&&void 0!==L?L:void 0,Fo=null!==(Z=w.phoneNumber)&&void 0!==Z?Z:void 0,Ou=null!==(ve=w.photoURL)&&void 0!==ve?ve:void 0,zc=null!==(Ke=w.tenantId)&&void 0!==Ke?Ke:void 0,Nl=null!==(wt=w._redirectEventId)&&void 0!==wt?wt:void 0,L_=null!==(Ut=w.createdAt)&&void 0!==Ut?Ut:void 0,Hp=null!==(mn=w.lastLoginAt)&&void 0!==mn?mn:void 0,{uid:Gp,emailVerified:la,isAnonymous:F_,providerData:Zp,stsTokenManager:Eh}=w;ue(Gp&&Eh,y,"internal-error");const Wp=pt.fromJSON(this.name,Eh);ue("string"==typeof Gp,y,"internal-error"),Ot(pr,y.name),Ot(co,y.name),ue("boolean"==typeof la,y,"internal-error"),ue("boolean"==typeof F_,y,"internal-error"),Ot(Fo,y.name),Ot(Ou,y.name),Ot(zc,y.name),Ot(Nl,y.name),Ot(L_,y.name),Ot(Hp,y.name);const Ih=new Ht({uid:Gp,auth:y,email:co,emailVerified:la,displayName:pr,isAnonymous:F_,photoURL:Ou,phoneNumber:Fo,tenantId:zc,stsTokenManager:Wp,createdAt:L_,lastLoginAt:Hp});return Zp&&Array.isArray(Zp)&&(Ih.providerData=Zp.map(U_=>Object.assign({},U_))),Nl&&(Ih._redirectEventId=Nl),Ih}static _fromIdTokenResponse(y,w,D=!1){return(0,O.Z)(function*(){const L=new pt;L.updateFromServerResponse(w);const Z=new Ht({uid:w.localId,auth:y,stsTokenManager:L,isAnonymous:D});return yield ar(Z),Z})()}}const re=(()=>{class C{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,O.Z)(function*(){return!0})()}_set(w,D){var L=this;return(0,O.Z)(function*(){L.storage[w]=D})()}_get(w){var D=this;return(0,O.Z)(function*(){const L=D.storage[w];return void 0===L?null:L})()}_remove(w){var D=this;return(0,O.Z)(function*(){delete D.storage[w]})()}_addListener(w,D){}_removeListener(w,D){}}return C.type="NONE",C})();function Y(C,y,w){return`firebase:${C}:${y}:${w}`}class H{constructor(y,w,D){this.persistence=y,this.auth=w,this.userKey=D;const{config:L,name:Z}=this.auth;this.fullUserKey=Y(this.userKey,L.apiKey,Z),this.fullPersistenceKey=Y("persistence",L.apiKey,Z),this.boundEventHandler=w._onStorageEvent.bind(w),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(y){return this.persistence._set(this.fullUserKey,y.toJSON())}getCurrentUser(){var y=this;return(0,O.Z)(function*(){const w=yield y.persistence._get(y.fullUserKey);return w?Ht._fromJSON(y.auth,w):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(y){var w=this;return(0,O.Z)(function*(){if(w.persistence===y)return;const D=yield w.getCurrentUser();return yield w.removeCurrentUser(),w.persistence=y,D?w.setCurrentUser(D):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(y,w,D="authUser"){return(0,O.Z)(function*(){if(!w.length)return new H(me(re),y,D);const L=(yield Promise.all(w.map(function(){var Ut=(0,O.Z)(function*(mn){if(yield mn._isAvailable())return mn});return function(mn){return Ut.apply(this,arguments)}}()))).filter(Ut=>Ut);let Z=L[0]||me(re);const ve=Y(D,y.config.apiKey,y.name);let Ke=null;for(const Ut of w)try{const mn=yield Ut._get(ve);if(mn){const pr=Ht._fromJSON(y,mn);Ut!==Z&&(Ke=pr),Z=Ut;break}}catch{}const wt=L.filter(Ut=>Ut._shouldAllowMigration);return Z._shouldAllowMigration&&wt.length?(Z=wt[0],Ke&&(yield Z._set(ve,Ke.toJSON())),yield Promise.all(w.map(function(){var Ut=(0,O.Z)(function*(mn){if(mn!==Z)try{yield mn._remove(ve)}catch{}});return function(mn){return Ut.apply(this,arguments)}}())),new H(Z,y,D)):new H(Z,y,D)})()}}function U(C){const y=C.toLowerCase();if(y.includes("opera/")||y.includes("opr/")||y.includes("opios/"))return"Opera";if(Ce(y))return"IEMobile";if(y.includes("msie")||y.includes("trident/"))return"IE";if(y.includes("edge/"))return"Edge";if(R(y))return"Firefox";if(y.includes("silk/"))return"Silk";if(ze(y))return"Blackberry";if(At(y))return"Webos";if(j(y))return"Safari";if((y.includes("chrome/")||ie(y))&&!y.includes("edge/"))return"Chrome";if(Je(y))return"Android";{const D=C.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===D?.length)return D[1]}return"Other"}function R(C=(0,l.z$)()){return/firefox\//i.test(C)}function j(C=(0,l.z$)()){const y=C.toLowerCase();return y.includes("safari/")&&!y.includes("chrome/")&&!y.includes("crios/")&&!y.includes("android")}function ie(C=(0,l.z$)()){return/crios\//i.test(C)}function Ce(C=(0,l.z$)()){return/iemobile/i.test(C)}function Je(C=(0,l.z$)()){return/android/i.test(C)}function ze(C=(0,l.z$)()){return/blackberry/i.test(C)}function At(C=(0,l.z$)()){return/webos/i.test(C)}function gt(C=(0,l.z$)()){return/iphone|ipad|ipod/i.test(C)||/macintosh/i.test(C)&&/mobile/i.test(C)}function Jt(C=(0,l.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(C)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(C)}function Zn(C=(0,l.z$)()){return gt(C)||Je(C)||At(C)||ze(C)||/windows phone/i.test(C)||Ce(C)}function Sa(C,y=[]){let w;switch(C){case"Browser":w=U((0,l.z$)());break;case"Worker":w=`${U((0,l.z$)())}-${C}`;break;default:w=C}const D=y.length?y.join(","):"FirebaseCore-web";return`${w}/JsCore/${G.SDK_VERSION}/${D}`}class Qo{constructor(y){this.auth=y,this.queue=[]}pushCallback(y,w){const D=Z=>new Promise((ve,Ke)=>{try{ve(y(Z))}catch(wt){Ke(wt)}});D.onAbort=w,this.queue.push(D);const L=this.queue.length-1;return()=>{this.queue[L]=()=>Promise.resolve()}}runMiddleware(y){var w=this;return(0,O.Z)(function*(){var D;if(w.auth.currentUser===y)return;const L=[];try{for(const Z of w.queue)yield Z(y),Z.onAbort&&L.push(Z.onAbort)}catch(Z){L.reverse();for(const ve of L)try{ve()}catch{}throw w.auth._errorFactory.create("login-blocked",{originalMessage:null===(D=Z)||void 0===D?void 0:D.message})}})()}}class du{constructor(y,w,D){this.app=y,this.heartbeatServiceProvider=w,this.config=D,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new _e(this),this.idTokenSubscription=new _e(this),this.beforeStateQueue=new Qo(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=J,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=y.name,this.clientVersion=D.sdkClientVersion}_initializeWithPersistence(y,w){var D=this;return w&&(this._popupRedirectResolver=me(w)),this._initializationPromise=this.queue((0,O.Z)(function*(){var L,Z;if(!D._deleted&&(D.persistenceManager=yield H.create(D,y),!D._deleted)){if(null!==(L=D._popupRedirectResolver)&&void 0!==L&&L._shouldInitProactively)try{yield D._popupRedirectResolver._initialize(D)}catch{}yield D.initializeCurrentUser(w),D.lastNotifiedUid=(null===(Z=D.currentUser)||void 0===Z?void 0:Z.uid)||null,!D._deleted&&(D._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var y=this;return(0,O.Z)(function*(){if(y._deleted)return;const w=yield y.assertedPersistence.getCurrentUser();if(y.currentUser||w){if(y.currentUser&&w&&y.currentUser.uid===w.uid)return y._currentUser._assign(w),void(yield y.currentUser.getIdToken());yield y._updateCurrentUser(w,!0)}})()}initializeCurrentUser(y){var w=this;return(0,O.Z)(function*(){var D;const L=yield w.assertedPersistence.getCurrentUser();let Z=L,ve=!1;if(y&&w.config.authDomain){yield w.getOrInitRedirectPersistenceManager();const Ke=null===(D=w.redirectUser)||void 0===D?void 0:D._redirectEventId,wt=Z?._redirectEventId,Ut=yield w.tryRedirectSignIn(y);(!Ke||Ke===wt)&&Ut?.user&&(Z=Ut.user,ve=!0)}if(!Z)return w.directlySetCurrentUser(null);if(!Z._redirectEventId){if(ve)try{yield w.beforeStateQueue.runMiddleware(Z)}catch(Ke){Z=L,w._popupRedirectResolver._overrideRedirectResult(w,()=>Promise.reject(Ke))}return Z?w.reloadAndSetCurrentUserOrClear(Z):w.directlySetCurrentUser(null)}return ue(w._popupRedirectResolver,w,"argument-error"),yield w.getOrInitRedirectPersistenceManager(),w.redirectUser&&w.redirectUser._redirectEventId===Z._redirectEventId?w.directlySetCurrentUser(Z):w.reloadAndSetCurrentUserOrClear(Z)})()}tryRedirectSignIn(y){var w=this;return(0,O.Z)(function*(){let D=null;try{D=yield w._popupRedirectResolver._completeRedirectFn(w,y,!0)}catch{yield w._setRedirectUser(null)}return D})()}reloadAndSetCurrentUserOrClear(y){var w=this;return(0,O.Z)(function*(){var D;try{yield ar(y)}catch(L){if("auth/network-request-failed"!==(null===(D=L)||void 0===D?void 0:D.code))return w.directlySetCurrentUser(null)}return w.directlySetCurrentUser(y)})()}useDeviceLanguage(){this.languageCode=function Cn(){if(typeof navigator>"u")return null;const C=navigator;return C.languages&&C.languages[0]||C.language||null}()}_delete(){var y=this;return(0,O.Z)(function*(){y._deleted=!0})()}updateCurrentUser(y){var w=this;return(0,O.Z)(function*(){const D=y?(0,l.m9)(y):null;return D&&ue(D.auth.config.apiKey===w.config.apiKey,w,"invalid-user-token"),w._updateCurrentUser(D&&D._clone(w))})()}_updateCurrentUser(y,w=!1){var D=this;return(0,O.Z)(function*(){if(!D._deleted)return y&&ue(D.tenantId===y.tenantId,D,"tenant-id-mismatch"),w||(yield D.beforeStateQueue.runMiddleware(y)),D.queue((0,O.Z)(function*(){yield D.directlySetCurrentUser(y),D.notifyAuthListeners()}))})()}signOut(){var y=this;return(0,O.Z)(function*(){return yield y.beforeStateQueue.runMiddleware(null),(y.redirectPersistenceManager||y._popupRedirectResolver)&&(yield y._setRedirectUser(null)),y._updateCurrentUser(null,!0)})()}setPersistence(y){var w=this;return this.queue((0,O.Z)(function*(){yield w.assertedPersistence.setPersistence(me(y))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(y){this._errorFactory=new l.LL("auth","Firebase",y())}onAuthStateChanged(y,w,D){return this.registerStateListener(this.authStateSubscription,y,w,D)}beforeAuthStateChanged(y,w){return this.beforeStateQueue.pushCallback(y,w)}onIdTokenChanged(y,w,D){return this.registerStateListener(this.idTokenSubscription,y,w,D)}toJSON(){var y;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(y=this._currentUser)||void 0===y?void 0:y.toJSON()}}_setRedirectUser(y,w){var D=this;return(0,O.Z)(function*(){const L=yield D.getOrInitRedirectPersistenceManager(w);return null===y?L.removeCurrentUser():L.setCurrentUser(y)})()}getOrInitRedirectPersistenceManager(y){var w=this;return(0,O.Z)(function*(){if(!w.redirectPersistenceManager){const D=y&&me(y)||w._popupRedirectResolver;ue(D,w,"argument-error"),w.redirectPersistenceManager=yield H.create(w,[me(D._redirectPersistence)],"redirectUser"),w.redirectUser=yield w.redirectPersistenceManager.getCurrentUser()}return w.redirectPersistenceManager})()}_redirectUserForId(y){var w=this;return(0,O.Z)(function*(){var D,L;return w._isInitialized&&(yield w.queue((0,O.Z)(function*(){}))),(null===(D=w._currentUser)||void 0===D?void 0:D._redirectEventId)===y?w._currentUser:(null===(L=w.redirectUser)||void 0===L?void 0:L._redirectEventId)===y?w.redirectUser:null})()}_persistUserIfCurrent(y){var w=this;return(0,O.Z)(function*(){if(y===w.currentUser)return w.queue((0,O.Z)(function*(){return w.directlySetCurrentUser(y)}))})()}_notifyListenersIfCurrent(y){y===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var y,w;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const D=null!==(w=null===(y=this.currentUser)||void 0===y?void 0:y.uid)&&void 0!==w?w:null;this.lastNotifiedUid!==D&&(this.lastNotifiedUid=D,this.authStateSubscription.next(this.currentUser))}registerStateListener(y,w,D,L){if(this._deleted)return()=>{};const Z="function"==typeof w?w:w.next.bind(w),ve=this._isInitialized?Promise.resolve():this._initializationPromise;return ue(ve,this,"internal-error"),ve.then(()=>Z(this.currentUser)),"function"==typeof w?y.addObserver(w,D,L):y.addObserver(w)}directlySetCurrentUser(y){var w=this;return(0,O.Z)(function*(){w.currentUser&&w.currentUser!==y&&w._currentUser._stopProactiveRefresh(),y&&w.isProactiveRefreshEnabled&&y._startProactiveRefresh(),w.currentUser=y,y?yield w.assertedPersistence.setCurrentUser(y):yield w.assertedPersistence.removeCurrentUser()})()}queue(y){return this.operations=this.operations.then(y,y),this.operations}get assertedPersistence(){return ue(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(y){!y||this.frameworks.includes(y)||(this.frameworks.push(y),this.frameworks.sort(),this.clientVersion=Sa(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var y=this;return(0,O.Z)(function*(){var w;const D={"X-Client-Version":y.clientVersion};y.app.options.appId&&(D["X-Firebase-gmpid"]=y.app.options.appId);const L=yield null===(w=y.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===w?void 0:w.getHeartbeatsHeader();return L&&(D["X-Firebase-Client"]=L),D})()}}function Fr(C){return(0,l.m9)(C)}class _e{constructor(y){this.auth=y,this.observer=null,this.addObserver=(0,l.ne)(w=>this.observer=w)}get next(){return ue(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Ve(C,y,w){const D=Fr(C);ue(D._canInitEmulator,D,"emulator-config-failed"),ue(/^https?:\/\//.test(y),D,"invalid-emulator-scheme");const L=!!w?.disableWarnings,Z=st(y),{host:ve,port:Ke}=function jt(C){const y=st(C),w=/(\/\/)?([^?#/]+)/.exec(C.substr(y.length));if(!w)return{host:"",port:null};const D=w[2].split("@").pop()||"",L=/^(\[[^\]]+\])(:|$)/.exec(D);if(L){const Z=L[1];return{host:Z,port:dr(D.substr(Z.length+1))}}{const[Z,ve]=D.split(":");return{host:Z,port:dr(ve)}}}(y);D.config.emulator={url:`${Z}//${ve}${null===Ke?"":`:${Ke}`}/`},D.settings.appVerificationDisabledForTesting=!0,D.emulatorConfig=Object.freeze({host:ve,port:Ke,protocol:Z.replace(":",""),options:Object.freeze({disableWarnings:L})}),L||function Pt(){function C(){const y=document.createElement("p"),w=y.style;y.innerText="Running in emulator mode. Do not use with production credentials.",w.position="fixed",w.width="100%",w.backgroundColor="#ffffff",w.border=".1em solid #000000",w.color="#b50000",w.bottom="0px",w.left="0px",w.margin="0px",w.zIndex="10000",w.textAlign="center",y.classList.add("firebase-emulator-warning"),document.body.appendChild(y)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",C):C())}()}function st(C){const y=C.indexOf(":");return y<0?"":C.substr(0,y+1)}function dr(C){if(!C)return null;const y=Number(C);return isNaN(y)?null:y}class An{constructor(y,w){this.providerId=y,this.signInMethod=w}toJSON(){return Me("not implemented")}_getIdTokenResponse(y){return Me("not implemented")}_linkToIdToken(y,w){return Me("not implemented")}_getReauthenticationResolver(y){return Me("not implemented")}}function jn(C,y){return _i.apply(this,arguments)}function _i(){return(_i=(0,O.Z)(function*(C,y){return Rt(C,"POST","/v1/accounts:resetPassword",nn(C,y))})).apply(this,arguments)}function hr(C,y){return Wi.apply(this,arguments)}function Wi(){return(Wi=(0,O.Z)(function*(C,y){return Rt(C,"POST","/v1/accounts:update",y)})).apply(this,arguments)}function Dt(C,y){return sn.apply(this,arguments)}function sn(){return(sn=(0,O.Z)(function*(C,y){return Rt(C,"POST","/v1/accounts:update",nn(C,y))})).apply(this,arguments)}function yi(){return(yi=(0,O.Z)(function*(C,y){return cr(C,"POST","/v1/accounts:signInWithPassword",nn(C,y))})).apply(this,arguments)}function Zs(C,y){return Dr.apply(this,arguments)}function Dr(){return(Dr=(0,O.Z)(function*(C,y){return Rt(C,"POST","/v1/accounts:sendOobCode",nn(C,y))})).apply(this,arguments)}function oo(C,y){return Cr.apply(this,arguments)}function Cr(){return(Cr=(0,O.Z)(function*(C,y){return Zs(C,y)})).apply(this,arguments)}function ss(C,y){return xa.apply(this,arguments)}function xa(){return(xa=(0,O.Z)(function*(C,y){return Zs(C,y)})).apply(this,arguments)}function un(C,y){return No.apply(this,arguments)}function No(){return(No=(0,O.Z)(function*(C,y){return Zs(C,y)})).apply(this,arguments)}function ao(C,y){return cl.apply(this,arguments)}function cl(){return(cl=(0,O.Z)(function*(C,y){return Zs(C,y)})).apply(this,arguments)}function hi(){return(hi=(0,O.Z)(function*(C,y){return cr(C,"POST","/v1/accounts:signInWithEmailLink",nn(C,y))})).apply(this,arguments)}function Ws(){return(Ws=(0,O.Z)(function*(C,y){return cr(C,"POST","/v1/accounts:signInWithEmailLink",nn(C,y))})).apply(this,arguments)}class Oi extends An{constructor(y,w,D,L=null){super("password",D),this._email=y,this._password=w,this._tenantId=L}static _fromEmailAndPassword(y,w){return new Oi(y,w,"password")}static _fromEmailAndCode(y,w,D=null){return new Oi(y,w,"emailLink",D)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(y){const w="string"==typeof y?JSON.parse(y):y;if(w?.email&&w?.password){if("password"===w.signInMethod)return this._fromEmailAndPassword(w.email,w.password);if("emailLink"===w.signInMethod)return this._fromEmailAndCode(w.email,w.password,w.tenantId)}return null}_getIdTokenResponse(y){var w=this;return(0,O.Z)(function*(){switch(w.signInMethod){case"password":return function Ir(C,y){return yi.apply(this,arguments)}(y,{returnSecureToken:!0,email:w._email,password:w._password});case"emailLink":return function Mo(C,y){return hi.apply(this,arguments)}(y,{email:w._email,oobCode:w._password});default:Fe(y,"internal-error")}})()}_linkToIdToken(y,w){var D=this;return(0,O.Z)(function*(){switch(D.signInMethod){case"password":return hr(y,{idToken:w,returnSecureToken:!0,email:D._email,password:D._password});case"emailLink":return function Na(C,y){return Ws.apply(this,arguments)}(y,{idToken:w,email:D._email,oobCode:D._password});default:Fe(y,"internal-error")}})()}_getReauthenticationResolver(y){return this._getIdTokenResponse(y)}}function qi(C,y){return bc.apply(this,arguments)}function bc(){return(bc=(0,O.Z)(function*(C,y){return cr(C,"POST","/v1/accounts:signInWithIdp",nn(C,y))})).apply(this,arguments)}class qs extends An{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(y){const w=new qs(y.providerId,y.signInMethod);return y.idToken||y.accessToken?(y.idToken&&(w.idToken=y.idToken),y.accessToken&&(w.accessToken=y.accessToken),y.nonce&&!y.pendingToken&&(w.nonce=y.nonce),y.pendingToken&&(w.pendingToken=y.pendingToken)):y.oauthToken&&y.oauthTokenSecret?(w.accessToken=y.oauthToken,w.secret=y.oauthTokenSecret):Fe("argument-error"),w}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(y){const w="string"==typeof y?JSON.parse(y):y,{providerId:D,signInMethod:L}=w,Z=(0,Te._T)(w,["providerId","signInMethod"]);if(!D||!L)return null;const ve=new qs(D,L);return ve.idToken=Z.idToken||void 0,ve.accessToken=Z.accessToken||void 0,ve.secret=Z.secret,ve.nonce=Z.nonce,ve.pendingToken=Z.pendingToken||null,ve}_getIdTokenResponse(y){return qi(y,this.buildRequest())}_linkToIdToken(y,w){const D=this.buildRequest();return D.idToken=w,qi(y,D)}_getReauthenticationResolver(y){const w=this.buildRequest();return w.autoCreate=!1,qi(y,w)}buildRequest(){const y={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)y.pendingToken=this.pendingToken;else{const w={};this.idToken&&(w.id_token=this.idToken),this.accessToken&&(w.access_token=this.accessToken),this.secret&&(w.oauth_token_secret=this.secret),w.providerId=this.providerId,this.nonce&&!this.pendingToken&&(w.nonce=this.nonce),y.postBody=(0,l.xO)(w)}return y}}function hu(C,y){return Ma.apply(this,arguments)}function Ma(){return(Ma=(0,O.Z)(function*(C,y){return Rt(C,"POST","/v1/accounts:sendVerificationCode",nn(C,y))})).apply(this,arguments)}function ps(){return(ps=(0,O.Z)(function*(C,y){return cr(C,"POST","/v1/accounts:signInWithPhoneNumber",nn(C,y))})).apply(this,arguments)}function vi(){return(vi=(0,O.Z)(function*(C,y){const w=yield cr(C,"POST","/v1/accounts:signInWithPhoneNumber",nn(C,y));if(w.temporaryProof)throw br(C,"account-exists-with-different-credential",w);return w})).apply(this,arguments)}const i_={USER_NOT_FOUND:"user-not-found"};function gs(){return(gs=(0,O.Z)(function*(C,y){return cr(C,"POST","/v1/accounts:signInWithPhoneNumber",nn(C,Object.assign(Object.assign({},y),{operation:"REAUTH"})),i_)})).apply(this,arguments)}class ko extends An{constructor(y){super("phone","phone"),this.params=y}static _fromVerification(y,w){return new ko({verificationId:y,verificationCode:w})}static _fromTokenResponse(y,w){return new ko({phoneNumber:y,temporaryProof:w})}_getIdTokenResponse(y){return function dl(C,y){return ps.apply(this,arguments)}(y,this._makeVerificationRequest())}_linkToIdToken(y,w){return function ka(C,y){return vi.apply(this,arguments)}(y,Object.assign({idToken:w},this._makeVerificationRequest()))}_getReauthenticationResolver(y){return function Pi(C,y){return gs.apply(this,arguments)}(y,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:y,phoneNumber:w,verificationId:D,verificationCode:L}=this.params;return y&&w?{temporaryProof:y,phoneNumber:w}:{sessionInfo:D,code:L}}toJSON(){const y={providerId:this.providerId};return this.params.phoneNumber&&(y.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(y.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(y.verificationCode=this.params.verificationCode),this.params.verificationId&&(y.verificationId=this.params.verificationId),y}static fromJSON(y){"string"==typeof y&&(y=JSON.parse(y));const{verificationId:w,verificationCode:D,phoneNumber:L,temporaryProof:Z}=y;return D||w||L||Z?new ko({verificationId:w,verificationCode:D,phoneNumber:L,temporaryProof:Z}):null}}class Li{constructor(y){var w,D,L,Z,ve,Ke;const wt=(0,l.zd)((0,l.pd)(y)),Ut=null!==(w=wt.apiKey)&&void 0!==w?w:null,mn=null!==(D=wt.oobCode)&&void 0!==D?D:null,pr=function hl(C){switch(C){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(L=wt.mode)&&void 0!==L?L:null);ue(Ut&&mn&&pr,"argument-error"),this.apiKey=Ut,this.operation=pr,this.code=mn,this.continueUrl=null!==(Z=wt.continueUrl)&&void 0!==Z?Z:null,this.languageCode=null!==(ve=wt.languageCode)&&void 0!==ve?ve:null,this.tenantId=null!==(Ke=wt.tenantId)&&void 0!==Ke?Ke:null}static parseLink(y){const w=function Ra(C){const y=(0,l.zd)((0,l.pd)(C)).link,w=y?(0,l.zd)((0,l.pd)(y)).deep_link_id:null,D=(0,l.zd)((0,l.pd)(C)).deep_link_id;return(D?(0,l.zd)((0,l.pd)(D)).link:null)||D||w||y||C}(y);try{return new Li(w)}catch{return null}}}let Yd=(()=>{class C{constructor(){this.providerId=C.PROVIDER_ID}static credential(w,D){return Oi._fromEmailAndPassword(w,D)}static credentialWithLink(w,D){const L=Li.parseLink(D);return ue(L,"argument-error"),Oi._fromEmailAndCode(w,L.code,L.tenantId)}}return C.PROVIDER_ID="password",C.EMAIL_PASSWORD_SIGN_IN_METHOD="password",C.EMAIL_LINK_SIGN_IN_METHOD="emailLink",C})();class uo{constructor(y){this.providerId=y,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(y){this.defaultLanguageCode=y}setCustomParameters(y){return this.customParameters=y,this}getCustomParameters(){return this.customParameters}}class fu extends uo{constructor(){super(...arguments),this.scopes=[]}addScope(y){return this.scopes.includes(y)||this.scopes.push(y),this}getScopes(){return[...this.scopes]}}class pu extends fu{static credentialFromJSON(y){const w="string"==typeof y?JSON.parse(y):y;return ue("providerId"in w&&"signInMethod"in w,"argument-error"),qs._fromParams(w)}credential(y){return this._credential(Object.assign(Object.assign({},y),{nonce:y.rawNonce}))}_credential(y){return ue(y.idToken||y.accessToken,"argument-error"),qs._fromParams(Object.assign(Object.assign({},y),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(y){return pu.oauthCredentialFromTaggedObject(y)}static credentialFromError(y){return pu.oauthCredentialFromTaggedObject(y.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{oauthIdToken:w,oauthAccessToken:D,oauthTokenSecret:L,pendingToken:Z,nonce:ve,providerId:Ke}=y;if(!D&&!L&&!w&&!Z||!Ke)return null;try{return new pu(Ke)._credential({idToken:w,accessToken:D,nonce:ve,pendingToken:Z})}catch{return null}}}let Qd=(()=>{class C extends fu{constructor(){super("facebook.com")}static credential(w){return qs._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.FACEBOOK_SIGN_IN_METHOD,accessToken:w})}static credentialFromResult(w){return C.credentialFromTaggedObject(w)}static credentialFromError(w){return C.credentialFromTaggedObject(w.customData||{})}static credentialFromTaggedObject({_tokenResponse:w}){if(!w||!("oauthAccessToken"in w)||!w.oauthAccessToken)return null;try{return C.credential(w.oauthAccessToken)}catch{return null}}}return C.FACEBOOK_SIGN_IN_METHOD="facebook.com",C.PROVIDER_ID="facebook.com",C})(),o_=(()=>{class C extends fu{constructor(){super("google.com"),this.addScope("profile")}static credential(w,D){return qs._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.GOOGLE_SIGN_IN_METHOD,idToken:w,accessToken:D})}static credentialFromResult(w){return C.credentialFromTaggedObject(w)}static credentialFromError(w){return C.credentialFromTaggedObject(w.customData||{})}static credentialFromTaggedObject({_tokenResponse:w}){if(!w)return null;const{oauthIdToken:D,oauthAccessToken:L}=w;if(!D&&!L)return null;try{return C.credential(D,L)}catch{return null}}}return C.GOOGLE_SIGN_IN_METHOD="google.com",C.PROVIDER_ID="google.com",C})(),wp=(()=>{class C extends fu{constructor(){super("github.com")}static credential(w){return qs._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.GITHUB_SIGN_IN_METHOD,accessToken:w})}static credentialFromResult(w){return C.credentialFromTaggedObject(w)}static credentialFromError(w){return C.credentialFromTaggedObject(w.customData||{})}static credentialFromTaggedObject({_tokenResponse:w}){if(!w||!("oauthAccessToken"in w)||!w.oauthAccessToken)return null;try{return C.credential(w.oauthAccessToken)}catch{return null}}}return C.GITHUB_SIGN_IN_METHOD="github.com",C.PROVIDER_ID="github.com",C})();class Jo extends An{constructor(y,w){super(y,y),this.pendingToken=w}_getIdTokenResponse(y){return qi(y,this.buildRequest())}_linkToIdToken(y,w){const D=this.buildRequest();return D.idToken=w,qi(y,D)}_getReauthenticationResolver(y){const w=this.buildRequest();return w.autoCreate=!1,qi(y,w)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(y){const w="string"==typeof y?JSON.parse(y):y,{providerId:D,signInMethod:L,pendingToken:Z}=w;return D&&L&&Z&&D===L?new Jo(D,Z):null}static _create(y,w){return new Jo(y,w)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class gu extends uo{constructor(y){ue(y.startsWith("saml."),"argument-error"),super(y)}static credentialFromResult(y){return gu.samlCredentialFromTaggedObject(y)}static credentialFromError(y){return gu.samlCredentialFromTaggedObject(y.customData||{})}static credentialFromJSON(y){const w=Jo.fromJSON(y);return ue(w,"argument-error"),w}static samlCredentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{pendingToken:w,providerId:D}=y;if(!w||!D)return null;try{return Jo._create(D,w)}catch{return null}}}let Ip=(()=>{class C extends fu{constructor(){super("twitter.com")}static credential(w,D){return qs._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.TWITTER_SIGN_IN_METHOD,oauthToken:w,oauthTokenSecret:D})}static credentialFromResult(w){return C.credentialFromTaggedObject(w)}static credentialFromError(w){return C.credentialFromTaggedObject(w.customData||{})}static credentialFromTaggedObject({_tokenResponse:w}){if(!w)return null;const{oauthAccessToken:D,oauthTokenSecret:L}=w;if(!D||!L)return null;try{return C.credential(D,L)}catch{return null}}}return C.TWITTER_SIGN_IN_METHOD="twitter.com",C.PROVIDER_ID="twitter.com",C})();function pl(C,y){return mu.apply(this,arguments)}function mu(){return(mu=(0,O.Z)(function*(C,y){return cr(C,"POST","/v1/accounts:signUp",nn(C,y))})).apply(this,arguments)}class os{constructor(y){this.user=y.user,this.providerId=y.providerId,this._tokenResponse=y._tokenResponse,this.operationType=y.operationType}static _fromIdTokenResponse(y,w,D,L=!1){return(0,O.Z)(function*(){const Z=yield Ht._fromIdTokenResponse(y,D,L),ve=wc(D);return new os({user:Z,providerId:ve,_tokenResponse:D,operationType:w})})()}static _forOperation(y,w,D){return(0,O.Z)(function*(){yield y._updateTokensIfNecessary(D,!0);const L=wc(D);return new os({user:y,providerId:L,_tokenResponse:D,operationType:w})})()}}function wc(C){return C.providerId?C.providerId:"phoneNumber"in C?"phone":null}function Cp(C){return Ec.apply(this,arguments)}function Ec(){return(Ec=(0,O.Z)(function*(C){var y;const w=Fr(C);if(yield w._initializationPromise,null!==(y=w.currentUser)&&void 0!==y&&y.isAnonymous)return new os({user:w.currentUser,providerId:null,operationType:"signIn"});const D=yield pl(w,{returnSecureToken:!0}),L=yield os._fromIdTokenResponse(w,"signIn",D,!0);return yield w._updateCurrentUser(L.user),L})).apply(this,arguments)}class Oa extends l.ZR{constructor(y,w,D,L){var Z;super(w.code,w.message),this.operationType=D,this.user=L,Object.setPrototypeOf(this,Oa.prototype),this.customData={appName:y.name,tenantId:null!==(Z=y.tenantId)&&void 0!==Z?Z:void 0,_serverResponse:w.customData._serverResponse,operationType:D}}static _fromErrorAndOperation(y,w,D,L){return new Oa(y,w,D,L)}}function a_(C,y,w,D){return("reauthenticate"===y?w._getReauthenticationResolver(C):w._getIdTokenResponse(C)).catch(Z=>{throw"auth/multi-factor-auth-required"===Z.code?Oa._fromErrorAndOperation(C,Z,y,D):Z})}function u_(C){return new Set(C.map(({providerId:y})=>y).filter(y=>!!y))}function Ns(C,y){return gl.apply(this,arguments)}function gl(){return(gl=(0,O.Z)(function*(C,y){const w=(0,l.m9)(C);yield zs(!0,w,y);const{providerUserInfo:D}=yield jr(w.auth,{idToken:yield w.getIdToken(),deleteProvider:[y]}),L=u_(D||[]);return w.providerData=w.providerData.filter(Z=>L.has(Z.providerId)),L.has("phone")||(w.phoneNumber=null),yield w.auth._persistUserIfCurrent(w),w})).apply(this,arguments)}function _u(C,y){return yu.apply(this,arguments)}function yu(){return(yu=(0,O.Z)(function*(C,y,w=!1){const D=yield ht(C,y._linkToIdToken(C.auth,yield C.getIdToken()),w);return os._forOperation(C,"link",D)})).apply(this,arguments)}function zs(C,y,w){return Jd.apply(this,arguments)}function Jd(){return(Jd=(0,O.Z)(function*(C,y,w){yield ar(y);const L=!1===C?"provider-already-linked":"no-such-provider";ue(u_(y.providerData).has(w)===C,y.auth,L)})).apply(this,arguments)}function lo(C,y){return Xd.apply(this,arguments)}function Xd(){return(Xd=(0,O.Z)(function*(C,y,w=!1){var D;const{auth:L}=C,Z="reauthenticate";try{const ve=yield ht(C,a_(L,Z,y,C),w);ue(ve.idToken,L,"internal-error");const Ke=Bn(ve.idToken);ue(Ke,L,"internal-error");const{sub:wt}=Ke;return ue(C.uid===wt,L,"user-mismatch"),os._forOperation(C,Z,ve)}catch(ve){throw"auth/user-not-found"===(null===(D=ve)||void 0===D?void 0:D.code)&&Fe(L,"user-mismatch"),ve}})).apply(this,arguments)}function Ic(C,y){return vu.apply(this,arguments)}function vu(){return(vu=(0,O.Z)(function*(C,y,w=!1){const D="signIn",L=yield a_(C,D,y),Z=yield os._fromIdTokenResponse(C,D,L);return w||(yield C._updateCurrentUser(Z.user)),Z})).apply(this,arguments)}function ml(C,y){return zi.apply(this,arguments)}function zi(){return(zi=(0,O.Z)(function*(C,y){return Ic(Fr(C),y)})).apply(this,arguments)}function _l(C,y){return z.apply(this,arguments)}function z(){return(z=(0,O.Z)(function*(C,y){const w=(0,l.m9)(C);return yield zs(!1,w,y.providerId),_u(w,y)})).apply(this,arguments)}function W(C,y){return se.apply(this,arguments)}function se(){return(se=(0,O.Z)(function*(C,y){return lo((0,l.m9)(C),y)})).apply(this,arguments)}function ke(C,y){return Ge.apply(this,arguments)}function Ge(){return(Ge=(0,O.Z)(function*(C,y){return cr(C,"POST","/v1/accounts:signInWithCustomToken",nn(C,y))})).apply(this,arguments)}function mt(C,y){return Bt.apply(this,arguments)}function Bt(){return(Bt=(0,O.Z)(function*(C,y){const w=Fr(C),D=yield ke(w,{token:y,returnSecureToken:!0}),L=yield os._fromIdTokenResponse(w,"signIn",D);return yield w._updateCurrentUser(L.user),L})).apply(this,arguments)}class hn{constructor(y,w){this.factorId=y,this.uid=w.mfaEnrollmentId,this.enrollmentTime=new Date(w.enrolledAt).toUTCString(),this.displayName=w.displayName}static _fromServerResponse(y,w){return"phoneInfo"in w?$n._fromServerResponse(y,w):Fe(y,"internal-error")}}class $n extends hn{constructor(y){super("phone",y),this.phoneNumber=y.phoneInfo}static _fromServerResponse(y,w){return new $n(w)}}function bi(C,y,w){var D;ue((null===(D=w.url)||void 0===D?void 0:D.length)>0,C,"invalid-continue-uri"),ue(typeof w.dynamicLinkDomain>"u"||w.dynamicLinkDomain.length>0,C,"invalid-dynamic-link-domain"),y.continueUrl=w.url,y.dynamicLinkDomain=w.dynamicLinkDomain,y.canHandleCodeInApp=w.handleCodeInApp,w.iOS&&(ue(w.iOS.bundleId.length>0,C,"missing-ios-bundle-id"),y.iOSBundleId=w.iOS.bundleId),w.android&&(ue(w.android.packageName.length>0,C,"missing-android-pkg-name"),y.androidInstallApp=w.android.installApp,y.androidMinimumVersionCode=w.android.minimumVersion,y.androidPackageName=w.android.packageName)}function Sr(C,y,w){return Kt.apply(this,arguments)}function Kt(){return(Kt=(0,O.Z)(function*(C,y,w){const D=(0,l.m9)(C),L={requestType:"PASSWORD_RESET",email:y};w&&bi(D,L,w),yield ss(D,L)})).apply(this,arguments)}function Zr(C,y,w){return Pa.apply(this,arguments)}function Pa(){return(Pa=(0,O.Z)(function*(C,y,w){yield jn((0,l.m9)(C),{oobCode:y,newPassword:w})})).apply(this,arguments)}function Xo(C,y){return La.apply(this,arguments)}function La(){return(La=(0,O.Z)(function*(C,y){yield Dt((0,l.m9)(C),{oobCode:y})})).apply(this,arguments)}function Ki(C,y){return yl.apply(this,arguments)}function yl(){return(yl=(0,O.Z)(function*(C,y){const w=(0,l.m9)(C),D=yield jn(w,{oobCode:y}),L=D.requestType;switch(ue(L,w,"internal-error"),L){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ue(D.newEmail,w,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ue(D.mfaInfo,w,"internal-error");default:ue(D.email,w,"internal-error")}let Z=null;return D.mfaInfo&&(Z=hn._fromServerResponse(Fr(w),D.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===D.requestType?D.newEmail:D.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===D.requestType?D.email:D.newEmail)||null,multiFactorInfo:Z},operation:L}})).apply(this,arguments)}function bu(C,y){return zt.apply(this,arguments)}function zt(){return(zt=(0,O.Z)(function*(C,y){const{data:w}=yield Ki((0,l.m9)(C),y);return w.email})).apply(this,arguments)}function ea(C,y,w){return ta.apply(this,arguments)}function ta(){return(ta=(0,O.Z)(function*(C,y,w){const D=Fr(C),L=yield pl(D,{returnSecureToken:!0,email:y,password:w}),Z=yield os._fromIdTokenResponse(D,"signIn",L);return yield D._updateCurrentUser(Z.user),Z})).apply(this,arguments)}function Wr(C,y,w){return ml((0,l.m9)(C),Yd.credential(y,w))}function YT(C,y,w){return l_.apply(this,arguments)}function l_(){return(l_=(0,O.Z)(function*(C,y,w){const D=(0,l.m9)(C),L={requestType:"EMAIL_SIGNIN",email:y};ue(w.handleCodeInApp,D,"argument-error"),w&&bi(D,L,w),yield un(D,L)})).apply(this,arguments)}function hb(C,y){return"EMAIL_SIGNIN"===Li.parseLink(y)?.operation}function QT(C,y,w){return c_.apply(this,arguments)}function c_(){return(c_=(0,O.Z)(function*(C,y,w){const D=(0,l.m9)(C),L=Yd.credentialWithLink(y,w||Ae());return ue(L._tenantId===(D.tenantId||null),D,"tenant-id-mismatch"),ml(D,L)})).apply(this,arguments)}function Ye(C,y){return Rn.apply(this,arguments)}function Rn(){return(Rn=(0,O.Z)(function*(C,y){return Rt(C,"POST","/v1/accounts:createAuthUri",nn(C,y))})).apply(this,arguments)}function fb(C,y){return Tp.apply(this,arguments)}function Tp(){return(Tp=(0,O.Z)(function*(C,y){const D={identifier:y,continueUri:rt()?Ae():"http://localhost"},{signinMethods:L}=yield Ye((0,l.m9)(C),D);return L||[]})).apply(this,arguments)}function Yi(C,y){return Cc.apply(this,arguments)}function Cc(){return(Cc=(0,O.Z)(function*(C,y){const w=(0,l.m9)(C),L={requestType:"VERIFY_EMAIL",idToken:yield C.getIdToken()};y&&bi(w.auth,L,y);const{email:Z}=yield oo(w.auth,L);Z!==C.email&&(yield C.reload())})).apply(this,arguments)}function Tc(C,y,w){return Ks.apply(this,arguments)}function Ks(){return(Ks=(0,O.Z)(function*(C,y,w){const D=(0,l.m9)(C),Z={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield C.getIdToken(),newEmail:y};w&&bi(D.auth,Z,w);const{email:ve}=yield ao(D.auth,Z);ve!==C.email&&(yield C.reload())})).apply(this,arguments)}function Ac(C,y){return na.apply(this,arguments)}function na(){return(na=(0,O.Z)(function*(C,y){return Rt(C,"POST","/v1/accounts:update",y)})).apply(this,arguments)}function _k(C,y){return d_.apply(this,arguments)}function d_(){return(d_=(0,O.Z)(function*(C,{displayName:y,photoURL:w}){if(void 0===y&&void 0===w)return;const D=(0,l.m9)(C),Z={idToken:yield D.getIdToken(),displayName:y,photoUrl:w,returnSecureToken:!0},ve=yield ht(D,Ac(D.auth,Z));D.displayName=ve.displayName||null,D.photoURL=ve.photoUrl||null;const Ke=D.providerData.find(({providerId:wt})=>"password"===wt);Ke&&(Ke.displayName=D.displayName,Ke.photoURL=D.photoURL),yield D._updateTokensIfNecessary(ve)})).apply(this,arguments)}function pb(C,y){return Qi((0,l.m9)(C),y,null)}function Ap(C,y){return Qi((0,l.m9)(C),null,y)}function Qi(C,y,w){return Ys.apply(this,arguments)}function Ys(){return(Ys=(0,O.Z)(function*(C,y,w){const{auth:D}=C,Z={idToken:yield C.getIdToken(),returnSecureToken:!0};y&&(Z.email=y),w&&(Z.password=w);const ve=yield ht(C,hr(D,Z));yield C._updateTokensIfNecessary(ve,!0)})).apply(this,arguments)}class Ro{constructor(y,w,D={}){this.isNewUser=y,this.providerId=w,this.profile=D}}class ra extends Ro{constructor(y,w,D,L){super(y,w,D),this.username=L}}class JT extends Ro{constructor(y,w){super(y,"facebook.com",w)}}class mb extends ra{constructor(y,w){super(y,"github.com",w,"string"==typeof w?.login?w?.login:null)}}class XT extends Ro{constructor(y,w){super(y,"google.com",w)}}class eA extends ra{constructor(y,w,D){super(y,"twitter.com",w,D)}}function h_(C){const{user:y,_tokenResponse:w}=C;return y.isAnonymous&&!w?{providerId:null,isNewUser:!1,profile:null}:function gb(C){var y,w;if(!C)return null;const{providerId:D}=C,L=C.rawUserInfo?JSON.parse(C.rawUserInfo):{},Z=C.isNewUser||"identitytoolkit#SignupNewUserResponse"===C.kind;if(!D&&C?.idToken){const ve=null===(w=null===(y=Bn(C.idToken))||void 0===y?void 0:y.firebase)||void 0===w?void 0:w.sign_in_provider;if(ve)return new Ro(Z,"anonymous"!==ve&&"custom"!==ve?ve:null)}if(!D)return null;switch(D){case"facebook.com":return new JT(Z,L);case"github.com":return new mb(Z,L);case"google.com":return new XT(Z,L);case"twitter.com":return new eA(Z,L,C.screenName||null);case"custom":case"anonymous":return new Ro(Z,null);default:return new Ro(Z,D,L)}}(w)}class wu{constructor(y,w,D){this.type=y,this.credential=w,this.auth=D}static _fromIdtoken(y,w){return new wu("enroll",y,w)}static _fromMfaPendingCredential(y){return new wu("signin",y)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(y){var w,D;if(y?.multiFactorSession){if(null!==(w=y.multiFactorSession)&&void 0!==w&&w.pendingCredential)return wu._fromMfaPendingCredential(y.multiFactorSession.pendingCredential);if(null!==(D=y.multiFactorSession)&&void 0!==D&&D.idToken)return wu._fromIdtoken(y.multiFactorSession.idToken)}return null}}class eh{constructor(y,w,D){this.session=y,this.hints=w,this.signInResolver=D}static _fromError(y,w){const D=Fr(y),L=w.customData._serverResponse,Z=(L.mfaInfo||[]).map(Ke=>hn._fromServerResponse(D,Ke));ue(L.mfaPendingCredential,D,"internal-error");const ve=wu._fromMfaPendingCredential(L.mfaPendingCredential);return new eh(ve,Z,function(){var Ke=(0,O.Z)(function*(wt){const Ut=yield wt._process(D,ve);delete L.mfaInfo,delete L.mfaPendingCredential;const mn=Object.assign(Object.assign({},L),{idToken:Ut.idToken,refreshToken:Ut.refreshToken});switch(w.operationType){case"signIn":const pr=yield os._fromIdTokenResponse(D,w.operationType,mn);return yield D._updateCurrentUser(pr.user),pr;case"reauthenticate":return ue(w.user,D,"internal-error"),os._forOperation(w.user,w.operationType,mn);default:Fe(D,"internal-error")}});return function(wt){return Ke.apply(this,arguments)}}())}resolveSignIn(y){var w=this;return(0,O.Z)(function*(){return w.signInResolver(y)})()}}function rA(C,y){var w;const D=(0,l.m9)(C),L=y;return ue(y.customData.operationType,D,"argument-error"),ue(null===(w=L.customData._serverResponse)||void 0===w?void 0:w.mfaPendingCredential,D,"argument-error"),eh._fromError(D,L)}function iA(C,y){return Rt(C,"POST","/v2/accounts/mfaEnrollment:start",nn(C,y))}class fr{constructor(y){this.user=y,this.enrolledFactors=[],y._onReload(w=>{w.mfaInfo&&(this.enrolledFactors=w.mfaInfo.map(D=>hn._fromServerResponse(y.auth,D)))})}static _fromUser(y){return new fr(y)}getSession(){var y=this;return(0,O.Z)(function*(){return wu._fromIdtoken(yield y.user.getIdToken(),y.user.auth)})()}enroll(y,w){var D=this;return(0,O.Z)(function*(){const L=y,Z=yield D.getSession(),ve=yield ht(D.user,L._process(D.user.auth,Z,w));return yield D.user._updateTokensIfNecessary(ve),D.user.reload()})()}unenroll(y){var w=this;return(0,O.Z)(function*(){var D;const L="string"==typeof y?y:y.uid,Z=yield w.user.getIdToken(),ve=yield ht(w.user,function Eu(C,y){return Rt(C,"POST","/v2/accounts/mfaEnrollment:withdraw",nn(C,y))}(w.user.auth,{idToken:Z,mfaEnrollmentId:L}));w.enrolledFactors=w.enrolledFactors.filter(({uid:Ke})=>Ke!==L),yield w.user._updateTokensIfNecessary(ve);try{yield w.user.reload()}catch(Ke){if("auth/user-token-expired"!==(null===(D=Ke)||void 0===D?void 0:D.code))throw Ke}})()}}const Iu=new WeakMap;function bb(C){const y=(0,l.m9)(C);return Iu.has(y)||Iu.set(y,fr._fromUser(y)),Iu.get(y)}const Cu="__sak";class p_{constructor(y,w){this.storageRetriever=y,this.type=w}_isAvailable(){try{return this.storage?(this.storage.setItem(Cu,"1"),this.storage.removeItem(Cu),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(y,w){return this.storage.setItem(y,JSON.stringify(w)),Promise.resolve()}_get(y){const w=this.storage.getItem(y);return Promise.resolve(w?JSON.parse(w):null)}_remove(y){return this.storage.removeItem(y),Promise.resolve()}get storage(){return this.storageRetriever()}}const Dc=(()=>{class C extends p_{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(w,D)=>this.onStorageEvent(w,D),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function g_(){const C=(0,l.z$)();return j(C)||gt(C)}()&&function xo(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Zn(),this._shouldAllowMigration=!0}forAllChangedKeys(w){for(const D of Object.keys(this.listeners)){const L=this.storage.getItem(D),Z=this.localCache[D];L!==Z&&w(D,Z,L)}}onStorageEvent(w,D=!1){if(!w.key)return void this.forAllChangedKeys((Ke,wt,Ut)=>{this.notifyListeners(Ke,Ut)});const L=w.key;if(D?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Ke=this.storage.getItem(L);if(w.newValue!==Ke)null!==w.newValue?this.storage.setItem(L,w.newValue):this.storage.removeItem(L);else if(this.localCache[L]===w.newValue&&!D)return}const Z=()=>{const Ke=this.storage.getItem(L);!D&&this.localCache[L]===Ke||this.notifyListeners(L,Ke)},ve=this.storage.getItem(L);!function Wt(){return(0,l.w1)()&&10===document.documentMode}()||ve===w.newValue||w.newValue===w.oldValue?Z():setTimeout(Z,10)}notifyListeners(w,D){this.localCache[w]=D;const L=this.listeners[w];if(L)for(const Z of Array.from(L))Z(D&&JSON.parse(D))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((w,D,L)=>{this.onStorageEvent(new StorageEvent("storage",{key:w,oldValue:D,newValue:L}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(w,D){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[w]||(this.listeners[w]=new Set,this.localCache[w]=this.storage.getItem(w)),this.listeners[w].add(D)}_removeListener(w,D){this.listeners[w]&&(this.listeners[w].delete(D),0===this.listeners[w].size&&delete this.listeners[w]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(w,D){var L=()=>super._set,Z=this;return(0,O.Z)(function*(){yield L().call(Z,w,D),Z.localCache[w]=JSON.stringify(D)})()}_get(w){var D=()=>super._get,L=this;return(0,O.Z)(function*(){const Z=yield D().call(L,w);return L.localCache[w]=JSON.stringify(Z),Z})()}_remove(w){var D=()=>super._remove,L=this;return(0,O.Z)(function*(){yield D().call(L,w),delete L.localCache[w]})()}}return C.type="LOCAL",C})(),Tu=(()=>{class C extends p_{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(w,D){}_removeListener(w,D){}}return C.type="SESSION",C})();let Au=(()=>{class C{constructor(w){this.eventTarget=w,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(w){const D=this.receivers.find(Z=>Z.isListeningto(w));if(D)return D;const L=new C(w);return this.receivers.push(L),L}isListeningto(w){return this.eventTarget===w}handleEvent(w){var D=this;return(0,O.Z)(function*(){const L=w,{eventId:Z,eventType:ve,data:Ke}=L.data,wt=D.handlersMap[ve];if(!wt?.size)return;L.ports[0].postMessage({status:"ack",eventId:Z,eventType:ve});const Ut=Array.from(wt).map(function(){var pr=(0,O.Z)(function*(co){return co(L.origin,Ke)});return function(co){return pr.apply(this,arguments)}}()),mn=yield function m_(C){return Promise.all(C.map(function(){var y=(0,O.Z)(function*(w){try{return{fulfilled:!0,value:yield w}}catch(D){return{fulfilled:!1,reason:D}}});return function(w){return y.apply(this,arguments)}}()))}(Ut);L.ports[0].postMessage({status:"done",eventId:Z,eventType:ve,response:mn})})()}_subscribe(w,D){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[w]||(this.handlersMap[w]=new Set),this.handlersMap[w].add(D)}_unsubscribe(w,D){this.handlersMap[w]&&D&&this.handlersMap[w].delete(D),(!D||0===this.handlersMap[w].size)&&delete this.handlersMap[w],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return C.receivers=[],C})();function Ms(C="",y=10){let w="";for(let D=0;D<y;D++)w+=Math.floor(10*Math.random());return C+w}class __{constructor(y){this.target=y,this.handlers=new Set}removeMessageHandler(y){y.messageChannel&&(y.messageChannel.port1.removeEventListener("message",y.onMessage),y.messageChannel.port1.close()),this.handlers.delete(y)}_send(y,w,D=50){var L=this;return(0,O.Z)(function*(){const Z=typeof MessageChannel<"u"?new MessageChannel:null;if(!Z)throw new Error("connection_unavailable");let ve,Ke;return new Promise((wt,Ut)=>{const mn=Ms("",20);Z.port1.start();const pr=setTimeout(()=>{Ut(new Error("unsupported_event"))},D);Ke={messageChannel:Z,onMessage(co){const Fo=co;if(Fo.data.eventId===mn)switch(Fo.data.status){case"ack":clearTimeout(pr),ve=setTimeout(()=>{Ut(new Error("timeout"))},3e3);break;case"done":clearTimeout(ve),wt(Fo.data.response);break;default:clearTimeout(pr),clearTimeout(ve),Ut(new Error("invalid_response"))}}},L.handlers.add(Ke),Z.port1.addEventListener("message",Ke.onMessage),L.target.postMessage({eventType:y,eventId:mn,data:w},[Z.port2])}).finally(()=>{Ke&&L.removeMessageHandler(Ke)})})()}}function Jr(){return window}function vl(){return typeof Jr().WorkerGlobalScope<"u"&&"function"==typeof Jr().importScripts}function Np(){return(Np=(0,O.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const nh="firebaseLocalStorageDb",bl="firebaseLocalStorage",Mc="fbase_key";class Fa{constructor(y){this.request=y}toPromise(){return new Promise((y,w)=>{this.request.addEventListener("success",()=>{y(this.request.result)}),this.request.addEventListener("error",()=>{w(this.request.error)})})}}function Du(C,y){return C.transaction([bl],y?"readwrite":"readonly").objectStore(bl)}function ih(){const C=indexedDB.open(nh,1);return new Promise((y,w)=>{C.addEventListener("error",()=>{w(C.error)}),C.addEventListener("upgradeneeded",()=>{const D=C.result;try{D.createObjectStore(bl,{keyPath:Mc})}catch(L){w(L)}}),C.addEventListener("success",(0,O.Z)(function*(){const D=C.result;D.objectStoreNames.contains(bl)?y(D):(D.close(),yield function rh(){const C=indexedDB.deleteDatabase(nh);return new Fa(C).toPromise()}(),y(yield ih()))}))})}function wl(C,y,w){return kc.apply(this,arguments)}function kc(){return(kc=(0,O.Z)(function*(C,y,w){const D=Du(C,!0).put({[Mc]:y,value:w});return new Fa(D).toPromise()})).apply(this,arguments)}function v_(){return(v_=(0,O.Z)(function*(C,y){const w=Du(C,!1).get(y),D=yield new Fa(w).toPromise();return void 0===D?null:D.value})).apply(this,arguments)}function oh(C,y){const w=Du(C,!0).delete(y);return new Fa(w).toPromise()}const ah=(()=>{class C{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var w=this;return(0,O.Z)(function*(){return w.db||(w.db=yield ih()),w.db})()}_withRetries(w){var D=this;return(0,O.Z)(function*(){let L=0;for(;;)try{const Z=yield D._openDb();return yield w(Z)}catch(Z){if(L++>3)throw Z;D.db&&(D.db.close(),D.db=void 0)}})()}initializeServiceWorkerMessaging(){var w=this;return(0,O.Z)(function*(){return vl()?w.initializeReceiver():w.initializeSender()})()}initializeReceiver(){var w=this;return(0,O.Z)(function*(){w.receiver=Au._getInstance(function oA(){return vl()?self:null}()),w.receiver._subscribe("keyChanged",function(){var D=(0,O.Z)(function*(L,Z){return{keyProcessed:(yield w._poll()).includes(Z.key)}});return function(L,Z){return D.apply(this,arguments)}}()),w.receiver._subscribe("ping",function(){var D=(0,O.Z)(function*(L,Z){return["keyChanged"]});return function(L,Z){return D.apply(this,arguments)}}())})()}initializeSender(){var w=this;return(0,O.Z)(function*(){var D,L;if(w.activeServiceWorker=yield function y_(){return Np.apply(this,arguments)}(),!w.activeServiceWorker)return;w.sender=new __(w.activeServiceWorker);const Z=yield w.sender._send("ping",{},800);!Z||(null===(D=Z[0])||void 0===D?void 0:D.fulfilled)&&(null===(L=Z[0])||void 0===L?void 0:L.value.includes("keyChanged"))&&(w.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(w){var D=this;return(0,O.Z)(function*(){if(D.sender&&D.activeServiceWorker&&function sA(){var C;return(null===(C=navigator?.serviceWorker)||void 0===C?void 0:C.controller)||null}()===D.activeServiceWorker)try{yield D.sender._send("keyChanged",{key:w},D.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,O.Z)(function*(){try{if(!indexedDB)return!1;const w=yield ih();return yield wl(w,Cu,"1"),yield oh(w,Cu),!0}catch{}return!1})()}_withPendingWrite(w){var D=this;return(0,O.Z)(function*(){D.pendingWrites++;try{yield w()}finally{D.pendingWrites--}})()}_set(w,D){var L=this;return(0,O.Z)(function*(){return L._withPendingWrite((0,O.Z)(function*(){return yield L._withRetries(Z=>wl(Z,w,D)),L.localCache[w]=D,L.notifyServiceWorker(w)}))})()}_get(w){var D=this;return(0,O.Z)(function*(){const L=yield D._withRetries(Z=>function sh(C,y){return v_.apply(this,arguments)}(Z,w));return D.localCache[w]=L,L})()}_remove(w){var D=this;return(0,O.Z)(function*(){return D._withPendingWrite((0,O.Z)(function*(){return yield D._withRetries(L=>oh(L,w)),delete D.localCache[w],D.notifyServiceWorker(w)}))})()}_poll(){var w=this;return(0,O.Z)(function*(){const D=yield w._withRetries(ve=>{const Ke=Du(ve,!1).getAll();return new Fa(Ke).toPromise()});if(!D)return[];if(0!==w.pendingWrites)return[];const L=[],Z=new Set;for(const{fbase_key:ve,value:Ke}of D)Z.add(ve),JSON.stringify(w.localCache[ve])!==JSON.stringify(Ke)&&(w.notifyListeners(ve,Ke),L.push(ve));for(const ve of Object.keys(w.localCache))w.localCache[ve]&&!Z.has(ve)&&(w.notifyListeners(ve,null),L.push(ve));return L})()}notifyListeners(w,D){this.localCache[w]=D;const L=this.listeners[w];if(L)for(const Z of Array.from(L))Z(D)}startPolling(){var w=this;this.stopPolling(),this.pollTimer=setInterval((0,O.Z)(function*(){return w._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(w,D){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[w]||(this.listeners[w]=new Set,this._get(w)),this.listeners[w].add(D)}_removeListener(w,D){this.listeners[w]&&(this.listeners[w].delete(D),0===this.listeners[w].size&&delete this.listeners[w]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return C.type="LOCAL",C})();function Mp(C,y){return Rt(C,"POST","/v2/accounts/mfaSignIn:start",nn(C,y))}function uh(){return(uh=(0,O.Z)(function*(C){return(yield Rt(C,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function E_(C){return new Promise((y,w)=>{const D=document.createElement("script");D.setAttribute("src",C),D.onload=y,D.onerror=L=>{const Z=He("internal-error");Z.customData=L,w(Z)},D.type="text/javascript",D.charset="UTF-8",function Rp(){var C,y;return null!==(y=null===(C=document.getElementsByTagName("head"))||void 0===C?void 0:C[0])&&void 0!==y?y:document}().appendChild(D)})}function Op(C){return`__${C}${Math.floor(1e6*Math.random())}`}const El=1e12;class C_{constructor(y){this.auth=y,this.counter=El,this._widgets=new Map}render(y,w){const D=this.counter;return this._widgets.set(D,new Rc(y,this.auth.name,w||{})),this.counter++,D}reset(y){var w;const D=y||El;null===(w=this._widgets.get(D))||void 0===w||w.delete(),this._widgets.delete(D)}getResponse(y){var w;return(null===(w=this._widgets.get(y||El))||void 0===w?void 0:w.getResponse())||""}execute(y){var w=this;return(0,O.Z)(function*(){var D;return null===(D=w._widgets.get(y||El))||void 0===D||D.execute(),""})()}}class Rc{constructor(y,w,D){this.params=D,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const L="string"==typeof y?document.getElementById(y):y;ue(L,"argument-error",{appName:w}),this.container=L,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Il(C){const y=[],w="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let D=0;D<C;D++)y.push(w.charAt(Math.floor(Math.random()*w.length)));return y.join("")}(50);const{callback:y,"expired-callback":w}=this.params;if(y)try{y(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,w)try{w()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const T_=Op("rcb"),A_=new Ft(3e4,6e4);class Cl{constructor(){var y;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(y=Jr().grecaptcha)||void 0===y||!y.render)}load(y,w=""){return ue(function Lp(C){return C.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(C)}(w),y,"argument-error"),this.shouldResolveImmediately(w)?Promise.resolve(Jr().grecaptcha):new Promise((D,L)=>{const Z=Jr().setTimeout(()=>{L(He(y,"network-request-failed"))},A_.get());Jr()[T_]=()=>{Jr().clearTimeout(Z),delete Jr()[T_];const Ke=Jr().grecaptcha;if(!Ke)return void L(He(y,"internal-error"));const wt=Ke.render;Ke.render=(Ut,mn)=>{const pr=wt(Ut,mn);return this.counter++,pr},this.hostLanguage=w,D(Ke)},E_(`https://www.google.com/recaptcha/api.js??${(0,l.xO)({onload:T_,render:"explicit",hl:w})}`).catch(()=>{clearTimeout(Z),L(He(y,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(y){var w;return!(null===(w=Jr().grecaptcha)||void 0===w||!w.render)&&(y===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class D_{load(y){return(0,O.Z)(function*(){return new C_(y)})()}clearedOneInstance(){}}const lh="recaptcha",aA={theme:"light",type:"image"};class Cb{constructor(y,w=Object.assign({},aA),D){this.parameters=w,this.type=lh,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Fr(D),this.isInvisible="invisible"===this.parameters.size,ue(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const L="string"==typeof y?document.getElementById(y):y;ue(L,this.auth,"argument-error"),this.container=L,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new D_:new Cl,this.validateStartingState()}verify(){var y=this;return(0,O.Z)(function*(){y.assertNotDestroyed();const w=yield y.render(),D=y.getAssertedRecaptcha();return D.getResponse(w)||new Promise(Z=>{const ve=Ke=>{!Ke||(y.tokenChangeListeners.delete(ve),Z(Ke))};y.tokenChangeListeners.add(ve),y.isInvisible&&D.execute(w)})})()}render(){try{this.assertNotDestroyed()}catch(y){return Promise.reject(y)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(y=>{throw this.renderPromise=null,y})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(y=>{this.container.removeChild(y)})}validateStartingState(){ue(!this.parameters.sitekey,this.auth,"argument-error"),ue(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ue(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(y){return w=>{if(this.tokenChangeListeners.forEach(D=>D(w)),"function"==typeof y)y(w);else if("string"==typeof y){const D=Jr()[y];"function"==typeof D&&D(w)}}}assertNotDestroyed(){ue(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var y=this;return(0,O.Z)(function*(){if(yield y.init(),!y.widgetId){let w=y.container;if(!y.isInvisible){const D=document.createElement("div");w.appendChild(D),w=D}y.widgetId=y.getAssertedRecaptcha().render(w,y.parameters)}return y.widgetId})()}init(){var y=this;return(0,O.Z)(function*(){ue(rt()&&!vl(),y.auth,"internal-error"),yield function ch(){let C=null;return new Promise(y=>{"complete"!==document.readyState?(C=()=>y(),window.addEventListener("load",C)):y()}).catch(y=>{throw C&&window.removeEventListener("load",C),y})}(),y.recaptcha=yield y._recaptchaLoader.load(y.auth,y.auth.languageCode||void 0);const w=yield function kp(C){return uh.apply(this,arguments)}(y.auth);ue(w,y.auth,"internal-error"),y.parameters.sitekey=w})()}getAssertedRecaptcha(){return ue(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class as{constructor(y,w){this.verificationId=y,this.onConfirmation=w}confirm(y){const w=ko._fromVerification(this.verificationId,y);return this.onConfirmation(w)}}function Tl(C,y,w){return Ua.apply(this,arguments)}function Ua(){return(Ua=(0,O.Z)(function*(C,y,w){const D=Fr(C),L=yield Fp(D,y,(0,l.m9)(w));return new as(L,Z=>ml(D,Z))})).apply(this,arguments)}function dh(C,y,w){return Al.apply(this,arguments)}function Al(){return(Al=(0,O.Z)(function*(C,y,w){const D=(0,l.m9)(C);yield zs(!1,D,"phone");const L=yield Fp(D.auth,y,(0,l.m9)(w));return new as(L,Z=>_l(D,Z))})).apply(this,arguments)}function Oc(C,y,w){return Tb.apply(this,arguments)}function Tb(){return(Tb=(0,O.Z)(function*(C,y,w){const D=(0,l.m9)(C),L=yield Fp(D.auth,y,(0,l.m9)(w));return new as(L,Z=>W(D,Z))})).apply(this,arguments)}function Fp(C,y,w){return ur.apply(this,arguments)}function ur(){return(ur=(0,O.Z)(function*(C,y,w){var D;const L=yield w.verify();try{let Z;if(ue("string"==typeof L,C,"argument-error"),ue(w.type===lh,C,"argument-error"),Z="string"==typeof y?{phoneNumber:y}:y,"session"in Z){const ve=Z.session;if("phoneNumber"in Z)return ue("enroll"===ve.type,C,"internal-error"),(yield iA(C,{idToken:ve.credential,phoneEnrollmentInfo:{phoneNumber:Z.phoneNumber,recaptchaToken:L}})).phoneSessionInfo.sessionInfo;{ue("signin"===ve.type,C,"internal-error");const Ke=(null===(D=Z.multiFactorHint)||void 0===D?void 0:D.uid)||Z.multiFactorUid;return ue(Ke,C,"missing-multi-factor-info"),(yield Mp(C,{mfaPendingCredential:ve.credential,mfaEnrollmentId:Ke,phoneSignInInfo:{recaptchaToken:L}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:ve}=yield hu(C,{phoneNumber:Z.phoneNumber,recaptchaToken:L});return ve}}finally{w._reset()}})).apply(this,arguments)}function vk(C,y){return Ab.apply(this,arguments)}function Ab(){return(Ab=(0,O.Z)(function*(C,y){yield _u((0,l.m9)(C),y)})).apply(this,arguments)}let bk=(()=>{class C{constructor(w){this.providerId=C.PROVIDER_ID,this.auth=Fr(w)}verifyPhoneNumber(w,D){return Fp(this.auth,w,(0,l.m9)(D))}static credential(w,D){return ko._fromVerification(w,D)}static credentialFromResult(w){return C.credentialFromTaggedObject(w)}static credentialFromError(w){return C.credentialFromTaggedObject(w.customData||{})}static credentialFromTaggedObject({_tokenResponse:w}){if(!w)return null;const{phoneNumber:D,temporaryProof:L}=w;return D&&L?ko._fromTokenResponse(D,L):null}}return C.PROVIDER_ID="phone",C.PHONE_SIGN_IN_METHOD="phone",C})();function Pc(C,y){return y?me(y):(ue(C._popupRedirectResolver,C,"argument-error"),C._popupRedirectResolver)}class Db extends An{constructor(y){super("custom","custom"),this.params=y}_getIdTokenResponse(y){return qi(y,this._buildIdpRequest())}_linkToIdToken(y,w){return qi(y,this._buildIdpRequest(w))}_getReauthenticationResolver(y){return qi(y,this._buildIdpRequest())}_buildIdpRequest(y){const w={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return y&&(w.idToken=y),w}}function uA(C){return Ic(C.auth,new Db(C),C.bypassAuthState)}function wk(C){const{auth:y,user:w}=C;return ue(w,y,"internal-error"),lo(w,new Db(C),C.bypassAuthState)}function hh(C){return Sb.apply(this,arguments)}function Sb(){return(Sb=(0,O.Z)(function*(C){const{auth:y,user:w}=C;return ue(w,y,"internal-error"),_u(w,new Db(C),C.bypassAuthState)})).apply(this,arguments)}class lA{constructor(y,w,D,L,Z=!1){this.auth=y,this.resolver=D,this.user=L,this.bypassAuthState=Z,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(w)?w:[w]}execute(){var y=this;return new Promise(function(){var w=(0,O.Z)(function*(D,L){y.pendingPromise={resolve:D,reject:L};try{y.eventManager=yield y.resolver._initialize(y.auth),yield y.onExecution(),y.eventManager.registerConsumer(y)}catch(Z){y.reject(Z)}});return function(D,L){return w.apply(this,arguments)}}())}onAuthEvent(y){var w=this;return(0,O.Z)(function*(){const{urlResponse:D,sessionId:L,postBody:Z,tenantId:ve,error:Ke,type:wt}=y;if(Ke)return void w.reject(Ke);const Ut={auth:w.auth,requestUri:D,sessionId:L,tenantId:ve||void 0,postBody:Z||void 0,user:w.user,bypassAuthState:w.bypassAuthState};try{w.resolve(yield w.getIdpTask(wt)(Ut))}catch(mn){w.reject(mn)}})()}onError(y){this.reject(y)}getIdpTask(y){switch(y){case"signInViaPopup":case"signInViaRedirect":return uA;case"linkViaPopup":case"linkViaRedirect":return hh;case"reauthViaPopup":case"reauthViaRedirect":return wk;default:Fe(this.auth,"internal-error")}}resolve(y){je(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(y),this.unregisterAndCleanUp()}reject(y){je(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(y),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const wi=new Ft(2e3,1e4);function S_(C,y,w){return Dl.apply(this,arguments)}function Dl(){return(Dl=(0,O.Z)(function*(C,y,w){const D=Fr(C);Be(C,y,uo);const L=Pc(D,w);return new Oo(D,"signInViaPopup",y,L).executeNotNull()})).apply(this,arguments)}function Ek(C,y,w){return Up.apply(this,arguments)}function Up(){return(Up=(0,O.Z)(function*(C,y,w){const D=(0,l.m9)(C);Be(D.auth,y,uo);const L=Pc(D.auth,w);return new Oo(D.auth,"reauthViaPopup",y,L,D).executeNotNull()})).apply(this,arguments)}function Qs(C,y,w){return Hn.apply(this,arguments)}function Hn(){return(Hn=(0,O.Z)(function*(C,y,w){const D=(0,l.m9)(C);Be(D.auth,y,uo);const L=Pc(D.auth,w);return new Oo(D.auth,"linkViaPopup",y,L,D).executeNotNull()})).apply(this,arguments)}let Oo=(()=>{class C extends lA{constructor(w,D,L,Z,ve){super(w,D,Z,ve),this.provider=L,this.authWindow=null,this.pollId=null,C.currentPopupAction&&C.currentPopupAction.cancel(),C.currentPopupAction=this}executeNotNull(){var w=this;return(0,O.Z)(function*(){const D=yield w.execute();return ue(D,w.auth,"internal-error"),D})()}onExecution(){var w=this;return(0,O.Z)(function*(){je(1===w.filter.length,"Popup operations only handle one event");const D=Ms();w.authWindow=yield w.resolver._openPopup(w.auth,w.provider,w.filter[0],D),w.authWindow.associatedEvent=D,w.resolver._originValidation(w.auth).catch(L=>{w.reject(L)}),w.resolver._isIframeWebStorageSupported(w.auth,L=>{L||w.reject(He(w.auth,"web-storage-unsupported"))}),w.pollUserCancellation()})()}get eventId(){var w;return(null===(w=this.authWindow)||void 0===w?void 0:w.associatedEvent)||null}cancel(){this.reject(He(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,C.currentPopupAction=null}pollUserCancellation(){const w=()=>{var D,L;this.pollId=null!==(L=null===(D=this.authWindow)||void 0===D?void 0:D.window)&&void 0!==L&&L.closed?window.setTimeout(()=>{this.pollId=null,this.reject(He(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(w,wi.get())};w()}}return C.currentPopupAction=null,C})();const Fi=new Map;class Js extends lA{constructor(y,w,D=!1){super(y,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],w,void 0,D),this.eventId=null}execute(){var y=()=>super.execute,w=this;return(0,O.Z)(function*(){let D=Fi.get(w.auth._key());if(!D){try{const Z=(yield function xb(C,y){return Su.apply(this,arguments)}(w.resolver,w.auth))?yield y().call(w):null;D=()=>Promise.resolve(Z)}catch(L){D=()=>Promise.reject(L)}Fi.set(w.auth._key(),D)}return w.bypassAuthState||Fi.set(w.auth._key(),()=>Promise.resolve(null)),D()})()}onAuthEvent(y){var w=()=>super.onAuthEvent,D=this;return(0,O.Z)(function*(){if("signInViaRedirect"===y.type)return w().call(D,y);if("unknown"!==y.type){if(y.eventId){const L=yield D.auth._redirectUserForId(y.eventId);if(L)return D.user=L,w().call(D,y);D.resolve(null)}}else D.resolve(null)})()}onExecution(){return(0,O.Z)(function*(){})()}cleanUp(){}}function Su(){return(Su=(0,O.Z)(function*(C,y){const w=Va(y),D=fh(C);if(!(yield D._isAvailable()))return!1;const L="true"===(yield D._get(w));return yield D._remove(w),L})).apply(this,arguments)}function Xs(C,y){return x_.apply(this,arguments)}function x_(){return(x_=(0,O.Z)(function*(C,y){return fh(C)._set(Va(y),"true")})).apply(this,arguments)}function N_(){Fi.clear()}function _s(C,y){Fi.set(C._key(),y)}function fh(C){return me(C._redirectPersistence)}function Va(C){return Y("pendingRedirect",C.config.apiKey,C.name)}function cA(C,y,w){return function xu(C,y,w){return St.apply(this,arguments)}(C,y,w)}function St(){return(St=(0,O.Z)(function*(C,y,w){const D=Fr(C);Be(C,y,uo);const L=Pc(D,w);return yield Xs(L,D),L._openRedirect(D,y,"signInViaRedirect")})).apply(this,arguments)}function Nb(C,y,w){return function Mb(C,y,w){return ph.apply(this,arguments)}(C,y,w)}function ph(){return(ph=(0,O.Z)(function*(C,y,w){const D=(0,l.m9)(C);Be(D.auth,y,uo);const L=Pc(D.auth,w);yield Xs(L,D.auth);const Z=yield Sl(D);return L._openRedirect(D.auth,y,"reauthViaRedirect",Z)})).apply(this,arguments)}function M_(C,y,w){return function Xr(C,y,w){return Lc.apply(this,arguments)}(C,y,w)}function Lc(){return(Lc=(0,O.Z)(function*(C,y,w){const D=(0,l.m9)(C);Be(D.auth,y,uo);const L=Pc(D.auth,w);yield zs(!1,D,y.providerId),yield Xs(L,D.auth);const Z=yield Sl(D);return L._openRedirect(D.auth,y,"linkViaRedirect",Z)})).apply(this,arguments)}function Fc(C,y){return Uc.apply(this,arguments)}function Uc(){return(Uc=(0,O.Z)(function*(C,y){return yield Fr(C)._initializationPromise,Ba(C,y,!1)})).apply(this,arguments)}function Ba(C,y){return ja.apply(this,arguments)}function ja(){return(ja=(0,O.Z)(function*(C,y,w=!1){const D=Fr(C),L=Pc(D,y),ve=yield new Js(D,L,w).execute();return ve&&!w&&(delete ve.user._redirectEventId,yield D._persistUserIfCurrent(ve.user),yield D._setRedirectUser(null,y)),ve})).apply(this,arguments)}function Sl(C){return Vc.apply(this,arguments)}function Vc(){return(Vc=(0,O.Z)(function*(C){const y=Ms(`${C.uid}:::`);return C._redirectEventId=y,yield C.auth._setRedirectUser(C),yield C.auth._persistUserIfCurrent(C),y})).apply(this,arguments)}class Mu{constructor(y){this.auth=y,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(y){this.consumers.add(y),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,y)&&(this.sendToConsumer(this.queuedRedirectEvent,y),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(y){this.consumers.delete(y)}onEvent(y){if(this.hasEventBeenHandled(y))return!1;let w=!1;return this.consumers.forEach(D=>{this.isEventForConsumer(y,D)&&(w=!0,this.sendToConsumer(y,D),this.saveEventToCache(y))}),this.hasHandledPotentialRedirect||!function jc(C){switch(C.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Bc(C);default:return!1}}(y)||(this.hasHandledPotentialRedirect=!0,w||(this.queuedRedirectEvent=y,w=!0)),w}sendToConsumer(y,w){var D;if(y.error&&!Bc(y)){const L=(null===(D=y.error.code)||void 0===D?void 0:D.split("auth/")[1])||"internal-error";w.onError(He(this.auth,L))}else w.onAuthEvent(y)}isEventForConsumer(y,w){const D=null===w.eventId||!!y.eventId&&y.eventId===w.eventId;return w.filter.includes(y.type)&&D}hasEventBeenHandled(y){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Po(y))}saveEventToCache(y){this.cachedEventUids.add(Po(y)),this.lastProcessedEventTime=Date.now()}}function Po(C){return[C.type,C.eventId,C.sessionId,C.tenantId].filter(y=>y).join("-")}function Bc({type:C,error:y}){return"unknown"===C&&"auth/no-auth-event"===y?.code}function sa(C){return oa.apply(this,arguments)}function oa(){return(oa=(0,O.Z)(function*(C,y={}){return Rt(C,"GET","/v1/projects",y)})).apply(this,arguments)}const qr=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Vp=/^https?/;function ir(){return(ir=(0,O.Z)(function*(C){if(C.config.emulator)return;const{authorizedDomains:y}=yield sa(C);for(const w of y)try{if(xl(w))return}catch{}Fe(C,"unauthorized-domain")})).apply(this,arguments)}function xl(C){const y=Ae(),{protocol:w,hostname:D}=new URL(y);if(C.startsWith("chrome-extension://")){const ve=new URL(C);return""===ve.hostname&&""===D?"chrome-extension:"===w&&C.replace("chrome-extension://","")===y.replace("chrome-extension://",""):"chrome-extension:"===w&&ve.hostname===D}if(!Vp.test(w))return!1;if(qr.test(C))return D===C;const L=C.replace(/\./g,"\\.");return new RegExp("^(.+\\."+L+"|"+L+")$","i").test(D)}const gh=new Ft(3e4,6e4);function ys(){const C=Jr().___jsl;if(C?.H)for(const y of Object.keys(C.H))if(C.H[y].r=C.H[y].r||[],C.H[y].L=C.H[y].L||[],C.H[y].r=[...C.H[y].L],C.CP)for(let w=0;w<C.CP.length;w++)C.CP[w]=null}let ku=null;function $c(C){return ku=ku||function Ji(C){return new Promise((y,w)=>{var D,L,Z;function ve(){ys(),gapi.load("gapi.iframes",{callback:()=>{y(gapi.iframes.getContext())},ontimeout:()=>{ys(),w(He(C,"network-request-failed"))},timeout:gh.get()})}if(null!==(L=null===(D=Jr().gapi)||void 0===D?void 0:D.iframes)&&void 0!==L&&L.Iframe)y(gapi.iframes.getContext());else{if(null===(Z=Jr().gapi)||void 0===Z||!Z.load){const Ke=Op("iframefcb");return Jr()[Ke]=()=>{gapi.load?ve():w(He(C,"network-request-failed"))},E_(`https://apis.google.com/js/api.js?onload=${Ke}`).catch(wt=>w(wt))}ve()}}).catch(y=>{throw ku=null,y})}(C),ku}const k_=new Ft(5e3,15e3),us={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ua=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function dA(C){const y=C.config;ue(y.authDomain,C,"auth-domain-config-required");const w=y.emulator?en(y,"emulator/auth/iframe"):`https://${C.config.authDomain}/__/auth/iframe`,D={apiKey:y.apiKey,appName:C.name,v:G.SDK_VERSION},L=ua.get(C.config.apiHost);L&&(D.eid=L);const Z=C._getFrameworks();return Z.length&&(D.fw=Z.join(",")),`${w}?${(0,l.xO)(D).slice(1)}`}function Hc(){return Hc=(0,O.Z)(function*(C){const y=yield $c(C),w=Jr().gapi;return ue(w,C,"internal-error"),y.open({where:document.body,url:dA(C),messageHandlersFilter:w.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:us,dontclear:!0},D=>new Promise(function(){var L=(0,O.Z)(function*(Z,ve){yield D.restyle({setHideOnLeave:!1});const Ke=He(C,"network-request-failed"),wt=Jr().setTimeout(()=>{ve(Ke)},k_.get());function Ut(){Jr().clearTimeout(wt),Z(D)}D.ping(Ut).then(Ut,()=>{ve(Ke)})});return function(Z,ve){return L.apply(this,arguments)}}()))}),Hc.apply(this,arguments)}const mh={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Zc{constructor(y){this.window=y,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function ks(C,y,w,D,L,Z){ue(C.config.authDomain,C,"auth-domain-config-required"),ue(C.config.apiKey,C,"invalid-api-key");const ve={apiKey:C.config.apiKey,appName:C.name,authType:w,redirectUrl:D,v:G.SDK_VERSION,eventId:L};if(y instanceof uo){y.setDefaultLanguage(C.languageCode),ve.providerId=y.providerId||"",(0,l.xb)(y.getCustomParameters())||(ve.customParameters=JSON.stringify(y.getCustomParameters()));for(const[wt,Ut]of Object.entries(Z||{}))ve[wt]=Ut}if(y instanceof fu){const wt=y.getScopes().filter(Ut=>""!==Ut);wt.length>0&&(ve.scopes=wt.join(","))}C.tenantId&&(ve.tid=C.tenantId);const Ke=ve;for(const wt of Object.keys(Ke))void 0===Ke[wt]&&delete Ke[wt];return`${function _h({config:C}){return C.emulator?en(C,"emulator/auth/handler"):`https://${C.authDomain}/__/auth/handler`}(C)}?${(0,l.xO)(Ke).slice(1)}`}const qc="webStorageSupport",R_=class Bp{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Tu,this._completeRedirectFn=Ba,this._overrideRedirectResult=_s}_openPopup(y,w,D,L){var Z=this;return(0,O.Z)(function*(){var ve;je(null===(ve=Z.eventManagers[y._key()])||void 0===ve?void 0:ve.manager,"_initialize() not called before _openPopup()");const Ke=ks(y,w,D,Ae(),L);return function pA(C,y,w,D=500,L=600){const Z=Math.max((window.screen.availHeight-L)/2,0).toString(),ve=Math.max((window.screen.availWidth-D)/2,0).toString();let Ke="";const wt=Object.assign(Object.assign({},mh),{width:D.toString(),height:L.toString(),top:Z,left:ve}),Ut=(0,l.z$)().toLowerCase();w&&(Ke=ie(Ut)?"_blank":w),R(Ut)&&(y=y||"http://localhost",wt.scrollbars="yes");const mn=Object.entries(wt).reduce((co,[Fo,Ou])=>`${co}${Fo}=${Ou},`,"");if(function Jn(C=(0,l.z$)()){var y;return gt(C)&&!(null===(y=window.navigator)||void 0===y||!y.standalone)}(Ut)&&"_self"!==Ke)return function Wc(C,y){const w=document.createElement("a");w.href=C,w.target=y;const D=document.createEvent("MouseEvent");D.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),w.dispatchEvent(D)}(y||"",Ke),new Zc(null);const pr=window.open(y||"",Ke,mn);ue(pr,C,"popup-blocked");try{pr.focus()}catch{}return new Zc(pr)}(y,Ke,Ms())})()}_openRedirect(y,w,D,L){var Z=this;return(0,O.Z)(function*(){return yield Z._originValidation(y),function xc(C){Jr().location.href=C}(ks(y,w,D,Ae(),L)),new Promise(()=>{})})()}_initialize(y){const w=y._key();if(this.eventManagers[w]){const{manager:L,promise:Z}=this.eventManagers[w];return L?Promise.resolve(L):(je(Z,"If manager is not set, promise should be"),Z)}const D=this.initAndGetManager(y);return this.eventManagers[w]={promise:D},D.catch(()=>{delete this.eventManagers[w]}),D}initAndGetManager(y){var w=this;return(0,O.Z)(function*(){const D=yield function Ru(C){return Hc.apply(this,arguments)}(y),L=new Mu(y);return D.register("authEvent",Z=>(ue(Z?.authEvent,y,"invalid-auth-event"),{status:L.onEvent(Z.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),w.eventManagers[y._key()]={manager:L},w.iframes[y._key()]=D,L})()}_isIframeWebStorageSupported(y,w){this.iframes[y._key()].send(qc,{type:qc},L=>{var Z;const ve=null===(Z=L?.[0])||void 0===Z?void 0:Z[qc];void 0!==ve&&w(!!ve),Fe(y,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(y){const w=y._key();return this.originValidationPromises[w]||(this.originValidationPromises[w]=function kb(C){return ir.apply(this,arguments)}(y)),this.originValidationPromises[w]}get _shouldInitProactively(){return Zn()||j()||gt()}};class mr{constructor(y){this.factorId=y}_process(y,w,D){switch(w.type){case"enroll":return this._finalizeEnroll(y,w.credential,D);case"signin":return this._finalizeSignIn(y,w.credential);default:return Me("unexpected MultiFactorSessionType")}}}class Lo extends mr{constructor(y){super("phone"),this.credential=y}static _fromCredential(y){return new Lo(y)}_finalizeEnroll(y,w,D){return function ms(C,y){return Rt(C,"POST","/v2/accounts/mfaEnrollment:finalize",nn(C,y))}(y,{idToken:w,displayName:D,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(y,w){return function w_(C,y){return Rt(C,"POST","/v2/accounts/mfaSignIn:finalize",nn(C,y))}(y,{mfaPendingCredential:w,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let yh=(()=>{class C{constructor(){}static assertion(w){return Lo._fromCredential(w)}}return C.FACTOR_ID="phone",C})();var O_="@firebase/auth",vh="0.20.11";class bh{constructor(y){this.auth=y,this.internalListeners=new Map}getUid(){var y;return this.assertAuthConfigured(),(null===(y=this.auth.currentUser)||void 0===y?void 0:y.uid)||null}getToken(y){var w=this;return(0,O.Z)(function*(){return w.assertAuthConfigured(),yield w.auth._initializationPromise,w.auth.currentUser?{accessToken:yield w.auth.currentUser.getIdToken(y)}:null})()}addAuthTokenListener(y){if(this.assertAuthConfigured(),this.internalListeners.has(y))return;const w=this.auth.onIdTokenChanged(D=>{var L;y((null===(L=D)||void 0===L?void 0:L.stsTokenManager.accessToken)||null)});this.internalListeners.set(y,w),this.updateProactiveRefresh()}removeAuthTokenListener(y){this.assertAuthConfigured();const w=this.internalListeners.get(y);!w||(this.internalListeners.delete(y),w(),this.updateProactiveRefresh())}assertAuthConfigured(){ue(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(0,l.Pz)("authIdTokenMaxAge"),function P_(C){(0,G._registerComponent)(new xe.wA("auth",(y,{options:w})=>{const D=y.getProvider("app").getImmediate(),L=y.getProvider("heartbeat"),{apiKey:Z,authDomain:ve}=D.options;return((Ke,wt)=>{ue(Z&&!Z.includes(":"),"invalid-api-key",{appName:Ke.name}),ue(!ve?.includes(":"),"argument-error",{appName:Ke.name});const Ut={apiKey:Z,authDomain:ve,clientPlatform:C,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Sa(C)},mn=new du(Ke,wt,Ut);return function Oe(C,y){const w=y?.persistence||[],D=(Array.isArray(w)?w:[w]).map(me);y?.errorMap&&C._updateErrorMap(y.errorMap),C._initializeWithPersistence(D,y?.popupRedirectResolver)}(mn,w),mn})(D,L)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((y,w,D)=>{y.getProvider("auth-internal").initialize()})),(0,G._registerComponent)(new xe.wA("auth-internal",y=>{const w=Fr(y.getProvider("auth").getImmediate());return new bh(w)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,G.registerVersion)(O_,vh,function Ob(C){switch(C){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(C)),(0,G.registerVersion)(O_,vh,"esm2017")}("Browser")},2090:(be,pe,V)=>{"use strict";V.d(pe,{$s:()=>pt,BH:()=>Cn,DV:()=>br,Dv:()=>Gn,G6:()=>Be,GJ:()=>Ri,L:()=>Ee,LL:()=>zn,Pz:()=>In,Rd:()=>je,Sg:()=>Ft,UG:()=>qe,UI:()=>ii,US:()=>xe,Wj:()=>di,Wl:()=>Fn,Yr:()=>Ue,ZB:()=>te,ZR:()=>Zt,aH:()=>xt,b$:()=>ae,cI:()=>Rt,dS:()=>Qn,eu:()=>ue,g5:()=>G,gK:()=>Hr,gQ:()=>$r,h$:()=>Ne,hl:()=>it,hu:()=>l,jU:()=>J,k$:()=>Lr,lb:()=>ar,m9:()=>dn,ne:()=>Pr,p$:()=>ne,pd:()=>Yn,r3:()=>ri,ru:()=>X,tV:()=>ge,uI:()=>de,ug:()=>Tn,vZ:()=>jr,w1:()=>Fe,w9:()=>Or,xO:()=>wr,xb:()=>Br,z$:()=>Ze,zI:()=>Me,zd:()=>Qr});const l=function(re,Y){if(!re)throw G(Y)},G=function(re){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+re)},he=function(re){const Y=[];let H=0;for(let U=0;U<re.length;U++){let R=re.charCodeAt(U);R<128?Y[H++]=R:R<2048?(Y[H++]=R>>6|192,Y[H++]=63&R|128):55296==(64512&R)&&U+1<re.length&&56320==(64512&re.charCodeAt(U+1))?(R=65536+((1023&R)<<10)+(1023&re.charCodeAt(++U)),Y[H++]=R>>18|240,Y[H++]=R>>12&63|128,Y[H++]=R>>6&63|128,Y[H++]=63&R|128):(Y[H++]=R>>12|224,Y[H++]=R>>6&63|128,Y[H++]=63&R|128)}return Y},xe={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(re,Y){if(!Array.isArray(re))throw Error("encodeByteArray takes an array as a parameter");this.init_();const H=Y?this.byteToCharMapWebSafe_:this.byteToCharMap_,U=[];for(let R=0;R<re.length;R+=3){const j=re[R],ie=R+1<re.length,Ce=ie?re[R+1]:0,Je=R+2<re.length,ze=Je?re[R+2]:0;let Jt=(15&Ce)<<2|ze>>6,Jn=63&ze;Je||(Jn=64,ie||(Jt=64)),U.push(H[j>>2],H[(3&j)<<4|Ce>>4],H[Jt],H[Jn])}return U.join("")},encodeString(re,Y){return this.HAS_NATIVE_SUPPORT&&!Y?btoa(re):this.encodeByteArray(he(re),Y)},decodeString(re,Y){return this.HAS_NATIVE_SUPPORT&&!Y?atob(re):function(re){const Y=[];let H=0,U=0;for(;H<re.length;){const R=re[H++];if(R<128)Y[U++]=String.fromCharCode(R);else if(R>191&&R<224){const j=re[H++];Y[U++]=String.fromCharCode((31&R)<<6|63&j)}else if(R>239&&R<365){const Je=((7&R)<<18|(63&re[H++])<<12|(63&re[H++])<<6|63&re[H++])-65536;Y[U++]=String.fromCharCode(55296+(Je>>10)),Y[U++]=String.fromCharCode(56320+(1023&Je))}else{const j=re[H++],ie=re[H++];Y[U++]=String.fromCharCode((15&R)<<12|(63&j)<<6|63&ie)}}return Y.join("")}(this.decodeStringToByteArray(re,Y))},decodeStringToByteArray(re,Y){this.init_();const H=Y?this.charToByteMapWebSafe_:this.charToByteMap_,U=[];for(let R=0;R<re.length;){const j=H[re.charAt(R++)],Ce=R<re.length?H[re.charAt(R)]:0;++R;const ze=R<re.length?H[re.charAt(R)]:64;++R;const gt=R<re.length?H[re.charAt(R)]:64;if(++R,null==j||null==Ce||null==ze||null==gt)throw Error();U.push(j<<2|Ce>>4),64!==ze&&(U.push(Ce<<4&240|ze>>2),64!==gt&&U.push(ze<<6&192|gt))}return U},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let re=0;re<this.ENCODED_VALS.length;re++)this.byteToCharMap_[re]=this.ENCODED_VALS.charAt(re),this.charToByteMap_[this.byteToCharMap_[re]]=re,this.byteToCharMapWebSafe_[re]=this.ENCODED_VALS_WEBSAFE.charAt(re),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[re]]=re,re>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(re)]=re,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(re)]=re)}}},Ne=function(re){const Y=he(re);return xe.encodeByteArray(Y,!0)},Ee=function(re){return Ne(re).replace(/\./g,"")},ge=function(re){try{return xe.decodeString(re,!0)}catch(Y){console.error("base64Decode failed: ",Y)}return null};function ne(re){return te(void 0,re)}function te(re,Y){if(!(Y instanceof Object))return Y;switch(Y.constructor){case Date:return new Date(Y.getTime());case Object:void 0===re&&(re={});break;case Array:re=[];break;default:return Y}for(const H in Y)!Y.hasOwnProperty(H)||!ce(H)||(re[H]=te(re[H],Y[H]));return re}function ce(re){return"__proto__"!==re}function Ze(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function de(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ze())}function qe(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function J(){return"object"==typeof self&&self.self===self}function X(){const re="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof re&&void 0!==re.id}function ae(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Fe(){const re=Ze();return re.indexOf("MSIE ")>=0||re.indexOf("Trident/")>=0}function Ue(){return!1}function Be(){return!qe()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function it(){return"object"==typeof indexedDB}function ue(){return new Promise((re,Y)=>{try{let H=!0;const U="validate-browser-context-for-indexeddb-analytics-module",R=self.indexedDB.open(U);R.onsuccess=()=>{R.result.close(),H||self.indexedDB.deleteDatabase(U),re(!0)},R.onupgradeneeded=()=>{H=!1},R.onerror=()=>{var j;Y((null===(j=R.error)||void 0===j?void 0:j.message)||"")}}catch(H){Y(H)}})}function Me(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}function je(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const Oe=()=>{try{return je().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const re=process.env.__FIREBASE_DEFAULTS__;return re?JSON.parse(re):void 0})()||(()=>{if(typeof document>"u")return;let re;try{re=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const Y=re&&ge(re[1]);return Y&&JSON.parse(Y)})()}catch(re){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${re}`)}},xt=()=>{var re;return null===(re=Oe())||void 0===re?void 0:re.config},In=re=>{var Y;return null===(Y=Oe())||void 0===Y?void 0:Y[`_${re}`]};class Cn{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((Y,H)=>{this.resolve=Y,this.reject=H})}wrapCallback(Y){return(H,U)=>{H?this.reject(H):this.resolve(U),"function"==typeof Y&&(this.promise.catch(()=>{}),1===Y.length?Y(H):Y(H,U))}}}function Ft(re,Y){if(re.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const U=Y||"demo-project",R=re.iat||0,j=re.sub||re.user_id;if(!j)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const ie=Object.assign({iss:`https://securetoken.google.com/${U}`,aud:U,iat:R,exp:R+3600,auth_time:R,sub:j,user_id:j,firebase:{sign_in_provider:"custom",identities:{}}},re);return[Ee(JSON.stringify({alg:"none",type:"JWT"})),Ee(JSON.stringify(ie)),""].join(".")}class Zt extends Error{constructor(Y,H,U){super(H),this.code=Y,this.customData=U,this.name="FirebaseError",Object.setPrototypeOf(this,Zt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,zn.prototype.create)}}class zn{constructor(Y,H,U){this.service=Y,this.serviceName=H,this.errors=U}create(Y,...H){const U=H[0]||{},R=`${this.service}/${Y}`,j=this.errors[Y],ie=j?function kr(re,Y){return re.replace(nn,(H,U)=>{const R=Y[U];return null!=R?String(R):`<${U}?>`})}(j,U):"Error";return new Zt(R,`${this.serviceName}: ${ie} (${R}).`,U)}}const nn=/\{\$([^}]+)}/g;function Rt(re){return JSON.parse(re)}function Fn(re){return JSON.stringify(re)}const Rr=function(re){let Y={},H={},U={},R="";try{const j=re.split(".");Y=Rt(ge(j[0])||""),H=Rt(ge(j[1])||""),R=j[2],U=H.d||{},delete H.d}catch{}return{header:Y,claims:H,data:U,signature:R}},Or=function(re){const H=Rr(re).claims;return!!H&&"object"==typeof H&&H.hasOwnProperty("iat")},Ri=function(re){const Y=Rr(re).claims;return"object"==typeof Y&&!0===Y.admin};function ri(re,Y){return Object.prototype.hasOwnProperty.call(re,Y)}function br(re,Y){if(Object.prototype.hasOwnProperty.call(re,Y))return re[Y]}function Br(re){for(const Y in re)if(Object.prototype.hasOwnProperty.call(re,Y))return!1;return!0}function ii(re,Y,H){const U={};for(const R in re)Object.prototype.hasOwnProperty.call(re,R)&&(U[R]=Y.call(H,re[R],R,re));return U}function jr(re,Y){if(re===Y)return!0;const H=Object.keys(re),U=Object.keys(Y);for(const R of H){if(!U.includes(R))return!1;const j=re[R],ie=Y[R];if(wn(j)&&wn(ie)){if(!jr(j,ie))return!1}else if(j!==ie)return!1}for(const R of U)if(!H.includes(R))return!1;return!0}function wn(re){return null!==re&&"object"==typeof re}function wr(re){const Y=[];for(const[H,U]of Object.entries(re))Array.isArray(U)?U.forEach(R=>{Y.push(encodeURIComponent(H)+"="+encodeURIComponent(R))}):Y.push(encodeURIComponent(H)+"="+encodeURIComponent(U));return Y.length?"&"+Y.join("&"):""}function Qr(re){const Y={};return re.replace(/^\?/,"").split("&").forEach(U=>{if(U){const[R,j]=U.split("=");Y[decodeURIComponent(R)]=decodeURIComponent(j)}}),Y}function Yn(re){const Y=re.indexOf("?");if(!Y)return"";const H=re.indexOf("#",Y);return re.substring(Y,H>0?H:void 0)}class $r{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let Y=1;Y<this.blockSize;++Y)this.pad_[Y]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(Y,H){H||(H=0);const U=this.W_;if("string"==typeof Y)for(let gt=0;gt<16;gt++)U[gt]=Y.charCodeAt(H)<<24|Y.charCodeAt(H+1)<<16|Y.charCodeAt(H+2)<<8|Y.charCodeAt(H+3),H+=4;else for(let gt=0;gt<16;gt++)U[gt]=Y[H]<<24|Y[H+1]<<16|Y[H+2]<<8|Y[H+3],H+=4;for(let gt=16;gt<80;gt++){const Jt=U[gt-3]^U[gt-8]^U[gt-14]^U[gt-16];U[gt]=4294967295&(Jt<<1|Jt>>>31)}let ze,At,R=this.chain_[0],j=this.chain_[1],ie=this.chain_[2],Ce=this.chain_[3],Je=this.chain_[4];for(let gt=0;gt<80;gt++){gt<40?gt<20?(ze=Ce^j&(ie^Ce),At=1518500249):(ze=j^ie^Ce,At=1859775393):gt<60?(ze=j&ie|Ce&(j|ie),At=2400959708):(ze=j^ie^Ce,At=3395469782);const Jt=(R<<5|R>>>27)+ze+Je+At+U[gt]&4294967295;Je=Ce,Ce=ie,ie=4294967295&(j<<30|j>>>2),j=R,R=Jt}this.chain_[0]=this.chain_[0]+R&4294967295,this.chain_[1]=this.chain_[1]+j&4294967295,this.chain_[2]=this.chain_[2]+ie&4294967295,this.chain_[3]=this.chain_[3]+Ce&4294967295,this.chain_[4]=this.chain_[4]+Je&4294967295}update(Y,H){if(null==Y)return;void 0===H&&(H=Y.length);const U=H-this.blockSize;let R=0;const j=this.buf_;let ie=this.inbuf_;for(;R<H;){if(0===ie)for(;R<=U;)this.compress_(Y,R),R+=this.blockSize;if("string"==typeof Y){for(;R<H;)if(j[ie]=Y.charCodeAt(R),++ie,++R,ie===this.blockSize){this.compress_(j),ie=0;break}}else for(;R<H;)if(j[ie]=Y[R],++ie,++R,ie===this.blockSize){this.compress_(j),ie=0;break}}this.inbuf_=ie,this.total_+=H}digest(){const Y=[];let H=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let R=this.blockSize-1;R>=56;R--)this.buf_[R]=255&H,H/=256;this.compress_(this.buf_);let U=0;for(let R=0;R<5;R++)for(let j=24;j>=0;j-=8)Y[U]=this.chain_[R]>>j&255,++U;return Y}}function Pr(re,Y){const H=new En(re,Y);return H.subscribe.bind(H)}class En{constructor(Y,H){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=H,this.task.then(()=>{Y(this)}).catch(U=>{this.error(U)})}next(Y){this.forEachObserver(H=>{H.next(Y)})}error(Y){this.forEachObserver(H=>{H.error(Y)}),this.close(Y)}complete(){this.forEachObserver(Y=>{Y.complete()}),this.close()}subscribe(Y,H,U){let R;if(void 0===Y&&void 0===H&&void 0===U)throw new Error("Missing Observer.");R=function Nt(re,Y){if("object"!=typeof re||null===re)return!1;for(const H of Y)if(H in re&&"function"==typeof re[H])return!0;return!1}(Y,["next","error","complete"])?Y:{next:Y,error:H,complete:U},void 0===R.next&&(R.next=ht),void 0===R.error&&(R.error=ht),void 0===R.complete&&(R.complete=ht);const j=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?R.error(this.finalError):R.complete()}catch{}}),this.observers.push(R),j}unsubscribeOne(Y){void 0===this.observers||void 0===this.observers[Y]||(delete this.observers[Y],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(Y){if(!this.finalized)for(let H=0;H<this.observers.length;H++)this.sendOne(H,Y)}sendOne(Y,H){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[Y])try{H(this.observers[Y])}catch(U){typeof console<"u"&&console.error&&console.error(U)}})}close(Y){this.finalized||(this.finalized=!0,void 0!==Y&&(this.finalError=Y),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ht(){}const Gn=function(re,Y,H,U){let R;if(U<Y?R="at least "+Y:U>H&&(R=0===H?"none":"no more than "+H),R)throw new Error(re+" failed: Was called with "+U+(1===U?" argument.":" arguments.")+" Expects "+R+".")};function Hr(re,Y){return`${re} failed: ${Y} argument `}function di(re,Y,H,U){if((!U||H)&&"function"!=typeof H)throw new Error(Hr(re,Y)+"must be a valid function.")}function ar(re,Y,H,U){if((!U||H)&&("object"!=typeof H||null===H))throw new Error(Hr(re,Y)+"must be a valid context object.")}const Qn=function(re){const Y=[];let H=0;for(let U=0;U<re.length;U++){let R=re.charCodeAt(U);if(R>=55296&&R<=56319){const j=R-55296;U++,l(U<re.length,"Surrogate pair missing trail surrogate."),R=65536+(j<<10)+(re.charCodeAt(U)-56320)}R<128?Y[H++]=R:R<2048?(Y[H++]=R>>6|192,Y[H++]=63&R|128):R<65536?(Y[H++]=R>>12|224,Y[H++]=R>>6&63|128,Y[H++]=63&R|128):(Y[H++]=R>>18|240,Y[H++]=R>>12&63|128,Y[H++]=R>>6&63|128,Y[H++]=63&R|128)}return Y},Tn=function(re){let Y=0;for(let H=0;H<re.length;H++){const U=re.charCodeAt(H);U<128?Y++:U<2048?Y+=2:U>=55296&&U<=56319?(Y+=4,H++):Y+=3}return Y},Lr=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,re=>{const Y=16*Math.random()|0;return("x"===re?Y:3&Y|8).toString(16)})};function pt(re,Y=1e3,H=2){const U=Y*Math.pow(H,re),R=Math.round(.5*U*(Math.random()-.5)*2);return Math.min(144e5,U+R)}function dn(re){return re&&re._delegate?re._delegate:re}},3599:(be,pe,V)=>{"use strict";var O={};V.r(O),V.d(O,{afterMain:()=>nG,afterRead:()=>X5,afterWrite:()=>sG,applyStyles:()=>dU,arrow:()=>fG,auto:()=>CN,basePlacements:()=>o0,beforeMain:()=>eG,beforeRead:()=>Q5,beforeWrite:()=>rG,bottom:()=>ba,clippingParents:()=>K5,computeStyles:()=>gU,createPopper:()=>EU,createPopperBase:()=>Dte,createPopperLite:()=>Nte,detectOverflow:()=>h0,end:()=>a0,eventListeners:()=>mU,flip:()=>vG,hide:()=>EG,left:()=>Eo,main:()=>tG,modifierPhases:()=>oG,offset:()=>IG,placements:()=>lU,popper:()=>u0,popperGenerator:()=>xN,popperOffsets:()=>wU,preventOverflow:()=>CG,read:()=>J5,reference:()=>Y5,right:()=>wa,start:()=>Sm,top:()=>wo,variationPlacements:()=>uU,viewport:()=>aU,write:()=>iG});var l=V(4650);let G=null;function he(){return G}class Ne{}const Ee=new l.OlP("DocumentToken");let ge=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return function ne(){return(0,l.LFG)(ce)}()},providedIn:"platform"}),n})();const te=new l.OlP("Location Initialized");let ce=(()=>{class n extends ge{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return he().getBaseHref(this._doc)}onPopState(t){const r=he().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=he().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,r,i){Ze()?this._history.pushState(t,r,i):this.location.hash=i}replaceState(t,r,i){Ze()?this._history.replaceState(t,r,i):this.location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Ee))},n.\u0275prov=l.Yz7({token:n,factory:function(){return function de(){return new ce((0,l.LFG)(Ee))}()},providedIn:"platform"}),n})();function Ze(){return!!window.history.pushState}function qe(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function J(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function X(n){return n&&"?"!==n[0]?"?"+n:n}let ae=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return(0,l.f3M)(Fe)},providedIn:"root"}),n})();const De=new l.OlP("appBaseHref");let Fe=(()=>{class n extends ae{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??(0,l.f3M)(Ee).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return qe(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+X(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,u){const d=this.prepareExternalUrl(i+X(u));this._platformLocation.pushState(t,r,d)}replaceState(t,r,i,u){const d=this.prepareExternalUrl(i+X(u));this._platformLocation.replaceState(t,r,d)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ge),l.LFG(De,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),He=(()=>{class n extends ae{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=qe(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,u){let d=this.prepareExternalUrl(i+X(u));0==d.length&&(d=this._platformLocation.pathname),this._platformLocation.pushState(t,r,d)}replaceState(t,r,i,u){let d=this.prepareExternalUrl(i+X(u));0==d.length&&(d=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,d)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ge),l.LFG(De,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),Ue=(()=>{class n{constructor(t){this._subject=new l.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._baseHref=J(ue(r)),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+X(r))}normalize(t){return n.stripTrailingSlash(function it(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,ue(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+X(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+X(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}}return n.normalizeQueryParams=X,n.joinWithSlash=qe,n.stripTrailingSlash=J,n.\u0275fac=function(t){return new(t||n)(l.LFG(ae))},n.\u0275prov=l.Yz7({token:n,factory:function(){return function Be(){return new Ue((0,l.LFG)(ae))}()},providedIn:"root"}),n})();function ue(n){return n.replace(/\/index.html$/,"")}var me=(()=>((me=me||{})[me.Format=0]="Format",me[me.Standalone=1]="Standalone",me))(),Ie=(()=>((Ie=Ie||{})[Ie.Narrow=0]="Narrow",Ie[Ie.Abbreviated=1]="Abbreviated",Ie[Ie.Wide=2]="Wide",Ie[Ie.Short=3]="Short",Ie))(),Oe=(()=>((Oe=Oe||{})[Oe.Short=0]="Short",Oe[Oe.Medium=1]="Medium",Oe[Oe.Long=2]="Long",Oe[Oe.Full=3]="Full",Oe))(),Ae=(()=>((Ae=Ae||{})[Ae.Decimal=0]="Decimal",Ae[Ae.Group=1]="Group",Ae[Ae.List=2]="List",Ae[Ae.PercentSign=3]="PercentSign",Ae[Ae.PlusSign=4]="PlusSign",Ae[Ae.MinusSign=5]="MinusSign",Ae[Ae.Exponential=6]="Exponential",Ae[Ae.SuperscriptingExponent=7]="SuperscriptingExponent",Ae[Ae.PerMille=8]="PerMille",Ae[Ae.Infinity=9]="Infinity",Ae[Ae.NaN=10]="NaN",Ae[Ae.TimeSeparator=11]="TimeSeparator",Ae[Ae.CurrencyDecimal=12]="CurrencyDecimal",Ae[Ae.CurrencyGroup=13]="CurrencyGroup",Ae))();function kr(n,e){return wn((0,l.cg1)(n)[l.wAp.DateFormat],e)}function nn(n,e){return wn((0,l.cg1)(n)[l.wAp.TimeFormat],e)}function Rt(n,e){return wn((0,l.cg1)(n)[l.wAp.DateTimeFormat],e)}function Fn(n,e){const t=(0,l.cg1)(n),r=t[l.wAp.NumberSymbols][e];if(typeof r>"u"){if(e===Ae.CurrencyDecimal)return t[l.wAp.NumberSymbols][Ae.Decimal];if(e===Ae.CurrencyGroup)return t[l.wAp.NumberSymbols][Ae.Group]}return r}function br(n){if(!n[l.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[l.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function wn(n,e){for(let t=e;t>-1;t--)if(typeof n[t]<"u")return n[t];throw new Error("Locale data API: locale data undefined")}function It(n){const[e,t]=n.split(":");return{hours:+e,minutes:+t}}const $r=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Pr={},En=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var Bn=(()=>((Bn=Bn||{})[Bn.Short=0]="Short",Bn[Bn.ShortGMT=1]="ShortGMT",Bn[Bn.Long=2]="Long",Bn[Bn.Extended=3]="Extended",Bn))(),Nt=(()=>((Nt=Nt||{})[Nt.FullYear=0]="FullYear",Nt[Nt.Month=1]="Month",Nt[Nt.Date=2]="Date",Nt[Nt.Hours=3]="Hours",Nt[Nt.Minutes=4]="Minutes",Nt[Nt.Seconds=5]="Seconds",Nt[Nt.FractionalSeconds=6]="FractionalSeconds",Nt[Nt.Day=7]="Day",Nt))(),ht=(()=>((ht=ht||{})[ht.DayPeriods=0]="DayPeriods",ht[ht.Days=1]="Days",ht[ht.Months=2]="Months",ht[ht.Eras=3]="Eras",ht))();function Gn(n,e,t,r){let i=function ie(n){if(Je(n))return n;if("number"==typeof n&&!isNaN(n))return new Date(n);if("string"==typeof n){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){const[i,u=1,d=1]=n.split("-").map(p=>+p);return Hr(i,u-1,d)}const t=parseFloat(n);if(!isNaN(n-t))return new Date(t);let r;if(r=n.match($r))return function Ce(n){const e=new Date(0);let t=0,r=0;const i=n[8]?e.setUTCFullYear:e.setFullYear,u=n[8]?e.setUTCHours:e.setHours;n[9]&&(t=Number(n[9]+n[10]),r=Number(n[9]+n[11])),i.call(e,Number(n[1]),Number(n[2])-1,Number(n[3]));const d=Number(n[4]||0)-t,p=Number(n[5]||0)-r,v=Number(n[6]||0),I=Math.floor(1e3*parseFloat("0."+(n[7]||0)));return u.call(e,d,p,v,I),e}(r)}const e=new Date(n);if(!Je(e))throw new Error(`Unable to convert "${n}" into a date`);return e}(n);e=Er(t,e)||e;let p,d=[];for(;e;){if(p=En.exec(e),!p){d.push(e);break}{d=d.concat(p.slice(1));const S=d.pop();if(!S)break;e=S}}let v=i.getTimezoneOffset();r&&(v=U(r,v),i=function j(n,e,t){const r=t?-1:1,i=n.getTimezoneOffset();return function R(n,e){return(n=new Date(n.getTime())).setMinutes(n.getMinutes()+e),n}(n,r*(U(e,i)-i))}(i,r,!0));let I="";return d.forEach(S=>{const M=function H(n){if(Y[n])return Y[n];let e;switch(n){case"G":case"GG":case"GGG":e=rn(ht.Eras,Ie.Abbreviated);break;case"GGGG":e=rn(ht.Eras,Ie.Wide);break;case"GGGGG":e=rn(ht.Eras,Ie.Narrow);break;case"y":e=Tn(Nt.FullYear,1,0,!1,!0);break;case"yy":e=Tn(Nt.FullYear,2,0,!0,!0);break;case"yyy":e=Tn(Nt.FullYear,3,0,!1,!0);break;case"yyyy":e=Tn(Nt.FullYear,4,0,!1,!0);break;case"Y":e=re(1);break;case"YY":e=re(2,!0);break;case"YYY":e=re(3);break;case"YYYY":e=re(4);break;case"M":case"L":e=Tn(Nt.Month,1,1);break;case"MM":case"LL":e=Tn(Nt.Month,2,1);break;case"MMM":e=rn(ht.Months,Ie.Abbreviated);break;case"MMMM":e=rn(ht.Months,Ie.Wide);break;case"MMMMM":e=rn(ht.Months,Ie.Narrow);break;case"LLL":e=rn(ht.Months,Ie.Abbreviated,me.Standalone);break;case"LLLL":e=rn(ht.Months,Ie.Wide,me.Standalone);break;case"LLLLL":e=rn(ht.Months,Ie.Narrow,me.Standalone);break;case"w":e=dn(1);break;case"ww":e=dn(2);break;case"W":e=dn(1,!0);break;case"d":e=Tn(Nt.Date,1);break;case"dd":e=Tn(Nt.Date,2);break;case"c":case"cc":e=Tn(Nt.Day,1);break;case"ccc":e=rn(ht.Days,Ie.Abbreviated,me.Standalone);break;case"cccc":e=rn(ht.Days,Ie.Wide,me.Standalone);break;case"ccccc":e=rn(ht.Days,Ie.Narrow,me.Standalone);break;case"cccccc":e=rn(ht.Days,Ie.Short,me.Standalone);break;case"E":case"EE":case"EEE":e=rn(ht.Days,Ie.Abbreviated);break;case"EEEE":e=rn(ht.Days,Ie.Wide);break;case"EEEEE":e=rn(ht.Days,Ie.Narrow);break;case"EEEEEE":e=rn(ht.Days,Ie.Short);break;case"a":case"aa":case"aaa":e=rn(ht.DayPeriods,Ie.Abbreviated);break;case"aaaa":e=rn(ht.DayPeriods,Ie.Wide);break;case"aaaaa":e=rn(ht.DayPeriods,Ie.Narrow);break;case"b":case"bb":case"bbb":e=rn(ht.DayPeriods,Ie.Abbreviated,me.Standalone,!0);break;case"bbbb":e=rn(ht.DayPeriods,Ie.Wide,me.Standalone,!0);break;case"bbbbb":e=rn(ht.DayPeriods,Ie.Narrow,me.Standalone,!0);break;case"B":case"BB":case"BBB":e=rn(ht.DayPeriods,Ie.Abbreviated,me.Format,!0);break;case"BBBB":e=rn(ht.DayPeriods,Ie.Wide,me.Format,!0);break;case"BBBBB":e=rn(ht.DayPeriods,Ie.Narrow,me.Format,!0);break;case"h":e=Tn(Nt.Hours,1,-12);break;case"hh":e=Tn(Nt.Hours,2,-12);break;case"H":e=Tn(Nt.Hours,1);break;case"HH":e=Tn(Nt.Hours,2);break;case"m":e=Tn(Nt.Minutes,1);break;case"mm":e=Tn(Nt.Minutes,2);break;case"s":e=Tn(Nt.Seconds,1);break;case"ss":e=Tn(Nt.Seconds,2);break;case"S":e=Tn(Nt.FractionalSeconds,1);break;case"SS":e=Tn(Nt.FractionalSeconds,2);break;case"SSS":e=Tn(Nt.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=Xe(Bn.Short);break;case"ZZZZZ":e=Xe(Bn.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=Xe(Bn.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=Xe(Bn.Long);break;default:return null}return Y[n]=e,e}(S);I+=M?M(i,t,v):"''"===S?"'":S.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),I}function Hr(n,e,t){const r=new Date(0);return r.setFullYear(n,e,t),r.setHours(0,0,0),r}function Er(n,e){const t=function xt(n){return(0,l.cg1)(n)[l.wAp.LocaleId]}(n);if(Pr[t]=Pr[t]||{},Pr[t][e])return Pr[t][e];let r="";switch(e){case"shortDate":r=kr(n,Oe.Short);break;case"mediumDate":r=kr(n,Oe.Medium);break;case"longDate":r=kr(n,Oe.Long);break;case"fullDate":r=kr(n,Oe.Full);break;case"shortTime":r=nn(n,Oe.Short);break;case"mediumTime":r=nn(n,Oe.Medium);break;case"longTime":r=nn(n,Oe.Long);break;case"fullTime":r=nn(n,Oe.Full);break;case"short":const i=Er(n,"shortTime"),u=Er(n,"shortDate");r=di(Rt(n,Oe.Short),[i,u]);break;case"medium":const d=Er(n,"mediumTime"),p=Er(n,"mediumDate");r=di(Rt(n,Oe.Medium),[d,p]);break;case"long":const v=Er(n,"longTime"),I=Er(n,"longDate");r=di(Rt(n,Oe.Long),[v,I]);break;case"full":const S=Er(n,"fullTime"),M=Er(n,"fullDate");r=di(Rt(n,Oe.Full),[S,M])}return r&&(Pr[t][e]=r),r}function di(n,e){return e&&(n=n.replace(/\{([^}]+)}/g,function(t,r){return null!=e&&r in e?e[r]:t})),n}function ar(n,e,t="-",r,i){let u="";(n<0||i&&n<=0)&&(i?n=1-n:(n=-n,u=t));let d=String(n);for(;d.length<e;)d="0"+d;return r&&(d=d.slice(d.length-e)),u+d}function Tn(n,e,t=0,r=!1,i=!1){return function(u,d){let p=function Lr(n,e){switch(n){case Nt.FullYear:return e.getFullYear();case Nt.Month:return e.getMonth();case Nt.Date:return e.getDate();case Nt.Hours:return e.getHours();case Nt.Minutes:return e.getMinutes();case Nt.Seconds:return e.getSeconds();case Nt.FractionalSeconds:return e.getMilliseconds();case Nt.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}(n,u);if((t>0||p>-t)&&(p+=t),n===Nt.Hours)0===p&&-12===t&&(p=12);else if(n===Nt.FractionalSeconds)return function Qn(n,e){return ar(n,3).substring(0,e)}(p,e);const v=Fn(d,Ae.MinusSign);return ar(p,e,v,r,i)}}function rn(n,e,t=me.Format,r=!1){return function(i,u){return function Gr(n,e,t,r,i,u){switch(t){case ht.Months:return function Ft(n,e,t){const r=(0,l.cg1)(n),u=wn([r[l.wAp.MonthsFormat],r[l.wAp.MonthsStandalone]],e);return wn(u,t)}(e,i,r)[n.getMonth()];case ht.Days:return function Cn(n,e,t){const r=(0,l.cg1)(n),u=wn([r[l.wAp.DaysFormat],r[l.wAp.DaysStandalone]],e);return wn(u,t)}(e,i,r)[n.getDay()];case ht.DayPeriods:const d=n.getHours(),p=n.getMinutes();if(u){const I=function Br(n){const e=(0,l.cg1)(n);return br(e),(e[l.wAp.ExtraData][2]||[]).map(r=>"string"==typeof r?It(r):[It(r[0]),It(r[1])])}(e),S=function ii(n,e,t){const r=(0,l.cg1)(n);br(r);const u=wn([r[l.wAp.ExtraData][0],r[l.wAp.ExtraData][1]],e)||[];return wn(u,t)||[]}(e,i,r),M=I.findIndex(P=>{if(Array.isArray(P)){const[$,Q]=P,le=d>=$.hours&&p>=$.minutes,ye=d<Q.hours||d===Q.hours&&p<Q.minutes;if($.hours<Q.hours){if(le&&ye)return!0}else if(le||ye)return!0}else if(P.hours===d&&P.minutes===p)return!0;return!1});if(-1!==M)return S[M]}return function In(n,e,t){const r=(0,l.cg1)(n),u=wn([r[l.wAp.DayPeriodsFormat],r[l.wAp.DayPeriodsStandalone]],e);return wn(u,t)}(e,i,r)[d<12?0:1];case ht.Eras:return function en(n,e){return wn((0,l.cg1)(n)[l.wAp.Eras],e)}(e,r)[n.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${t}`)}}(i,u,n,e,t,r)}}function Xe(n){return function(e,t,r){const i=-1*r,u=Fn(t,Ae.MinusSign),d=i>0?Math.floor(i/60):Math.ceil(i/60);switch(n){case Bn.Short:return(i>=0?"+":"")+ar(d,2,u)+ar(Math.abs(i%60),2,u);case Bn.ShortGMT:return"GMT"+(i>=0?"+":"")+ar(d,1,u);case Bn.Long:return"GMT"+(i>=0?"+":"")+ar(d,2,u)+":"+ar(Math.abs(i%60),2,u);case Bn.Extended:return 0===r?"Z":(i>=0?"+":"")+ar(d,2,u)+":"+ar(Math.abs(i%60),2,u);default:throw new Error(`Unknown zone width "${n}"`)}}}function Ht(n){return Hr(n.getFullYear(),n.getMonth(),n.getDate()+(4-n.getDay()))}function dn(n,e=!1){return function(t,r){let i;if(e){const u=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,d=t.getDate();i=1+Math.floor((d+u)/7)}else{const u=Ht(t),d=function Ot(n){const e=Hr(n,0,1).getDay();return Hr(n,0,1+(e<=4?4:11)-e)}(u.getFullYear()),p=u.getTime()-d.getTime();i=1+Math.round(p/6048e5)}return ar(i,n,Fn(r,Ae.MinusSign))}}function re(n,e=!1){return function(t,r){return ar(Ht(t).getFullYear(),n,Fn(r,Ae.MinusSign),e)}}const Y={};function U(n,e){n=n.replace(/:/g,"");const t=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(t)?e:t}function Je(n){return n instanceof Date&&!isNaN(n.valueOf())}let Dt=(()=>{class n{constructor(t,r,i,u){this._iterableDiffers=t,this._keyValueDiffers=r,this._ngEl=i,this._renderer=u,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&((0,l.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(r=>this._toggleClass(r.key,r.currentValue)),t.forEachChangedItem(r=>this._toggleClass(r.key,r.currentValue)),t.forEachRemovedItem(r=>{r.previousValue&&this._toggleClass(r.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(r=>{if("string"!=typeof r.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,l.AaK)(r.item)}`);this._toggleClass(r.item,!0)}),t.forEachRemovedItem(r=>this._toggleClass(r.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(r=>this._toggleClass(r,!0)):Object.keys(t).forEach(r=>this._toggleClass(r,!!t[r])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(r=>this._toggleClass(r,!1)):Object.keys(t).forEach(r=>this._toggleClass(r,!1)))}_toggleClass(t,r){(t=t.trim())&&t.split(/\s+/g).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.ZZ4),l.Y36(l.aQg),l.Y36(l.SBq),l.Y36(l.Qsj))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),n})();class Zs{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Dr=(()=>{class n{constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,u,d)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new Zs(i.item,this._ngForOf,-1,-1),null===d?void 0:d);else if(null==d)r.remove(null===u?void 0:u);else if(null!==u){const p=r.get(u);r.move(p,d),oo(p,i)}});for(let i=0,u=r.length;i<u;i++){const p=r.get(i).context;p.index=i,p.count=u,p.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{oo(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.s_b),l.Y36(l.Rgc),l.Y36(l.ZZ4))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function oo(n,e){n.context.$implicit=e.item}let ss=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new xa,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){un("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){un("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.s_b),l.Y36(l.Rgc))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class xa{constructor(){this.$implicit=null,this.ngIf=null}}function un(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,l.AaK)(e)}'.`)}function Mn(n,e){return new l.vHH(2100,!1)}class qs{createSubscription(e,t){return e.subscribe({next:t,error:r=>{throw r}})}dispose(e){e.unsubscribe()}}class hu{createSubscription(e,t){return e.then(t,r=>{throw r})}dispose(e){}}const Ma=new hu,dl=new qs;let ps=(()=>{class n{constructor(t){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=t}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,r=>this._updateLatestValue(t,r))}_selectStrategy(t){if((0,l.QGY)(t))return Ma;if((0,l.F4k)(t))return dl;throw Mn()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,r){t===this._obj&&(this._latestValue=r,this._ref.markForCheck())}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.sBO,16))},n.\u0275pipe=l.Yjl({name:"async",type:n,pure:!1,standalone:!0}),n})();const ko=new l.OlP("DATE_PIPE_DEFAULT_TIMEZONE"),hl=new l.OlP("DATE_PIPE_DEFAULT_OPTIONS");let Ra=(()=>{class n{constructor(t,r,i){this.locale=t,this.defaultTimezone=r,this.defaultOptions=i}transform(t,r,i,u){if(null==t||""===t||t!=t)return null;try{return Gn(t,r??this.defaultOptions?.dateFormat??"mediumDate",u||this.locale,i??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(d){throw Mn()}}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.soG,16),l.Y36(ko,24),l.Y36(hl,24))},n.\u0275pipe=l.Yjl({name:"date",type:n,pure:!0,standalone:!0}),n})(),pu=(()=>{class n{constructor(t){this.differs=t,this.keyValues=[],this.compareFn=Qd}transform(t,r=Qd){if(!t||!(t instanceof Map)&&"object"!=typeof t)return null;this.differ||(this.differ=this.differs.find(t).create());const i=this.differ.diff(t),u=r!==this.compareFn;return i&&(this.keyValues=[],i.forEachItem(d=>{this.keyValues.push(function fu(n,e){return{key:n,value:e}}(d.key,d.currentValue))})),(i||u)&&(this.keyValues.sort(r),this.compareFn=r),this.keyValues}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.aQg,16))},n.\u0275pipe=l.Yjl({name:"keyvalue",type:n,pure:!1,standalone:!0}),n})();function Qd(n,e){const t=n.key,r=e.key;if(t===r)return 0;if(void 0===t)return 1;if(void 0===r)return-1;if(null===t)return 1;if(null===r)return-1;if("string"==typeof t&&"string"==typeof r)return t<r?-1:1;if("number"==typeof t&&"number"==typeof r)return t-r;if("boolean"==typeof t&&"boolean"==typeof r)return t<r?-1:1;const i=String(t),u=String(r);return i==u?0:i<u?-1:1}let pl=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();const mu="browser";function Oa(n){return"server"===n}let gl=(()=>{class n{}return n.\u0275prov=(0,l.Yz7)({token:n,providedIn:"root",factory:()=>new _u((0,l.LFG)(Ee),window)}),n})();class _u{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function zs(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const u=i.shadowRoot;if(u){const d=u.getElementById(e)||u.querySelector(`[name="${e}"]`);if(d)return d}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,u=this.offset();this.window.scrollTo(r-u[0],i-u[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=yu(this.window.history)||yu(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function yu(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class Eu extends Ne{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class fr extends Eu{static makeCurrent(){!function xe(n){G||(G=n)}(new fr)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function bb(){return Iu=Iu||document.querySelector("base"),Iu?Iu.getAttribute("href"):null}();return null==t?null:function p_(n){Cu=Cu||document.createElement("a"),Cu.setAttribute("href",n);const e=Cu.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){Iu=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function Wi(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,u]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(u)}return null}(document.cookie,e)}}let Cu,Iu=null;const g_=new l.OlP("TRANSITION_ID"),th=[{provide:l.ip1,useFactory:function wb(n,e,t){return()=>{t.get(l.CZH).donePromise.then(()=>{const r=he(),i=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let u=0;u<i.length;u++)r.remove(i[u])})}},deps:[g_,Ee,l.zs3],multi:!0}];let Dc=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const Sc=new l.OlP("EventManagerPlugins");let Tu=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>i.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}addGlobalEventListener(t,r,i){return this._findPluginFor(r).addGlobalEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const i=this._plugins;for(let u=0;u<i.length;u++){const d=i[u];if(d.supports(t))return this._eventNameToPlugin.set(t,d),d}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Sc),l.LFG(l.R0b))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class m_{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const i=he().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,r)}}let Au=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),Ms=(()=>{class n extends Au{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,i){t.forEach(u=>{const d=this._doc.createElement("style");d.textContent=u,i.push(r.appendChild(d))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(__),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(t,i,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(__))}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Ee))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();function __(n){he().remove(n)}const Jr={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},xc=/%COMP%/g;function Nc(n,e,t){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?Nc(n,i,t):(i=i.replace(xc,n),t.push(i))}return t}function bl(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let Fa=(()=>{class n{constructor(t,r,i){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new Du(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case l.ifc.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new kc(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(t),i}case 1:case l.ifc.ShadowDom:return new sh(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const i=Nc(r.id,r.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Tu),l.LFG(Ms),l.LFG(l.AFp))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class Du{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(Jr[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){(wl(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(wl(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const u=Jr[i];u?e.setAttributeNS(u,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=Jr[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(l.JOm.DashCase|l.JOm.Important)?e.style.setProperty(t,r,i&l.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&l.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,bl(r)):this.eventManager.addEventListener(e,t,bl(r))}}function wl(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class kc extends Du{constructor(e,t,r,i){super(e),this.component=r;const u=Nc(i+"-"+r.id,r.styles,[]);t.addStyles(u),this.contentAttr=function oA(n){return"_ngcontent-%COMP%".replace(xc,n)}(i+"-"+r.id),this.hostAttr=function nh(n){return"_nghost-%COMP%".replace(xc,n)}(i+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class sh extends Du{constructor(e,t,r,i){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const u=Nc(i.id,i.styles,[]);for(let d=0;d<u.length;d++){const p=document.createElement("style");p.textContent=u[d],this.shadowRoot.appendChild(p)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let v_=(()=>{class n extends m_{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Ee))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const oh=["alt","control","meta","shift"],b_={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Eb={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let ia=(()=>{class n extends m_{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const u=n.parseEventName(r),d=n.eventCallback(u.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>he().onAndCancel(t,u.domEventName,d))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const u=n._normalizeKey(r.pop());let d="",p=r.indexOf("code");if(p>-1&&(r.splice(p,1),d="code."),oh.forEach(I=>{const S=r.indexOf(I);S>-1&&(r.splice(S,1),d+=I+".")}),d+=u,0!=r.length||0===u.length)return null;const v={};return v.domEventName=i,v.fullKey=d,v}static matchEventFullKeyCode(t,r){let i=b_[t.key]||t.key,u="";return r.indexOf("code.")>-1&&(i=t.code,u="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),oh.forEach(d=>{d!==i&&(0,Eb[d])(t)&&(u+=d+".")}),u+=i,u===r)}static eventCallback(t,r,i){return u=>{n.matchEventFullKeyCode(u,t)&&i.runGuarded(()=>r(u))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Ee))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const I_=(0,l.eFA)(l._c5,"browser",[{provide:l.Lbi,useValue:mu},{provide:l.g9A,useValue:function Rp(){fr.makeCurrent()},multi:!0},{provide:Ee,useFactory:function Op(){return(0,l.RDi)(document),document},deps:[]}]),El=new l.OlP(""),C_=[{provide:l.rWj,useClass:class xp{addToWindow(e){l.dqk.getAngularTestability=(r,i=!0)=>{const u=e.findTestabilityInTree(r,i);if(null==u)throw new Error("Could not find testability for element.");return u},l.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),l.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),l.dqk.frameworkStabilizers||(l.dqk.frameworkStabilizers=[]),l.dqk.frameworkStabilizers.push(r=>{const i=l.dqk.getAllAngularTestabilities();let u=i.length,d=!1;const p=function(v){d=d||v,u--,0==u&&r(d)};i.forEach(function(v){v.whenStable(p)})})}findTestabilityInTree(e,t,r){return null==t?null:e.getTestability(t)??(r?he().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:l.lri,useClass:l.dDg,deps:[l.R0b,l.eoX,l.rWj]},{provide:l.dDg,useClass:l.dDg,deps:[l.R0b,l.eoX,l.rWj]}],Rc=[{provide:l.zSh,useValue:"root"},{provide:l.qLn,useFactory:function E_(){return new l.qLn},deps:[]},{provide:Sc,useClass:v_,multi:!0,deps:[Ee,l.R0b,l.Lbi]},{provide:Sc,useClass:ia,multi:!0,deps:[Ee]},{provide:Fa,useClass:Fa,deps:[Tu,Ms,l.AFp]},{provide:l.FYo,useExisting:Fa},{provide:Au,useExisting:Ms},{provide:Ms,useClass:Ms,deps:[Ee]},{provide:Tu,useClass:Tu,deps:[Sc,l.R0b]},{provide:class lo{},useClass:Dc,deps:[]},[]];let Il=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:l.AFp,useValue:t.appId},{provide:g_,useExisting:l.AFp},th]}}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(El,12))},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[...Rc,...C_],imports:[pl,l.hGG]}),n})(),Lp=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Ee))},n.\u0275prov=l.Yz7({token:n,factory:function(t){let r=null;return r=t?new t:function Cl(){return new Lp((0,l.LFG)(Ee))}(),r},providedIn:"root"}),n})();typeof window<"u"&&window;var Hn=V(8996),Oo=V(7669);function Tt(...n){const e=(0,Oo.yG)(n);return(0,Hn.D)(n,e)}var Fi=V(7579);class Js extends Fi.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}const Su=(0,V(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var Xs=V(9751);const{isArray:x_}=Array,{getPrototypeOf:N_,prototype:_s,keys:fh}=Object;function Va(n){if(1===n.length){const e=n[0];if(x_(e))return{args:e,keys:null};if(function cA(n){return n&&"object"==typeof n&&N_(n)===_s}(e)){const t=fh(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}var xu=V(4671),St=V(4004);const{isArray:Nb}=Array;function ph(n){return(0,St.U)(e=>function Mb(n,e){return Nb(e)?n(...e):n(e)}(n,e))}function M_(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}var Xr=V(5403),Lc=V(9672);function Fc(...n){const e=(0,Oo.yG)(n),t=(0,Oo.jO)(n),{args:r,keys:i}=Va(n);if(0===r.length)return(0,Hn.D)([],e);const u=new Xs.y(function Uc(n,e,t=xu.y){return r=>{Ba(e,()=>{const{length:i}=n,u=new Array(i);let d=i,p=i;for(let v=0;v<i;v++)Ba(e,()=>{const I=(0,Hn.D)(n[v],e);let S=!1;I.subscribe((0,Xr.x)(r,M=>{u[v]=M,S||(S=!0,p--),p||r.next(t(u.slice()))},()=>{--d||r.complete()}))},r)},r)}}(r,e,i?d=>M_(i,d):xu.y));return t?u.pipe(ph(t)):u}function Ba(n,e,t){n?(0,Lc.f)(t,n,e):e()}var ja=V(8189);function Vc(...n){return function Sl(){return(0,ja.J)(1)}()((0,Hn.D)(n,(0,Oo.yG)(n)))}var Nu=V(8421);function Mu(n){return new Xs.y(e=>{(0,Nu.Xf)(n()).subscribe(e)})}var Po=V(9635),Bc=V(576);function jc(n,e){const t=(0,Bc.m)(n)?n:()=>n,r=i=>i.error(t());return new Xs.y(e?i=>e.schedule(r,0,i):r)}var sa=V(515),oa=V(727),qr=V(4482);function Vp(){return(0,qr.e)((n,e)=>{let t=null;n._refCount++;const r=(0,Xr.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,u=t;t=null,i&&(!u||i===u)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class kb extends Xs.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,qr.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new oa.w0;const t=this.getSubject();e.add(this.source.subscribe((0,Xr.x)(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=oa.w0.EMPTY)}return e}refCount(){return Vp()(this)}}function ir(n,e){return(0,qr.e)((t,r)=>{let i=null,u=0,d=!1;const p=()=>d&&!i&&r.complete();t.subscribe((0,Xr.x)(r,v=>{i?.unsubscribe();let I=0;const S=u++;(0,Nu.Xf)(n(v,S)).subscribe(i=(0,Xr.x)(r,M=>r.next(e?e(v,M,S,I++):M),()=>{i=null,p()}))},()=>{d=!0,p()}))})}function xl(n){return n<=0?()=>sa.E:(0,qr.e)((e,t)=>{let r=0;e.subscribe((0,Xr.x)(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function gh(...n){const e=(0,Oo.yG)(n);return(0,qr.e)((t,r)=>{(e?Vc(n,t,e):Vc(n,t)).subscribe(r)})}function ys(n,e){return(0,qr.e)((t,r)=>{let i=0;t.subscribe((0,Xr.x)(r,u=>n.call(e,u,i++)&&r.next(u)))})}var Ji=V(5577);function ku(n){return(0,qr.e)((e,t)=>{let r=!1;e.subscribe((0,Xr.x)(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function $c(n=k_){return(0,qr.e)((e,t)=>{let r=!1;e.subscribe((0,Xr.x)(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function k_(){return new Su}function aa(n,e){const t=arguments.length>=2;return r=>r.pipe(n?ys((i,u)=>n(i,u,r)):xu.y,xl(1),t?ku(e):$c(()=>new Su))}function $a(n,e){return(0,Bc.m)(e)?(0,Ji.z)(n,e,1):(0,Ji.z)(n,1)}var us=V(8505);function ua(n){return(0,qr.e)((e,t)=>{let u,r=null,i=!1;r=e.subscribe((0,Xr.x)(t,void 0,void 0,d=>{u=(0,Nu.Xf)(n(d,ua(n)(e))),r?(r.unsubscribe(),r=null,u.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,u.subscribe(t))})}function dA(n,e,t,r,i){return(u,d)=>{let p=t,v=e,I=0;u.subscribe((0,Xr.x)(d,S=>{const M=I++;v=p?n(v,S,M):(p=!0,S),r&&d.next(v)},i&&(()=>{p&&d.next(v),d.complete()})))}}function Ru(n,e){return(0,qr.e)(dA(n,e,arguments.length>=2,!0))}function Hc(n){return n<=0?()=>sa.E:(0,qr.e)((e,t)=>{let r=[];e.subscribe((0,Xr.x)(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function mh(n,e){const t=arguments.length>=2;return r=>r.pipe(n?ys((i,u)=>n(i,u,r)):xu.y,Hc(1),t?ku(e):$c(()=>new Su))}function Gc(n){return(0,qr.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const Dn="primary",Zc=Symbol("RouteTitle");class pA{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Wc(n){return new pA(n)}function gA(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let u=0;u<r.length;u++){const d=r[u],p=n[u];if(d.startsWith(":"))i[d.substring(1)]=p;else if(d!==p.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function ks(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let u=0;u<t.length;u++)if(i=t[u],!_h(n[i],e[i]))return!1;return!0}function _h(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,u)=>r[u]===i)}return n===e}function qc(n){return Array.prototype.concat.apply([],n)}function Bp(n){return n.length>0?n[n.length-1]:null}function mr(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function Lo(n){return(0,l.CqO)(n)?n:(0,l.QGY)(n)?(0,Hn.D)(Promise.resolve(n)):Tt(n)}const yh=!1,O_={exact:function P_(n,e,t){if(!D(n.segments,e.segments)||!wh(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!P_(n.children[r],e.children[r],t))return!1;return!0},subset:jp},vh={exact:function Ob(n,e){return ks(n,e)},subset:function Pb(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>_h(n[t],e[t]))},ignored:()=>!0};function bh(n,e,t){return O_[t.paths](n.root,e.root,t.matrixParams)&&vh[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function jp(n,e,t){return $p(n,e,e.segments,t)}function $p(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!D(i,t)||e.hasChildren()||!wh(i,t,r))}if(n.segments.length===t.length){if(!D(n.segments,t)||!wh(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!jp(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),u=t.slice(n.segments.length);return!!(D(n.segments,i)&&wh(n.segments,i,r)&&n.children[Dn])&&$p(n.children[Dn],e,u,r)}}function wh(n,e,t){return e.every((r,i)=>vh[t](n[i].parameters,r.parameters))}class fi{constructor(e=new C([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Wc(this.queryParams)),this._queryParamMap}toString(){return Ke.serialize(this)}}class C{constructor(e,t){this.segments=e,this.children=t,this.parent=null,mr(t,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return wt(this)}}class y{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Wc(this.parameters)),this._parameterMap}toString(){return Nl(this)}}function D(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}let Z=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return new ve},providedIn:"root"}),n})();class ve{parse(e){const t=new Ih(e);return new fi(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${Ut(e.root,!0)}`,r=function Hp(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${pr(t)}=${pr(i)}`).join("&"):`${pr(t)}=${pr(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function co(n){return encodeURI(n)}(e.fragment)}`:""}`}}const Ke=new ve;function wt(n){return n.segments.map(e=>Nl(e)).join("/")}function Ut(n,e){if(!n.hasChildren())return wt(n);if(e){const t=n.children[Dn]?Ut(n.children[Dn],!1):"",r=[];return mr(n.children,(i,u)=>{u!==Dn&&r.push(`${u}:${Ut(i,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function L(n,e){let t=[];return mr(n.children,(r,i)=>{i===Dn&&(t=t.concat(e(r,i)))}),mr(n.children,(r,i)=>{i!==Dn&&(t=t.concat(e(r,i)))}),t}(n,(r,i)=>i===Dn?[Ut(n.children[Dn],!1)]:[`${i}:${Ut(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Dn]?`${wt(n)}/${t[0]}`:`${wt(n)}/(${t.join("//")})`}}function mn(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function pr(n){return mn(n).replace(/%3B/gi,";")}function Fo(n){return mn(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Ou(n){return decodeURIComponent(n)}function zc(n){return Ou(n.replace(/\+/g,"%20"))}function Nl(n){return`${Fo(n.path)}${function L_(n){return Object.keys(n).map(e=>`;${Fo(e)}=${Fo(n[e])}`).join("")}(n.parameters)}`}const Gp=/^[^\/()?;=#]+/;function la(n){const e=n.match(Gp);return e?e[0]:""}const F_=/^[^=?&#]+/,Eh=/^[^&#]+/;class Ih{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new C([],{}):new C([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[Dn]=new C(e,t)),r}parseSegment(){const e=la(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new l.vHH(4009,yh);return this.capture(e),new y(Ou(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=la(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=la(this.remaining);i&&(r=i,this.capture(r))}e[Ou(t)]=Ou(r)}parseQueryParam(e){const t=function Zp(n){const e=n.match(F_);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const d=function Wp(n){const e=n.match(Eh);return e?e[0]:""}(this.remaining);d&&(r=d,this.capture(r))}const i=zc(t),u=zc(r);if(e.hasOwnProperty(i)){let d=e[i];Array.isArray(d)||(d=[d],e[i]=d),d.push(u)}else e[i]=u}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=la(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new l.vHH(4010,yh);let u;r.indexOf(":")>-1?(u=r.slice(0,r.indexOf(":")),this.capture(u),this.capture(":")):e&&(u=Dn);const d=this.parseChildren();t[u]=1===Object.keys(d).length?d[Dn]:new C([],d),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new l.vHH(4011,yh)}}function U_(n){return n.segments.length>0?new C([],{[Dn]:n}):n}function Pu(n){const e={};for(const r of Object.keys(n.children)){const u=Pu(n.children[r]);(u.segments.length>0||u.hasChildren())&&(e[r]=u)}return function Lb(n){if(1===n.numberOfChildren&&n.children[Dn]){const e=n.children[Dn];return new C(n.segments.concat(e.segments),e.children)}return n}(new C(n.segments,e))}function Ml(n){return n instanceof fi}function Tk(n,e,t,r,i){if(0===t.length)return Ch(e.root,e.root,e.root,r,i);const u=function Vb(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new V_(!0,0,n);let e=0,t=!1;const r=n.reduce((i,u,d)=>{if("object"==typeof u&&null!=u){if(u.outlets){const p={};return mr(u.outlets,(v,I)=>{p[I]="string"==typeof v?v.split("/"):v}),[...i,{outlets:p}]}if(u.segmentPath)return[...i,u.segmentPath]}return"string"!=typeof u?[...i,u]:0===d?(u.split("/").forEach((p,v)=>{0==v&&"."===p||(0==v&&""===p?t=!0:".."===p?e++:""!=p&&i.push(p))}),i):[...i,u]},[]);return new V_(t,e,r)}(t);return u.toRoot()?Ch(e.root,e.root,new C([],{}),r,i):function d(v){const I=function Dk(n,e,t,r){if(n.isAbsolute)return new kl(e.root,!0,0);if(-1===r)return new kl(t,t===e.root,0);return function Bb(n,e,t){let r=n,i=e,u=t;for(;u>i;){if(u-=i,r=r.parent,!r)throw new l.vHH(4005,!1);i=r.segments.length}return new kl(r,!1,i-u)}(t,r+(qp(n.commands[0])?0:1),n.numberOfDoubleDots)}(u,e,n.snapshot?._urlSegment,v),S=I.processChildren?Th(I.segmentGroup,I.index,u.commands):Lu(I.segmentGroup,I.index,u.commands);return Ch(e.root,I.segmentGroup,S,r,i)}(n.snapshot?._lastPathIndex)}function qp(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function zp(n){return"object"==typeof n&&null!=n&&n.outlets}function Ch(n,e,t,r,i){let d,u={};r&&mr(r,(v,I)=>{u[I]=Array.isArray(v)?v.map(S=>`${S}`):`${v}`}),d=n===e?t:Ub(n,e,t);const p=U_(Pu(d));return new fi(p,u,i)}function Ub(n,e,t){const r={};return mr(n.children,(i,u)=>{r[u]=i===e?t:Ub(i,e,t)}),new C(n.segments,r)}class V_{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&qp(r[0]))throw new l.vHH(4003,!1);const i=r.find(zp);if(i&&i!==Bp(r))throw new l.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class kl{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function Lu(n,e,t){if(n||(n=new C([],{})),0===n.segments.length&&n.hasChildren())return Th(n,e,t);const r=function yA(n,e,t){let r=0,i=e;const u={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return u;const d=n.segments[i],p=t[r];if(zp(p))break;const v=`${p}`,I=r<t.length-1?t[r+1]:null;if(i>0&&void 0===v)break;if(v&&I&&"object"==typeof I&&void 0===I.outlets){if(!vA(v,I,d))return u;r+=2}else{if(!vA(v,{},d))return u;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const u=new C(n.segments.slice(0,r.pathIndex),{});return u.children[Dn]=new C(n.segments.slice(r.pathIndex),n.children),Th(u,0,i)}return r.match&&0===i.length?new C(n.segments,{}):r.match&&!n.hasChildren()?jb(n,e,t):r.match?Th(n,0,i):jb(n,e,t)}function Th(n,e,t){if(0===t.length)return new C(n.segments,{});{const r=function _A(n){return zp(n[0])?n[0].outlets:{[Dn]:n}}(t),i={};return mr(r,(u,d)=>{"string"==typeof u&&(u=[u]),null!==u&&(i[d]=Lu(n.children[d],e,u))}),mr(n.children,(u,d)=>{void 0===r[d]&&(i[d]=u)}),new C(n.segments,i)}}function jb(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const u=t[i];if(zp(u)){const v=S3(u.outlets);return new C(r,v)}if(0===i&&qp(t[0])){r.push(new y(n.segments[e].path,Kp(t[0]))),i++;continue}const d=zp(u)?u.outlets[Dn]:`${u}`,p=i<t.length-1?t[i+1]:null;d&&p&&qp(p)?(r.push(new y(d,Kp(p))),i+=2):(r.push(new y(d,{})),i++)}return new C(r,{})}function S3(n){const e={};return mr(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=jb(new C([],{}),0,t))}),e}function Kp(n){const e={};return mr(n,(t,r)=>e[r]=`${t}`),e}function vA(n,e,t){return n==t.path&&ks(e,t.parameters)}class Ha{constructor(e,t){this.id=e,this.url=t}}class B_ extends Ha{constructor(e,t,r="imperative",i=null){super(e,t),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Rl extends Ha{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Ah extends Ha{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class $b extends Ha{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class j_ extends Ha{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class $_ extends Ha{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class bA extends Ha{constructor(e,t,r,i,u){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=u,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Hb extends Ha{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Gb extends Ha{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Zb{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Yp{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Sk{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class wA{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class xk{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class EA{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class IA{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Wb{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=Dh(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=Dh(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=Qp(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Qp(e,this._root).map(t=>t.value)}}function Dh(n,e){if(n===e.value)return e;for(const t of e.children){const r=Dh(n,t);if(r)return r}return null}function Qp(n,e){if(n===e.value)return[e];for(const t of e.children){const r=Qp(n,t);if(r.length)return r.unshift(e),r}return[]}class Rs{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Sh(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class TA extends Wb{constructor(e,t){super(e),this.snapshot=t,G_(this,e)}toString(){return this.snapshot.toString()}}function Nk(n,e){const t=function Mk(n,e){const d=new Kc([],{},{},"",{},Dn,e,null,n.root,-1,{});return new H_("",new Rs(d,[]))}(n,e),r=new Js([new y("",{})]),i=new Js({}),u=new Js({}),d=new Js({}),p=new Js(""),v=new Ga(r,i,d,p,u,Dn,e,t.root);return v.snapshot=t.root,new TA(new Rs(v,[]),t)}class Ga{constructor(e,t,r,i,u,d,p,v){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=u,this.outlet=d,this.component=p,this.title=this.data?.pipe((0,St.U)(I=>I[Zc]))??Tt(void 0),this._futureSnapshot=v}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,St.U)(e=>Wc(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,St.U)(e=>Wc(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function AA(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],u=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(u.component)break;r--}}return function DA(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class Kc{constructor(e,t,r,i,u,d,p,v,I,S,M){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=u,this.outlet=d,this.component=p,this.routeConfig=v,this._urlSegment=I,this._lastPathIndex=S,this._resolve=M}get title(){return this.data?.[Zc]}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Wc(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Wc(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class H_ extends Wb{constructor(e,t){super(t),this.url=e,G_(this,t)}toString(){return qb(this._root)}}function G_(n,e){e.value._routerState=n,e.children.forEach(t=>G_(n,t))}function qb(n){const e=n.children.length>0?` { ${n.children.map(qb).join(", ")} } `:"";return`${n.value}${e}`}function Z_(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,ks(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),ks(e.params,t.params)||n.params.next(t.params),function Rb(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!ks(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),ks(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function W_(n,e){const t=ks(n.params,e.params)&&function w(n,e){return D(n,e)&&n.every((t,r)=>ks(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||W_(n.parent,e.parent))}function Jp(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function Rk(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Jp(n,r,i);return Jp(n,r)})}(n,e,t);return new Rs(r,i)}{if(n.shouldAttach(e.value)){const u=n.retrieve(e.value);if(null!==u){const d=u.route;return d.value._futureSnapshot=e.value,d.children=e.children.map(p=>Jp(n,p)),d}}const r=function Ok(n){return new Ga(new Js(n.url),new Js(n.params),new Js(n.queryParams),new Js(n.fragment),new Js(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(u=>Jp(n,u));return new Rs(r,i)}}const zb="ngNavigationCancelingError";function Fu(n,e){const{redirectTo:t,navigationBehaviorOptions:r}=Ml(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=xh(!1,0,e);return i.url=t,i.navigationBehaviorOptions=r,i}function xh(n,e,t){const r=new Error("NavigationCancelingError: "+(n||""));return r[zb]=!0,r.cancellationCode=e,t&&(r.url=t),r}function SA(n){return Pk(n)&&Ml(n.url)}function Pk(n){return n&&n[zb]}class x3{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Xp,this.attachRef=null}}let Xp=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new x3,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Kb=!1;let xA=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=Dn,this.activateEvents=new l.vpe,this.deactivateEvents=new l.vpe,this.attachEvents=new l.vpe,this.detachEvents=new l.vpe,this.parentContexts=(0,l.f3M)(Xp),this.location=(0,l.f3M)(l.s_b),this.changeDetector=(0,l.f3M)(l.sBO),this.environmentInjector=(0,l.f3M)(l.lqb)}ngOnChanges(t){if(t.name){const{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new l.vHH(4012,Kb);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new l.vHH(4012,Kb);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new l.vHH(4012,Kb);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new l.vHH(4013,Kb);this._activatedRoute=t;const i=this.location,d=t.snapshot.component,p=this.parentContexts.getOrCreateContext(this.name).children,v=new NA(t,p,i.injector);if(r&&function Lk(n){return!!n.resolveComponentFactory}(r)){const I=r.resolveComponentFactory(d);this.activated=i.createComponent(I,i.length,v)}else this.activated=i.createComponent(d,{index:i.length,injector:v,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[l.TTD]}),n})();class NA{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===Ga?this.route:e===Xp?this.childContexts:this.parent.get(e,t)}}let q_=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[l.jDz],decls:1,vars:0,template:function(t,r){1&t&&l._UZ(0,"router-outlet")},dependencies:[xA],encapsulation:2}),n})();function MA(n,e){return n.providers&&!n._injector&&(n._injector=(0,l.MMx)(n.providers,e,`Route: ${n.path}`)),n._injector??e}function PA(n){const e=n.children&&n.children.map(PA),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Dn&&(t.component=q_),t}function ca(n){return n.outlet||Dn}function Y_(n,e){const t=n.filter(r=>ca(r)===e);return t.push(...n.filter(r=>ca(r)!==e)),t}function Yc(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class R3{constructor(e,t,r,i){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),Z_(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=Sh(t);e.children.forEach(u=>{const d=u.value.outlet;this.deactivateRoutes(u,i[d],r),delete i[d]}),mr(i,(u,d)=>{this.deactivateRouteAndItsChildren(u,r)})}deactivateRoutes(e,t,r){const i=e.value,u=t?t.value:null;if(i===u)if(i.component){const d=r.getContext(i.outlet);d&&this.deactivateChildRoutes(e,t,d.children)}else this.deactivateChildRoutes(e,t,r);else u&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,u=Sh(e);for(const d of Object.keys(u))this.deactivateRouteAndItsChildren(u[d],i);if(r&&r.outlet){const d=r.outlet.detach(),p=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:d,route:e,contexts:p})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,u=Sh(e);for(const d of Object.keys(u))this.deactivateRouteAndItsChildren(u[d],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const i=Sh(t);e.children.forEach(u=>{this.activateRoutes(u,i[u.value.outlet],r),this.forwardEvent(new EA(u.value.snapshot))}),e.children.length&&this.forwardEvent(new wA(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,u=t?t.value:null;if(Z_(i),i===u)if(i.component){const d=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,d.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const d=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const p=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),d.children.onOutletReAttached(p.contexts),d.attachRef=p.componentRef,d.route=p.route.value,d.outlet&&d.outlet.attach(p.componentRef,p.route.value),Z_(p.route.value),this.activateChildRoutes(e,null,d.children)}else{const p=Yc(i.snapshot),v=p?.get(l._Vd)??null;d.attachRef=null,d.route=i,d.resolver=v,d.injector=p,d.outlet&&d.outlet.activateWith(i,d.injector),this.activateChildRoutes(e,null,d.children)}}else this.activateChildRoutes(e,null,r)}}class Yb{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Q_{constructor(e,t){this.component=e,this.route=t}}function Fk(n,e,t){const r=n._root;return Mh(r,e?e._root:null,t,[r.value])}function Nh(n,e){const t=Symbol(),r=e.get(n,t);return r===t?"function"!=typeof n||(0,l.Z0I)(n)?e.get(n):n:r}function Mh(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const u=Sh(e);return n.children.forEach(d=>{(function J_(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const u=n.value,d=e?e.value:null,p=t?t.getContext(n.value.outlet):null;if(d&&u.routeConfig===d.routeConfig){const v=function Vk(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!D(n.url,e.url);case"pathParamsOrQueryParamsChange":return!D(n.url,e.url)||!ks(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!W_(n,e)||!ks(n.queryParams,e.queryParams);default:return!W_(n,e)}}(d,u,u.routeConfig.runGuardsAndResolvers);v?i.canActivateChecks.push(new Yb(r)):(u.data=d.data,u._resolvedData=d._resolvedData),Mh(n,e,u.component?p?p.children:null:t,r,i),v&&p&&p.outlet&&p.outlet.isActivated&&i.canDeactivateChecks.push(new Q_(p.outlet.component,d))}else d&&Qc(e,p,i),i.canActivateChecks.push(new Yb(r)),Mh(n,null,u.component?p?p.children:null:t,r,i)})(d,u[d.value.outlet],t,r.concat([d.value]),i),delete u[d.value.outlet]}),mr(u,(d,p)=>Qc(d,t.getContext(p),i)),i}function Qc(n,e,t){const r=Sh(n),i=n.value;mr(r,(u,d)=>{Qc(u,i.component?e?e.children.getContext(d):null:e,t)}),t.canDeactivateChecks.push(new Q_(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function eg(n){return"function"==typeof n}function Qb(n){return n instanceof Su||"EmptyError"===n?.name}const tg=Symbol("INITIAL_VALUE");function ng(){return ir(n=>Fc(n.map(e=>e.pipe(xl(1),gh(tg)))).pipe((0,St.U)(e=>{for(const t of e)if(!0!==t){if(t===tg)return tg;if(!1===t||t instanceof fi)return t}return!0}),ys(e=>e!==tg),xl(1)))}function Xb(n){return(0,Po.z)((0,us.b)(e=>{if(Ml(e))throw Fu(0,e)}),(0,St.U)(e=>!0===e))}const $A={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function X_(n,e,t,r,i){const u=tw(n,e,t);return u.matched?function ew(n,e,t,r){const i=e.canMatch;return i&&0!==i.length?Tt(i.map(d=>{const p=Nh(d,n);return Lo(function $k(n){return n&&eg(n.canMatch)}(p)?p.canMatch(e,t):n.runInContext(()=>p(e,t)))})).pipe(ng(),Xb()):Tt(!0)}(r=MA(e,r),e,t).pipe((0,St.U)(d=>!0===d?u:{...$A})):Tt(u)}function tw(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...$A}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const i=(e.matcher||gA)(t,n,e);if(!i)return{...$A};const u={};mr(i.posParams,(p,v)=>{u[v]=p.path});const d=i.consumed.length>0?{...u,...i.consumed[i.consumed.length-1].parameters}:u;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:d,positionalParamSegments:i.posParams??{}}}function kh(n,e,t,r){if(t.length>0&&function Jc(n,e,t){return t.some(r=>Rh(n,e,r)&&ca(r)!==Dn)}(n,t,r)){const u=new C(e,function GA(n,e,t,r){const i={};i[Dn]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const u of t)if(""===u.path&&ca(u)!==Dn){const d=new C([],{});d._sourceSegment=n,d._segmentIndexShift=e.length,i[ca(u)]=d}return i}(n,e,r,new C(t,n.children)));return u._sourceSegment=n,u._segmentIndexShift=e.length,{segmentGroup:u,slicedSegments:[]}}if(0===t.length&&function Zk(n,e,t){return t.some(r=>Rh(n,e,r))}(n,t,r)){const u=new C(n.segments,function HA(n,e,t,r,i){const u={};for(const d of r)if(Rh(n,t,d)&&!i[ca(d)]){const p=new C([],{});p._sourceSegment=n,p._segmentIndexShift=e.length,u[ca(d)]=p}return{...i,...u}}(n,e,t,r,n.children));return u._sourceSegment=n,u._segmentIndexShift=e.length,{segmentGroup:u,slicedSegments:t}}const i=new C(n.segments,n.children);return i._sourceSegment=n,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:t}}function Rh(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function ig(n,e,t,r){return!!(ca(n)===r||r!==Dn&&Rh(e,t,n))&&("**"===n.path||tw(e,n,t).matched)}function ZA(n,e,t){return 0===e.length&&!n.children[t]}const Oh=!1;class Xc{constructor(e){this.segmentGroup=e||null}}class Pl{constructor(e){this.urlTree=e}}function Ph(n){return jc(new Xc(n))}function ey(n){return jc(new Pl(n))}class Lh{constructor(e,t,r,i,u){this.injector=e,this.configLoader=t,this.urlSerializer=r,this.urlTree=i,this.config=u,this.allowRedirects=!0}apply(){const e=kh(this.urlTree.root,[],[],this.config).segmentGroup,t=new C(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,t,Dn).pipe((0,St.U)(u=>this.createUrlTree(Pu(u),this.urlTree.queryParams,this.urlTree.fragment))).pipe(ua(u=>{if(u instanceof Pl)return this.allowRedirects=!1,this.match(u.urlTree);throw u instanceof Xc?this.noMatchError(u):u}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,Dn).pipe((0,St.U)(i=>this.createUrlTree(Pu(i),e.queryParams,e.fragment))).pipe(ua(i=>{throw i instanceof Xc?this.noMatchError(i):i}))}noMatchError(e){return new l.vHH(4002,Oh)}createUrlTree(e,t,r){const i=U_(e);return new fi(i,t,r)}expandSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe((0,St.U)(u=>new C([],u))):this.expandSegment(e,r,t,r.segments,i,!0)}expandChildren(e,t,r){const i=[];for(const u of Object.keys(r.children))"primary"===u?i.unshift(u):i.push(u);return(0,Hn.D)(i).pipe($a(u=>{const d=r.children[u],p=Y_(t,u);return this.expandSegmentGroup(e,p,d,u).pipe((0,St.U)(v=>({segment:v,outlet:u})))}),Ru((u,d)=>(u[d.outlet]=d.segment,u),{}),mh())}expandSegment(e,t,r,i,u,d){return(0,Hn.D)(r).pipe($a(p=>this.expandSegmentAgainstRoute(e,t,r,p,i,u,d).pipe(ua(I=>{if(I instanceof Xc)return Tt(null);throw I}))),aa(p=>!!p),ua((p,v)=>{if(Qb(p))return ZA(t,i,u)?Tt(new C([],{})):Ph(t);throw p}))}expandSegmentAgainstRoute(e,t,r,i,u,d,p){return ig(i,t,u,d)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,t,i,u,d):p&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,i,u,d):Ph(t):Ph(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,u,d){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,d):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,u,d)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const u=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?ey(u):this.lineralizeSegments(r,u).pipe((0,Ji.z)(d=>{const p=new C(d,{});return this.expandSegment(e,p,t,d,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,u,d){const{matched:p,consumedSegments:v,remainingSegments:I,positionalParamSegments:S}=tw(t,i,u);if(!p)return Ph(t);const M=this.applyRedirectCommands(v,i.redirectTo,S);return i.redirectTo.startsWith("/")?ey(M):this.lineralizeSegments(i,M).pipe((0,Ji.z)(P=>this.expandSegment(e,t,r,P.concat(I),d,!1)))}matchSegmentAgainstRoute(e,t,r,i,u){return"**"===r.path?(e=MA(r,e),r.loadChildren?(r._loadedRoutes?Tt({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(e,r)).pipe((0,St.U)(p=>(r._loadedRoutes=p.routes,r._loadedInjector=p.injector,new C(i,{})))):Tt(new C(i,{}))):X_(t,r,i,e).pipe(ir(({matched:d,consumedSegments:p,remainingSegments:v})=>d?this.getChildConfig(e=r._injector??e,r,i).pipe((0,Ji.z)(S=>{const M=S.injector??e,P=S.routes,{segmentGroup:$,slicedSegments:Q}=kh(t,p,v,P),le=new C($.segments,$.children);if(0===Q.length&&le.hasChildren())return this.expandChildren(M,P,le).pipe((0,St.U)(bt=>new C(p,bt)));if(0===P.length&&0===Q.length)return Tt(new C(p,{}));const ye=ca(r)===u;return this.expandSegment(M,le,P,Q,ye?Dn:u,!0).pipe((0,St.U)(dt=>new C(p.concat(dt.segments),dt.children)))})):Ph(t)))}getChildConfig(e,t,r){return t.children?Tt({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?Tt({routes:t._loadedRoutes,injector:t._loadedInjector}):function jA(n,e,t,r){const i=e.canLoad;return void 0===i||0===i.length?Tt(!0):Tt(i.map(d=>{const p=Nh(d,n);return Lo(function Bk(n){return n&&eg(n.canLoad)}(p)?p.canLoad(e,t):n.runInContext(()=>p(e,t)))})).pipe(ng(),Xb())}(e,t,r).pipe((0,Ji.z)(i=>i?this.configLoader.loadChildren(e,t).pipe((0,us.b)(u=>{t._loadedRoutes=u.routes,t._loadedInjector=u.injector})):function qk(n){return jc(xh(Oh,3))}())):Tt({routes:[],injector:e})}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return Tt(r);if(i.numberOfChildren>1||!i.children[Dn])return jc(new l.vHH(4e3,Oh));i=i.children[Dn]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreateUrlTree(e,t,r,i){const u=this.createSegmentGroup(e,t.root,r,i);return new fi(u,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return mr(e,(i,u)=>{if("string"==typeof i&&i.startsWith(":")){const p=i.substring(1);r[u]=t[p]}else r[u]=i}),r}createSegmentGroup(e,t,r,i){const u=this.createSegments(e,t.segments,r,i);let d={};return mr(t.children,(p,v)=>{d[v]=this.createSegmentGroup(e,p,r,i)}),new C(u,d)}createSegments(e,t,r,i){return t.map(u=>u.path.startsWith(":")?this.findPosParam(e,u,i):this.findOrReturn(u,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new l.vHH(4001,Oh);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}class Kk{}class zA{constructor(e,t,r,i,u,d,p){this.injector=e,this.rootComponentType=t,this.config=r,this.urlTree=i,this.url=u,this.paramsInheritanceStrategy=d,this.urlSerializer=p}recognize(){const e=kh(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,Dn).pipe((0,St.U)(t=>{if(null===t)return null;const r=new Kc([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Dn,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new Rs(r,t),u=new H_(this.url,i);return this.inheritParamsAndData(u._root),u}))}inheritParamsAndData(e){const t=e.value,r=AA(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,i)}processChildren(e,t,r){return(0,Hn.D)(Object.keys(r.children)).pipe($a(i=>{const u=r.children[i],d=Y_(t,i);return this.processSegmentGroup(e,d,u,i)}),Ru((i,u)=>i&&u?(i.push(...u),i):null),function hA(n,e=!1){return(0,qr.e)((t,r)=>{let i=0;t.subscribe((0,Xr.x)(r,u=>{const d=n(u,i++);(d||e)&&r.next(u),!d&&r.complete()}))})}(i=>null!==i),ku(null),mh(),(0,St.U)(i=>{if(null===i)return null;const u=YA(i);return function Qk(n){n.sort((e,t)=>e.value.outlet===Dn?-1:t.value.outlet===Dn?1:e.value.outlet.localeCompare(t.value.outlet))}(u),u}))}processSegment(e,t,r,i,u){return(0,Hn.D)(t).pipe($a(d=>this.processSegmentAgainstRoute(d._injector??e,d,r,i,u)),aa(d=>!!d),ua(d=>{if(Qb(d))return ZA(r,i,u)?Tt([]):Tt(null);throw d}))}processSegmentAgainstRoute(e,t,r,i,u){if(t.redirectTo||!ig(t,r,i,u))return Tt(null);let d;if("**"===t.path){const p=i.length>0?Bp(i).parameters:{},v=ed(r)+i.length;d=Tt({snapshot:new Kc(i,p,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,JA(t),ca(t),t.component??t._loadedComponent??null,t,QA(r),v,rw(t)),consumedSegments:[],remainingSegments:[]})}else d=X_(r,t,i,e).pipe((0,St.U)(({matched:p,consumedSegments:v,remainingSegments:I,parameters:S})=>{if(!p)return null;const M=ed(r)+v.length;return{snapshot:new Kc(v,S,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,JA(t),ca(t),t.component??t._loadedComponent??null,t,QA(r),M,rw(t)),consumedSegments:v,remainingSegments:I}}));return d.pipe(ir(p=>{if(null===p)return Tt(null);const{snapshot:v,consumedSegments:I,remainingSegments:S}=p;e=t._injector??e;const M=t._loadedInjector??e,P=function KA(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(t),{segmentGroup:$,slicedSegments:Q}=kh(r,I,S,P.filter(ye=>void 0===ye.redirectTo));if(0===Q.length&&$.hasChildren())return this.processChildren(M,P,$).pipe((0,St.U)(ye=>null===ye?null:[new Rs(v,ye)]));if(0===P.length&&0===Q.length)return Tt([new Rs(v,[])]);const le=ca(t)===u;return this.processSegment(M,P,$,Q,le?Dn:u).pipe((0,St.U)(ye=>null===ye?null:[new Rs(v,ye)]))}))}}function F3(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function YA(n){const e=[],t=new Set;for(const r of n){if(!F3(r)){e.push(r);continue}const i=e.find(u=>r.value.routeConfig===u.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=YA(r.children);e.push(new Rs(r.value,i))}return e.filter(r=>!t.has(r))}function QA(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function ed(n){let e=n,t=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift??0;return t-1}function JA(n){return n.data||{}}function rw(n){return n.resolve||{}}function ny(n){return"string"==typeof n.title||null===n.title}function sw(n){return ir(e=>{const t=n(e);return t?(0,Hn.D)(t).pipe((0,St.U)(()=>e)):Tt(e)})}const Uh=new l.OlP("ROUTES");let aw=(()=>{class n{constructor(t,r){this.injector=t,this.compiler=r,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return Tt(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=Lo(t.loadComponent()).pipe((0,St.U)(tD),(0,us.b)(u=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=u}),Gc(()=>{this.componentLoaders.delete(t)})),i=new kb(r,()=>new Fi.x).pipe(Vp());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return Tt({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const u=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe((0,St.U)(p=>{this.onLoadEndListener&&this.onLoadEndListener(r);let v,I,S=!1;Array.isArray(p)?I=p:(v=p.create(t).injector,I=qc(v.get(Uh,[],l.XFs.Self|l.XFs.Optional)));return{routes:I.map(PA),injector:v}}),Gc(()=>{this.childrenLoaders.delete(r)})),d=new kb(u,()=>new Fi.x).pipe(Vp());return this.childrenLoaders.set(r,d),d}loadModuleFactoryOrRoutes(t){return Lo(t()).pipe((0,St.U)(tD),(0,Ji.z)(i=>i instanceof l.YKP||Array.isArray(i)?Tt(i):(0,Hn.D)(this.compiler.compileModuleAsync(i))))}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.zs3),l.LFG(l.Sil))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function tD(n){return function tR(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let lw=(()=>{class n{constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new Fi.x,this.configLoader=(0,l.f3M)(aw),this.environmentInjector=(0,l.f3M)(l.lqb),this.urlSerializer=(0,l.f3M)(Z),this.rootContexts=(0,l.f3M)(Xp),this.navigationId=0,this.configLoader.onLoadEndListener=i=>this.events.next(new Yp(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new Zb(i))}get hasRequestedNavigation(){return 0!==this.navigationId}complete(){this.transitions?.complete()}handleNavigationRequest(t){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:r})}setupNavigations(t){return this.transitions=new Js({id:0,targetPageId:0,currentUrlTree:t.currentUrlTree,currentRawUrl:t.currentUrlTree,extractedUrl:t.urlHandlingStrategy.extract(t.currentUrlTree),urlAfterRedirects:t.urlHandlingStrategy.extract(t.currentUrlTree),rawUrl:t.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:t.routerState.snapshot,targetSnapshot:null,currentRouterState:t.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(ys(r=>0!==r.id),(0,St.U)(r=>({...r,extractedUrl:t.urlHandlingStrategy.extract(r.rawUrl)})),ir(r=>{let i=!1,u=!1;return Tt(r).pipe((0,us.b)(d=>{this.currentNavigation={id:d.id,initialUrl:d.rawUrl,extractedUrl:d.extractedUrl,trigger:d.source,extras:d.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),ir(d=>{const p=t.browserUrlTree.toString(),v=!t.navigated||d.extractedUrl.toString()!==p||p!==t.currentUrlTree.toString();if(("reload"===t.onSameUrlNavigation||v)&&t.urlHandlingStrategy.shouldProcessUrl(d.rawUrl))return nD(d.source)&&(t.browserUrlTree=d.extractedUrl),Tt(d).pipe(ir(S=>{const M=this.transitions?.getValue();return this.events.next(new B_(S.id,this.urlSerializer.serialize(S.extractedUrl),S.source,S.restoredState)),M!==this.transitions?.getValue()?sa.E:Promise.resolve(S)}),function zk(n,e,t,r){return ir(i=>function WA(n,e,t,r,i){return new Lh(n,e,t,r,i).apply()}(n,e,t,i.extractedUrl,r).pipe((0,St.U)(u=>({...i,urlAfterRedirects:u}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,t.config),(0,us.b)(S=>{this.currentNavigation={...this.currentNavigation,finalUrl:S.urlAfterRedirects},r.urlAfterRedirects=S.urlAfterRedirects}),function Jk(n,e,t,r,i){return(0,Ji.z)(u=>function Yk(n,e,t,r,i,u,d="emptyOnly"){return new zA(n,e,t,r,i,d,u).recognize().pipe(ir(p=>null===p?function nw(n){return new Xs.y(e=>e.error(n))}(new Kk):Tt(p)))}(n,e,t,u.urlAfterRedirects,r.serialize(u.urlAfterRedirects),r,i).pipe((0,St.U)(d=>({...u,targetSnapshot:d}))))}(this.environmentInjector,t.rootComponentType,t.config,this.urlSerializer,t.paramsInheritanceStrategy),(0,us.b)(S=>{if(r.targetSnapshot=S.targetSnapshot,"eager"===t.urlUpdateStrategy){if(!S.extras.skipLocationChange){const P=t.urlHandlingStrategy.merge(S.urlAfterRedirects,S.rawUrl);t.setBrowserUrl(P,S)}t.browserUrlTree=S.urlAfterRedirects}const M=new j_(S.id,this.urlSerializer.serialize(S.extractedUrl),this.urlSerializer.serialize(S.urlAfterRedirects),S.targetSnapshot);this.events.next(M)}));if(v&&t.rawUrlTree&&t.urlHandlingStrategy.shouldProcessUrl(t.rawUrlTree)){const{id:M,extractedUrl:P,source:$,restoredState:Q,extras:le}=d,ye=new B_(M,this.urlSerializer.serialize(P),$,Q);this.events.next(ye);const lt=Nk(P,t.rootComponentType).snapshot;return Tt(r={...d,targetSnapshot:lt,urlAfterRedirects:P,extras:{...le,skipLocationChange:!1,replaceUrl:!1}})}return t.rawUrlTree=d.rawUrl,d.resolve(null),sa.E}),(0,us.b)(d=>{const p=new $_(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(p)}),(0,St.U)(d=>r={...d,guards:Fk(d.targetSnapshot,d.currentSnapshot,this.rootContexts)}),function P3(n,e){return(0,Ji.z)(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:u,canDeactivateChecks:d}}=t;return 0===d.length&&0===u.length?Tt({...t,guardsResult:!0}):function rg(n,e,t,r){return(0,Hn.D)(n).pipe((0,Ji.z)(i=>function Gk(n,e,t,r,i){const u=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return u&&0!==u.length?Tt(u.map(p=>{const v=Yc(e)??i,I=Nh(p,v);return Lo(function FA(n){return n&&eg(n.canDeactivate)}(I)?I.canDeactivate(n,e,t,r):v.runInContext(()=>I(n,e,t,r))).pipe(aa())})).pipe(ng()):Tt(!0)}(i.component,i.route,t,e,r)),aa(i=>!0!==i,!0))}(d,r,i,n).pipe((0,Ji.z)(p=>p&&function Ei(n){return"boolean"==typeof n}(p)?function Jb(n,e,t,r){return(0,Hn.D)(e).pipe($a(i=>Vc(function VA(n,e){return null!==n&&e&&e(new Sk(n)),Tt(!0)}(i.route.parent,r),function UA(n,e){return null!==n&&e&&e(new xk(n)),Tt(!0)}(i.route,r),function L3(n,e,t){const r=e[e.length-1],u=e.slice(0,e.length-1).reverse().map(d=>function Uk(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(d)).filter(d=>null!==d).map(d=>Mu(()=>Tt(d.guards.map(v=>{const I=Yc(d.node)??t,S=Nh(v,I);return Lo(function LA(n){return n&&eg(n.canActivateChild)}(S)?S.canActivateChild(r,n):I.runInContext(()=>S(r,n))).pipe(aa())})).pipe(ng())));return Tt(u).pipe(ng())}(n,i.path,t),function BA(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return Tt(!0);const i=r.map(u=>Mu(()=>{const d=Yc(e)??t,p=Nh(u,d);return Lo(function jk(n){return n&&eg(n.canActivate)}(p)?p.canActivate(e,n):d.runInContext(()=>p(e,n))).pipe(aa())}));return Tt(i).pipe(ng())}(n,i.route,t))),aa(i=>!0!==i,!0))}(r,u,n,e):Tt(p)),(0,St.U)(p=>({...t,guardsResult:p})))})}(this.environmentInjector,d=>this.events.next(d)),(0,us.b)(d=>{if(r.guardsResult=d.guardsResult,Ml(d.guardsResult))throw Fu(0,d.guardsResult);const p=new bA(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot,!!d.guardsResult);this.events.next(p)}),ys(d=>!!d.guardsResult||(t.restoreHistory(d),this.cancelNavigationTransition(d,"",3,t),!1)),sw(d=>{if(d.guards.canActivateChecks.length)return Tt(d).pipe((0,us.b)(p=>{const v=new Hb(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot);this.events.next(v)}),ir(p=>{let v=!1;return Tt(p).pipe(function Xk(n,e){return(0,Ji.z)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return Tt(t);let u=0;return(0,Hn.D)(i).pipe($a(d=>function eR(n,e,t,r){const i=n.routeConfig,u=n._resolve;return void 0!==i?.title&&!ny(i)&&(u[Zc]=i.title),function XA(n,e,t,r){const i=function eD(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===i.length)return Tt({});const u={};return(0,Hn.D)(i).pipe((0,Ji.z)(d=>function iw(n,e,t,r){const i=Yc(e)??r,u=Nh(n,i);return Lo(u.resolve?u.resolve(e,t):i.runInContext(()=>u(e,t)))}(n[d],e,t,r).pipe(aa(),(0,us.b)(p=>{u[d]=p}))),Hc(1),function fA(n){return(0,St.U)(()=>n)}(u),ua(d=>Qb(d)?sa.E:jc(d)))}(u,n,e,r).pipe((0,St.U)(d=>(n._resolvedData=d,n.data=AA(n,t).resolve,i&&ny(i)&&(n.data[Zc]=i.title),null)))}(d.route,r,n,e)),(0,us.b)(()=>u++),Hc(1),(0,Ji.z)(d=>u===i.length?Tt(t):sa.E))})}(t.paramsInheritanceStrategy,this.environmentInjector),(0,us.b)({next:()=>v=!0,complete:()=>{v||(t.restoreHistory(p),this.cancelNavigationTransition(p,"",2,t))}}))}),(0,us.b)(p=>{const v=new Gb(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot);this.events.next(v)}))}),sw(d=>{const p=v=>{const I=[];v.routeConfig?.loadComponent&&!v.routeConfig._loadedComponent&&I.push(this.configLoader.loadComponent(v.routeConfig).pipe((0,us.b)(S=>{v.component=S}),(0,St.U)(()=>{})));for(const S of v.children)I.push(...p(S));return I};return Fc(p(d.targetSnapshot.root)).pipe(ku(),xl(1))}),sw(()=>t.afterPreactivation()),(0,St.U)(d=>{const p=function kk(n,e,t){const r=Jp(n,e._root,t?t._root:void 0);return new TA(r,e)}(t.routeReuseStrategy,d.targetSnapshot,d.currentRouterState);return r={...d,targetRouterState:p}}),(0,us.b)(d=>{t.currentUrlTree=d.urlAfterRedirects,t.rawUrlTree=t.urlHandlingStrategy.merge(d.urlAfterRedirects,d.rawUrl),t.routerState=d.targetRouterState,"deferred"===t.urlUpdateStrategy&&(d.extras.skipLocationChange||t.setBrowserUrl(t.rawUrlTree,d),t.browserUrlTree=d.urlAfterRedirects)}),((n,e,t)=>(0,St.U)(r=>(new R3(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,t.routeReuseStrategy,d=>this.events.next(d)),(0,us.b)({next:d=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,t.navigated=!0,this.events.next(new Rl(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(t.currentUrlTree))),t.titleStrategy?.updateTitle(d.targetRouterState.snapshot),d.resolve(!0)},complete:()=>{i=!0}}),Gc(()=>{i||u||this.cancelNavigationTransition(r,"",1,t),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),ua(d=>{if(u=!0,Pk(d)){SA(d)||(t.navigated=!0,t.restoreHistory(r,!0));const p=new Ah(r.id,this.urlSerializer.serialize(r.extractedUrl),d.message,d.cancellationCode);if(this.events.next(p),SA(d)){const v=t.urlHandlingStrategy.merge(d.url,t.rawUrlTree),I={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===t.urlUpdateStrategy||nD(r.source)};t.scheduleNavigation(v,"imperative",null,I,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{t.restoreHistory(r,!0);const p=new $b(r.id,this.urlSerializer.serialize(r.extractedUrl),d,r.targetSnapshot??void 0);this.events.next(p);try{r.resolve(t.errorHandler(d))}catch(v){r.reject(v)}}return sa.E}))}))}cancelNavigationTransition(t,r,i,u){const d=new Ah(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(d),t.resolve(!1)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function nD(n){return"imperative"!==n}let td=(()=>{class n{buildTitle(t){let r,i=t.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(u=>u.outlet===Dn);return r}getResolvedTitleForRoute(t){return t.data[Zc]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return(0,l.f3M)(Uu)},providedIn:"root"}),n})(),Uu=(()=>{class n extends td{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Lp))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),nR=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return(0,l.f3M)(U3)},providedIn:"root"}),n})();class rR{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let U3=(()=>{class n extends rR{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=l.n5z(n)))(r||n)}}(),n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const og=new l.OlP("",{providedIn:"root",factory:()=>({})});let B3=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return(0,l.f3M)(rD)},providedIn:"root"}),n})(),rD=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function iD(n){throw n}function sR(n,e,t){return e.parse("/")}const sD={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},oR={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function Uo(){const n=(0,l.f3M)(Z),e=(0,l.f3M)(Xp),t=(0,l.f3M)(Ue),r=(0,l.f3M)(l.zs3),i=(0,l.f3M)(l.Sil),u=(0,l.f3M)(Uh,{optional:!0})??[],d=(0,l.f3M)(og,{optional:!0})??{},p=new Ii(null,n,e,t,r,i,qc(u));return function aR(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(d,p),p}let Ii=(()=>{class n{constructor(t,r,i,u,d,p,v){this.rootComponentType=t,this.urlSerializer=r,this.rootContexts=i,this.location=u,this.config=v,this.disposed=!1,this.currentPageId=0,this.isNgZoneEnabled=!1,this.errorHandler=iD,this.malformedUriErrorHandler=sR,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>Tt(void 0),this.urlHandlingStrategy=(0,l.f3M)(B3),this.routeReuseStrategy=(0,l.f3M)(nR),this.titleStrategy=(0,l.f3M)(td),this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.canceledNavigationResolution="replace",this.navigationTransitions=(0,l.f3M)(lw),this.console=d.get(l.c2e);const I=d.get(l.R0b);this.isNgZoneEnabled=I instanceof l.R0b&&l.R0b.isInAngularZone(),this.resetConfig(v),this.currentUrlTree=new fi,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Nk(this.currentUrlTree,this.rootComponentType),this.navigationTransitions.setupNavigations(this).subscribe(S=>{this.lastSuccessfulId=S.id,this.currentPageId=S.targetPageId},S=>{this.console.warn(`Unhandled Navigation Error: ${S}`)})}get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{const i={replaceUrl:!0},u=t.state?.navigationId?t.state:null;if(t.state){const p={...t.state};delete p.navigationId,delete p.\u0275routerPageId,0!==Object.keys(p).length&&(i.state=p)}const d=this.parseUrl(t.url);this.scheduleNavigation(d,r,u,i)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(t){this.config=t.map(PA),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:i,queryParams:u,fragment:d,queryParamsHandling:p,preserveFragment:v}=r,I=i||this.routerState.root,S=v?this.currentUrlTree.fragment:d;let M=null;switch(p){case"merge":M={...this.currentUrlTree.queryParams,...u};break;case"preserve":M=this.currentUrlTree.queryParams;break;default:M=u||null}return null!==M&&(M=this.removeEmptyProps(M)),Tk(I,this.currentUrlTree,t,M,S??null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=Ml(t)?t:this.parseUrl(t),u=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(u,"imperative",null,r)}navigate(t,r={skipLocationChange:!1}){return function oD(n){for(let e=0;e<n.length;e++){if(null==n[e])throw new l.vHH(4008,!1)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?{...sD}:!1===r?{...oR}:r,Ml(t))return bh(this.currentUrlTree,t,i);const u=this.parseUrl(t);return bh(this.currentUrlTree,u,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const u=t[i];return null!=u&&(r[i]=u),r},{})}scheduleNavigation(t,r,i,u,d){if(this.disposed)return Promise.resolve(!1);let p,v,I,S;return d?(p=d.resolve,v=d.reject,I=d.promise):I=new Promise((M,P)=>{p=M,v=P}),"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(i=this.location.getState()),S=i&&i.\u0275routerPageId?i.\u0275routerPageId:u.replaceUrl||u.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):S=0,this.navigationTransitions.handleNavigationRequest({targetPageId:S,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:u,resolve:p,reject:v,promise:I,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),I.catch(M=>Promise.reject(M))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t),u={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",u):this.location.go(i,"",u)}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const i=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.getCurrentNavigation()?.finalUrl||0===i?this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===i&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(i)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){l.$Z()},n.\u0275prov=l.Yz7({token:n,factory:function(){return Uo()},providedIn:"root"}),n})(),nd=(()=>{class n{constructor(t,r,i,u,d,p){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=u,this.el=d,this.locationStrategy=p,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.href=null,this.commands=null,this.onChanges=new Fi.x;const v=d.nativeElement.tagName;this.isAnchorElement="A"===v||"AREA"===v,this.isAnchorElement?this.subscription=t.events.subscribe(I=>{I instanceof Rl&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(t){this._preserveFragment=(0,l.D6c)(t)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(t){this._skipLocationChange=(0,l.D6c)(t)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(t){this._replaceUrl=(0,l.D6c)(t)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(t){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(t,r,i,u,d){return!!(null===this.urlTree||this.isAnchorElement&&(0!==t||r||i||u||d||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const t=null===this.href?null:(0,l.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",t)}applyAttributeValue(t,r){const i=this.renderer,u=this.el.nativeElement;null!==r?i.setAttribute(u,t,r):i.removeAttribute(u,t)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Ii),l.Y36(Ga),l.$8M("tabindex"),l.Y36(l.Qsj),l.Y36(l.SBq),l.Y36(ae))},n.\u0275dir=l.lG2({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(t,r){1&t&&l.NdJ("click",function(u){return r.onClick(u.button,u.ctrlKey,u.shiftKey,u.altKey,u.metaKey)}),2&t&&l.uIk("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[l.TTD]}),n})();class aD{}let dR=(()=>{class n{constructor(t,r,i,u,d){this.router=t,this.injector=i,this.preloadingStrategy=u,this.loader=d}setUpPreloading(){this.subscription=this.router.events.pipe(ys(t=>t instanceof Rl),$a(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const u of r){u.providers&&!u._injector&&(u._injector=(0,l.MMx)(u.providers,t,`Route: ${u.path}`));const d=u._injector??t,p=u._loadedInjector??d;u.loadChildren&&!u._loadedRoutes&&void 0===u.canLoad||u.loadComponent&&!u._loadedComponent?i.push(this.preloadConfig(d,u)):(u.children||u._loadedRoutes)&&i.push(this.processRoutes(p,u.children??u._loadedRoutes))}return(0,Hn.D)(i).pipe((0,ja.J)())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):Tt(null);const u=i.pipe((0,Ji.z)(d=>null===d?Tt(void 0):(r._loadedRoutes=d.routes,r._loadedInjector=d.injector,this.processRoutes(d.injector??t,d.routes))));if(r.loadComponent&&!r._loadedComponent){const d=this.loader.loadComponent(r);return(0,Hn.D)([u,d]).pipe((0,ja.J)())}return u})}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Ii),l.LFG(l.Sil),l.LFG(l.lqb),l.LFG(aD),l.LFG(aw))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const cw=new l.OlP("");let gn=(()=>{class n{constructor(t,r,i,u,d={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=u,this.options=d,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},d.scrollPositionRestoration=d.scrollPositionRestoration||"disabled",d.anchorScrolling=d.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof B_?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Rl&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof IA&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new IA(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return n.\u0275fac=function(t){l.$Z()},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();function Vh(n,e){return{\u0275kind:n,\u0275providers:e}}function lD(){const n=(0,l.f3M)(l.zs3);return e=>{const t=n.get(l.z2F);if(e!==t.components[0])return;const r=n.get(Ii),i=n.get(cD);1===n.get(dD)&&r.initialNavigation(),n.get(pD,null,l.XFs.Optional)?.setUpPreloading(),n.get(cw,null,l.XFs.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.unsubscribe())}}const cD=new l.OlP("",{factory:()=>new Fi.x}),dD=new l.OlP("",{providedIn:"root",factory:()=>1});const pD=new l.OlP("");function fw(n){return Vh(0,[{provide:pD,useExisting:dR},{provide:aD,useExisting:n}])}const pR=new l.OlP("ROUTER_FORROOT_GUARD"),H3=[Ue,{provide:Z,useClass:ve},{provide:Ii,useFactory:Uo},Xp,{provide:Ga,useFactory:function dw(n){return n.routerState.root},deps:[Ii]},aw,[]];function gR(){return new l.PXZ("Router",Ii)}let mD=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[H3,[],{provide:Uh,multi:!0,useValue:t},{provide:pR,useFactory:_R,deps:[[Ii,new l.FiY,new l.tp0]]},{provide:og,useValue:r||{}},r?.useHash?{provide:ae,useClass:He}:{provide:ae,useClass:Fe},{provide:cw,useFactory:()=>{const n=(0,l.f3M)(gl),e=(0,l.f3M)(l.R0b),t=(0,l.f3M)(og),r=(0,l.f3M)(lw),i=(0,l.f3M)(Z);return t.scrollOffset&&n.setOffset(t.scrollOffset),new gn(i,r,n,e,t)}},r?.preloadingStrategy?fw(r.preloadingStrategy).\u0275providers:[],{provide:l.PXZ,multi:!0,useFactory:gR},r?.initialNavigation?_D(r):[],[{provide:ug,useFactory:lD},{provide:l.tb,multi:!0,useExisting:ug}]]}}static forChild(t){return{ngModule:n,providers:[{provide:Uh,multi:!0,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(pR,8))},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[q_]}),n})();function _R(n){return"guarded"}function _D(n){return["disabled"===n.initialNavigation?Vh(3,[{provide:l.ip1,multi:!0,useFactory:()=>{const e=(0,l.f3M)(Ii);return()=>{e.setUpLocationChangeListener()}}},{provide:dD,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?Vh(2,[{provide:dD,useValue:0},{provide:l.ip1,multi:!0,deps:[l.zs3],useFactory:e=>{const t=e.get(te,Promise.resolve());return()=>t.then(()=>new Promise(i=>{const u=e.get(Ii),d=e.get(cD);(function r(i){e.get(Ii).events.pipe(ys(d=>d instanceof Rl||d instanceof Ah||d instanceof $b),(0,St.U)(d=>d instanceof Rl||d instanceof Ah&&(0===d.code||1===d.code)&&null),ys(d=>null!==d),xl(1)).subscribe(()=>{i()})})(()=>{i(!0)}),u.afterPreactivation=()=>(i(!0),d.closed?Tt(void 0):d),u.initialNavigation()}))}}]).\u0275providers:[]]}const ug=new l.OlP("");let yD=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Qsj),l.Y36(l.SBq))},n.\u0275dir=l.lG2({type:n}),n})(),sd=(()=>{class n extends yD{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=l.n5z(n)))(r||n)}}(),n.\u0275dir=l.lG2({type:n,features:[l.qOj]}),n})();const Za=new l.OlP("NgValueAccessor"),wR={provide:Za,useExisting:(0,l.Gpc)(()=>ry),multi:!0};let ry=(()=>{class n extends sd{writeValue(t){this.setProperty("checked",t)}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=l.n5z(n)))(r||n)}}(),n.\u0275dir=l.lG2({type:n,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(t,r){1&t&&l.NdJ("change",function(u){return r.onChange(u.target.checked)})("blur",function(){return r.onTouched()})},features:[l._Bn([wR]),l.qOj]}),n})();const ER={provide:Za,useExisting:(0,l.Gpc)(()=>Ll),multi:!0},bD=new l.OlP("CompositionEventMode");let Ll=(()=>{class n extends yD{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function vD(){const n=he()?he().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Qsj),l.Y36(l.SBq),l.Y36(bD,8))},n.\u0275dir=l.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&l.NdJ("input",function(u){return r._handleInput(u.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(u){return r._compositionEnd(u.target.value)})},features:[l._Bn([ER]),l.qOj]}),n})();const Os=new l.OlP("NgValidators"),ho=new l.OlP("NgAsyncValidators");function CD(n){return function Wa(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}(n.value)?{required:!0}:null}function ad(n){return null}function gw(n){return null!=n}function oy(n){return(0,l.QGY)(n)?(0,Hn.D)(n):n}function ay(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function uy(n,e){return e.map(t=>t(n))}function ly(n){return n.map(e=>function TD(n){return!n.validate}(e)?e:t=>e.validate(t))}function mw(n){return null!=n?function AD(n){if(!n)return null;const e=n.filter(gw);return 0==e.length?null:function(t){return ay(uy(t,e))}}(ly(n)):null}function yw(n){return null!=n?function _w(n){if(!n)return null;const e=n.filter(gw);return 0==e.length?null:function(t){return function bR(...n){const e=(0,Oo.jO)(n),{args:t,keys:r}=Va(n),i=new Xs.y(u=>{const{length:d}=t;if(!d)return void u.complete();const p=new Array(d);let v=d,I=d;for(let S=0;S<d;S++){let M=!1;(0,Nu.Xf)(t[S]).subscribe((0,Xr.x)(u,P=>{M||(M=!0,I--),p[S]=P},()=>v--,void 0,()=>{(!v||!M)&&(I||u.next(r?M_(r,p):p),u.complete())}))}});return e?i.pipe(ph(e)):i}(uy(t,e).map(oy)).pipe((0,St.U)(ay))}}(ly(n)):null}function vw(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function bw(n){return n._rawValidators}function DD(n){return n._rawAsyncValidators}function ww(n){return n?Array.isArray(n)?n:[n]:[]}function vs(n,e){return Array.isArray(n)?n.includes(e):n===e}function Ew(n,e){const t=ww(e);return ww(n).forEach(i=>{vs(t,i)||t.push(i)}),t}function SD(n,e){return ww(e).filter(t=>!vs(n,t))}class IR{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=mw(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=yw(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class ls extends IR{get formDirective(){return null}get path(){return null}}class Vu extends IR{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class xD{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let cg=(()=>{class n extends xD{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Vu,2))},n.\u0275dir=l.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&l.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[l.qOj]}),n})(),cy=(()=>{class n extends xD{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(ls,10))},n.\u0275dir=l.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&l.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[l.qOj]}),n})();const Fl="VALID",Hh="INVALID",ju="PENDING",dy="DISABLED";function dg(n){return(hg(n)?n.validators:n)||null}function hy(n,e){return(hg(e)?e.asyncValidators:n)||null}function hg(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}function Dw(n,e,t){const r=n.controls;if(!(e?Object.keys(r):r).length)throw new l.vHH(1e3,"");if(!r[t])throw new l.vHH(1001,"")}function fy(n,e,t){n._forEachChild((r,i)=>{if(void 0===t[i])throw new l.vHH(1002,"")})}class Vo{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Fl}get invalid(){return this.status===Hh}get pending(){return this.status==ju}get disabled(){return this.status===dy}get enabled(){return this.status!==dy}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(Ew(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(Ew(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(SD(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(SD(e,this._rawAsyncValidators))}hasValidator(e){return vs(this._rawValidators,e)}hasAsyncValidator(e){return vs(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=ju,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=dy,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Fl,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Fl||this.status===ju)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?dy:Fl}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=ju,this._hasOwnPendingAsyncValidator=!0;const t=oy(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new l.vpe,this.statusChanges=new l.vpe}_calculateStatus(){return this._allControlsDisabled()?dy:this.errors?Hh:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ju)?ju:this._anyControlsHaveStatus(Hh)?Hh:Fl}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){hg(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function X3(n){return Array.isArray(n)?mw(n):n||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function kD(n){return Array.isArray(n)?yw(n):n||null}(this._rawAsyncValidators)}}class Ul extends Vo{constructor(e,t,r){super(dg(t),hy(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){fy(this,0,e),Object.keys(e).forEach(r=>{Dw(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{const i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,u)=>{r=t(r,i,u)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}class RD extends Ul{}const ud=new l.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>gy}),gy="always";function my(n,e){return[...e.path,n]}function $u(n,e,t=gy){Nw(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||"always"===t)&&e.valueAccessor.setDisabledState?.(n.disabled),function kR(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&OD(n,e)})}(n,e),function OR(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function RR(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&OD(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function MR(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function _y(n,e,t=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),yy(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function xw(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function Nw(n,e){const t=bw(n);null!==e.validator?n.setValidators(vw(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=DD(n);null!==e.asyncValidator?n.setAsyncValidators(vw(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();xw(e._rawValidators,i),xw(e._rawAsyncValidators,i)}function yy(n,e){let t=!1;if(null!==n){if(null!==e.validator){const i=bw(n);if(Array.isArray(i)&&i.length>0){const u=i.filter(d=>d!==e.validator);u.length!==i.length&&(t=!0,n.setValidators(u))}}if(null!==e.asyncValidator){const i=DD(n);if(Array.isArray(i)&&i.length>0){const u=i.filter(d=>d!==e.asyncValidator);u.length!==i.length&&(t=!0,n.setAsyncValidators(u))}}}const r=()=>{};return xw(e._rawValidators,r),xw(e._rawAsyncValidators,r),t}function OD(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function Mw(n,e){Nw(n,e)}function Pw(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}function PD(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function Lw(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(u=>{u.constructor===Ll?t=u:function PR(n){return Object.getPrototypeOf(n.constructor)===sd}(u)?r=u:i=u}),i||r||t||null}const FR={provide:ls,useExisting:(0,l.Gpc)(()=>fg)},vy=(()=>Promise.resolve())();let fg=(()=>{class n extends ls{constructor(t,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._directives=new Set,this.ngSubmit=new l.vpe,this.form=new Ul({},mw(t),yw(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){vy.then(()=>{const r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),$u(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){vy.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){vy.then(()=>{const r=this._findContainer(t.path),i=new Ul({});Mw(i,t),r.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){vy.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){vy.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,PD(this.form,this._directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Os,10),l.Y36(ho,10),l.Y36(ud,8))},n.\u0275dir=l.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,r){1&t&&l.NdJ("submit",function(u){return r.onSubmit(u)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[l._Bn([FR]),l.qOj]}),n})();function pg(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function Vl(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const gg=class extends Vo{constructor(e=null,t,r){super(dg(t),hy(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),hg(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=Vl(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){pg(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){pg(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){Vl(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};let FD=(()=>{class n extends ls{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return my(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=l.n5z(n)))(r||n)}}(),n.\u0275dir=l.lG2({type:n,features:[l.qOj]}),n})();const Ey={provide:Vu,useExisting:(0,l.Gpc)(()=>Gh)},fo=(()=>Promise.resolve())();let Gh=(()=>{class n extends Vu{constructor(t,r,i,u,d,p){super(),this._changeDetectorRef=d,this.callSetDisabledState=p,this.control=new gg,this._registered=!1,this.update=new l.vpe,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=Lw(0,u)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),Pw(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){$u(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){fo.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){const r=t.isDisabled.currentValue,i=0!==r&&(0,l.D6c)(r);fo.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?my(t,this._parent):[t]}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(ls,9),l.Y36(Os,10),l.Y36(ho,10),l.Y36(Za,10),l.Y36(l.sBO,8),l.Y36(ud,8))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[l._Bn([Ey]),l.qOj,l.TTD]}),n})(),ld=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),dd=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();const _g=new l.OlP("NgModelWithFormControlWarning"),VD={provide:Vu,useExisting:(0,l.Gpc)(()=>Iy)};let Iy=(()=>{class n extends Vu{constructor(t,r,i,u,d){super(),this._ngModelWarningConfig=u,this.callSetDisabledState=d,this.update=new l.vpe,this._ngModelWarningSent=!1,this._setValidators(t),this._setAsyncValidators(r),this.valueAccessor=Lw(0,i)}set isDisabled(t){}ngOnChanges(t){if(this._isControlChanged(t)){const r=t.form.previousValue;r&&_y(r,this,!1),$u(this.form,this,this.callSetDisabledState),this.form.updateValueAndValidity({emitEvent:!1})}Pw(t,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&_y(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_isControlChanged(t){return t.hasOwnProperty("form")}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(t){return new(t||n)(l.Y36(Os,10),l.Y36(ho,10),l.Y36(Za,10),l.Y36(_g,8),l.Y36(ud,8))},n.\u0275dir=l.lG2({type:n,selectors:[["","formControl",""]],inputs:{form:["formControl","form"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[l._Bn([VD]),l.qOj,l.TTD]}),n})();const BD={provide:ls,useExisting:(0,l.Gpc)(()=>Kh)};let Kh=(()=>{class n extends ls{constructor(t,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new l.vpe,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(yy(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const r=this.form.get(t.path);return $u(r,t,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){_y(t.control||null,t,!1),function LD(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this.submitted=!0,PD(this.form,this.directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const r=t.control,i=this.form.get(t.path);r!==i&&(_y(r||null,t),(n=>n instanceof gg)(i)&&($u(i,t,this.callSetDisabledState),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const r=this.form.get(t.path);Mw(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const r=this.form.get(t.path);r&&function kw(n,e){return yy(n,e)}(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Nw(this.form,this),this._oldForm&&yy(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Os,10),l.Y36(ho,10),l.Y36(ud,8))},n.\u0275dir=l.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,r){1&t&&l.NdJ("submit",function(u){return r.onSubmit(u)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[l._Bn([BD]),l.qOj,l.TTD]}),n})();const jD={provide:ls,useExisting:(0,l.Gpc)(()=>yg)};let yg=(()=>{class n extends FD{constructor(t,r,i){super(),this._parent=t,this._setValidators(r),this._setAsyncValidators(i)}_checkParentType(){HD(this._parent)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(ls,13),l.Y36(Os,10),l.Y36(ho,10))},n.\u0275dir=l.lG2({type:n,selectors:[["","formGroupName",""]],inputs:{name:["formGroupName","name"]},features:[l._Bn([jD]),l.qOj]}),n})();const $D={provide:ls,useExisting:(0,l.Gpc)(()=>Cy)};let Cy=(()=>{class n extends ls{constructor(t,r,i){super(),this._parent=t,this._setValidators(r),this._setAsyncValidators(i)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return my(null==this.name?this.name:this.name.toString(),this._parent)}_checkParentType(){HD(this._parent)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(ls,13),l.Y36(Os,10),l.Y36(ho,10))},n.\u0275dir=l.lG2({type:n,selectors:[["","formArrayName",""]],inputs:{name:["formArrayName","name"]},features:[l._Bn([$D]),l.qOj]}),n})();function HD(n){return!(n instanceof yg||n instanceof Kh||n instanceof Cy)}const GD={provide:Vu,useExisting:(0,l.Gpc)(()=>Ty)};let Ty=(()=>{class n extends Vu{constructor(t,r,i,u,d){super(),this._ngModelWarningConfig=d,this._added=!1,this.update=new l.vpe,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=Lw(0,u)}set isDisabled(t){}ngOnChanges(t){this._added||this._setUpControl(),Pw(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return my(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(t){return new(t||n)(l.Y36(ls,13),l.Y36(Os,10),l.Y36(ho,10),l.Y36(Za,10),l.Y36(_g,8))},n.\u0275dir=l.lG2({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[l._Bn([GD]),l.qOj,l.TTD]}),n})();const VR={provide:Za,useExisting:(0,l.Gpc)(()=>Dy),multi:!0};function Ay(n,e){return null==n?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let Dy=(()=>{class n extends sd{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;const i=Ay(this._getOptionId(t),t);this.setProperty("value",i)}registerOnChange(t){this.onChange=r=>{this.value=this._getOptionValue(r),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const r of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(r),t))return r;return null}_getOptionValue(t){const r=function Uw(n){return n.split(":")[0]}(t);return this._optionMap.has(r)?this._optionMap.get(r):t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=l.n5z(n)))(r||n)}}(),n.\u0275dir=l.lG2({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,r){1&t&&l.NdJ("change",function(u){return r.onChange(u.target.value)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[l._Bn([VR]),l.qOj]}),n})(),vg=(()=>{class n{constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(Ay(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(l.Qsj),l.Y36(Dy,9))},n.\u0275dir=l.lG2({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})();const Sy={provide:Za,useExisting:(0,l.Gpc)(()=>Yh),multi:!0};function xy(n,e){return null==n?`${e}`:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let Yh=(()=>{class n extends sd{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){let r;if(this.value=t,Array.isArray(t)){const i=t.map(u=>this._getOptionId(u));r=(u,d)=>{u._setSelected(i.indexOf(d.toString())>-1)}}else r=(i,u)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(t){this.onChange=r=>{const i=[],u=r.selectedOptions;if(void 0!==u){const d=u;for(let p=0;p<d.length;p++){const I=this._getOptionValue(d[p].value);i.push(I)}}else{const d=r.options;for(let p=0;p<d.length;p++){const v=d[p];if(v.selected){const I=this._getOptionValue(v.value);i.push(I)}}}this.value=i,t(i)}}_registerOption(t){const r=(this._idCounter++).toString();return this._optionMap.set(r,t),r}_getOptionId(t){for(const r of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(r)._value,t))return r;return null}_getOptionValue(t){const r=function BR(n){return n.split(":")[0]}(t);return this._optionMap.has(r)?this._optionMap.get(r)._value:t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=l.n5z(n)))(r||n)}}(),n.\u0275dir=l.lG2({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,r){1&t&&l.NdJ("change",function(u){return r.onChange(u.target)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[l._Bn([Sy]),l.qOj]}),n})(),Bw=(()=>{class n{constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){null!=this._select&&(this._value=t,this._setElementValue(xy(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(xy(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(l.Qsj),l.Y36(Yh,9))},n.\u0275dir=l.lG2({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})(),jl=(()=>{class n{constructor(){this._validator=ad}ngOnChanges(t){if(this.inputName in t){const r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):ad,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n,features:[l.TTD]}),n})();const zD={provide:Os,useExisting:(0,l.Gpc)(()=>Qh),multi:!0};let Qh=(()=>{class n extends jl{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=l.D6c,this.createValidator=t=>CD}enabled(t){return t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=l.n5z(n)))(r||n)}}(),n.\u0275dir=l.lG2({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(t,r){2&t&&l.uIk("required",r._enabled?"":null)},inputs:{required:"required"},features:[l._Bn([zD]),l.qOj]}),n})(),Zw=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[dd]}),n})(),JD=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:ud,useValue:t.callSetDisabledState??gy}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[Zw]}),n})(),bg=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:_g,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:ud,useValue:t.callSetDisabledState??gy}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[Zw]}),n})();class Gu extends Vo{constructor(e,t,r){super(dg(t),hy(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),t&&(this.controls.splice(i,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){fy(this,0,e),e.forEach((r,i)=>{Dw(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,r)=>!!r._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}}function Oy(n){return!!n&&(void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn)}let $l=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){const t=new n;return t.useNonNullable=!0,t}group(t,r=null){const i=this._reduceControls(t);let u={};return Oy(r)?u=r:null!==r&&(u.validators=r.validator,u.asyncValidators=r.asyncValidator),new Ul(i,u)}record(t,r=null){const i=this._reduceControls(t);return new RD(i,r)}control(t,r,i){let u={};return this.useNonNullable?(Oy(r)?u=r:(u.validators=r,u.asyncValidators=i),new gg(t,{...u,nonNullable:!0})):new gg(t,r,i)}array(t,r,i){const u=t.map(d=>this._createControl(d));return new Gu(u,r,i)}_reduceControls(t){const r={};return Object.keys(t).forEach(i=>{r[i]=this._createControl(t[i])}),r}_createControl(t){return t instanceof gg||t instanceof Vo?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:bg}),n})();var Tr=V(2011),WR=V(655),fd=V(5363),qR=V(6063);class tS extends Fi.x{constructor(e=1/0,t=1/0,r=qR.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:u,_windowTime:d}=this;t||(r.push(e),!i&&r.push(u.now()+d)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,u=i.slice();for(let d=0;d<u.length&&!e.closed;d+=r?1:2)e.next(u[d]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:i}=this,u=(i?1:2)*e;if(e<1/0&&u<r.length&&r.splice(0,r.length-u),!i){const d=t.now();let p=0;for(let v=1;v<r.length&&r[v]<=d;v+=2)p=v;p&&r.splice(0,p+1)}}}var nS=V(3099);function si(n,e,t){let r,i=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:t}=n):r=n??1/0,(0,nS.B)({connector:()=>new tS(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}var _n=V(880),zR=V(7982),Ww=V(6451);function qw(n,e){return(0,Bc.m)(e)?ir(()=>n,e):ir(()=>n)}var zw=V(9468),Hl=V(5867);class Jh{constructor(e){return e}}class pd{constructor(){return(0,Hl.C6)()}}const Py=new l.OlP("angularfire2._apps"),YR={provide:Jh,useFactory:function KR(n){return n&&1===n.length?n[0]:new Jh((0,Hl.Mq)())},deps:[[new l.FiY,Py]]},rS={provide:pd,deps:[[new l.FiY,Py]]};function uB(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new Jh(r)}}let iS=(()=>{class n{constructor(t){(0,Hl.KN)("angularfire",_n.q4.full,"core"),(0,Hl.KN)("angularfire",_n.q4.full,"app"),(0,Hl.KN)("angular",l.q4F.full,t.toString())}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.Lbi))},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[YR,rS]}),n})();function Kw(n,...e){return{ngModule:iS,providers:[{provide:Py,useFactory:uB(n),multi:!0,deps:[l.R0b,l.zs3,_n.HU,...e]}]}}const qa=(0,_n.u3)(Hl.ZF,!0);var Re=V(5861),eo=V(9681),Wu=V(4859),q=V(2090),da=V(1877);const wg=new Map,Xh={activated:!1,tokenObservers:[]},XR={initialized:!1,enabled:!1};function Xi(n){return wg.get(n)||Object.assign({},Xh)}function Eg(){return XR}const Ly="https://content-firebaseappcheck.googleapis.com/v1";class Uy{constructor(e,t,r,i,u){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=u,this.pending=null,this.nextErrorWaitInterval=i,i>u)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,Re.Z)(function*(){t.stop();try{t.pending=new q.BH,yield function Jw(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new q.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const ws=new q.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function Ig(n=!1){var e;return n?null===(e=self.grecaptcha)||void 0===e?void 0:e.enterprise:self.grecaptcha}function Xw(n){if(!Xi(n).activated)throw ws.create("use-before-activation",{appName:n.name})}function Vy(n){const e=Math.round(n/1e3),t=Math.floor(e/86400),r=Math.floor((e-3600*t*24)/3600),i=Math.floor((e-3600*t*24-3600*r)/60),u=e-3600*t*24-3600*r-60*i;let d="";return t&&(d+=Cg(t)+"d:"),r&&(d+=Cg(r)+"h:"),d+=Cg(i)+"m:"+Cg(u)+"s",d}function Cg(n){return 0===n?"00":n>=10?n.toString():"0"+n}function By(n,e){return eE.apply(this,arguments)}function eE(){return(eE=(0,Re.Z)(function*({url:n,body:e},t){var r,i;const u={"Content-Type":"application/json"},d=t.getImmediate({optional:!0});if(d){const $=yield d.getHeartbeatsHeader();$&&(u["X-Firebase-Client"]=$)}const p={method:"POST",body:JSON.stringify(e),headers:u};let v,I;try{v=yield fetch(n,p)}catch($){throw ws.create("fetch-network-error",{originalErrorMessage:null===(r=$)||void 0===r?void 0:r.message})}if(200!==v.status)throw ws.create("fetch-status-error",{httpStatus:v.status});try{I=yield v.json()}catch($){throw ws.create("fetch-parse-error",{originalErrorMessage:null===(i=$)||void 0===i?void 0:i.message})}const S=I.ttl.match(/^([\d.]+)(s)$/);if(!S||!S[2]||isNaN(Number(S[1])))throw ws.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${I.ttl}`});const M=1e3*Number(S[1]),P=Date.now();return{token:I.token,expireTimeMillis:P+M,issuedAtTimeMillis:P}})).apply(this,arguments)}function iO(n,e){const{projectId:t,appId:r,apiKey:i}=n.options;return{url:`${Ly}/projects/${t}/apps/${r}:exchangeDebugToken?key=${i}`,body:{debug_token:e}}}const Tg="firebase-app-check-store",aS="debug-token";let jy=null;function uS(){return jy||(jy=new Promise((n,e)=>{var t;try{const r=indexedDB.open("firebase-app-check-database",1);r.onsuccess=i=>{n(i.target.result)},r.onerror=i=>{var u;e(ws.create("storage-open",{originalErrorMessage:null===(u=i.target.error)||void 0===u?void 0:u.message}))},r.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(Tg,{keyPath:"compositeKey"})}}catch(r){e(ws.create("storage-open",{originalErrorMessage:null===(t=r)||void 0===t?void 0:t.message}))}}),jy)}function aO(n){return cS(rE(n))}function lO(n){return lS(aS,n)}function cO(){return cS(aS)}function lS(n,e){return tE.apply(this,arguments)}function tE(){return(tE=(0,Re.Z)(function*(n,e){const r=(yield uS()).transaction(Tg,"readwrite"),u=r.objectStore(Tg).put({compositeKey:n,value:e});return new Promise((d,p)=>{u.onsuccess=v=>{d()},r.onerror=v=>{var I;p(ws.create("storage-set",{originalErrorMessage:null===(I=v.target.error)||void 0===I?void 0:I.message}))}})})).apply(this,arguments)}function cS(n){return nE.apply(this,arguments)}function nE(){return(nE=(0,Re.Z)(function*(n){const t=(yield uS()).transaction(Tg,"readonly"),i=t.objectStore(Tg).get(n);return new Promise((u,d)=>{i.onsuccess=p=>{const v=p.target.result;u(v?v.value:void 0)},t.onerror=p=>{var v;d(ws.create("storage-get",{originalErrorMessage:null===(v=p.target.error)||void 0===v?void 0:v.message}))}})})).apply(this,arguments)}function rE(n){return`${n.options.appId}-${n.name}`}const ef=new da.Yd("@firebase/app-check");function $y(){return($y=(0,Re.Z)(function*(n){if((0,q.hl)()){let e;try{e=yield aO(n)}catch(t){ef.warn(`Failed to read token from IndexedDB. Error: ${t}`)}return e}})).apply(this,arguments)}function Hy(n,e){return(0,q.hl)()?function uO(n,e){return lS(rE(n),e)}(n,e).catch(t=>{ef.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function Gy(){return(Gy=(0,Re.Z)(function*(){let n;try{n=yield cO()}catch{}if(n)return n;{const e=(0,q.k$)();return lO(e).catch(t=>ef.warn(`Failed to persist debug token to IndexedDB. Error: ${t}`)),e}})).apply(this,arguments)}function iE(){return Eg().enabled}function sE(){return Zy.apply(this,arguments)}function Zy(){return(Zy=(0,Re.Z)(function*(){const n=Eg();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const gd={error:"UNKNOWN_ERROR"};function dO(n){return q.US.encodeString(JSON.stringify(n),!1)}function Wy(n){return Gl.apply(this,arguments)}function Gl(){return(Gl=(0,Re.Z)(function*(n,e=!1){const t=n.app;Xw(t);const r=Xi(t);let u,i=r.token;if(i&&!Dg(i)&&(r.token=void 0,i=void 0),!i){const v=yield r.cachedTokenPromise;v&&(Dg(v)?i=v:yield Hy(t,void 0))}if(!e&&i&&Dg(i))return{token:i.token};let p,d=!1;if(iE()){r.exchangeTokenPromise||(r.exchangeTokenPromise=By(iO(t,yield sE()),n.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),d=!0);const v=yield r.exchangeTokenPromise;return yield Hy(t,v),r.token=v,{token:v.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),d=!0),i=yield Xi(t).exchangeTokenPromise}catch(v){"appCheck/throttled"===v.code?ef.warn(v.message):ef.error(v),u=v}return i?u?p=Dg(i)?{token:i.token,internalError:u}:Qt(u):(p={token:i.token},r.token=i,yield Hy(t,i)):p=Qt(u),d&&oE(t,p),p})).apply(this,arguments)}function pS(n,e,t,r){const{app:i}=n,u=Xi(i);if(u.tokenObservers=[...u.tokenObservers,{next:t,error:r,type:e}],u.token&&Dg(u.token)){const p=u.token;Promise.resolve().then(()=>{t({token:p.token}),hO(n)}).catch(()=>{})}u.cachedTokenPromise.then(()=>hO(n))}function Ag(n,e){const t=Xi(n),r=t.tokenObservers.filter(i=>i.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function hO(n){const{app:e}=n,t=Xi(e);let r=t.tokenRefresher;r||(r=function gS(n){const{app:e}=n;return new Uy((0,Re.Z)(function*(){let r;if(r=Xi(e).token?yield Wy(n,!0):yield Wy(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const t=Xi(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function oE(n,e){const t=Xi(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}function Dg(n){return n.expireTimeMillis-Date.now()>0}function Qt(n){return{token:dO(gd),error:n}}class fO{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=Xi(this.app);for(const t of e)Ag(this.app,t.next);return Promise.resolve()}}function oi(n,e){const t=new q.BH;Xi(n).reCAPTCHAState={initialized:t};const i=function aE(n){const e=`fire_app_check_${n.name}`,t=document.createElement("div");return t.id=e,t.style.display="none",document.body.appendChild(t),e}(n),u=Ig(!1);return u?Sg(n,e,u,i,t):function yS(n){const e=document.createElement("script");e.src="https://www.google.com/recaptcha/api.js",e.onload=n,document.head.appendChild(e)}(()=>{const d=Ig(!1);if(!d)throw new Error("no recaptcha");Sg(n,e,d,i,t)}),t.promise}function Sg(n,e,t,r,i){t.ready(()=>{(function _S(n,e,t,r){const i=t.render(r,{sitekey:e,size:"invisible"}),u=Xi(n);u.reCAPTCHAState=Object.assign(Object.assign({},u.reCAPTCHAState),{widgetId:i})})(n,e,t,r),i.resolve(t)})}function Ky(){return(Ky=(0,Re.Z)(function*(n){Xw(n);const t=yield Xi(n).reCAPTCHAState.initialized.promise;return new Promise((r,i)=>{const u=Xi(n).reCAPTCHAState;t.ready(()=>{r(t.execute(u.widgetId,{action:"fire_app_check"}))})})})).apply(this,arguments)}class uE{constructor(e){this._siteKey=e,this._throttleData=null}getToken(){var e=this;return(0,Re.Z)(function*(){var t,r;!function ES(n){if(n&&Date.now()-n.allowRequestsAfter<=0)throw ws.create("throttled",{time:Vy(n.allowRequestsAfter-Date.now()),httpStatus:n.httpStatus})}(e._throttleData);const i=yield function mS(n){return Ky.apply(this,arguments)}(e._app).catch(d=>{throw ws.create("recaptcha-error")});let u;try{u=yield By(function nO(n,e){const{projectId:t,appId:r,apiKey:i}=n.options;return{url:`${Ly}/projects/${t}/apps/${r}:exchangeRecaptchaV3Token?key=${i}`,body:{recaptcha_v3_token:e}}}(e._app,i),e._heartbeatServiceProvider)}catch(d){throw null!==(t=d.code)&&void 0!==t&&t.includes("fetch-status-error")?(e._throttleData=function nf(n,e){if(404===n||403===n)return{backoffCount:1,allowRequestsAfter:Date.now()+864e5,httpStatus:n};{const t=e?e.backoffCount:0,r=(0,q.$s)(t,1e3,2);return{backoffCount:t+1,allowRequestsAfter:Date.now()+r,httpStatus:n}}}(Number(null===(r=d.customData)||void 0===r?void 0:r.httpStatus),e._throttleData),ws.create("throttled",{time:Vy(e._throttleData.allowRequestsAfter-Date.now()),httpStatus:e._throttleData.httpStatus})):d}return e._throttleData=null,u})()}initialize(e){this._app=e,this._heartbeatServiceProvider=(0,eo._getProvider)(e,"heartbeat"),oi(e,this._siteKey).catch(()=>{})}isEqual(e){return e instanceof uE&&this._siteKey===e._siteKey}}function _O(n=(0,eo.getApp)(),e){n=(0,q.m9)(n);const t=(0,eo._getProvider)(n,"app-check");if(Eg().initialized||function fS(){const n=(0,q.Rd)(),e=Eg();if(e.initialized=!0,"string"!=typeof n.FIREBASE_APPCHECK_DEBUG_TOKEN&&!0!==n.FIREBASE_APPCHECK_DEBUG_TOKEN)return;e.enabled=!0;const t=new q.BH;e.token=t,t.resolve("string"==typeof n.FIREBASE_APPCHECK_DEBUG_TOKEN?n.FIREBASE_APPCHECK_DEBUG_TOKEN:function hS(){return Gy.apply(this,arguments)}())}(),iE()&&sE().then(i=>console.log(`App Check debug token: ${i}. You will need to add it to your app's App Check settings in the Firebase console for it to work.`)),t.isInitialized()){const i=t.getImmediate(),u=t.getOptions();if(u.isTokenAutoRefreshEnabled===e.isTokenAutoRefreshEnabled&&u.provider.isEqual(e.provider))return i;throw ws.create("already-initialized",{appName:n.name})}const r=t.initialize({options:e});return function yO(n,e,t){const r=function eO(n,e){return wg.set(n,e),wg.get(n)}(n,Object.assign({},Xh));r.activated=!0,r.provider=e,r.cachedTokenPromise=function dS(n){return $y.apply(this,arguments)}(n).then(i=>(i&&Dg(i)&&(r.token=i,oE(n,{token:i.token})),i)),r.isTokenAutoRefreshEnabled=void 0===t?n.automaticDataCollectionEnabled:t,r.provider.initialize(n)}(n,e.provider,e.isTokenAutoRefreshEnabled),Xi(n).isTokenAutoRefreshEnabled&&pS(r,"INTERNAL",()=>{}),r}const rf="app-check-internal";!function xg(){(0,eo._registerComponent)(new Wu.wA("app-check",n=>function pO(n,e){return new fO(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(rf).initialize()})),(0,eo._registerComponent)(new Wu.wA(rf,n=>function gO(n){return{getToken:e=>Wy(n,e),addTokenListener:e=>pS(n,"INTERNAL",e),removeTokenListener:e=>Ag(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,eo.registerVersion)("@firebase/app-check","0.5.17")}();const IS="app-check";class cE{constructor(e){return e}}class Ng{constructor(){return(0,_n.vb)(IS)}}const Qy=new l.OlP("angularfire2.app-check-instances"),AO=typeof window<"u"&&["localhost","0.0.0.0","127.0.0.1"].includes(window.location.hostname);function DO(n){return(e,t,r)=>{var i;!Oa(r)&&((0,l.X6Q)()||AO)&&(null!==(i=globalThis.FIREBASE_APPCHECK_DEBUG_TOKEN)&&void 0!==i||(globalThis.FIREBASE_APPCHECK_DEBUG_TOKEN=!0));const u=e.runOutsideAngular(()=>n(t));return new cE(u)}}const dB={provide:Ng,deps:[[new l.FiY,Qy]]},hB={provide:cE,useFactory:function CO(n,e){const t=(0,_n.JM)(IS,n,e);return t&&new cE(t)},deps:[[new l.FiY,Qy],Jh,l.Lbi]};let fB=(()=>{class n{constructor(){(0,Hl.KN)("angularfire",_n.q4.full,"app-check")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[hB,dB]}),n})();function pB(n,...e){return{ngModule:fB,providers:[{provide:Qy,useFactory:DO(n),multi:!0,deps:[l.R0b,l.zs3,l.Lbi,_n.HU,pd,...e]}]}}const gB=(0,_n.u3)(_O,!0);var $t=V(127);const Mg=new l.OlP("angularfire2.auth.use-emulator"),md=new l.OlP("angularfire2.auth.settings"),hE=new l.OlP("angularfire2.auth.tenant-id"),fE=new l.OlP("angularfire2.auth.langugage-code"),pE=new l.OlP("angularfire2.auth.use-device-language"),gE=new l.OlP("angularfire.auth.persistence"),mE=(n,e,t,r,i,u,d,p)=>(0,Tr.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const v=e.runOutsideAngular(()=>n.auth());if(t&&v.useEmulator(...t),r&&(v.tenantId=r),v.languageCode=i,u&&v.useDeviceLanguage(),d)for(const[I,S]of Object.entries(d))v.settings[I]=S;return p&&v.setPersistence(p),v},[t,r,i,u,d,p]);let to=(()=>{class n{constructor(t,r,i,u,d,p,v,I,S,M,P,$){const Q=new Fi.x,le=Tt(void 0).pipe((0,fd.Q)(d.outsideAngular),ir(()=>u.runOutsideAngular(()=>Promise.resolve().then(V.bind(V,5881)))),(0,St.U)(()=>(0,Tr.on)(t,u,r)),(0,St.U)(ye=>mE(ye,u,p,I,S,M,v,P)),si({bufferSize:1,refCount:!1}));if(Oa(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Tt(null);else{le.pipe(aa()).subscribe();const lt=le.pipe(ir(_t=>_t.getRedirectResult().then(ft=>ft,()=>null)),_n.iC,si({bufferSize:1,refCount:!1})),dt=le.pipe(ir(_t=>new Xs.y(ft=>({unsubscribe:u.runOutsideAngular(()=>_t.onAuthStateChanged(yt=>ft.next(yt),yt=>ft.error(yt),()=>ft.complete()))})))),bt=le.pipe(ir(_t=>new Xs.y(ft=>({unsubscribe:u.runOutsideAngular(()=>_t.onIdTokenChanged(yt=>ft.next(yt),yt=>ft.error(yt),()=>ft.complete()))}))));this.authState=lt.pipe(qw(dt),(0,zw.R)(d.outsideAngular),(0,fd.Q)(d.insideAngular)),this.user=lt.pipe(qw(bt),(0,zw.R)(d.outsideAngular),(0,fd.Q)(d.insideAngular)),this.idToken=this.user.pipe(ir(_t=>_t?(0,Hn.D)(_t.getIdToken()):Tt(null))),this.idTokenResult=this.user.pipe(ir(_t=>_t?(0,Hn.D)(_t.getIdTokenResult()):Tt(null))),this.credential=(0,Ww.T)(lt,Q,this.authState.pipe(ys(_t=>!_t))).pipe((0,St.U)(_t=>_t?.user?_t:null),(0,zw.R)(d.outsideAngular),(0,fd.Q)(d.insideAngular))}return(0,Tr.pX)(this,le,u,{spy:{apply:(ye,lt,dt)=>{(ye.startsWith("signIn")||ye.startsWith("createUser"))&&dt.then(bt=>Q.next(bt))}}})}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Tr.Dh),l.LFG(Tr.xv,8),l.LFG(l.Lbi),l.LFG(l.R0b),l.LFG(_n.HU),l.LFG(Mg,8),l.LFG(md,8),l.LFG(hE,8),l.LFG(fE,8),l.LFG(pE,8),l.LFG(gE,8),l.LFG(Ng,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),NO=(()=>{class n{constructor(){$t.Z.registerVersion("angularfire",_n.q4.full,"auth-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[to]}),n})();function _d(n,e=xu.y){return n=n??kO,(0,qr.e)((t,r)=>{let i,u=!0;t.subscribe((0,Xr.x)(r,d=>{const p=e(d);(u||!n(i,p))&&(u=!1,i=p,r.next(d))}))})}function kO(n,e){return n===e}function kg(){return(0,qr.e)((n,e)=>{let t,r=!1;n.subscribe((0,Xr.x)(e,i=>{const u=t;t=i,r&&e.next([u,i]),r=!0}))})}const DS="firebase_screen_id",vE="outlet",sf="screen_class",xS="screen_name";let GO=Math.floor(Math.random()*(Math.pow(2,32)-1))-Math.pow(2,31);const bE={},wE=n=>{const e=[n[sf],n[vE]].join("#");if(bE.hasOwnProperty(e))return bE[e];{const t=GO++;return bE[e]=t,t}},zO=new l.OlP("angularfire2.analytics.analyticsCollectionEnabled"),CB=new l.OlP("angularfire2.analytics.appVersion"),OS=new l.OlP("angularfire2.analytics.appName"),IE=new l.OlP("angularfire2.analytics.debugMode"),KO=new l.OlP("angularfire2.analytics.config"),Pg="dataLayer";let af=(()=>{class n{constructor(t,r,i,u,d,p,v,I,S){if(this.analyticsInitialized=new Promise(()=>{}),function Ec(n){return n===mu}(v)){window[Pg]=window[Pg]||[];const P=(...le)=>"config"===le[0]&&"firebase"===le[2].origin&&(this.measurementId=le[1],!0),$=le=>{window.gtag=(...ye)=>{le&&le(...ye),"event"===ye[0]&&ye[2].send_to===this.measurementId&&(u&&(ye[2].app_name=u),i&&(ye[2].app_version=i)),d&&typeof console<"u"&&console.info(...ye),function(...lt){window[Pg].push(arguments)}(...ye)}};window[Pg].some(P)?(this.analyticsInitialized=Promise.resolve(),$()):this.analyticsInitialized=new Promise(le=>{$((...ye)=>{P(...ye)&&le()})}),p&&this.updateConfig(p),d&&this.updateConfig({debug_mode:1})}else this.analyticsInitialized=Promise.resolve();const M=Tt(void 0).pipe((0,fd.Q)(S.outsideAngular),ir(zR.Gb),ir(P=>P?I.runOutsideAngular(()=>V.e(643).then(V.bind(V,8643))):sa.E),(0,St.U)(()=>(0,Tr.cc)("analytics","AngularFireAnalytics",t.name,()=>{const P=t.analytics();return!1===r&&P.setAnalyticsCollectionEnabled(!1),P},[t,r,p,d])),si({bufferSize:1,refCount:!1}));return(0,Tr.pX)(this,M,I)}updateConfig(t){return(0,WR.mG)(this,void 0,void 0,function*(){yield this.analyticsInitialized,window.gtag("config",this.measurementId,Object.assign(Object.assign({},t),{update:!0}))})}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Tr.Ot),l.LFG(zO,8),l.LFG(CB,8),l.LFG(OS,8),l.LFG(IE,8),l.LFG(KO,8),l.LFG(l.Lbi),l.LFG(l.R0b),l.LFG(_n.HU))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),Jy=(()=>{class n{constructor(t,r,i,u){if(this.disposables=[],$t.Z.registerVersion("angularfire",_n.q4.full,"compat-user-tracking"),Oa(r))this.initialized=Promise.resolve();else{let d;this.initialized=u.runOutsideAngular(()=>new Promise(p=>d=p)),this.disposables=[i.authState.subscribe(p=>{t.setUserId(p?.uid),d()}),i.credential.subscribe(p=>{if(p){const v=p.user.isAnonymous?"anonymous":p.additionalUserInfo.providerId;p.additionalUserInfo.isNewUser&&t.logEvent("sign_up",{method:v}),t.logEvent("login",{method:v})}})]}}ngOnDestroy(){this.disposables.forEach(t=>t.unsubscribe())}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(af),l.LFG(l.Lbi),l.LFG(to),l.LFG(l.R0b))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),DE=(()=>{class n{constructor(t,r,i,u,d,p){if($t.Z.registerVersion("angularfire",_n.q4.full,"compat-screen-tracking"),!r||!t)return this;d.runOutsideAngular(()=>{this.disposable=((n,e,t)=>n.events.pipe(ys(i=>i instanceof EA)).pipe(ir(i=>{var u;const p=(null===(u=n.parseUrl(n.url.replace(/(?:\().+(?:\))/g,$=>$.replace("://",":///"))).root.children[i.snapshot.outlet])||void 0===u?void 0:u.toString())||"",v=n.routerState.root.children.map($=>$).find($=>$.outlet===i.snapshot.outlet);if(!v)return Tt(null);let I=v;for(;I.firstChild;)I=I.firstChild;const S=I.pathFromRoot.map($=>{var Q;return null===(Q=$.routeConfig)||void 0===Q?void 0:Q.path}).filter($=>$).join("/")||"/",M={[xS]:S,page_path:`/${p}`,firebase_event_origin:"auto",firebase_screen:S,[vE]:i.snapshot.outlet};e&&(M.page_title=e.getTitle());let P=v.component;if(P){if(P===q_){let $=i.snapshot;for(;$.firstChild;)$=$.firstChild;P=$.component}}else P=i.snapshot.component;if("string"==typeof P)return Tt(Object.assign(Object.assign({},M),{[sf]:P}));if(P){const $=t.resolveComponentFactory(P);return Tt(Object.assign(Object.assign({},M),{[sf]:$.selector}))}return Tt(null)}),ys(i=>!!i),(0,St.U)(i=>Object.assign({firebase_screen_class:i[sf],[DS]:wE(i)},i)),function MO(n,e,t,r){return(0,qr.e)((i,u)=>{let d;e&&"function"!=typeof e?({duration:t,element:d,connector:r}=e):d=e;const p=new Map,v=Q=>{p.forEach(Q),Q(u)},I=Q=>v(le=>le.error(Q));let S=0,M=!1;const P=new Xr.Q(u,Q=>{try{const le=n(Q);let ye=p.get(le);if(!ye){p.set(le,ye=r?r():new Fi.x);const lt=function $(Q,le){const ye=new Xs.y(lt=>{S++;const dt=le.subscribe(lt);return()=>{dt.unsubscribe(),0==--S&&M&&P.unsubscribe()}});return ye.key=Q,ye}(le,ye);if(u.next(lt),t){const dt=(0,Xr.x)(ye,()=>{ye.complete(),dt?.unsubscribe()},void 0,void 0,()=>p.delete(le));P.add((0,Nu.Xf)(t(lt)).subscribe(dt))}}ye.next(d?d(Q):Q)}catch(le){I(le)}},()=>v(Q=>Q.complete()),I,()=>p.clear(),()=>(M=!0,0===S));i.subscribe(P)})}(i=>i[vE]),(0,Ji.z)(i=>i.pipe(_d((u,d)=>JSON.stringify(u)===JSON.stringify(d)),gh(void 0),kg(),(0,St.U)(([u,d])=>u?Object.assign({firebase_previous_class:u[sf],firebase_previous_screen:u[xS],firebase_previous_id:u[DS]},d):d)))))(r,i,u).pipe(ir(v=>(0,WR.mG)(this,void 0,void 0,function*(){return p&&(yield p.initialized),yield t.logEvent("screen_view",v)}))).subscribe()})}ngOnDestroy(){this.disposable&&this.disposable.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(af),l.LFG(Ii,8),l.LFG(Lp,8),l.LFG(l._Vd),l.LFG(l.R0b),l.LFG(Jy,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),JO=(()=>{class n{constructor(t,r,i){$t.Z.registerVersion("angularfire",_n.q4.full,"analytics-compat"),t.app.then(()=>{})}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(af),l.LFG(DE,8),l.LFG(Jy,8))},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[af]}),n})();var SE=V(4986),TB=V(5032);V(5881);var eP=V(3942);const US="@firebase/database",VS="0.13.10";let Xy="";function BS(n){Xy=n}class jS{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),(0,q.Wl)(t))}get(e){const t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:(0,q.cI)(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}class tP{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}get(e){return(0,q.r3)(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}const $S=function(n){try{if(typeof window<"u"&&typeof window[n]<"u"){const e=window[n];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new jS(e)}}catch{}return new tP},yd=$S("localStorage"),xE=$S("sessionStorage"),uf=new da.Yd("@firebase/database"),HS=function(){let n=1;return function(){return n++}}(),GS=function(n){const e=(0,q.dS)(n),t=new q.gQ;t.update(e);const r=t.digest();return q.US.encodeByteArray(r)},qu=function(...n){let e="";for(let t=0;t<n.length;t++){const r=n[t];Array.isArray(r)||r&&"object"==typeof r&&"number"==typeof r.length?e+=qu.apply(null,r):e+="object"==typeof r?(0,q.Wl)(r):r,e+=" "}return e};let Zl=null,NE=!0;const ME=function(n,e){(0,q.hu)(!e||!0===n||!1===n,"Can't turn on custom loggers persistently."),!0===n?(uf.logLevel=da.in.VERBOSE,Zl=uf.log.bind(uf),e&&xE.set("logging_enabled",!0)):"function"==typeof n?Zl=n:(Zl=null,xE.remove("logging_enabled"))},Ui=function(...n){if(!0===NE&&(NE=!1,null===Zl&&!0===xE.get("logging_enabled")&&ME(!0)),Zl){const e=qu.apply(null,n);Zl(e)}},lf=function(n){return function(...e){Ui(n,...e)}},ev=function(...n){const e="FIREBASE INTERNAL ERROR: "+qu(...n);uf.error(e)},Ya=function(...n){const e=`FIREBASE FATAL ERROR: ${qu(...n)}`;throw uf.error(e),new Error(e)},Ps=function(...n){const e="FIREBASE WARNING: "+qu(...n);uf.warn(e)},Lg=function(n){return"number"==typeof n&&(n!=n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},zu="[MIN_NAME]",Qa="[MAX_NAME]",ha=function(n,e){if(n===e)return 0;if(n===zu||e===Qa)return-1;if(e===zu||n===Qa)return 1;{const t=nv(n),r=nv(e);return null!==t?null!==r?t-r==0?n.length-e.length:t-r:-1:null!==r?1:n<e?-1:1}},rP=function(n,e){return n===e?0:n<e?-1:1},vd=function(n,e){if(e&&n in e)return e[n];throw new Error("Missing required key ("+n+") in object: "+(0,q.Wl)(e))},Bo=function(n){if("object"!=typeof n||null===n)return(0,q.Wl)(n);const e=[];for(const r in n)e.push(r);e.sort();let t="{";for(let r=0;r<e.length;r++)0!==r&&(t+=","),t+=(0,q.Wl)(e[r]),t+=":",t+=Bo(n[e[r]]);return t+="}",t},WS=function(n,e){const t=n.length;if(t<=e)return[n];const r=[];for(let i=0;i<t;i+=e)r.push(n.substring(i,i+e>t?t:i+e));return r};function Ci(n,e){for(const t in n)n.hasOwnProperty(t)&&e(t,n[t])}const cf=function(n){(0,q.hu)(!Lg(n),"Invalid JSON number");const r=1023;let i,u,d,p,v;0===n?(u=0,d=0,i=1/n==-1/0?1:0):(i=n<0,(n=Math.abs(n))>=Math.pow(2,1-r)?(p=Math.min(Math.floor(Math.log(n)/Math.LN2),r),u=p+r,d=Math.round(n*Math.pow(2,52-p)-Math.pow(2,52))):(u=0,d=Math.round(n/Math.pow(2,-1074))));const I=[];for(v=52;v;v-=1)I.push(d%2?1:0),d=Math.floor(d/2);for(v=11;v;v-=1)I.push(u%2?1:0),u=Math.floor(u/2);I.push(i?1:0),I.reverse();const S=I.join("");let M="";for(v=0;v<64;v+=8){let P=parseInt(S.substr(v,8),2).toString(16);1===P.length&&(P="0"+P),M+=P}return M.toLowerCase()},tv=new RegExp("^-?(0*)\\d{1,10}$"),Fg=-2147483648,kE=2147483647,nv=function(n){if(tv.test(n)){const e=Number(n);if(e>=Fg&&e<=kE)return e}return null},bd=function(n){try{n()}catch(e){setTimeout(()=>{throw Ps("Exception was thrown by user callback.",e.stack||""),e},Math.floor(0))}},wd=function(n,e){const t=setTimeout(n,e);return"number"==typeof t&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(t):"object"==typeof t&&t.unref&&t.unref(),t};class zS{constructor(e,t){this.appName_=e,this.appCheckProvider=t,this.appCheck=t?.getImmediate({optional:!0}),this.appCheck||t?.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((t,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(t,r):t(null)},0)})}addTokenChangeListener(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){Ps(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class aP{constructor(e,t,r){this.appName_=e,this.firebaseOptions_=t,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(t=>t&&"auth/token-not-initialized"===t.code?(Ui("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)):new Promise((t,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(t,r):t(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(t=>t.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(t=>t.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';e+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Ps(e)}}let Ug=(()=>{class n{constructor(t){this.accessToken=t}getToken(t){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(t){t(this.accessToken)}removeTokenChangeListener(t){}notifyForInvalidToken(){}}return n.OWNER="owner",n})();const ov=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,QS="websocket",LE="long_polling";class Vg{constructor(e,t,r,i,u=!1,d="",p=!1){this.secure=t,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=u,this.persistenceKey=d,this.includeNamespaceInQueryParams=p,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=yd.get("host:"+e)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&yd.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function FE(n,e,t){let r;if((0,q.hu)("string"==typeof e,"typeof type must == string"),(0,q.hu)("object"==typeof t,"typeof params must == object"),e===QS)r=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else{if(e!==LE)throw new Error("Unknown connection type: "+e);r=(n.secure?"https://":"http://")+n.internalHost+"/.lp?"}(function JS(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams})(n)&&(t.ns=n.namespace);const i=[];return Ci(t,(u,d)=>{i.push(u+"="+d)}),r+i.join("&")}class XS{constructor(){this.counters_={}}incrementCounter(e,t=1){(0,q.r3)(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return(0,q.p$)(this.counters_)}}const av={},UE={};function uv(n){const e=n.toString();return av[e]||(av[e]=new XS),av[e]}class uP{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){for(this.pendingResponses[e]=t;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&bd(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class Wl{constructor(e,t,r,i,u,d,p){this.connId=e,this.repoInfo=t,this.applicationId=r,this.appCheckToken=i,this.authToken=u,this.transportSessionId=d,this.lastSessionId=p,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=lf(e),this.stats_=uv(t),this.urlFn=v=>(this.appCheckToken&&(v.ac=this.appCheckToken),FE(t,LE,v))}open(e,t){this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new uP(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(n){if((0,q.Yr)()||"complete"===document.readyState)n();else{let e=!1;const t=function(){document.body?e||(e=!0,n()):setTimeout(t,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",t,!1),window.addEventListener("load",t,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&t()}),window.attachEvent("onload",t))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new jg((...u)=>{const[d,p,v,I,S]=u;if(this.incrementIncomingBytes_(u),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===d)this.id=p,this.password=v;else{if("close"!==d)throw new Error("Unrecognized command received: "+d);p?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(p,()=>{this.onClosed_()})):this.onClosed_()}},(...u)=>{const[d,p]=u;this.incrementIncomingBytes_(u),this.myPacketOrderer.handleResponse(d,p)},()=>{this.onClosed_()},this.urlFn);const r={start:"t"};r.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(r.cb=this.scriptTagHolder.uniqueCallbackIdentifier),r.v="5",this.transportSessionId&&(r.s=this.transportSessionId),this.lastSessionId&&(r.ls=this.lastSessionId),this.applicationId&&(r.p=this.applicationId),this.appCheckToken&&(r.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&ov.test(location.hostname)&&(r.r="f");const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Wl.forceAllow_=!0}static forceDisallow(){Wl.forceDisallow_=!0}static isAvailable(){return!((0,q.Yr)()||!Wl.forceAllow_&&(Wl.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const t=(0,q.Wl)(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const r=(0,q.h$)(t),i=WS(r,1840);for(let u=0;u<i.length;u++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[u]),this.curSegmentNum++}addDisconnectPingFrame(e,t){if((0,q.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const r={dframe:"t"};r.id=e,r.pw=t,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const t=(0,q.Wl)(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}class jg{constructor(e,t,r,i){if(this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,q.Yr)())this.commandCB=e,this.onMessageCB=t;else{this.uniqueCallbackIdentifier=HS(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=t,this.myIFrame=jg.createIFrame_();let u="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(u='<script>document.domain="'+document.domain+'";<\/script>');const d="<html><body>"+u+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(d),this.myIFrame.doc.close()}catch(p){Ui("frame writing exception"),p.stack&&Ui(p.stack),Ui(p)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||Ui("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;let t=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+r.length<=1870;){const d=this.pendingSegs.shift();r=r+"&seg"+i+"="+d.seg+"&ts"+i+"="+d.ts+"&d"+i+"="+d.d,i++}return t+=r,this.addLongPollTag_(t,this.currentSerial),!0}return!1}enqueueSegment(e,t,r){this.pendingSegs.push({seg:e,ts:t,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);const r=()=>{this.outstandingRequests.delete(t),this.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(e,()=>{clearTimeout(i),r()})}addTag(e,t){(0,q.Yr)()?this.doNodeLongPoll(e,t):setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||"loaded"===i||"complete"===i)&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),t())},r.onerror=()=>{Ui("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}let Ed=null;typeof MozWebSocket<"u"?Ed=MozWebSocket:typeof WebSocket<"u"&&(Ed=WebSocket);let ql=(()=>{class n{constructor(t,r,i,u,d,p,v){this.connId=t,this.applicationId=i,this.appCheckToken=u,this.authToken=d,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=lf(this.connId),this.stats_=uv(r),this.connURL=n.connectionURL_(r,p,v,u,i),this.nodeAdmin=r.nodeAdmin}static connectionURL_(t,r,i,u,d){const p={v:"5"};return!(0,q.Yr)()&&typeof location<"u"&&location.hostname&&ov.test(location.hostname)&&(p.r="f"),r&&(p.s=r),i&&(p.ls=i),u&&(p.ac=u),d&&(p.p=d),FE(t,QS,p)}open(t,r){this.onDisconnect=r,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,yd.set("previous_websocket_failure",!0);try{let i;if((0,q.Yr)()){i={headers:{"User-Agent":`Firebase/5/${Xy}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(i.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(i.headers["X-Firebase-AppCheck"]=this.appCheckToken);const d=process.env,p=0===this.connURL.indexOf("wss://")?d.HTTPS_PROXY||d.https_proxy:d.HTTP_PROXY||d.http_proxy;p&&(i.proxy={origin:p})}this.mySock=new Ed(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");const u=i.message||i.data;return u&&this.log_(u),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");const u=i.message||i.data;u&&this.log_(u),this.onClosed_()}}start(){}static forceDisallow(){n.forceDisallow_=!0}static isAvailable(){let t=!1;if(typeof navigator<"u"&&navigator.userAgent){const i=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);i&&i.length>1&&parseFloat(i[1])<4.4&&(t=!0)}return!t&&null!==Ed&&!n.forceDisallow_}static previouslyFailed(){return yd.isInMemoryStorage||!0===yd.get("previous_websocket_failure")}markConnectionHealthy(){yd.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){const r=this.frames.join("");this.frames=null;const i=(0,q.cI)(r);this.onMessage(i)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if((0,q.hu)(null===this.frames,"We already have a frame buffer"),t.length<=6){const r=Number(t);if(!isNaN(r))return this.handleNewFrameCount_(r),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(null===this.mySock)return;const r=t.data;if(this.bytesReceived+=r.length,this.stats_.incrementCounter("bytes_received",r.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(r);else{const i=this.extractFrameCount_(r);null!==i&&this.appendFrame_(i)}}send(t){this.resetKeepAlive();const r=(0,q.Wl)(t);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);const i=WS(r,16384);i.length>1&&this.sendString_(String(i.length));for(let u=0;u<i.length;u++)this.sendString_(i[u])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(t){try{this.mySock.send(t)}catch(r){this.log_("Exception thrown from WebSocket.send():",r.message||r.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return n.responsesRequiredToBeHealthy=2,n.healthyTimeout=3e4,n})(),pP=(()=>{class n{constructor(t){this.initTransports_(t)}static get ALL_TRANSPORTS(){return[Wl,ql]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(t){const r=ql&&ql.isAvailable();let i=r&&!ql.previouslyFailed();if(t.webSocketOnly&&(r||Ps("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[ql];else{const u=this.transports_=[];for(const d of n.ALL_TRANSPORTS)d&&d.isAvailable()&&u.push(d);n.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return n.globalTransportInitialized_=!1,n})();class HE{constructor(e,t,r,i,u,d,p,v,I,S){this.id=e,this.repoInfo_=t,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=u,this.onMessage_=d,this.onReady_=p,this.onDisconnect_=v,this.onKill_=I,this.lastSessionId=S,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=lf("c:"+this.id+":"),this.transportManager_=new pP(t),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(t,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=wd(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return t=>{2!==this.state_&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(e){this.sendData_({t:"d",d:e})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if("t"in e){const t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const t=vd("t",e),r=vd("d",e);if("c"===t)this.onSecondaryControl_(r);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(r)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const t=vd("t",e),r=vd("d",e);"c"===t?this.onControl_(r):"d"===t&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const t=vd("t",e);if("d"in e){const r=e.d;if("h"===t)this.onHandshake_(r);else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(r):"r"===t?this.onReset_(r):"e"===t?ev("Server Error: "+r):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):ev("Unknown control packet command: "+t)}}onHandshake_(e){const t=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),"5"!==r&&Ps("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,r),wd(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):wd(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(yd.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class m1{put(e,t,r,i){}merge(e,t,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,r){}onDisconnectMerge(e,t,r){}onDisconnectCancel(e,t){}reportStats(e){}}class GE{constructor(e){this.allowedEvents_=e,this.listeners_={},(0,q.hu)(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...t){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,t)}}on(e,t,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:r});const i=this.getInitialEvent(e);i&&t.apply(r,i)}off(e,t,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let u=0;u<i.length;u++)if(i[u].callback===t&&(!r||r===i[u].context))return void i.splice(u,1)}validateEventType_(e){(0,q.hu)(this.allowedEvents_.find(t=>t===e),"Unknown event: "+e)}}class $g extends GE{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!(0,q.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new $g}getInitialEvent(e){return(0,q.hu)("online"===e,"Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}class sr{constructor(e,t){if(void 0===t){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}function tr(){return new sr("")}function Sn(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function Ku(n){return n.pieces_.length-n.pieceNum_}function _r(n){let e=n.pieceNum_;return e<n.pieces_.length&&e++,new sr(n.pieces_,e)}function cv(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function Hg(n,e=0){return n.pieces_.slice(n.pieceNum_+e)}function bP(n){if(n.pieceNum_>=n.pieces_.length)return null;const e=[];for(let t=n.pieceNum_;t<n.pieces_.length-1;t++)e.push(n.pieces_[t]);return new sr(e,0)}function Ur(n,e){const t=[];for(let r=n.pieceNum_;r<n.pieces_.length;r++)t.push(n.pieces_[r]);if(e instanceof sr)for(let r=e.pieceNum_;r<e.pieces_.length;r++)t.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&t.push(r[i])}return new sr(t,0)}function On(n){return n.pieceNum_>=n.pieces_.length}function no(n,e){const t=Sn(n),r=Sn(e);if(null===t)return e;if(t===r)return no(_r(n),_r(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+n+")")}function SB(n,e){const t=Hg(n,0),r=Hg(e,0);for(let i=0;i<t.length&&i<r.length;i++){const u=ha(t[i],r[i]);if(0!==u)return u}return t.length===r.length?0:t.length<r.length?-1:1}function v1(n,e){if(Ku(n)!==Ku(e))return!1;for(let t=n.pieceNum_,r=e.pieceNum_;t<=n.pieces_.length;t++,r++)if(n.pieces_[t]!==e.pieces_[r])return!1;return!0}function fa(n,e){let t=n.pieceNum_,r=e.pieceNum_;if(Ku(n)>Ku(e))return!1;for(;t<n.pieces_.length;){if(n.pieces_[t]!==e.pieces_[r])return!1;++t,++r}return!0}class xB{constructor(e,t){this.errorPrefix_=t,this.parts_=Hg(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=(0,q.ug)(this.parts_[r]);Gg(this)}}function Gg(n){if(n.byteLength_>768)throw new Error(n.errorPrefix_+"has a key path longer than 768 bytes ("+n.byteLength_+").");if(n.parts_.length>32)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+ff(n))}function ff(n){return 0===n.parts_.length?"":"in property '"+n.parts_.join(".")+"'"}class dv extends GE{constructor(){let e,t;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(t="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(t="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(t="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new dv}getInitialEvent(e){return(0,q.hu)("visible"===e,"Unknown event type: "+e),[this.visible_]}}const zl=1e3;let hv,Kl=(()=>{class n extends m1{constructor(t,r,i,u,d,p,v,I){if(super(),this.repoInfo_=t,this.applicationId_=r,this.onDataUpdate_=i,this.onConnectStatus_=u,this.onServerInfoUpdate_=d,this.authTokenProvider_=p,this.appCheckTokenProvider_=v,this.authOverride_=I,this.id=n.nextPersistentConnectionId_++,this.log_=lf("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=zl,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,I&&!(0,q.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");dv.getInstance().on("visible",this.onVisible_,this),-1===t.host.indexOf("fblocal")&&$g.getInstance().on("online",this.onOnline_,this)}sendRequest(t,r,i){const u=++this.requestNumber_,d={r:u,a:t,b:r};this.log_((0,q.Wl)(d)),(0,q.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(d),i&&(this.requestCBHash_[u]=i)}get(t){this.initConnection_();const r=new q.BH,u={action:"g",request:{p:t._path.toString(),q:t._queryObject},onComplete:p=>{const v=p.d;"ok"===p.s?r.resolve(v):r.reject(v)}};return this.outstandingGets_.push(u),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),r.promise}listen(t,r,i,u){this.initConnection_();const d=t._queryIdentifier,p=t._path.toString();this.log_("Listen called for "+p+" "+d),this.listens.has(p)||this.listens.set(p,new Map),(0,q.hu)(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,q.hu)(!this.listens.get(p).has(d),"listen() called twice for same path/queryId.");const v={onComplete:u,hashFn:r,query:t,tag:i};this.listens.get(p).set(d,v),this.connected_&&this.sendListen_(v)}sendGet_(t){const r=this.outstandingGets_[t];this.sendRequest("g",r.request,i=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),r.onComplete&&r.onComplete(i)})}sendListen_(t){const r=t.query,i=r._path.toString(),u=r._queryIdentifier;this.log_("Listen on "+i+" for "+u);const d={p:i};t.tag&&(d.q=r._queryObject,d.t=t.tag),d.h=t.hashFn(),this.sendRequest("q",d,v=>{const I=v.d,S=v.s;n.warnOnListenWarnings_(I,r),(this.listens.get(i)&&this.listens.get(i).get(u))===t&&(this.log_("listen response",v),"ok"!==S&&this.removeListen_(i,u),t.onComplete&&t.onComplete(S,I))})}static warnOnListenWarnings_(t,r){if(t&&"object"==typeof t&&(0,q.r3)(t,"w")){const i=(0,q.DV)(t,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){const u='".indexOn": "'+r._queryParams.getIndex().toString()+'"',d=r._path.toString();Ps(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${u} at ${d} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&40===t.length||(0,q.GJ)(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const t=this.authToken_,r=(0,q.w9)(t)?"auth":"gauth",i={cred:t};null===this.authOverride_?i.noauth=!0:"object"==typeof this.authOverride_&&(i.authvar=this.authOverride_),this.sendRequest(r,i,u=>{const d=u.s,p=u.d||"error";this.authToken_===t&&("ok"===d?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(d,p))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{const r=t.s,i=t.d||"error";"ok"===r?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(r,i)})}unlisten(t,r){const i=t._path.toString(),u=t._queryIdentifier;this.log_("Unlisten called for "+i+" "+u),(0,q.hu)(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,u)&&this.connected_&&this.sendUnlisten_(i,u,t._queryObject,r)}sendUnlisten_(t,r,i,u){this.log_("Unlisten on "+t+" for "+r);const d={p:t};u&&(d.q=i,d.t=u),this.sendRequest("n",d)}onDisconnectPut(t,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,r,i):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:r,onComplete:i})}onDisconnectMerge(t,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,r,i):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:r,onComplete:i})}onDisconnectCancel(t,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:r})}sendOnDisconnect_(t,r,i,u){const d={p:r,d:i};this.log_("onDisconnect "+t,d),this.sendRequest(t,d,p=>{u&&setTimeout(()=>{u(p.s,p.d)},Math.floor(0))})}put(t,r,i,u){this.putInternal("p",t,r,i,u)}merge(t,r,i,u){this.putInternal("m",t,r,i,u)}putInternal(t,r,i,u,d){this.initConnection_();const p={p:r,d:i};void 0!==d&&(p.h=d),this.outstandingPuts_.push({action:t,request:p,onComplete:u}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+r)}sendPut_(t){const r=this.outstandingPuts_[t].action,i=this.outstandingPuts_[t].request,u=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(r,i,d=>{this.log_(r+" response",d),delete this.outstandingPuts_[t],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),u&&u(d.s,d.d)})}reportStats(t){if(this.connected_){const r={c:t};this.log_("reportStats",r),this.sendRequest("s",r,i=>{"ok"!==i.s&&this.log_("reportStats","Error sending stats: "+i.d)})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+(0,q.Wl)(t));const r=t.r,i=this.requestCBHash_[r];i&&(delete this.requestCBHash_[r],i(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,r){this.log_("handleServerMessage",t,r),"d"===t?this.onDataUpdate_(r.p,r.d,!1,r.t):"m"===t?this.onDataUpdate_(r.p,r.d,!0,r.t):"c"===t?this.onListenRevoked_(r.p,r.q):"ac"===t?this.onAuthRevoked_(r.s,r.d):"apc"===t?this.onAppCheckRevoked_(r.s,r.d):"sd"===t?this.onSecurityDebugPacket_(r):ev("Unrecognized action received from server: "+(0,q.Wl)(t)+"\nAre you using the latest client?")}onReady_(t,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(t),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){(0,q.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=zl,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=zl,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=zl),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const t=(new Date).getTime()-this.lastConnectionAttemptTime_;let r=Math.max(0,this.reconnectDelay_-t);r=Math.random()*r,this.log_("Trying to reconnect in "+r+"ms"),this.scheduleConnect_(r),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var t=this;return(0,Re.Z)(function*(){if(t.shouldReconnect_()){t.log_("Making a connection attempt"),t.lastConnectionAttemptTime_=(new Date).getTime(),t.lastConnectionEstablishedTime_=null;const r=t.onDataMessage_.bind(t),i=t.onReady_.bind(t),u=t.onRealtimeDisconnect_.bind(t),d=t.id+":"+n.nextConnectionId_++,p=t.lastSessionId;let v=!1,I=null;const S=function(){I?I.close():(v=!0,u())};t.realtime_={close:S,sendRequest:function($){(0,q.hu)(I,"sendRequest call when we're not connected not allowed."),I.sendRequest($)}};const P=t.forceTokenRefresh_;t.forceTokenRefresh_=!1;try{const[$,Q]=yield Promise.all([t.authTokenProvider_.getToken(P),t.appCheckTokenProvider_.getToken(P)]);v?Ui("getToken() completed but was canceled"):(Ui("getToken() completed. Creating connection."),t.authToken_=$&&$.accessToken,t.appCheckToken_=Q&&Q.token,I=new HE(d,t.repoInfo_,t.applicationId_,t.appCheckToken_,t.authToken_,r,i,u,le=>{Ps(le+" ("+t.repoInfo_.toString()+")"),t.interrupt("server_kill")},p))}catch($){t.log_("Failed to get token: "+$),v||(t.repoInfo_.nodeAdmin&&Ps($),S())}}})()}interrupt(t){Ui("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){Ui("Resuming connection for reason: "+t),delete this.interruptReasons_[t],(0,q.xb)(this.interruptReasons_)&&(this.reconnectDelay_=zl,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){const r=t-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:r})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){const r=this.outstandingPuts_[t];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(t,r){let i;i=r?r.map(d=>Bo(d)).join("$"):"default";const u=this.removeListen_(t,i);u&&u.onComplete&&u.onComplete("permission_denied")}removeListen_(t,r){const i=new sr(t).toString();let u;if(this.listens.has(i)){const d=this.listens.get(i);u=d.get(r),d.delete(r),0===d.size&&this.listens.delete(i)}else u=void 0;return u}onAuthRevoked_(t,r){Ui("Auth token revoked: "+t+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===t||"permission_denied"===t)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,r){Ui("App check token revoked: "+t+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===t||"permission_denied"===t)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const t of this.listens.values())for(const r of t.values())this.sendListen_(r);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){const t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){const t={};let r="js";(0,q.Yr)()&&(r=this.repoInfo_.nodeAdmin?"admin_node":"node"),t["sdk."+r+"."+Xy.replace(/\./g,"-")]=1,(0,q.uI)()?t["framework.cordova"]=1:(0,q.b$)()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){const t=$g.getInstance().currentlyOnline();return(0,q.xb)(this.interruptReasons_)&&t}}return n.nextPersistentConnectionId_=0,n.nextConnectionId_=0,n})();class Un{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new Un(e,t)}}class qE{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){const r=new Un(zu,e),i=new Un(zu,t);return 0!==this.compare(r,i)}minPost(){return Un.MIN}}class I1 extends qE{static get __EMPTY_NODE(){return hv}static set __EMPTY_NODE(e){hv=e}compare(e,t){return ha(e.name,t.name)}isDefinedOn(e){throw(0,q.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,t){return!1}minPost(){return Un.MIN}maxPost(){return new Un(Qa,hv)}makePost(e,t){return(0,q.hu)("string"==typeof e,"KeyIndex indexValue must always be a string."),new Un(e,hv)}toString(){return".key"}}const po=new I1;class fv{constructor(e,t,r,i,u=null){this.isReverse_=i,this.resultGenerator_=u,this.nodeStack_=[];let d=1;for(;!e.isEmpty();)if(d=t?r(e.key,t):1,i&&(d*=-1),d<0)e=this.isReverse_?e.left:e.right;else{if(0===d){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}getNext(){if(0===this.nodeStack_.length)return null;let t,e=this.nodeStack_.pop();if(t=this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}let KE,Ja=(()=>{class n{constructor(t,r,i,u,d){this.key=t,this.value=r,this.color=i??n.RED,this.left=u??go.EMPTY_NODE,this.right=d??go.EMPTY_NODE}copy(t,r,i,u,d){return new n(t??this.key,r??this.value,i??this.color,u??this.left,d??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,r,i){let u=this;const d=i(t,u.key);return u=d<0?u.copy(null,null,null,u.left.insert(t,r,i),null):0===d?u.copy(null,r,null,null,null):u.copy(null,null,null,null,u.right.insert(t,r,i)),u.fixUp_()}removeMin_(){if(this.left.isEmpty())return go.EMPTY_NODE;let t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,r){let i,u;if(i=this,r(t,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(t,r),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),0===r(t,i.key)){if(i.right.isEmpty())return go.EMPTY_NODE;u=i.right.min_(),i=i.copy(u.key,u.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(t,r))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){const t=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){const t=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){const t=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,r)}checkMaxDepth_(){const t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}}return n.RED=!0,n.BLACK=!1,n})();class go{constructor(e,t=go.EMPTY_NODE){this.comparator_=e,this.root_=t}insert(e,t){return new go(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,Ja.BLACK,null,null))}remove(e){return new go(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Ja.BLACK,null,null))}get(e){let t,r=this.root_;for(;!r.isEmpty();){if(t=this.comparator_(e,r.key),0===t)return r.value;t<0?r=r.left:t>0&&(r=r.right)}return null}getPredecessorKey(e){let t,r=this.root_,i=null;for(;!r.isEmpty();){if(t=this.comparator_(e,r.key),0===t){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}t<0?r=r.left:t>0&&(i=r,r=r.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new fv(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new fv(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new fv(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new fv(this.root_,null,this.comparator_,!0,e)}}function wP(n,e){return ha(n.name,e.name)}function zE(n,e){return ha(n,e)}go.EMPTY_NODE=new class RB{copy(e,t,r,i,u){return this}insert(e,t,r){return new Ja(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const C1=function(n){return"number"==typeof n?"number:"+cf(n):"string:"+n},YE=function(n){if(n.isLeafNode()){const e=n.val();(0,q.hu)("string"==typeof e||"number"==typeof e||"object"==typeof e&&(0,q.r3)(e,".sv"),"Priority must be a string or number.")}else(0,q.hu)(n===KE||n.isEmpty(),"priority of unexpected type.");(0,q.hu)(n===KE||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let QE,jo,T1,Zg=(()=>{class n{constructor(t,r=n.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=r,this.lazyHash_=null,(0,q.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),YE(this.priorityNode_)}static set __childrenNodeConstructor(t){QE=t}static get __childrenNodeConstructor(){return QE}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new n(this.value_,t)}getImmediateChild(t){return".priority"===t?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return On(t)?this:".priority"===Sn(t)?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,r){return null}updateImmediateChild(t,r){return".priority"===t?this.updatePriority(r):r.isEmpty()&&".priority"!==t?this:n.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,r).updatePriority(this.priorityNode_)}updateChild(t,r){const i=Sn(t);return null===i?r:r.isEmpty()&&".priority"!==i?this:((0,q.hu)(".priority"!==i||1===Ku(t),".priority must be the last token in a path"),this.updateImmediateChild(i,n.__childrenNodeConstructor.EMPTY_NODE.updateChild(_r(t),r)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,r){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+C1(this.priorityNode_.val())+":");const r=typeof this.value_;t+=r+":",t+="number"===r?cf(this.value_):this.value_,this.lazyHash_=GS(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===n.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof n.__childrenNodeConstructor?-1:((0,q.hu)(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){const r=typeof t.value_,i=typeof this.value_,u=n.VALUE_TYPE_ORDER.indexOf(r),d=n.VALUE_TYPE_ORDER.indexOf(i);return(0,q.hu)(u>=0,"Unknown leaf type: "+r),(0,q.hu)(d>=0,"Unknown leaf type: "+i),u===d?"object"===i?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:d-u}withIndex(){return this}isIndexed(){return!0}equals(t){if(t===this)return!0;if(t.isLeafNode()){const r=t;return this.value_===r.value_&&this.priorityNode_.equals(r.priorityNode_)}return!1}}return n.VALUE_TYPE_ORDER=["object","boolean","number","string"],n})();const Vn=new class PB extends qE{compare(e,t){const r=e.node.getPriority(),i=t.node.getPriority(),u=r.compareTo(i);return 0===u?ha(e.name,t.name):u}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return Un.MIN}maxPost(){return new Un(Qa,new Zg("[PRIORITY-POST]",T1))}makePost(e,t){const r=jo(e);return new Un(t,new Zg("[PRIORITY-POST]",r))}toString(){return".priority"}},IP=Math.log(2);class XE{constructor(e){this.count=parseInt(Math.log(e+1)/IP,10),this.current_=this.count-1;const i=(u=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const pv=function(n,e,t,r){n.sort(e);const i=function(v,I){const S=I-v;let M,P;if(0===S)return null;if(1===S)return M=n[v],P=t?t(M):M,new Ja(P,M.node,Ja.BLACK,null,null);{const $=parseInt(S/2,10)+v,Q=i(v,$),le=i($+1,I);return M=n[$],P=t?t(M):M,new Ja(P,M.node,Ja.BLACK,Q,le)}},p=function(v){let I=null,S=null,M=n.length;const P=function(Q,le){const ye=M-Q,lt=M;M-=Q;const dt=i(ye+1,lt),bt=n[ye],_t=t?t(bt):bt;$(new Ja(_t,bt.node,le,null,dt))},$=function(Q){I?(I.left=Q,I=Q):(S=Q,I=Q)};for(let Q=0;Q<v.count;++Q){const le=v.nextBitIsOne(),ye=Math.pow(2,v.count-(Q+1));le?P(ye,Ja.BLACK):(P(ye,Ja.BLACK),P(ye,Ja.RED))}return S}(new XE(n.length));return new go(r||e,p)};let eI;const Yl={};class Xa{constructor(e,t){this.indexes_=e,this.indexSet_=t}static get Default(){return(0,q.hu)(Yl&&Vn,"ChildrenNode.ts has not been loaded"),eI=eI||new Xa({".priority":Yl},{".priority":Vn}),eI}get(e){const t=(0,q.DV)(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof go?t:null}hasIndex(e){return(0,q.r3)(this.indexSet_,e.toString())}addIndex(e,t){(0,q.hu)(e!==po,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const u=t.getIterator(Un.Wrap);let p,d=u.getNext();for(;d;)i=i||e.isDefinedOn(d.node),r.push(d),d=u.getNext();p=i?pv(r,e.getCompare()):Yl;const v=e.toString(),I=Object.assign({},this.indexSet_);I[v]=e;const S=Object.assign({},this.indexes_);return S[v]=p,new Xa(S,I)}addToIndexes(e,t){const r=(0,q.UI)(this.indexes_,(i,u)=>{const d=(0,q.DV)(this.indexSet_,u);if((0,q.hu)(d,"Missing index implementation for "+u),i===Yl){if(d.isDefinedOn(e.node)){const p=[],v=t.getIterator(Un.Wrap);let I=v.getNext();for(;I;)I.name!==e.name&&p.push(I),I=v.getNext();return p.push(e),pv(p,d.getCompare())}return Yl}{const p=t.get(e.name);let v=i;return p&&(v=v.remove(new Un(e.name,p))),v.insert(e,e.node)}});return new Xa(r,this.indexSet_)}removeFromIndexes(e,t){const r=(0,q.UI)(this.indexes_,i=>{if(i===Yl)return i;{const u=t.get(e.name);return u?i.remove(new Un(e.name,u)):i}});return new Xa(r,this.indexSet_)}}let pf,yn=(()=>{class n{constructor(t,r,i){this.children_=t,this.priorityNode_=r,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&YE(this.priorityNode_),this.children_.isEmpty()&&(0,q.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return pf||(pf=new n(new go(zE),null,Xa.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||pf}updatePriority(t){return this.children_.isEmpty()?this:new n(this.children_,t,this.indexMap_)}getImmediateChild(t){if(".priority"===t)return this.getPriority();{const r=this.children_.get(t);return null===r?pf:r}}getChild(t){const r=Sn(t);return null===r?this:this.getImmediateChild(r).getChild(_r(t))}hasChild(t){return null!==this.children_.get(t)}updateImmediateChild(t,r){if((0,q.hu)(r,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(r);{const i=new Un(t,r);let u,d;r.isEmpty()?(u=this.children_.remove(t),d=this.indexMap_.removeFromIndexes(i,this.children_)):(u=this.children_.insert(t,r),d=this.indexMap_.addToIndexes(i,this.children_));const p=u.isEmpty()?pf:this.priorityNode_;return new n(u,p,d)}}updateChild(t,r){const i=Sn(t);if(null===i)return r;{(0,q.hu)(".priority"!==Sn(t)||1===Ku(t),".priority must be the last token in a path");const u=this.getImmediateChild(i).updateChild(_r(t),r);return this.updateImmediateChild(i,u)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;const r={};let i=0,u=0,d=!0;if(this.forEachChild(Vn,(p,v)=>{r[p]=v.val(t),i++,d&&n.INTEGER_REGEXP_.test(p)?u=Math.max(u,Number(p)):d=!1}),!t&&d&&u<2*i){const p=[];for(const v in r)p[v]=r[v];return p}return t&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r}hash(){if(null===this.lazyHash_){let t="";this.getPriority().isEmpty()||(t+="priority:"+C1(this.getPriority().val())+":"),this.forEachChild(Vn,(r,i)=>{const u=i.hash();""!==u&&(t+=":"+r+":"+u)}),this.lazyHash_=""===t?"":GS(t)}return this.lazyHash_}getPredecessorChildName(t,r,i){const u=this.resolveIndex_(i);if(u){const d=u.getPredecessorKey(new Un(t,r));return d?d.name:null}return this.children_.getPredecessorKey(t)}getFirstChildName(t){const r=this.resolveIndex_(t);if(r){const i=r.minKey();return i&&i.name}return this.children_.minKey()}getFirstChild(t){const r=this.getFirstChildName(t);return r?new Un(r,this.children_.get(r)):null}getLastChildName(t){const r=this.resolveIndex_(t);if(r){const i=r.maxKey();return i&&i.name}return this.children_.maxKey()}getLastChild(t){const r=this.getLastChildName(t);return r?new Un(r,this.children_.get(r)):null}forEachChild(t,r){const i=this.resolveIndex_(t);return i?i.inorderTraversal(u=>r(u.name,u.node)):this.children_.inorderTraversal(r)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,r){const i=this.resolveIndex_(r);if(i)return i.getIteratorFrom(t,u=>u);{const u=this.children_.getIteratorFrom(t.name,Un.Wrap);let d=u.peek();for(;null!=d&&r.compare(d,t)<0;)u.getNext(),d=u.peek();return u}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,r){const i=this.resolveIndex_(r);if(i)return i.getReverseIteratorFrom(t,u=>u);{const u=this.children_.getReverseIteratorFrom(t.name,Un.Wrap);let d=u.peek();for(;null!=d&&r.compare(d,t)>0;)u.getNext(),d=u.peek();return u}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===gf?-1:0}withIndex(t){if(t===po||this.indexMap_.hasIndex(t))return this;{const r=this.indexMap_.addIndex(t,this.children_);return new n(this.children_,this.priorityNode_,r)}}isIndexed(t){return t===po||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{const r=t;if(this.getPriority().equals(r.getPriority())){if(this.children_.count()===r.children_.count()){const i=this.getIterator(Vn),u=r.getIterator(Vn);let d=i.getNext(),p=u.getNext();for(;d&&p;){if(d.name!==p.name||!d.node.equals(p.node))return!1;d=i.getNext(),p=u.getNext()}return null===d&&null===p}return!1}return!1}}resolveIndex_(t){return t===po?null:this.indexMap_.get(t.toString())}}return n.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,n})();const gf=new class A1 extends yn{constructor(){super(new go(zE),yn.EMPTY_NODE,Xa.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return yn.EMPTY_NODE}isEmpty(){return!1}};function zr(n,e=null){if(null===n)return yn.EMPTY_NODE;if("object"==typeof n&&".priority"in n&&(e=n[".priority"]),(0,q.hu)(null===e||"string"==typeof e||"number"==typeof e||"object"==typeof e&&".sv"in e,"Invalid priority type found: "+typeof e),"object"==typeof n&&".value"in n&&null!==n[".value"]&&(n=n[".value"]),"object"!=typeof n||".sv"in n)return new Zg(n,zr(e));if(n instanceof Array){let t=yn.EMPTY_NODE;return Ci(n,(r,i)=>{if((0,q.r3)(n,r)&&"."!==r.substring(0,1)){const u=zr(i);(u.isLeafNode()||!u.isEmpty())&&(t=t.updateImmediateChild(r,u))}}),t.updatePriority(zr(e))}{const t=[];let r=!1;if(Ci(n,(d,p)=>{if("."!==d.substring(0,1)){const v=zr(p);v.isEmpty()||(r=r||!v.getPriority().isEmpty(),t.push(new Un(d,v)))}}),0===t.length)return yn.EMPTY_NODE;const u=pv(t,wP,d=>d.name,zE);if(r){const d=pv(t,Vn.getCompare());return new yn(u,zr(e),new Xa({".priority":d},{".priority":Vn}))}return new yn(u,zr(e),Xa.Default)}}Object.defineProperties(Un,{MIN:{value:new Un(zu,yn.EMPTY_NODE)},MAX:{value:new Un(Qa,gf)}}),I1.__EMPTY_NODE=yn.EMPTY_NODE,Zg.__childrenNodeConstructor=yn,function OB(n){KE=n}(gf),function EP(n){T1=n}(gf),function JE(n){jo=n}(zr);class tI extends qE{constructor(e){super(),this.indexPath_=e,(0,q.hu)(!On(e)&&".priority"!==Sn(e),"Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,t){const r=this.extractChild(e.node),i=this.extractChild(t.node),u=r.compareTo(i);return 0===u?ha(e.name,t.name):u}makePost(e,t){const r=zr(e),i=yn.EMPTY_NODE.updateChild(this.indexPath_,r);return new Un(t,i)}maxPost(){const e=yn.EMPTY_NODE.updateChild(this.indexPath_,gf);return new Un(Qa,e)}toString(){return Hg(this.indexPath_,0).join("/")}}const eu=new class nI extends qE{compare(e,t){const r=e.node.compareTo(t.node);return 0===r?ha(e.name,t.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,t){return!e.equals(t)}minPost(){return Un.MIN}maxPost(){return Un.MAX}makePost(e,t){const r=zr(e);return new Un(t,r)}toString(){return".value"}},Id="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",LB=function(){let n=0;const e=[];return function(t){const r=t===n;let i;n=t;const u=new Array(8);for(i=7;i>=0;i--)u[i]=Id.charAt(t%64),t=Math.floor(t/64);(0,q.hu)(0===t,"Cannot push at time == 0");let d=u.join("");if(r){for(i=11;i>=0&&63===e[i];i--)e[i]=0;e[i]++}else for(i=0;i<12;i++)e[i]=Math.floor(64*Math.random());for(i=0;i<12;i++)d+=Id.charAt(e[i]);return(0,q.hu)(20===d.length,"nextPushId: Length should be 20."),d}}(),S1=function(n){if(n===""+kE)return"-";const e=nv(n);if(null!=e)return""+(e+1);const t=new Array(n.length);for(let d=0;d<t.length;d++)t[d]=n.charAt(d);if(t.length<786)return t.push("-"),t.join("");let r=t.length-1;for(;r>=0&&"z"===t[r];)r--;if(-1===r)return Qa;const u=Id.charAt(Id.indexOf(t[r])+1);return t[r]=u,t.slice(0,r+1).join("")},x1=function(n){if(n===""+Fg)return zu;const e=nv(n);if(null!=e)return""+(e-1);const t=new Array(n.length);for(let r=0;r<t.length;r++)t[r]=n.charAt(r);return"-"===t[t.length-1]?1===t.length?""+kE:(delete t[t.length-1],t.join("")):(t[t.length-1]=Id.charAt(Id.indexOf(t[t.length-1])-1),t.join("")+"z".repeat(786-t.length))};function N1(n){return{type:"value",snapshotNode:n}}function mf(n,e){return{type:"child_added",snapshotNode:e,childName:n}}function _f(n,e){return{type:"child_removed",snapshotNode:e,childName:n}}function gv(n,e,t){return{type:"child_changed",snapshotNode:e,childName:n,oldSnap:t}}class rI{constructor(e){this.index_=e}updateChild(e,t,r,i,u,d){(0,q.hu)(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const p=e.getImmediateChild(t);return p.getChild(i).equals(r.getChild(i))&&p.isEmpty()===r.isEmpty()||(null!=d&&(r.isEmpty()?e.hasChild(t)?d.trackChildChange(_f(t,p)):(0,q.hu)(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):p.isEmpty()?d.trackChildChange(mf(t,r)):d.trackChildChange(gv(t,r,p))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(t,r).withIndex(this.index_)}updateFullNode(e,t,r){return null!=r&&(e.isLeafNode()||e.forEachChild(Vn,(i,u)=>{t.hasChild(i)||r.trackChildChange(_f(i,u))}),t.isLeafNode()||t.forEachChild(Vn,(i,u)=>{if(e.hasChild(i)){const d=e.getImmediateChild(i);d.equals(u)||r.trackChildChange(gv(i,u,d))}else r.trackChildChange(mf(i,u))})),t.withIndex(this.index_)}updatePriority(e,t){return e.isEmpty()?yn.EMPTY_NODE:e.updatePriority(t)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class yf{constructor(e){this.indexedFilter_=new rI(e.getIndex()),this.index_=e.getIndex(),this.startPost_=yf.getStartPost_(e),this.endPost_=yf.getEndPost_(e)}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){return this.index_.compare(this.getStartPost(),e)<=0&&this.index_.compare(e,this.getEndPost())<=0}updateChild(e,t,r,i,u,d){return this.matches(new Un(t,r))||(r=yn.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,r,i,u,d)}updateFullNode(e,t,r){t.isLeafNode()&&(t=yn.EMPTY_NODE);let i=t.withIndex(this.index_);i=i.updatePriority(yn.EMPTY_NODE);const u=this;return t.forEachChild(Vn,(d,p)=>{u.matches(new Un(d,p))||(i=i.updateImmediateChild(d,yn.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,i,r)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}return e.getIndex().maxPost()}}class FB{constructor(e){this.rangedFilter_=new yf(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft()}updateChild(e,t,r,i,u,d){return this.rangedFilter_.matches(new Un(t,r))||(r=yn.EMPTY_NODE),e.getImmediateChild(t).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,r,i,u,d):this.fullLimitUpdateChild_(e,t,r,u,d)}updateFullNode(e,t,r){let i;if(t.isLeafNode()||t.isEmpty())i=yn.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){let u;i=yn.EMPTY_NODE.withIndex(this.index_),u=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let d=0;for(;u.hasNext()&&d<this.limit_;){const p=u.getNext();let v;if(v=this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),p)<=0:this.index_.compare(p,this.rangedFilter_.getEndPost())<=0,!v)break;i=i.updateImmediateChild(p.name,p.node),d++}}else{let u,d,p,v;if(i=t.withIndex(this.index_),i=i.updatePriority(yn.EMPTY_NODE),this.reverse_){v=i.getReverseIterator(this.index_),u=this.rangedFilter_.getEndPost(),d=this.rangedFilter_.getStartPost();const M=this.index_.getCompare();p=(P,$)=>M($,P)}else v=i.getIterator(this.index_),u=this.rangedFilter_.getStartPost(),d=this.rangedFilter_.getEndPost(),p=this.index_.getCompare();let I=0,S=!1;for(;v.hasNext();){const M=v.getNext();!S&&p(u,M)<=0&&(S=!0),S&&I<this.limit_&&p(M,d)<=0?I++:i=i.updateImmediateChild(M.name,yn.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,r)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,t,r,i,u){let d;if(this.reverse_){const M=this.index_.getCompare();d=(P,$)=>M($,P)}else d=this.index_.getCompare();const p=e;(0,q.hu)(p.numChildren()===this.limit_,"");const v=new Un(t,r),I=this.reverse_?p.getFirstChild(this.index_):p.getLastChild(this.index_),S=this.rangedFilter_.matches(v);if(p.hasChild(t)){const M=p.getImmediateChild(t);let P=i.getChildAfterChild(this.index_,I,this.reverse_);for(;null!=P&&(P.name===t||p.hasChild(P.name));)P=i.getChildAfterChild(this.index_,P,this.reverse_);const $=null==P?1:d(P,v);if(S&&!r.isEmpty()&&$>=0)return u?.trackChildChange(gv(t,r,M)),p.updateImmediateChild(t,r);{u?.trackChildChange(_f(t,M));const le=p.updateImmediateChild(t,yn.EMPTY_NODE);return null!=P&&this.rangedFilter_.matches(P)?(u?.trackChildChange(mf(P.name,P.node)),le.updateImmediateChild(P.name,P.node)):le}}return r.isEmpty()?e:S&&d(I,v)>=0?(null!=u&&(u.trackChildChange(_f(I.name,I.node)),u.trackChildChange(mf(t,r))),p.updateImmediateChild(t,r).updateImmediateChild(I.name,yn.EMPTY_NODE)):e}}class vf{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Vn}hasStart(){return this.startSet_}hasStartAfter(){return this.startAfterSet_}hasEndBefore(){return this.endBeforeSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,q.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,q.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:zu}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,q.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,q.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Qa}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,q.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Vn}copy(){const e=new vf;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function mv(n,e,t){const r=n.copy();return r.startSet_=!0,void 0===e&&(e=null),r.indexStartValue_=e,null!=t?(r.startNameSet_=!0,r.indexStartName_=t):(r.startNameSet_=!1,r.indexStartName_=""),r}function bf(n,e,t){const r=n.copy();return r.endSet_=!0,void 0===e&&(e=null),r.indexEndValue_=e,void 0!==t?(r.endNameSet_=!0,r.indexEndName_=t):(r.endNameSet_=!1,r.indexEndName_=""),r}function qg(n,e){const t=n.copy();return t.index_=e,t}function L1(n){const e={};if(n.isDefault())return e;let t;return n.index_===Vn?t="$priority":n.index_===eu?t="$value":n.index_===po?t="$key":((0,q.hu)(n.index_ instanceof tI,"Unrecognized index type!"),t=n.index_.toString()),e.orderBy=(0,q.Wl)(t),n.startSet_&&(e.startAt=(0,q.Wl)(n.indexStartValue_),n.startNameSet_&&(e.startAt+=","+(0,q.Wl)(n.indexStartName_))),n.endSet_&&(e.endAt=(0,q.Wl)(n.indexEndValue_),n.endNameSet_&&(e.endAt+=","+(0,q.Wl)(n.indexEndName_))),n.limitSet_&&(n.isViewFromLeft()?e.limitToFirst=n.limit_:e.limitToLast=n.limit_),e}function F1(n){const e={};if(n.startSet_&&(e.sp=n.indexStartValue_,n.startNameSet_&&(e.sn=n.indexStartName_)),n.endSet_&&(e.ep=n.indexEndValue_,n.endNameSet_&&(e.en=n.indexEndName_)),n.limitSet_){e.l=n.limit_;let t=n.viewFrom_;""===t&&(t=n.isViewFromLeft()?"l":"r"),e.vf=t}return n.index_!==Vn&&(e.i=n.index_.toString()),e}class iI extends m1{constructor(e,t,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=t,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=lf("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,t){return void 0!==t?"tag$"+t:((0,q.hu)(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,t,r,i){const u=e._path.toString();this.log_("Listen called for "+u+" "+e._queryIdentifier);const d=iI.getListenId_(e,r),p={};this.listens_[d]=p;const v=L1(e._queryParams);this.restRequest_(u+".json",v,(I,S)=>{let M=S;if(404===I&&(M=null,I=null),null===I&&this.onDataUpdate_(u,M,!1,r),(0,q.DV)(this.listens_,d)===p){let P;P=I?401===I?"permission_denied":"rest_error:"+I:"ok",i(P,null)}})}unlisten(e,t){const r=iI.getListenId_(e,t);delete this.listens_[r]}get(e){const t=L1(e._queryParams),r=e._path.toString(),i=new q.BH;return this.restRequest_(r+".json",t,(u,d)=>{let p=d;404===u&&(p=null,u=null),null===u?(this.onDataUpdate_(r,p,!1,null),i.resolve(p)):i.reject(new Error(p))}),i.promise}refreshAuthToken(e){}restRequest_(e,t={},r){return t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,u])=>{i&&i.accessToken&&(t.auth=i.accessToken),u&&u.token&&(t.ac=u.token);const d=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+(0,q.xO)(t);this.log_("Sending REST request for "+d);const p=new XMLHttpRequest;p.onreadystatechange=()=>{if(r&&4===p.readyState){this.log_("REST Response for "+d+" received. status:",p.status,"response:",p.responseText);let v=null;if(p.status>=200&&p.status<300){try{v=(0,q.cI)(p.responseText)}catch{Ps("Failed to parse JSON response for "+d+": "+p.responseText)}r(null,v)}else 401!==p.status&&404!==p.status&&Ps("Got unsuccessful REST response for "+d+" Status: "+p.status),r(p.status);r=null}},p.open("GET",d,!0),p.send()})}}class UB{constructor(){this.rootNode_=yn.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}function sI(){return{value:null,children:new Map}}function Cd(n,e,t){if(On(e))n.value=t,n.children.clear();else if(null!==n.value)n.value=n.value.updateChild(e,t);else{const r=Sn(e);n.children.has(r)||n.children.set(r,sI()),Cd(n.children.get(r),e=_r(e),t)}}function oI(n,e){if(On(e))return n.value=null,n.children.clear(),!0;if(null!==n.value){if(n.value.isLeafNode())return!1;{const t=n.value;return n.value=null,t.forEachChild(Vn,(r,i)=>{Cd(n,new sr(r),i)}),oI(n,e)}}if(n.children.size>0){const t=Sn(e);return e=_r(e),n.children.has(t)&&oI(n.children.get(t),e)&&n.children.delete(t),0===n.children.size}return!0}function aI(n,e,t){null!==n.value?t(e,n.value):function TP(n,e){n.children.forEach((t,r)=>{e(r,t)})}(n,(r,i)=>{aI(i,new sr(e.toString()+"/"+r),t)})}class VB{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),t=Object.assign({},e);return this.last_&&Ci(this.last_,(r,i)=>{t[r]=t[r]-i}),this.last_=e,t}}class $B{constructor(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new VB(e);const r=1e4+2e4*Math.random();wd(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),t={};let r=!1;Ci(e,(i,u)=>{u>0&&(0,q.r3)(this.statsToReport_,i)&&(t[i]=u,r=!0)}),r&&this.server_.reportStats(t),wd(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var $o=(()=>{return(n=$o||($o={}))[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",$o;var n})();function lI(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}class zg{constructor(e,t,r){this.path=e,this.affectedTree=t,this.revert=r,this.type=$o.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(e){if(On(this.path)){if(null!=this.affectedTree.value)return(0,q.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const t=this.affectedTree.subtree(new sr(e));return new zg(tr(),t,this.revert)}}return(0,q.hu)(Sn(this.path)===e,"operationForChild called for unrelated child."),new zg(_r(this.path),this.affectedTree,this.revert)}}class pa{constructor(e,t){this.source=e,this.path=t,this.type=$o.LISTEN_COMPLETE}operationForChild(e){return On(this.path)?new pa(this.source,tr()):new pa(this.source,_r(this.path))}}class Ql{constructor(e,t,r){this.source=e,this.path=t,this.snap=r,this.type=$o.OVERWRITE}operationForChild(e){return On(this.path)?new Ql(this.source,tr(),this.snap.getImmediateChild(e)):new Ql(this.source,_r(this.path),this.snap)}}class Jl{constructor(e,t,r){this.source=e,this.path=t,this.children=r,this.type=$o.MERGE}operationForChild(e){if(On(this.path)){const t=this.children.subtree(new sr(e));return t.isEmpty()?null:t.value?new Ql(this.source,tr(),t.value):new Jl(this.source,tr(),t)}return(0,q.hu)(Sn(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Jl(this.source,_r(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class nu{constructor(e,t,r){this.node_=e,this.fullyInitialized_=t,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(On(e))return this.isFullyInitialized()&&!this.filtered_;const t=Sn(e);return this.isCompleteForChild(t)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}class DP{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function Td(n,e,t,r,i,u){const d=r.filter(p=>p.type===t);d.sort((p,v)=>function HB(n,e,t){if(null==e.childName||null==t.childName)throw(0,q.g5)("Should only compare child_ events.");const r=new Un(e.childName,e.snapshotNode),i=new Un(t.childName,t.snapshotNode);return n.index_.compare(r,i)}(n,p,v)),d.forEach(p=>{const v=function yv(n,e,t){return"value"===e.type||"child_removed"===e.type||(e.prevName=t.getPredecessorChildName(e.childName,e.snapshotNode,n.index_)),e}(n,p,u);i.forEach(I=>{I.respondsTo(p.type)&&e.push(I.createEvent(v,n.query_))})})}function dI(n,e){return{eventCache:n,serverCache:e}}function vv(n,e,t,r){return dI(new nu(e,t,r),n.serverCache)}function SP(n,e,t,r){return dI(n.eventCache,new nu(e,t,r))}function Kg(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function Ad(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}let hI;class xr{constructor(e,t=(()=>(hI||(hI=new go(rP)),hI))()){this.value=e,this.children=t}static fromObject(e){let t=new xr(null);return Ci(e,(r,i)=>{t=t.set(new sr(r),i)}),t}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,t){if(null!=this.value&&t(this.value))return{path:tr(),value:this.value};if(On(e))return null;{const r=Sn(e),i=this.children.get(r);if(null!==i){const u=i.findRootMostMatchingPathAndValue(_r(e),t);return null!=u?{path:Ur(new sr(r),u.path),value:u.value}:null}return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(On(e))return this;{const t=Sn(e),r=this.children.get(t);return null!==r?r.subtree(_r(e)):new xr(null)}}set(e,t){if(On(e))return new xr(t,this.children);{const r=Sn(e),u=(this.children.get(r)||new xr(null)).set(_r(e),t),d=this.children.insert(r,u);return new xr(this.value,d)}}remove(e){if(On(e))return this.children.isEmpty()?new xr(null):new xr(null,this.children);{const t=Sn(e),r=this.children.get(t);if(r){const i=r.remove(_r(e));let u;return u=i.isEmpty()?this.children.remove(t):this.children.insert(t,i),null===this.value&&u.isEmpty()?new xr(null):new xr(this.value,u)}return this}}get(e){if(On(e))return this.value;{const t=Sn(e),r=this.children.get(t);return r?r.get(_r(e)):null}}setTree(e,t){if(On(e))return t;{const r=Sn(e),u=(this.children.get(r)||new xr(null)).setTree(_r(e),t);let d;return d=u.isEmpty()?this.children.remove(r):this.children.insert(r,u),new xr(this.value,d)}}fold(e){return this.fold_(tr(),e)}fold_(e,t){const r={};return this.children.inorderTraversal((i,u)=>{r[i]=u.fold_(Ur(e,i),t)}),t(e,this.value,r)}findOnPath(e,t){return this.findOnPath_(e,tr(),t)}findOnPath_(e,t,r){const i=!!this.value&&r(t,this.value);if(i)return i;if(On(e))return null;{const u=Sn(e),d=this.children.get(u);return d?d.findOnPath_(_r(e),Ur(t,u),r):null}}foreachOnPath(e,t){return this.foreachOnPath_(e,tr(),t)}foreachOnPath_(e,t,r){if(On(e))return this;{this.value&&r(t,this.value);const i=Sn(e),u=this.children.get(i);return u?u.foreachOnPath_(_r(e),Ur(t,i),r):new xr(null)}}foreach(e){this.foreach_(tr(),e)}foreach_(e,t){this.children.inorderTraversal((r,i)=>{i.foreach_(Ur(e,r),t)}),this.value&&t(e,this.value)}foreachChild(e){this.children.inorderTraversal((t,r)=>{r.value&&e(t,r.value)})}}class Ho{constructor(e){this.writeTree_=e}static empty(){return new Ho(new xr(null))}}function Ef(n,e,t){if(On(e))return new Ho(new xr(t));{const r=n.writeTree_.findRootMostValueAndPath(e);if(null!=r){const i=r.path;let u=r.value;const d=no(i,e);return u=u.updateChild(d,t),new Ho(n.writeTree_.set(i,u))}{const i=new xr(t),u=n.writeTree_.setTree(e,i);return new Ho(u)}}}function bv(n,e,t){let r=n;return Ci(t,(i,u)=>{r=Ef(r,Ur(e,i),u)}),r}function U1(n,e){if(On(e))return Ho.empty();{const t=n.writeTree_.setTree(e,new xr(null));return new Ho(t)}}function fI(n,e){return null!=Xl(n,e)}function Xl(n,e){const t=n.writeTree_.findRootMostValueAndPath(e);return null!=t?n.writeTree_.get(t.path).getChild(no(t.path,e)):null}function wv(n){const e=[],t=n.writeTree_.value;return null!=t?t.isLeafNode()||t.forEachChild(Vn,(r,i)=>{e.push(new Un(r,i))}):n.writeTree_.children.inorderTraversal((r,i)=>{null!=i.value&&e.push(new Un(r,i.value))}),e}function Dd(n,e){if(On(e))return n;{const t=Xl(n,e);return new Ho(null!=t?new xr(t):n.writeTree_.subtree(e))}}function Ev(n){return n.writeTree_.isEmpty()}function ec(n,e){return V1(tr(),n.writeTree_,e)}function V1(n,e,t){if(null!=e.value)return t.updateChild(n,e.value);{let r=null;return e.children.inorderTraversal((i,u)=>{".priority"===i?((0,q.hu)(null!==u.value,"Priority writes must always be leaf nodes"),r=u.value):t=V1(Ur(n,i),u,t)}),!t.getChild(n).isEmpty()&&null!==r&&(t=t.updateChild(Ur(n,".priority"),r)),t}}function Iv(n,e){return _(e,n)}function kP(n,e){if(n.snap)return fa(n.path,e);for(const t in n.children)if(n.children.hasOwnProperty(t)&&fa(Ur(n.path,t),e))return!0;return!1}function qB(n){return n.visible}function RP(n,e,t){let r=Ho.empty();for(let i=0;i<n.length;++i){const u=n[i];if(e(u)){const d=u.path;let p;if(u.snap)fa(t,d)?(p=no(t,d),r=Ef(r,p,u.snap)):fa(d,t)&&(p=no(d,t),r=Ef(r,tr(),u.snap.getChild(p)));else{if(!u.children)throw(0,q.g5)("WriteRecord should have .snap or .children");if(fa(t,d))p=no(t,d),r=bv(r,p,u.children);else if(fa(d,t))if(p=no(d,t),On(p))r=bv(r,tr(),u.children);else{const v=(0,q.DV)(u.children,Sn(p));if(v){const I=v.getChild(_r(p));r=Ef(r,tr(),I)}}}}}return r}function OP(n,e,t,r,i){if(r||i){const u=Dd(n.visibleWrites,e);return!i&&Ev(u)?t:i||null!=t||fI(u,tr())?ec(RP(n.allWrites,function(I){return(I.visible||i)&&(!r||!~r.indexOf(I.writeId))&&(fa(I.path,e)||fa(e,I.path))},e),t||yn.EMPTY_NODE):null}{const u=Xl(n.visibleWrites,e);if(null!=u)return u;{const d=Dd(n.visibleWrites,e);return Ev(d)?t:null!=t||fI(d,tr())?ec(d,t||yn.EMPTY_NODE):null}}}function pI(n,e,t,r){return OP(n.writeTree,n.treePath,e,t,r)}function B1(n,e){return function zB(n,e,t){let r=yn.EMPTY_NODE;const i=Xl(n.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(Vn,(u,d)=>{r=r.updateImmediateChild(u,d)}),r;if(t){const u=Dd(n.visibleWrites,e);return t.forEachChild(Vn,(d,p)=>{const v=ec(Dd(u,new sr(d)),p);r=r.updateImmediateChild(d,v)}),wv(u).forEach(d=>{r=r.updateImmediateChild(d.name,d.node)}),r}return wv(Dd(n.visibleWrites,e)).forEach(d=>{r=r.updateImmediateChild(d.name,d.node)}),r}(n.writeTree,n.treePath,e)}function o(n,e,t,r){return function PP(n,e,t,r,i){(0,q.hu)(r||i,"Either existingEventSnap or existingServerSnap must exist");const u=Ur(e,t);if(fI(n.visibleWrites,u))return null;{const d=Dd(n.visibleWrites,u);return Ev(d)?i.getChild(t):ec(d,i.getChild(t))}}(n.writeTree,n.treePath,e,t,r)}function a(n,e){return function YB(n,e){return Xl(n.visibleWrites,e)}(n.writeTree,Ur(n.treePath,e))}function f(n,e,t){return function KB(n,e,t,r){const i=Ur(e,t),u=Xl(n.visibleWrites,i);return null!=u?u:r.isCompleteForChild(t)?ec(Dd(n.visibleWrites,i),r.getNode().getImmediateChild(t)):null}(n.writeTree,n.treePath,e,t)}function g(n,e){return _(Ur(n.treePath,e),n.writeTree)}function _(n,e){return{treePath:n,writeTree:e}}class E{constructor(){this.changeMap=new Map}trackChildChange(e){const t=e.type,r=e.childName;(0,q.hu)("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),(0,q.hu)(".priority"!==r,"Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const u=i.type;if("child_added"===t&&"child_removed"===u)this.changeMap.set(r,gv(r,e.snapshotNode,i.snapshotNode));else if("child_removed"===t&&"child_added"===u)this.changeMap.delete(r);else if("child_removed"===t&&"child_changed"===u)this.changeMap.set(r,_f(r,i.oldSnap));else if("child_changed"===t&&"child_added"===u)this.changeMap.set(r,mf(r,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==u)throw(0,q.g5)("Illegal combination of changes: "+e+" occurred after "+i);this.changeMap.set(r,gv(r,e.snapshotNode,i.oldSnap))}}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}const N=new class A{getCompleteChild(e){return null}getChildAfterChild(e,t,r){return null}};class k{constructor(e,t,r=null){this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=r}getCompleteChild(e){const t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);{const r=null!=this.optCompleteServerCache_?new nu(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return f(this.writes_,e,r)}}getChildAfterChild(e,t,r){const i=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Ad(this.viewCache_),u=function c(n,e,t,r,i,u){return function QB(n,e,t,r,i,u,d){let p;const v=Dd(n.visibleWrites,e),I=Xl(v,tr());if(null!=I)p=I;else{if(null==t)return[];p=ec(v,t)}if(p=p.withIndex(d),p.isEmpty()||p.isLeafNode())return[];{const S=[],M=d.getCompare(),P=u?p.getReverseIteratorFrom(r,d):p.getIteratorFrom(r,d);let $=P.getNext();for(;$&&S.length<i;)0!==M($,r)&&S.push($),$=P.getNext();return S}}(n.writeTree,n.treePath,e,t,r,i,u)}(this.writes_,i,t,1,r,e);return 0===u.length?null:u[0]}}function $e(n,e,t,r,i,u){const d=e.eventCache;if(null!=a(r,t))return e;{let p,v;if(On(t))if((0,q.hu)(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const I=Ad(e),M=B1(r,I instanceof yn?I:yn.EMPTY_NODE);p=n.filter.updateFullNode(e.eventCache.getNode(),M,u)}else{const I=pI(r,Ad(e));p=n.filter.updateFullNode(e.eventCache.getNode(),I,u)}else{const I=Sn(t);if(".priority"===I){(0,q.hu)(1===Ku(t),"Can't have a priority with additional path components");const S=d.getNode();v=e.serverCache.getNode();const M=o(r,t,S,v);p=null!=M?n.filter.updatePriority(S,M):d.getNode()}else{const S=_r(t);let M;if(d.isCompleteForChild(I)){v=e.serverCache.getNode();const P=o(r,t,d.getNode(),v);M=null!=P?d.getNode().getImmediateChild(I).updateChild(S,P):d.getNode().getImmediateChild(I)}else M=f(r,I,e.serverCache);p=null!=M?n.filter.updateChild(d.getNode(),I,M,S,i,u):d.getNode()}}return vv(e,p,d.isFullyInitialized()||On(t),n.filter.filtersNodes())}}function at(n,e,t,r,i,u,d,p){const v=e.serverCache;let I;const S=d?n.filter:n.filter.getIndexedFilter();if(On(t))I=S.updateFullNode(v.getNode(),r,null);else if(S.filtersNodes()&&!v.isFiltered()){const $=v.getNode().updateChild(t,r);I=S.updateFullNode(v.getNode(),$,null)}else{const $=Sn(t);if(!v.isCompleteForPath(t)&&Ku(t)>1)return e;const Q=_r(t),ye=v.getNode().getImmediateChild($).updateChild(Q,r);I=".priority"===$?S.updatePriority(v.getNode(),ye):S.updateChild(v.getNode(),$,ye,Q,N,null)}const M=SP(e,I,v.isFullyInitialized()||On(t),S.filtersNodes());return $e(n,M,t,i,new k(i,M,u),p)}function vt(n,e,t,r,i,u,d){const p=e.eventCache;let v,I;const S=new k(i,e,u);if(On(t))I=n.filter.updateFullNode(e.eventCache.getNode(),r,d),v=vv(e,I,!0,n.filter.filtersNodes());else{const M=Sn(t);if(".priority"===M)I=n.filter.updatePriority(e.eventCache.getNode(),r),v=vv(e,I,p.isFullyInitialized(),p.isFiltered());else{const P=_r(t),$=p.getNode().getImmediateChild(M);let Q;if(On(P))Q=r;else{const le=S.getCompleteChild(M);Q=null!=le?".priority"===cv(P)&&le.getChild(bP(P)).isEmpty()?le:le.updateChild(P,r):yn.EMPTY_NODE}v=$.equals(Q)?e:vv(e,n.filter.updateChild(p.getNode(),M,Q,P,S,d),p.isFullyInitialized(),n.filter.filtersNodes())}}return v}function Mt(n,e){return n.eventCache.isCompleteForChild(e)}function et(n,e,t){return t.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function ln(n,e,t,r,i,u,d,p){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let I,v=e;I=On(t)?r:new xr(null).setTree(t,r);const S=e.serverCache.getNode();return I.children.inorderTraversal((M,P)=>{if(S.hasChild(M)){const Q=et(0,e.serverCache.getNode().getImmediateChild(M),P);v=at(n,v,new sr(M),Q,i,u,d,p)}}),I.children.inorderTraversal((M,P)=>{const $=!e.serverCache.isCompleteForChild(M)&&null===P.value;if(!S.hasChild(M)&&!$){const le=et(0,e.serverCache.getNode().getImmediateChild(M),P);v=at(n,v,new sr(M),le,i,u,d,p)}}),v}class W7{constructor(e,t){this.query_=e,this.eventRegistrations_=[];const r=this.query_._queryParams,i=new rI(r.getIndex()),u=function k1(n){return n.loadsAllData()?new rI(n.getIndex()):n.hasLimit()?new FB(n):new yf(n)}(r);this.processor_=function F(n){return{filter:n}}(u);const d=t.serverCache,p=t.eventCache,v=i.updateFullNode(yn.EMPTY_NODE,d.getNode(),null),I=u.updateFullNode(yn.EMPTY_NODE,p.getNode(),null),S=new nu(v,d.isFullyInitialized(),i.filtersNodes()),M=new nu(I,p.isFullyInitialized(),u.filtersNodes());this.viewCache_=dI(M,S),this.eventGenerator_=new DP(this.query_)}get query(){return this.query_}}function K7(n,e){const t=Ad(n.viewCache_);return t&&(n.query._queryParams.loadsAllData()||!On(e)&&!t.getImmediateChild(Sn(e)).isEmpty())?t.getChild(e):null}function ej(n){return 0===n.eventRegistrations_.length}function tj(n,e,t){const r=[];if(t){(0,q.hu)(null==e,"A cancel should cancel all event registrations.");const i=n.query._path;n.eventRegistrations_.forEach(u=>{const d=u.createCancelEvent(t,i);d&&r.push(d)})}if(e){let i=[];for(let u=0;u<n.eventRegistrations_.length;++u){const d=n.eventRegistrations_[u];if(d.matches(e)){if(e.hasAnyCallback()){i=i.concat(n.eventRegistrations_.slice(u+1));break}}else i.push(d)}n.eventRegistrations_=i}else n.eventRegistrations_=[];return r}function nj(n,e,t,r){e.type===$o.MERGE&&null!==e.source.queryId&&((0,q.hu)(Ad(n.viewCache_),"We should always have a full cache before handling merges"),(0,q.hu)(Kg(n.viewCache_),"Missing event cache, even though we have a server cache"));const i=n.viewCache_,u=function oe(n,e,t,r,i){const u=new E;let d,p;if(t.type===$o.OVERWRITE){const I=t;I.source.fromUser?d=vt(n,e,I.path,I.snap,r,i,u):((0,q.hu)(I.source.fromServer,"Unknown source."),p=I.source.tagged||e.serverCache.isFiltered()&&!On(I.path),d=at(n,e,I.path,I.snap,r,i,p,u))}else if(t.type===$o.MERGE){const I=t;I.source.fromUser?d=function Xt(n,e,t,r,i,u,d){let p=e;return r.foreach((v,I)=>{const S=Ur(t,v);Mt(e,Sn(S))&&(p=vt(n,p,S,I,i,u,d))}),r.foreach((v,I)=>{const S=Ur(t,v);Mt(e,Sn(S))||(p=vt(n,p,S,I,i,u,d))}),p}(n,e,I.path,I.children,r,i,u):((0,q.hu)(I.source.fromServer,"Unknown source."),p=I.source.tagged||e.serverCache.isFiltered(),d=ln(n,e,I.path,I.children,r,i,p,u))}else if(t.type===$o.ACK_USER_WRITE){const I=t;d=I.revert?function XB(n,e,t,r,i,u){let d;if(null!=a(r,t))return e;{const p=new k(r,e,i),v=e.eventCache.getNode();let I;if(On(t)||".priority"===Sn(t)){let S;if(e.serverCache.isFullyInitialized())S=pI(r,Ad(e));else{const M=e.serverCache.getNode();(0,q.hu)(M instanceof yn,"serverChildren would be complete if leaf node"),S=B1(r,M)}I=n.filter.updateFullNode(v,S,u)}else{const S=Sn(t);let M=f(r,S,e.serverCache);null==M&&e.serverCache.isCompleteForChild(S)&&(M=v.getImmediateChild(S)),I=null!=M?n.filter.updateChild(v,S,M,_r(t),p,u):e.eventCache.getNode().hasChild(S)?n.filter.updateChild(v,S,yn.EMPTY_NODE,_r(t),p,u):v,I.isEmpty()&&e.serverCache.isFullyInitialized()&&(d=pI(r,Ad(e)),d.isLeafNode()&&(I=n.filter.updateFullNode(I,d,u)))}return d=e.serverCache.isFullyInitialized()||null!=a(r,tr()),vv(e,I,d,n.filter.filtersNodes())}}(n,e,I.path,r,i,u):function Kr(n,e,t,r,i,u,d){if(null!=a(i,t))return e;const p=e.serverCache.isFiltered(),v=e.serverCache;if(null!=r.value){if(On(t)&&v.isFullyInitialized()||v.isCompleteForPath(t))return at(n,e,t,v.getNode().getChild(t),i,u,p,d);if(On(t)){let I=new xr(null);return v.getNode().forEachChild(po,(S,M)=>{I=I.set(new sr(S),M)}),ln(n,e,t,I,i,u,p,d)}return e}{let I=new xr(null);return r.foreach((S,M)=>{const P=Ur(t,S);v.isCompleteForPath(P)&&(I=I.set(S,v.getNode().getChild(P)))}),ln(n,e,t,I,i,u,p,d)}}(n,e,I.path,I.affectedTree,r,i,u)}else{if(t.type!==$o.LISTEN_COMPLETE)throw(0,q.g5)("Unknown operation type: "+t.type);d=function pi(n,e,t,r,i){const u=e.serverCache;return $e(n,SP(e,u.getNode(),u.isFullyInitialized()||On(t),u.isFiltered()),t,r,N,i)}(n,e,t.path,r,u)}const v=u.getChanges();return function we(n,e,t){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),u=Kg(n);(t.length>0||!n.eventCache.isFullyInitialized()||i&&!r.getNode().equals(u)||!r.getNode().getPriority().equals(u.getPriority()))&&t.push(N1(Kg(e)))}}(e,d,v),{viewCache:d,changes:v}}(n.processor_,i,e,t,r);return function K(n,e){(0,q.hu)(e.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),(0,q.hu)(e.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}(n.processor_,u.viewCache),(0,q.hu)(u.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=u.viewCache,rj(n,u.changes,u.viewCache.eventCache.getNode(),null)}function rj(n,e,t,r){return function cI(n,e,t,r){const i=[],u=[];return e.forEach(d=>{"child_changed"===d.type&&n.index_.indexedValueChanged(d.oldSnap,d.snapshotNode)&&u.push(function M1(n,e){return{type:"child_moved",snapshotNode:e,childName:n}}(d.childName,d.snapshotNode))}),Td(n,i,"child_removed",e,r,t),Td(n,i,"child_added",e,r,t),Td(n,i,"child_moved",u,r,t),Td(n,i,"child_changed",e,r,t),Td(n,i,"value",e,r,t),i}(n.eventGenerator_,e,t,r?[r]:n.eventRegistrations_)}let j1,H1;class ij{constructor(){this.views=new Map}}function LP(n,e,t,r){const i=e.source.queryId;if(null!==i){const u=n.views.get(i);return(0,q.hu)(null!=u,"SyncTree gave us an op for an invalid query."),nj(u,e,t,r)}{let u=[];for(const d of n.views.values())u=u.concat(nj(d,e,t,r));return u}}function sj(n,e,t,r,i){const d=n.views.get(e._queryIdentifier);if(!d){let p=pI(t,i?r:null),v=!1;p?v=!0:r instanceof yn?(p=B1(t,r),v=!1):(p=yn.EMPTY_NODE,v=!1);const I=dI(new nu(p,v,!1),new nu(r,i,!1));return new W7(e,I)}return d}function oj(n){const e=[];for(const t of n.views.values())t.query._queryParams.loadsAllData()||e.push(t);return e}function If(n,e){let t=null;for(const r of n.views.values())t=t||K7(r,e);return t}function aj(n,e){return e._queryParams.loadsAllData()?$1(n):n.views.get(e._queryIdentifier)}function uj(n,e){return null!=aj(n,e)}function Cf(n){return null!=$1(n)}function $1(n){for(const e of n.views.values())if(e.query._queryParams.loadsAllData())return e;return null}let s9=1;class lj{constructor(e){this.listenProvider_=e,this.syncPointTree_=new xr(null),this.pendingWriteTree_=function JB(){return{visibleWrites:Ho.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function FP(n,e,t,r,i){return function GB(n,e,t,r,i){(0,q.hu)(r>n.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),n.allWrites.push({path:e,snap:t,writeId:r,visible:i}),i&&(n.visibleWrites=Ef(n.visibleWrites,e,t)),n.lastWriteId=r}(n.pendingWriteTree_,e,t,r,i),i?Cv(n,new Ql({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,t)):[]}function Tf(n,e,t=!1){const r=function NP(n,e){for(let t=0;t<n.allWrites.length;t++){const r=n.allWrites[t];if(r.writeId===e)return r}return null}(n.pendingWriteTree_,e);if(function MP(n,e){const t=n.allWrites.findIndex(p=>p.writeId===e);(0,q.hu)(t>=0,"removeWrite called with nonexistent writeId.");const r=n.allWrites[t];n.allWrites.splice(t,1);let i=r.visible,u=!1,d=n.allWrites.length-1;for(;i&&d>=0;){const p=n.allWrites[d];p.visible&&(d>=t&&kP(p,r.path)?i=!1:fa(r.path,p.path)&&(u=!0)),d--}return!!i&&(u?(function WB(n){n.visibleWrites=RP(n.allWrites,qB,tr()),n.lastWriteId=n.allWrites.length>0?n.allWrites[n.allWrites.length-1].writeId:-1}(n),!0):(r.snap?n.visibleWrites=U1(n.visibleWrites,r.path):Ci(r.children,v=>{n.visibleWrites=U1(n.visibleWrites,Ur(r.path,v))}),!0))}(n.pendingWriteTree_,e)){let u=new xr(null);return null!=r.snap?u=u.set(tr(),!0):Ci(r.children,d=>{u=u.set(new sr(d),!0)}),Cv(n,new zg(r.path,u,t))}return[]}function gI(n,e,t){return Cv(n,new Ql({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,t))}function G1(n,e,t,r,i=!1){const u=e._path,d=n.syncPointTree_.get(u);let p=[];if(d&&("default"===e._queryIdentifier||uj(d,e))){const v=function n9(n,e,t,r){const i=e._queryIdentifier,u=[];let d=[];const p=Cf(n);if("default"===i)for(const[v,I]of n.views.entries())d=d.concat(tj(I,t,r)),ej(I)&&(n.views.delete(v),I.query._queryParams.loadsAllData()||u.push(I.query));else{const v=n.views.get(i);v&&(d=d.concat(tj(v,t,r)),ej(v)&&(n.views.delete(i),v.query._queryParams.loadsAllData()||u.push(v.query)))}return p&&!Cf(n)&&u.push(new(function X7(){return(0,q.hu)(j1,"Reference.ts has not been loaded"),j1}())(e._repo,e._path)),{removed:u,events:d}}(d,e,t,r);(function e9(n){return 0===n.views.size})(d)&&(n.syncPointTree_=n.syncPointTree_.remove(u));const I=v.removed;if(p=v.events,!i){const S=-1!==I.findIndex(P=>P._queryParams.loadsAllData()),M=n.syncPointTree_.findOnPath(u,(P,$)=>Cf($));if(S&&!M){const P=n.syncPointTree_.subtree(u);if(!P.isEmpty()){const $=function h9(n){return n.fold((e,t,r)=>{if(t&&Cf(t))return[$1(t)];{let i=[];return t&&(i=oj(t)),Ci(r,(u,d)=>{i=i.concat(d)}),i}})}(P);for(let Q=0;Q<$.length;++Q){const le=$[Q],ye=le.query,lt=fj(n,le);n.listenProvider_.startListening(_I(ye),mI(n,ye),lt.hashFn,lt.onComplete)}}}!M&&I.length>0&&!r&&(S?n.listenProvider_.stopListening(_I(e),null):I.forEach(P=>{const $=n.queryToTagMap.get(W1(P));n.listenProvider_.stopListening(_I(P),$)}))}!function f9(n,e){for(let t=0;t<e.length;++t){const r=e[t];if(!r._queryParams.loadsAllData()){const i=W1(r),u=n.queryToTagMap.get(i);n.queryToTagMap.delete(i),n.tagToQueryMap.delete(u)}}}(n,I)}return p}function cj(n,e,t,r){const i=VP(n,r);if(null!=i){const u=BP(i),d=u.path,p=u.queryId,v=no(d,e);return jP(n,d,new Ql(lI(p),v,t))}return[]}function UP(n,e,t,r=!1){const i=e._path;let u=null,d=!1;n.syncPointTree_.foreachOnPath(i,(P,$)=>{const Q=no(P,i);u=u||If($,Q),d=d||Cf($)});let v,p=n.syncPointTree_.get(i);p?(d=d||Cf(p),u=u||If(p,tr())):(p=new ij,n.syncPointTree_=n.syncPointTree_.set(i,p)),null!=u?v=!0:(v=!1,u=yn.EMPTY_NODE,n.syncPointTree_.subtree(i).foreachChild(($,Q)=>{const le=If(Q,tr());le&&(u=u.updateImmediateChild($,le))}));const I=uj(p,e);if(!I&&!e._queryParams.loadsAllData()){const P=W1(e);(0,q.hu)(!n.queryToTagMap.has(P),"View does not exist, but we have a tag");const $=function p9(){return s9++}();n.queryToTagMap.set(P,$),n.tagToQueryMap.set($,P)}let M=function t9(n,e,t,r,i,u){const d=sj(n,e,r,i,u);return n.views.has(e._queryIdentifier)||n.views.set(e._queryIdentifier,d),function Y7(n,e){n.eventRegistrations_.push(e)}(d,t),function Q7(n,e){const t=n.viewCache_.eventCache,r=[];return t.getNode().isLeafNode()||t.getNode().forEachChild(Vn,(u,d)=>{r.push(mf(u,d))}),t.isFullyInitialized()&&r.push(N1(t.getNode())),rj(n,r,t.getNode(),e)}(d,t)}(p,e,t,Iv(n.pendingWriteTree_,i),u,v);if(!I&&!d&&!r){const P=aj(p,e);M=M.concat(function g9(n,e,t){const r=e._path,i=mI(n,e),u=fj(n,t),d=n.listenProvider_.startListening(_I(e),i,u.hashFn,u.onComplete),p=n.syncPointTree_.subtree(r);if(i)(0,q.hu)(!Cf(p.value),"If we're adding a query, it shouldn't be shadowed");else{const v=p.fold((I,S,M)=>{if(!On(I)&&S&&Cf(S))return[$1(S).query];{let P=[];return S&&(P=P.concat(oj(S).map($=>$.query))),Ci(M,($,Q)=>{P=P.concat(Q)}),P}});for(let I=0;I<v.length;++I){const S=v[I];n.listenProvider_.stopListening(_I(S),mI(n,S))}}return d}(n,e,P))}return M}function Z1(n,e,t){const i=n.pendingWriteTree_,u=n.syncPointTree_.findOnPath(e,(d,p)=>{const I=If(p,no(d,e));if(I)return I});return OP(i,e,u,t,!0)}function Cv(n,e){return dj(e,n.syncPointTree_,null,Iv(n.pendingWriteTree_,tr()))}function dj(n,e,t,r){if(On(n.path))return hj(n,e,t,r);{const i=e.get(tr());null==t&&null!=i&&(t=If(i,tr()));let u=[];const d=Sn(n.path),p=n.operationForChild(d),v=e.children.get(d);if(v&&p){const I=t?t.getImmediateChild(d):null,S=g(r,d);u=u.concat(dj(p,v,I,S))}return i&&(u=u.concat(LP(i,n,r,t))),u}}function hj(n,e,t,r){const i=e.get(tr());null==t&&null!=i&&(t=If(i,tr()));let u=[];return e.children.inorderTraversal((d,p)=>{const v=t?t.getImmediateChild(d):null,I=g(r,d),S=n.operationForChild(d);S&&(u=u.concat(hj(S,p,v,I)))}),i&&(u=u.concat(LP(i,n,r,t))),u}function fj(n,e){const t=e.query,r=mI(n,t);return{hashFn:()=>(function q7(n){return n.viewCache_.serverCache.getNode()}(e)||yn.EMPTY_NODE).hash(),onComplete:i=>{if("ok"===i)return r?function l9(n,e,t){const r=VP(n,t);if(r){const i=BP(r),u=i.path,d=i.queryId,p=no(u,e);return jP(n,u,new pa(lI(d),p))}return[]}(n,t._path,r):function u9(n,e){return Cv(n,new pa({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e))}(n,t._path);{const u=function oP(n,e){let t="Unknown Error";"too_big"===n?t="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===n?t="Client doesn't have permission to access the desired data.":"unavailable"===n&&(t="The service is unavailable");const r=new Error(n+" at "+e._path.toString()+": "+t);return r.code=n.toUpperCase(),r}(i,t);return G1(n,t,null,u)}}}}function mI(n,e){const t=W1(e);return n.queryToTagMap.get(t)}function W1(n){return n._path.toString()+"$"+n._queryIdentifier}function VP(n,e){return n.tagToQueryMap.get(e)}function BP(n){const e=n.indexOf("$");return(0,q.hu)(-1!==e&&e<n.length-1,"Bad queryKey."),{queryId:n.substr(e+1),path:new sr(n.substr(0,e))}}function jP(n,e,t){const r=n.syncPointTree_.get(e);return(0,q.hu)(r,"Missing sync point for query tag that we're tracking"),LP(r,t,Iv(n.pendingWriteTree_,e),null)}function _I(n){return n._queryParams.loadsAllData()&&!n._queryParams.isDefault()?new(function i9(){return(0,q.hu)(H1,"Reference.ts has not been loaded"),H1}())(n._repo,n._path):n}class $P{constructor(e){this.node_=e}getImmediateChild(e){const t=this.node_.getImmediateChild(e);return new $P(t)}node(){return this.node_}}class HP{constructor(e,t){this.syncTree_=e,this.path_=t}getImmediateChild(e){const t=Ur(this.path_,e);return new HP(this.syncTree_,t)}node(){return Z1(this.syncTree_,this.path_)}}const pj=function(n,e,t){return n&&"object"==typeof n?((0,q.hu)(".sv"in n,"Unexpected leaf node or priority contents"),"string"==typeof n[".sv"]?_9(n[".sv"],e,t):"object"==typeof n[".sv"]?y9(n[".sv"],e):void(0,q.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2))):n},_9=function(n,e,t){if("timestamp"===n)return t.timestamp;(0,q.hu)(!1,"Unexpected server value: "+n)},y9=function(n,e,t){n.hasOwnProperty("increment")||(0,q.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const r=n.increment;"number"!=typeof r&&(0,q.hu)(!1,"Unexpected increment value: "+r);const i=e.node();if((0,q.hu)(null!==i&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const d=i.getValue();return"number"!=typeof d?r:d+r},gj=function(n,e,t,r){return ZP(e,new HP(t,n),r)},GP=function(n,e,t){return ZP(n,new $P(e),t)};function ZP(n,e,t){const r=n.getPriority().val(),i=pj(r,e.getImmediateChild(".priority"),t);let u;if(n.isLeafNode()){const d=n,p=pj(d.getValue(),e,t);return p!==d.getValue()||i!==d.getPriority().val()?new Zg(p,zr(i)):n}{const d=n;return u=d,i!==d.getPriority().val()&&(u=u.updatePriority(new Zg(i))),d.forEachChild(Vn,(p,v)=>{const I=ZP(v,e.getImmediateChild(p),t);I!==v&&(u=u.updateImmediateChild(p,I))}),u}}class WP{constructor(e="",t=null,r={children:{},childCount:0}){this.name=e,this.parent=t,this.node=r}}function q1(n,e){let t=e instanceof sr?e:new sr(e),r=n,i=Sn(t);for(;null!==i;){const u=(0,q.DV)(r.node.children,i)||{children:{},childCount:0};r=new WP(i,r,u),t=_r(t),i=Sn(t)}return r}function Yg(n){return n.node.value}function qP(n,e){n.node.value=e,zP(n)}function mj(n){return n.node.childCount>0}function z1(n,e){Ci(n.node.children,(t,r)=>{e(new WP(t,n,r))})}function _j(n,e,t,r){t&&!r&&e(n),z1(n,i=>{_j(i,e,!0,r)}),t&&r&&e(n)}function yI(n){return new sr(null===n.parent?n.name:yI(n.parent)+"/"+n.name)}function zP(n){null!==n.parent&&function w9(n,e,t){const r=function v9(n){return void 0===Yg(n)&&!mj(n)}(t),i=(0,q.r3)(n.node.children,e);r&&i?(delete n.node.children[e],n.node.childCount--,zP(n)):!r&&!i&&(n.node.children[e]=t.node,n.node.childCount++,zP(n))}(n.parent,n.name,n)}const E9=/[\[\].#$\/\u0000-\u001F\u007F]/,I9=/[\[\].#$\u0000-\u001F\u007F]/,KP=10485760,K1=function(n){return"string"==typeof n&&0!==n.length&&!E9.test(n)},yj=function(n){return"string"==typeof n&&0!==n.length&&!I9.test(n)},vI=function(n){return null===n||"string"==typeof n||"number"==typeof n&&!Lg(n)||n&&"object"==typeof n&&(0,q.r3)(n,".sv")},tc=function(n,e,t,r){r&&void 0===e||bI((0,q.gK)(n,"value"),e,t)},bI=function(n,e,t){const r=t instanceof sr?new xB(t,n):t;if(void 0===e)throw new Error(n+"contains undefined "+ff(r));if("function"==typeof e)throw new Error(n+"contains a function "+ff(r)+" with contents = "+e.toString());if(Lg(e))throw new Error(n+"contains "+e.toString()+" "+ff(r));if("string"==typeof e&&e.length>KP/3&&(0,q.ug)(e)>KP)throw new Error(n+"contains a string greater than "+KP+" utf8 bytes "+ff(r)+" ('"+e.substring(0,50)+"...')");if(e&&"object"==typeof e){let i=!1,u=!1;if(Ci(e,(d,p)=>{if(".value"===d)i=!0;else if(".priority"!==d&&".sv"!==d&&(u=!0,!K1(d)))throw new Error(n+" contains an invalid key ("+d+") "+ff(r)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function NB(n,e){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(e),n.byteLength_+=(0,q.ug)(e),Gg(n)})(r,d),bI(n,p,r),function MB(n){const e=n.parts_.pop();n.byteLength_-=(0,q.ug)(e),n.parts_.length>0&&(n.byteLength_-=1)}(r)}),i&&u)throw new Error(n+' contains ".value" child '+ff(r)+" in addition to actual children.")}},vj=function(n,e,t,r){if(r&&void 0===e)return;const i=(0,q.gK)(n,"values");if(!e||"object"!=typeof e||Array.isArray(e))throw new Error(i+" must be an object containing the children to replace.");const u=[];Ci(e,(d,p)=>{const v=new sr(d);if(bI(i,p,Ur(t,v)),".priority"===cv(v)&&!vI(p))throw new Error(i+"contains an invalid value for '"+v.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");u.push(v)}),function(n,e){let t,r;for(t=0;t<e.length;t++){r=e[t];const u=Hg(r);for(let d=0;d<u.length;d++)if((".priority"!==u[d]||d!==u.length-1)&&!K1(u[d]))throw new Error(n+"contains an invalid key ("+u[d]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}e.sort(SB);let i=null;for(t=0;t<e.length;t++){if(r=e[t],null!==i&&fa(i,r))throw new Error(n+"contains a path "+i.toString()+" that is ancestor of another path "+r.toString());i=r}}(i,u)},YP=function(n,e,t){if(!t||void 0!==e){if(Lg(e))throw new Error((0,q.gK)(n,"priority")+"is "+e.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!vI(e))throw new Error((0,q.gK)(n,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},wI=function(n,e,t,r){if(!(r&&void 0===t||K1(t)))throw new Error((0,q.gK)(n,e)+'was an invalid key = "'+t+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},EI=function(n,e,t,r){if(!(r&&void 0===t||yj(t)))throw new Error((0,q.gK)(n,e)+'was an invalid path = "'+t+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},ru=function(n,e){if(".info"===Sn(e))throw new Error(n+" failed = Can't modify data under /.info/")},bj=function(n,e){const t=e.path.toString();if("string"!=typeof e.repoInfo.host||0===e.repoInfo.host.length||!K1(e.repoInfo.namespace)&&"localhost"!==e.repoInfo.host.split(":")[0]||0!==t.length&&!function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),yj(n)}(t))throw new Error((0,q.gK)(n,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class D9{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Y1(n,e){let t=null;for(let r=0;r<e.length;r++){const i=e[r],u=i.getPath();null!==t&&!v1(u,t.path)&&(n.eventLists_.push(t),t=null),null===t&&(t={events:[],path:u}),t.events.push(i)}t&&n.eventLists_.push(t)}function wj(n,e,t){Y1(n,t),Ej(n,r=>v1(r,e))}function ga(n,e,t){Y1(n,t),Ej(n,r=>fa(r,e)||fa(e,r))}function Ej(n,e){n.recursionDepth_++;let t=!0;for(let r=0;r<n.eventLists_.length;r++){const i=n.eventLists_[r];i&&(e(i.path)?(S9(n.eventLists_[r]),n.eventLists_[r]=null):t=!1)}t&&(n.eventLists_=[]),n.recursionDepth_--}function S9(n){for(let e=0;e<n.events.length;e++){const t=n.events[e];if(null!==t){n.events[e]=null;const r=t.getEventRunner();Zl&&Ui("event: "+t.toString()),bd(r)}}}const Ij="repo_interrupt";class N9{constructor(e,t,r,i){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new D9,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=sI(),this.transactionQueueTree_=new WP,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function Cj(n){const t=n.infoData_.getNode(new sr(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function II(n){return function(n){return(n=n||{}).timestamp=n.timestamp||(new Date).getTime(),n}({timestamp:Cj(n)})}function Tj(n,e,t,r,i){n.dataUpdateCount++;const u=new sr(e);t=n.interceptServerDataCallback_?n.interceptServerDataCallback_(e,t):t;let d=[];if(i)if(r){const v=(0,q.UI)(t,I=>zr(I));d=function c9(n,e,t,r){const i=VP(n,r);if(i){const u=BP(i),d=u.path,p=u.queryId,v=no(d,e),I=xr.fromObject(t);return jP(n,d,new Jl(lI(p),v,I))}return[]}(n.serverSyncTree_,u,v,i)}else{const v=zr(t);d=cj(n.serverSyncTree_,u,v,i)}else if(r){const v=(0,q.UI)(t,I=>zr(I));d=function a9(n,e,t){const r=xr.fromObject(t);return Cv(n,new Jl({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,r))}(n.serverSyncTree_,u,v)}else{const v=zr(t);d=gI(n.serverSyncTree_,u,v)}let p=u;d.length>0&&(p=Av(n,u)),ga(n.eventQueue_,p,d)}function Aj(n,e){QP(n,"connected",e),!1===e&&function P9(n){Tv(n,"onDisconnectEvents");const e=II(n),t=sI();aI(n.onDisconnect_,tr(),(i,u)=>{const d=gj(i,u,n.serverSyncTree_,e);Cd(t,i,d)});let r=[];aI(t,tr(),(i,u)=>{r=r.concat(gI(n.serverSyncTree_,i,u));const d=tL(n,i);Av(n,d)}),n.onDisconnect_=sI(),ga(n.eventQueue_,tr(),r)}(n)}function QP(n,e,t){const r=new sr("/.info/"+e),i=zr(t);n.infoData_.updateSnapshot(r,i);const u=gI(n.infoSyncTree_,r,i);ga(n.eventQueue_,r,u)}function Q1(n){return n.nextWriteId_++}function JP(n,e,t,r,i){Tv(n,"set",{path:e.toString(),value:t,priority:r});const u=II(n),d=zr(t,r),p=Z1(n.serverSyncTree_,e),v=GP(d,p,u),I=Q1(n),S=FP(n.serverSyncTree_,e,v,I,!0);Y1(n.eventQueue_,S),n.server_.put(e.toString(),d.val(!0),(P,$)=>{const Q="ok"===P;Q||Ps("set at "+e+" failed: "+P);const le=Tf(n.serverSyncTree_,I,!Q);ga(n.eventQueue_,e,le),Af(0,i,P,$)});const M=tL(n,e);Av(n,M),ga(n.eventQueue_,M,[])}function L9(n,e,t){n.server_.onDisconnectCancel(e.toString(),(r,i)=>{"ok"===r&&oI(n.onDisconnect_,e),Af(0,t,r,i)})}function Dj(n,e,t,r){const i=zr(t);n.server_.onDisconnectPut(e.toString(),i.val(!0),(u,d)=>{"ok"===u&&Cd(n.onDisconnect_,e,i),Af(0,r,u,d)})}function XP(n,e,t){let r;r=".info"===Sn(e._path)?G1(n.infoSyncTree_,e,t):G1(n.serverSyncTree_,e,t),wj(n.eventQueue_,e._path,r)}function Sj(n){n.persistentConnection_&&n.persistentConnection_.interrupt(Ij)}function Tv(n,...e){let t="";n.persistentConnection_&&(t=n.persistentConnection_.id+":"),Ui(t,...e)}function Af(n,e,t,r){e&&bd(()=>{if("ok"===t)e(null);else{const i=(t||"error").toUpperCase();let u=i;r&&(u+=": "+r);const d=new Error(u);d.code=i,e(d)}})}function eL(n,e,t){return Z1(n.serverSyncTree_,e,t)||yn.EMPTY_NODE}function J1(n,e=n.transactionQueueTree_){if(e||X1(n,e),Yg(e)){const t=Nj(n,e);(0,q.hu)(t.length>0,"Sending zero length transaction queue"),t.every(i=>0===i.status)&&function $9(n,e,t){const r=t.map(I=>I.currentWriteId),i=eL(n,e,r);let u=i;const d=i.hash();for(let I=0;I<t.length;I++){const S=t[I];(0,q.hu)(0===S.status,"tryToSendTransactionQueue_: items in queue should all be run."),S.status=1,S.retryCount++;const M=no(e,S.path);u=u.updateChild(M,S.currentOutputSnapshotRaw)}const p=u.val(!0),v=e;n.server_.put(v.toString(),p,I=>{Tv(n,"transaction put response",{path:v.toString(),status:I});let S=[];if("ok"===I){const M=[];for(let P=0;P<t.length;P++)t[P].status=2,S=S.concat(Tf(n.serverSyncTree_,t[P].currentWriteId)),t[P].onComplete&&M.push(()=>t[P].onComplete(null,!0,t[P].currentOutputSnapshotResolved)),t[P].unwatcher();X1(n,q1(n.transactionQueueTree_,e)),J1(n,n.transactionQueueTree_),ga(n.eventQueue_,e,S);for(let P=0;P<M.length;P++)bd(M[P])}else{if("datastale"===I)for(let M=0;M<t.length;M++)t[M].status=3===t[M].status?4:0;else{Ps("transaction at "+v.toString()+" failed: "+I);for(let M=0;M<t.length;M++)t[M].status=4,t[M].abortReason=I}Av(n,e)}},d)}(n,yI(e),t)}else mj(e)&&z1(e,t=>{J1(n,t)})}function Av(n,e){const t=xj(n,e),r=yI(t);return function H9(n,e,t){if(0===e.length)return;const r=[];let i=[];const d=e.filter(p=>0===p.status).map(p=>p.currentWriteId);for(let p=0;p<e.length;p++){const v=e[p],I=no(t,v.path);let M,S=!1;if((0,q.hu)(null!==I,"rerunTransactionsUnderNode_: relativePath should not be null."),4===v.status)S=!0,M=v.abortReason,i=i.concat(Tf(n.serverSyncTree_,v.currentWriteId,!0));else if(0===v.status)if(v.retryCount>=25)S=!0,M="maxretry",i=i.concat(Tf(n.serverSyncTree_,v.currentWriteId,!0));else{const P=eL(n,v.path,d);v.currentInputSnapshot=P;const $=e[p].update(P.val());if(void 0!==$){bI("transaction failed: Data returned ",$,v.path);let Q=zr($);"object"==typeof $&&null!=$&&(0,q.r3)($,".priority")||(Q=Q.updatePriority(P.getPriority()));const ye=v.currentWriteId,lt=II(n),dt=GP(Q,P,lt);v.currentOutputSnapshotRaw=Q,v.currentOutputSnapshotResolved=dt,v.currentWriteId=Q1(n),d.splice(d.indexOf(ye),1),i=i.concat(FP(n.serverSyncTree_,v.path,dt,v.currentWriteId,v.applyLocally)),i=i.concat(Tf(n.serverSyncTree_,ye,!0))}else S=!0,M="nodata",i=i.concat(Tf(n.serverSyncTree_,v.currentWriteId,!0))}ga(n.eventQueue_,t,i),i=[],S&&(e[p].status=2,setTimeout(e[p].unwatcher,Math.floor(0)),e[p].onComplete&&r.push("nodata"===M?()=>e[p].onComplete(null,!1,e[p].currentInputSnapshot):()=>e[p].onComplete(new Error(M),!1,null)))}X1(n,n.transactionQueueTree_);for(let p=0;p<r.length;p++)bd(r[p]);J1(n,n.transactionQueueTree_)}(n,Nj(n,t),r),r}function xj(n,e){let t,r=n.transactionQueueTree_;for(t=Sn(e);null!==t&&void 0===Yg(r);)r=q1(r,t),t=Sn(e=_r(e));return r}function Nj(n,e){const t=[];return Mj(n,e,t),t.sort((r,i)=>r.order-i.order),t}function Mj(n,e,t){const r=Yg(e);if(r)for(let i=0;i<r.length;i++)t.push(r[i]);z1(e,i=>{Mj(n,i,t)})}function X1(n,e){const t=Yg(e);if(t){let r=0;for(let i=0;i<t.length;i++)2!==t[i].status&&(t[r]=t[i],r++);t.length=r,qP(e,t.length>0?t:void 0)}z1(e,r=>{X1(n,r)})}function tL(n,e){const t=yI(xj(n,e)),r=q1(n.transactionQueueTree_,e);return function b9(n,e,t){let r=t?n:n.parent;for(;null!==r;){if(e(r))return!0;r=r.parent}}(r,i=>{nL(n,i)}),nL(n,r),_j(r,i=>{nL(n,i)}),t}function nL(n,e){const t=Yg(e);if(t){const r=[];let i=[],u=-1;for(let d=0;d<t.length;d++)3===t[d].status||(1===t[d].status?((0,q.hu)(u===d-1,"All SENT items should be at beginning of queue."),u=d,t[d].status=3,t[d].abortReason="set"):((0,q.hu)(0===t[d].status,"Unexpected transaction status in abort"),t[d].unwatcher(),i=i.concat(Tf(n.serverSyncTree_,t[d].currentWriteId,!0)),t[d].onComplete&&r.push(t[d].onComplete.bind(null,new Error("set"),!1,null))));-1===u?qP(e,void 0):t.length=u+1,ga(n.eventQueue_,yI(e),i);for(let d=0;d<r.length;d++)bd(r[d])}}const rL=function(n,e){const t=W9(n),r=t.namespace;return"firebase.com"===t.domain&&Ya(t.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||"undefined"===r)&&"localhost"!==t.domain&&Ya("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),t.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&Ps("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new Vg(t.host,t.secure,r,"ws"===t.scheme||"wss"===t.scheme,e,"",r!==t.subdomain),path:new sr(t.pathString)}},W9=function(n){let e="",t="",r="",i="",u="",d=!0,p="https",v=443;if("string"==typeof n){let I=n.indexOf("//");I>=0&&(p=n.substring(0,I-1),n=n.substring(I+2));let S=n.indexOf("/");-1===S&&(S=n.length);let M=n.indexOf("?");-1===M&&(M=n.length),e=n.substring(0,Math.min(S,M)),S<M&&(i=function G9(n){let e="";const t=n.split("/");for(let r=0;r<t.length;r++)if(t[r].length>0){let i=t[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}(n.substring(S,M)));const P=function Z9(n){const e={};"?"===n.charAt(0)&&(n=n.substring(1));for(const t of n.split("&")){if(0===t.length)continue;const r=t.split("=");2===r.length?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):Ps(`Invalid query segment '${t}' in query '${n}'`)}return e}(n.substring(Math.min(n.length,M)));I=e.indexOf(":"),I>=0?(d="https"===p||"wss"===p,v=parseInt(e.substring(I+1),10)):I=e.length;const $=e.slice(0,I);if("localhost"===$.toLowerCase())t="localhost";else if($.split(".").length<=2)t=$;else{const Q=e.indexOf(".");r=e.substring(0,Q).toLowerCase(),t=e.substring(Q+1),u=r}"ns"in P&&(u=P.ns)}return{host:e,port:v,domain:t,subdomain:r,secure:d,scheme:p,pathString:i,namespace:u}};class kj{constructor(e,t,r,i){this.eventType=e,this.eventRegistration=t,this.snapshot=r,this.prevName=i}getPath(){const e=this.snapshot.ref;return"value"===this.eventType?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,q.Wl)(this.snapshot.exportVal())}}class Rj{constructor(e,t,r){this.eventRegistration=e,this.error=t,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class iL{constructor(e,t){this.snapshotCallback=e,this.cancelCallback=t}onValue(e,t){this.snapshotCallback.call(null,e,t)}onCancel(e){return(0,q.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}class Oj{constructor(e,t){this._repo=e,this._path=t}cancel(){const e=new q.BH;return L9(this._repo,this._path,e.wrapCallback(()=>{})),e.promise}remove(){ru("OnDisconnect.remove",this._path);const e=new q.BH;return Dj(this._repo,this._path,null,e.wrapCallback(()=>{})),e.promise}set(e){ru("OnDisconnect.set",this._path),tc("OnDisconnect.set",e,this._path,!1);const t=new q.BH;return Dj(this._repo,this._path,e,t.wrapCallback(()=>{})),t.promise}setWithPriority(e,t){ru("OnDisconnect.setWithPriority",this._path),tc("OnDisconnect.setWithPriority",e,this._path,!1),YP("OnDisconnect.setWithPriority",t,!1);const r=new q.BH;return function F9(n,e,t,r,i){const u=zr(t,r);n.server_.onDisconnectPut(e.toString(),u.val(!0),(d,p)=>{"ok"===d&&Cd(n.onDisconnect_,e,u),Af(0,i,d,p)})}(this._repo,this._path,e,t,r.wrapCallback(()=>{})),r.promise}update(e){ru("OnDisconnect.update",this._path),vj("OnDisconnect.update",e,this._path,!1);const t=new q.BH;return function U9(n,e,t,r){if((0,q.xb)(t))return Ui("onDisconnect().update() called with empty data.  Don't do anything."),void Af(0,r,"ok",void 0);n.server_.onDisconnectMerge(e.toString(),t,(i,u)=>{"ok"===i&&Ci(t,(d,p)=>{const v=zr(p);Cd(n.onDisconnect_,Ur(e,d),v)}),Af(0,r,i,u)})}(this._repo,this._path,e,t.wrapCallback(()=>{})),t.promise}}class Go{constructor(e,t,r,i){this._repo=e,this._path=t,this._queryParams=r,this._orderByCalled=i}get key(){return On(this._path)?null:cv(this._path)}get ref(){return new iu(this._repo,this._path)}get _queryIdentifier(){const e=F1(this._queryParams),t=Bo(e);return"{}"===t?"default":t}get _queryObject(){return F1(this._queryParams)}isEqual(e){if(!((e=(0,q.m9)(e))instanceof Go))return!1;const t=this._repo===e._repo,r=v1(this._path,e._path);return t&&r&&this._queryIdentifier===e._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function vP(n){let e="";for(let t=n.pieceNum_;t<n.pieces_.length;t++)""!==n.pieces_[t]&&(e+="/"+encodeURIComponent(String(n.pieces_[t])));return e||"/"}(this._path)}}function ex(n,e){if(!0===n._orderByCalled)throw new Error(e+": You can't combine multiple orderBy calls.")}function Df(n){let e=null,t=null;if(n.hasStart()&&(e=n.getIndexStartValue()),n.hasEnd()&&(t=n.getIndexEndValue()),n.getIndex()===po){const r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(n.hasStart()){if(n.getIndexStartName()!==zu)throw new Error(r);if("string"!=typeof e)throw new Error(i)}if(n.hasEnd()){if(n.getIndexEndName()!==Qa)throw new Error(r);if("string"!=typeof t)throw new Error(i)}}else if(n.getIndex()===Vn){if(null!=e&&!vI(e)||null!=t&&!vI(t))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,q.hu)(n.getIndex()instanceof tI||n.getIndex()===eu,"unknown index type."),null!=e&&"object"==typeof e||null!=t&&"object"==typeof t)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function tx(n){if(n.hasStart()&&n.hasEnd()&&n.hasLimit()&&!n.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class iu extends Go{constructor(e,t){super(e,t,new vf,!1)}get parent(){const e=bP(this._path);return null===e?null:new iu(this._repo,e)}get root(){let e=this;for(;null!==e.parent;)e=e.parent;return e}}class Qg{constructor(e,t,r){this._node=e,this.ref=t,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const t=new sr(e),r=Jg(this.ref,e);return new Qg(this._node.getChild(t),r,Vn)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(r,i)=>e(new Qg(i,Jg(this.ref,r),Vn)))}hasChild(e){const t=new sr(e);return!this._node.getChild(t).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Pj(n,e){return(n=(0,q.m9)(n))._checkNotDeleted("ref"),void 0!==e?Jg(n._root,e):n._root}function Lj(n,e){(n=(0,q.m9)(n))._checkNotDeleted("refFromURL");const t=rL(e,n._repo.repoInfo_.nodeAdmin);bj("refFromURL",t);const r=t.repoInfo;return!n._repo.repoInfo_.isCustomHost()&&r.host!==n._repo.repoInfo_.host&&Ya("refFromURL: Host name does not match the current database: (found "+r.host+" but expected "+n._repo.repoInfo_.host+")"),Pj(n,t.path.toString())}function Jg(n,e){return null===Sn((n=(0,q.m9)(n))._path)?(t=e,t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),EI("child","path",t,!1)):EI("child","path",e,!1),new iu(n._repo,Ur(n._path,e));var t}function sL(n,e){n=(0,q.m9)(n),ru("set",n._path),tc("set",e,n._path,!1);const t=new q.BH;return JP(n._repo,n._path,e,null,t.wrapCallback(()=>{})),t.promise}function Q9(n,e){vj("update",e,n._path,!1);const t=new q.BH;return function O9(n,e,t,r){Tv(n,"update",{path:e.toString(),value:t});let i=!0;const u=II(n),d={};if(Ci(t,(p,v)=>{i=!1,d[p]=gj(Ur(e,p),zr(v),n.serverSyncTree_,u)}),i)Ui("update() called with empty data.  Don't do anything."),Af(0,r,"ok",void 0);else{const p=Q1(n),v=function o9(n,e,t,r){!function ZB(n,e,t,r){(0,q.hu)(r>n.lastWriteId,"Stacking an older merge on top of newer ones"),n.allWrites.push({path:e,children:t,writeId:r,visible:!0}),n.visibleWrites=bv(n.visibleWrites,e,t),n.lastWriteId=r}(n.pendingWriteTree_,e,t,r);const i=xr.fromObject(t);return Cv(n,new Jl({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,i))}(n.serverSyncTree_,e,d,p);Y1(n.eventQueue_,v),n.server_.merge(e.toString(),t,(I,S)=>{const M="ok"===I;M||Ps("update at "+e+" failed: "+I);const P=Tf(n.serverSyncTree_,p,!M),$=P.length>0?Av(n,e):e;ga(n.eventQueue_,$,P),Af(0,r,I,S)}),Ci(t,I=>{const S=tL(n,Ur(e,I));Av(n,S)}),ga(n.eventQueue_,e,[])}}(n._repo,n._path,e,t.wrapCallback(()=>{})),t.promise}function J9(n){n=(0,q.m9)(n);const e=new iL(()=>{}),t=new CI(e);return function R9(n,e,t){const r=function d9(n,e){const t=e._path;let r=null;n.syncPointTree_.foreachOnPath(t,(I,S)=>{const M=no(I,t);r=r||If(S,M)});let i=n.syncPointTree_.get(t);i?r=r||If(i,tr()):(i=new ij,n.syncPointTree_=n.syncPointTree_.set(t,i));const u=null!=r,d=u?new nu(r,!0,!1):null;return function z7(n){return Kg(n.viewCache_)}(sj(i,e,Iv(n.pendingWriteTree_,e._path),u?d.getNode():yn.EMPTY_NODE,u))}(n.serverSyncTree_,e);return null!=r?Promise.resolve(r):n.server_.get(e).then(i=>{const u=zr(i).withIndex(e._queryParams.getIndex());let d;if(UP(n.serverSyncTree_,e,t,!0),e._queryParams.loadsAllData())d=gI(n.serverSyncTree_,e._path,u);else{const p=mI(n.serverSyncTree_,e);d=cj(n.serverSyncTree_,e._path,u,p)}return ga(n.eventQueue_,e._path,d),G1(n.serverSyncTree_,e,t,null,!0),u},i=>(Tv(n,"get for query "+(0,q.Wl)(e)+" failed: "+i),Promise.reject(new Error(i))))}(n._repo,n,t).then(r=>new Qg(r,new iu(n._repo,n._path),n._queryParams.getIndex()))}class CI{constructor(e){this.callbackContext=e}respondsTo(e){return"value"===e}createEvent(e,t){const r=t._queryParams.getIndex();return new kj("value",this,new Qg(e.snapshotNode,new iu(t._repo,t._path),r))}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new Rj(this,e,t):null}matches(e){return e instanceof CI&&(!e.callbackContext||!this.callbackContext||e.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class nx{constructor(e,t){this.eventType=e,this.callbackContext=t}respondsTo(e){let t="children_added"===e?"child_added":e;return t="children_removed"===t?"child_removed":t,this.eventType===t}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new Rj(this,e,t):null}createEvent(e,t){(0,q.hu)(null!=e.childName,"Child events should have a childName.");const r=Jg(new iu(t._repo,t._path),e.childName),i=t._queryParams.getIndex();return new kj(e.type,this,new Qg(e.snapshotNode,r,i),e.prevName)}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof nx&&this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function TI(n,e,t,r,i){let u;if("object"==typeof r&&(u=void 0,i=r),"function"==typeof r&&(u=r),i&&i.onlyOnce){const v=t,I=(S,M)=>{XP(n._repo,n,p),v(S,M)};I.userCallback=t.userCallback,I.context=t.context,t=I}const d=new iL(t,u||void 0),p="value"===e?new CI(d):new nx(e,d);return function V9(n,e,t){let r;r=".info"===Sn(e._path)?UP(n.infoSyncTree_,e,t):UP(n.serverSyncTree_,e,t),wj(n.eventQueue_,e._path,r)}(n._repo,n,p),()=>XP(n._repo,n,p)}function oL(n,e,t,r){return TI(n,"value",e,t,r)}function Fj(n,e,t,r){return TI(n,"child_added",e,t,r)}function Uj(n,e,t,r){return TI(n,"child_changed",e,t,r)}function Vj(n,e,t,r){return TI(n,"child_moved",e,t,r)}function Bj(n,e,t,r){return TI(n,"child_removed",e,t,r)}function jj(n,e,t){let r=null;const i=t?new iL(t):null;"value"===e?r=new CI(i):e&&(r=new nx(e,i)),XP(n._repo,n,r)}class Yu{}class $j extends Yu{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){tc("endAt",this._value,e._path,!0);const t=bf(e._queryParams,this._value,this._key);if(tx(t),Df(t),e._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Go(e._repo,e._path,t,e._orderByCalled)}}class ez extends Yu{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){tc("endBefore",this._value,e._path,!1);const t=function _v(n,e,t){let r,i;return n.index_===po?("string"==typeof e&&(e=x1(e)),i=bf(n,e,t)):(r=null==t?zu:x1(t),i=bf(n,e,r)),i.endBeforeSet_=!0,i}(e._queryParams,this._value,this._key);if(tx(t),Df(t),e._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Go(e._repo,e._path,t,e._orderByCalled)}}class Hj extends Yu{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){tc("startAt",this._value,e._path,!0);const t=mv(e._queryParams,this._value,this._key);if(tx(t),Df(t),e._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Go(e._repo,e._path,t,e._orderByCalled)}}class rz extends Yu{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){tc("startAfter",this._value,e._path,!1);const t=function P1(n,e,t){let r;if(n.index_===po)"string"==typeof e&&(e=S1(e)),r=mv(n,e,t);else{let i;i=null==t?Qa:S1(t),r=mv(n,e,i)}return r.startAfterSet_=!0,r}(e._queryParams,this._value,this._key);if(tx(t),Df(t),e._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new Go(e._repo,e._path,t,e._orderByCalled)}}class sz extends Yu{constructor(e){super(),this._limit=e}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new Go(e._repo,e._path,function R1(n,e){const t=n.copy();return t.limitSet_=!0,t.limit_=e,t.viewFrom_="l",t}(e._queryParams,this._limit),e._orderByCalled)}}class az extends Yu{constructor(e){super(),this._limit=e}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new Go(e._repo,e._path,function O1(n,e){const t=n.copy();return t.limitSet_=!0,t.limit_=e,t.viewFrom_="r",t}(e._queryParams,this._limit),e._orderByCalled)}}class lz extends Yu{constructor(e){super(),this._path=e}_apply(e){ex(e,"orderByChild");const t=new sr(this._path);if(On(t))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const r=new tI(t),i=qg(e._queryParams,r);return Df(i),new Go(e._repo,e._path,i,!0)}}class dz extends Yu{_apply(e){ex(e,"orderByKey");const t=qg(e._queryParams,po);return Df(t),new Go(e._repo,e._path,t,!0)}}class fz extends Yu{_apply(e){ex(e,"orderByPriority");const t=qg(e._queryParams,Vn);return Df(t),new Go(e._repo,e._path,t,!0)}}class gz extends Yu{_apply(e){ex(e,"orderByValue");const t=qg(e._queryParams,eu);return Df(t),new Go(e._repo,e._path,t,!0)}}class _z extends Yu{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){if(tc("equalTo",this._value,e._path,!1),e._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(e._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new $j(this._value,this._key)._apply(new Hj(this._value,this._key)._apply(e))}}function Qu(n,...e){let t=(0,q.m9)(n);for(const r of e)t=r._apply(t);return t}(function J7(n){(0,q.hu)(!j1,"__referenceConstructor has already been defined"),j1=n})(iu),function r9(n){(0,q.hu)(!H1,"__referenceConstructor has already been defined"),H1=n}(iu);const aL={};function Zj(n,e,t,r,i){let u=r||n.options.databaseURL;void 0===u&&(n.options.projectId||Ya("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Ui("Using default host for project ",n.options.projectId),u=`${n.options.projectId}-default-rtdb.firebaseio.com`);let v,I,d=rL(u,i),p=d.repoInfo;typeof process<"u"&&process.env&&(I=process.env.FIREBASE_DATABASE_EMULATOR_HOST),I?(v=!0,u=`http://${I}?ns=${p.namespace}`,d=rL(u,i),p=d.repoInfo):v=!d.repoInfo.secure;const S=i&&v?new Ug(Ug.OWNER):new aP(n.name,n.options,e);bj("Invalid Firebase Database URL",d),On(d.path)||Ya("Database URL must point to the root of a Firebase Database (not including a child path).");const M=function Ez(n,e,t,r){let i=aL[e.name];i||(i={},aL[e.name]=i);let u=i[n.toURLString()];return u&&Ya("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),u=new N9(n,false,t,r),i[n.toURLString()]=u,u}(p,n,S,new zS(n.name,t));return new Cz(M,n)}class Cz{constructor(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function M9(n,e,t){if(n.stats_=uv(n.repoInfo_),n.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)n.server_=new iI(n.repoInfo_,(r,i,u,d)=>{Tj(n,r,i,u,d)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>Aj(n,!0),0);else{if(typeof t<"u"&&null!==t){if("object"!=typeof t)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,q.Wl)(t)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}n.persistentConnection_=new Kl(n.repoInfo_,e,(r,i,u,d)=>{Tj(n,r,i,u,d)},r=>{Aj(n,r)},r=>{!function k9(n,e){Ci(e,(t,r)=>{QP(n,t,r)})}(n,r)},n.authTokenProvider_,n.appCheckProvider_,t),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(r=>{n.server_.refreshAuthToken(r)}),n.appCheckProvider_.addTokenChangeListener(r=>{n.server_.refreshAppCheckToken(r.token)}),n.statsReporter_=function e1(n,e){const t=n.toString();return UE[t]||(UE[t]=e()),UE[t]}(n.repoInfo_,()=>new $B(n.stats_,n.server_)),n.infoData_=new UB,n.infoSyncTree_=new lj({startListening:(r,i,u,d)=>{let p=[];const v=n.infoData_.getNode(r._path);return v.isEmpty()||(p=gI(n.infoSyncTree_,r._path,v),setTimeout(()=>{d("ok")},0)),p},stopListening:()=>{}}),QP(n,"connected",!1),n.serverSyncTree_=new lj({startListening:(r,i,u,d)=>(n.server_.listen(r,u,i,(p,v)=>{const I=d(p,v);ga(n.eventQueue_,r._path,I)}),[]),stopListening:(r,i)=>{n.server_.unlisten(r,i)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new iu(this._repo,tr())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function wz(n,e){const t=aL[e];(!t||t[n.key]!==n)&&Ya(`Database ${e}(${n.repoInfo_}) has already been deleted.`),Sj(n),delete t[n.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){null===this._rootInternal&&Ya("Cannot call "+e+" on a deleted database.")}}function Wj(){pP.IS_TRANSPORT_INITIALIZED&&Ps("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function Tz(){Wj(),Wl.forceDisallow()}function Az(){Wj(),ql.forceDisallow(),Wl.forceAllow()}function xz(n,e){ME(n,e)}const Mz={".sv":"timestamp"};class Oz{constructor(e,t){this.committed=e,this.snapshot=t}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}Kl.prototype.simpleListen=function(n,e){this.sendRequest("q",{p:n},e)},Kl.prototype.echo=function(n,e){this.sendRequest("echo",{d:n},e)},function Nz(n){BS(eo.SDK_VERSION),(0,eo._registerComponent)(new Wu.wA("database",(e,{instanceIdentifier:t})=>Zj(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),t),"PUBLIC").setMultipleInstances(!0)),(0,eo.registerVersion)(US,VS,n),(0,eo.registerVersion)(US,VS,"esm2017")}();const Uz=new da.Yd("@firebase/database-compat"),zj=function(n){Uz.warn("FIREBASE WARNING: "+n)};class jz{constructor(e){this._delegate=e}cancel(e){(0,q.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,q.Wj)("OnDisconnect.cancel","onComplete",e,!0);const t=this._delegate.cancel();return e&&t.then(()=>e(null),r=>e(r)),t}remove(e){(0,q.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,q.Wj)("OnDisconnect.remove","onComplete",e,!0);const t=this._delegate.remove();return e&&t.then(()=>e(null),r=>e(r)),t}set(e,t){(0,q.Dv)("OnDisconnect.set",1,2,arguments.length),(0,q.Wj)("OnDisconnect.set","onComplete",t,!0);const r=this._delegate.set(e);return t&&r.then(()=>t(null),i=>t(i)),r}setWithPriority(e,t,r){(0,q.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,q.Wj)("OnDisconnect.setWithPriority","onComplete",r,!0);const i=this._delegate.setWithPriority(e,t);return r&&i.then(()=>r(null),u=>r(u)),i}update(e,t){if((0,q.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(e)){const i={};for(let u=0;u<e.length;++u)i[""+u]=e[u];e=i,zj("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,q.Wj)("OnDisconnect.update","onComplete",t,!0);const r=this._delegate.update(e);return t&&r.then(()=>t(null),i=>t(i)),r}}class $z{constructor(e,t){this.committed=e,this.snapshot=t}toJSON(){return(0,q.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class Sf{constructor(e,t){this._database=e,this._delegate=t}val(){return(0,q.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,q.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,q.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,q.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(e){return(0,q.Dv)("DataSnapshot.child",0,1,arguments.length),e=String(e),EI("DataSnapshot.child","path",e,!1),new Sf(this._database,this._delegate.child(e))}hasChild(e){return(0,q.Dv)("DataSnapshot.hasChild",1,1,arguments.length),EI("DataSnapshot.hasChild","path",e,!1),this._delegate.hasChild(e)}getPriority(){return(0,q.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(e){return(0,q.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,q.Wj)("DataSnapshot.forEach","action",e,!1),this._delegate.forEach(t=>e(new Sf(this._database,t)))}hasChildren(){return(0,q.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,q.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,q.Dv)("DataSnapshot.ref",0,0,arguments.length),new ma(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class Fs{constructor(e,t){this.database=e,this._delegate=t}on(e,t,r,i){var u;(0,q.Dv)("Query.on",2,4,arguments.length),(0,q.Wj)("Query.on","callback",t,!1);const d=Fs.getCancelAndContextArgs_("Query.on",r,i),p=(I,S)=>{t.call(d.context,new Sf(this.database,I),S)};p.userCallback=t,p.context=d.context;const v=null===(u=d.cancel)||void 0===u?void 0:u.bind(d.context);switch(e){case"value":return oL(this._delegate,p,v),t;case"child_added":return Fj(this._delegate,p,v),t;case"child_removed":return Bj(this._delegate,p,v),t;case"child_changed":return Uj(this._delegate,p,v),t;case"child_moved":return Vj(this._delegate,p,v),t;default:throw new Error((0,q.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(e,t,r){if((0,q.Dv)("Query.off",0,3,arguments.length),function(n,e,t){if(void 0!==e)switch(e){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,q.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,e),(0,q.Wj)("Query.off","callback",t,!0),(0,q.lb)("Query.off","context",r,!0),t){const i=()=>{};i.userCallback=t,i.context=r,jj(this._delegate,e,i)}else jj(this._delegate,e)}get(){return J9(this._delegate).then(e=>new Sf(this.database,e))}once(e,t,r,i){(0,q.Dv)("Query.once",1,4,arguments.length),(0,q.Wj)("Query.once","callback",t,!0);const u=Fs.getCancelAndContextArgs_("Query.once",r,i),d=new q.BH,p=(I,S)=>{const M=new Sf(this.database,I);t&&t.call(u.context,M,S),d.resolve(M)};p.userCallback=t,p.context=u.context;const v=I=>{u.cancel&&u.cancel.call(u.context,I),d.reject(I)};switch(e){case"value":oL(this._delegate,p,v,{onlyOnce:!0});break;case"child_added":Fj(this._delegate,p,v,{onlyOnce:!0});break;case"child_removed":Bj(this._delegate,p,v,{onlyOnce:!0});break;case"child_changed":Uj(this._delegate,p,v,{onlyOnce:!0});break;case"child_moved":Vj(this._delegate,p,v,{onlyOnce:!0});break;default:throw new Error((0,q.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return d.promise}limitToFirst(e){return(0,q.Dv)("Query.limitToFirst",1,1,arguments.length),new Fs(this.database,Qu(this._delegate,function oz(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new sz(n)}(e)))}limitToLast(e){return(0,q.Dv)("Query.limitToLast",1,1,arguments.length),new Fs(this.database,Qu(this._delegate,function uz(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new az(n)}(e)))}orderByChild(e){return(0,q.Dv)("Query.orderByChild",1,1,arguments.length),new Fs(this.database,Qu(this._delegate,function cz(n){if("$key"===n)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===n)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===n)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return EI("orderByChild","path",n,!1),new lz(n)}(e)))}orderByKey(){return(0,q.Dv)("Query.orderByKey",0,0,arguments.length),new Fs(this.database,Qu(this._delegate,function hz(){return new dz}()))}orderByPriority(){return(0,q.Dv)("Query.orderByPriority",0,0,arguments.length),new Fs(this.database,Qu(this._delegate,function pz(){return new fz}()))}orderByValue(){return(0,q.Dv)("Query.orderByValue",0,0,arguments.length),new Fs(this.database,Qu(this._delegate,function mz(){return new gz}()))}startAt(e=null,t){return(0,q.Dv)("Query.startAt",0,2,arguments.length),new Fs(this.database,Qu(this._delegate,function nz(n=null,e){return wI("startAt","key",e,!0),new Hj(n,e)}(e,t)))}startAfter(e=null,t){return(0,q.Dv)("Query.startAfter",0,2,arguments.length),new Fs(this.database,Qu(this._delegate,function iz(n,e){return wI("startAfter","key",e,!0),new rz(n,e)}(e,t)))}endAt(e=null,t){return(0,q.Dv)("Query.endAt",0,2,arguments.length),new Fs(this.database,Qu(this._delegate,function X9(n,e){return wI("endAt","key",e,!0),new $j(n,e)}(e,t)))}endBefore(e=null,t){return(0,q.Dv)("Query.endBefore",0,2,arguments.length),new Fs(this.database,Qu(this._delegate,function tz(n,e){return wI("endBefore","key",e,!0),new ez(n,e)}(e,t)))}equalTo(e,t){return(0,q.Dv)("Query.equalTo",1,2,arguments.length),new Fs(this.database,Qu(this._delegate,function yz(n,e){return wI("equalTo","key",e,!0),new _z(n,e)}(e,t)))}toString(){return(0,q.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,q.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(e){if((0,q.Dv)("Query.isEqual",1,1,arguments.length),!(e instanceof Fs))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(e._delegate)}static getCancelAndContextArgs_(e,t,r){const i={cancel:void 0,context:void 0};if(t&&r)i.cancel=t,(0,q.Wj)(e,"cancel",i.cancel,!0),i.context=r,(0,q.lb)(e,"context",i.context,!0);else if(t)if("object"==typeof t&&null!==t)i.context=t;else{if("function"!=typeof t)throw new Error((0,q.gK)(e,"cancelOrContext")+" must either be a cancel callback or a context object.");i.cancel=t}return i}get ref(){return new ma(this.database,new iu(this._delegate._repo,this._delegate._path))}}class ma extends Fs{constructor(e,t){super(e,new Go(t._repo,t._path,new vf,!1)),this.database=e,this._delegate=t}getKey(){return(0,q.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(e){return(0,q.Dv)("Reference.child",1,1,arguments.length),"number"==typeof e&&(e=String(e)),new ma(this.database,Jg(this._delegate,e))}getParent(){(0,q.Dv)("Reference.parent",0,0,arguments.length);const e=this._delegate.parent;return e?new ma(this.database,e):null}getRoot(){return(0,q.Dv)("Reference.root",0,0,arguments.length),new ma(this.database,this._delegate.root)}set(e,t){(0,q.Dv)("Reference.set",1,2,arguments.length),(0,q.Wj)("Reference.set","onComplete",t,!0);const r=sL(this._delegate,e);return t&&r.then(()=>t(null),i=>t(i)),r}update(e,t){if((0,q.Dv)("Reference.update",1,2,arguments.length),Array.isArray(e)){const i={};for(let u=0;u<e.length;++u)i[""+u]=e[u];e=i,zj("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}ru("Reference.update",this._delegate._path),(0,q.Wj)("Reference.update","onComplete",t,!0);const r=Q9(this._delegate,e);return t&&r.then(()=>t(null),i=>t(i)),r}setWithPriority(e,t,r){(0,q.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,q.Wj)("Reference.setWithPriority","onComplete",r,!0);const i=function Y9(n,e,t){if(ru("setWithPriority",n._path),tc("setWithPriority",e,n._path,!1),YP("setWithPriority",t,!1),".length"===n.key||".keys"===n.key)throw"setWithPriority failed: "+n.key+" is a read-only object.";const r=new q.BH;return JP(n._repo,n._path,e,t,r.wrapCallback(()=>{})),r.promise}(this._delegate,e,t);return r&&i.then(()=>r(null),u=>r(u)),i}remove(e){(0,q.Dv)("Reference.remove",0,1,arguments.length),(0,q.Wj)("Reference.remove","onComplete",e,!0);const t=function z9(n){return ru("remove",n._path),sL(n,null)}(this._delegate);return e&&t.then(()=>e(null),r=>e(r)),t}transaction(e,t,r){(0,q.Dv)("Reference.transaction",1,3,arguments.length),(0,q.Wj)("Reference.transaction","transactionUpdate",e,!1),(0,q.Wj)("Reference.transaction","onComplete",t,!0),function(n,e,t,r){if(void 0!==t&&"boolean"!=typeof t)throw new Error((0,q.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,r);const i=function Pz(n,e,t){var r;if(n=(0,q.m9)(n),ru("Reference.transaction",n._path),".length"===n.key||".keys"===n.key)throw"Reference.transaction failed: "+n.key+" is a read-only object.";const i=null===(r=t?.applyLocally)||void 0===r||r,u=new q.BH,p=oL(n,()=>{});return function j9(n,e,t,r,i,u){Tv(n,"transaction on "+e);const d={path:e,update:t,onComplete:r,status:null,order:HS(),applyLocally:u,retryCount:0,unwatcher:i,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},p=eL(n,e,void 0);d.currentInputSnapshot=p;const v=d.update(p.val());if(void 0===v)d.unwatcher(),d.currentOutputSnapshotRaw=null,d.currentOutputSnapshotResolved=null,d.onComplete&&d.onComplete(null,!1,d.currentInputSnapshot);else{bI("transaction failed: Data returned ",v,d.path),d.status=0;const I=q1(n.transactionQueueTree_,e),S=Yg(I)||[];let M;S.push(d),qP(I,S),"object"==typeof v&&null!==v&&(0,q.r3)(v,".priority")?(M=(0,q.DV)(v,".priority"),(0,q.hu)(vI(M),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):M=(Z1(n.serverSyncTree_,e)||yn.EMPTY_NODE).getPriority().val();const P=II(n),$=zr(v,M),Q=GP($,p,P);d.currentOutputSnapshotRaw=$,d.currentOutputSnapshotResolved=Q,d.currentWriteId=Q1(n);const le=FP(n.serverSyncTree_,e,Q,d.currentWriteId,d.applyLocally);ga(n.eventQueue_,e,le),J1(n,n.transactionQueueTree_)}}(n._repo,n._path,e,(v,I,S)=>{let M=null;v?u.reject(v):(M=new Qg(S,new iu(n._repo,n._path),Vn),u.resolve(new Oz(I,M)))},p,i),u.promise}(this._delegate,e,{applyLocally:r}).then(u=>new $z(u.committed,new Sf(this.database,u.snapshot)));return t&&i.then(u=>t(null,u.committed,u.snapshot),u=>t(u,!1,null)),i}setPriority(e,t){(0,q.Dv)("Reference.setPriority",1,2,arguments.length),(0,q.Wj)("Reference.setPriority","onComplete",t,!0);const r=function K9(n,e){n=(0,q.m9)(n),ru("setPriority",n._path),YP("setPriority",e,!1);const t=new q.BH;return JP(n._repo,Ur(n._path,".priority"),e,null,t.wrapCallback(()=>{})),t.promise}(this._delegate,e);return t&&r.then(()=>t(null),i=>t(i)),r}push(e,t){(0,q.Dv)("Reference.push",0,2,arguments.length),(0,q.Wj)("Reference.push","onComplete",t,!0);const r=function q9(n,e){n=(0,q.m9)(n),ru("push",n._path),tc("push",e,n._path,!0);const t=Cj(n._repo),r=LB(t),i=Jg(n,r),u=Jg(n,r);let d;return d=null!=e?sL(u,e).then(()=>u):Promise.resolve(u),i.then=d.then.bind(d),i.catch=d.then.bind(d,void 0),i}(this._delegate,e),i=r.then(d=>new ma(this.database,d));t&&i.then(()=>t(null),d=>t(d));const u=new ma(this.database,r);return u.then=i.then.bind(i),u.catch=i.catch.bind(i,void 0),u}onDisconnect(){return ru("Reference.onDisconnect",this._delegate._path),new jz(new Oj(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class AI{constructor(e,t){this._delegate=e,this.app=t,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:Tz,forceLongPolling:Az}}useEmulator(e,t,r={}){!function qj(n,e,t,r={}){(n=(0,q.m9)(n))._checkNotDeleted("useEmulator"),n._instanceStarted&&Ya("Cannot call useEmulator() after instance has already been initialized.");const i=n._repoInternal;let u;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&Ya('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),u=new Ug(Ug.OWNER);else if(r.mockUserToken){const d="string"==typeof r.mockUserToken?r.mockUserToken:(0,q.Sg)(r.mockUserToken,n.app.options.projectId);u=new Ug(d)}!function bz(n,e,t,r){n.repoInfo_=new Vg(`${e}:${t}`,!1,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams),r&&(n.authTokenProvider_=r)}(i,e,t,u)}(this._delegate,e,t,r)}ref(e){if((0,q.Dv)("database.ref",0,1,arguments.length),e instanceof ma){const t=Lj(this._delegate,e.toString());return new ma(this,t)}{const t=Pj(this._delegate,e);return new ma(this,t)}}refFromURL(e){(0,q.Dv)("database.refFromURL",1,1,arguments.length);const r=Lj(this._delegate,e);return new ma(this,r)}goOffline(){return(0,q.Dv)("database.goOffline",0,0,arguments.length),function Dz(n){(n=(0,q.m9)(n))._checkNotDeleted("goOffline"),Sj(n._repo)}(this._delegate)}goOnline(){return(0,q.Dv)("database.goOnline",0,0,arguments.length),function Sz(n){(n=(0,q.m9)(n))._checkNotDeleted("goOnline"),function B9(n){n.persistentConnection_&&n.persistentConnection_.resume(Ij)}(n._repo)}(this._delegate)}}AI.ServerValue={TIMESTAMP:function kz(){return Mz}(),increment:n=>function Rz(n){return{".sv":{increment:n}}}(n)};var Gz=Object.freeze({__proto__:null,initStandalone:function Hz({app:n,url:e,version:t,customAuthImpl:r,namespace:i,nodeAdmin:u=!1}){BS(t);const d=new Wu.zt("auth-internal",new Wu.H0("database-standalone"));return d.setComponent(new Wu.wA("auth-internal",()=>r,"PRIVATE")),{instance:new AI(Zj(n,d,void 0,e,u),n),namespace:i}}});const Zz=AI.ServerValue;function Kj(n){return null==n}function Yj(n){return"function"==typeof n.set}function Qj(n,e){return Yj(e)?e:n.ref(e)}function Jj(n,e){if(function qz(n){return"string"==typeof n}(n))return e.stringCase();if(Yj(n))return e.firebaseCase();if(function zz(n){return"function"==typeof n.exportVal}(n))return e.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof n)}function DI(n,e,t="on",r=SE.z){return new Xs.y(i=>{let u=null;return u=n[t](e,(d,p)=>{r.schedule(()=>{i.next({snapshot:d,prevKey:p})}),"once"===t&&r.schedule(()=>i.complete())},d=>{r.schedule(()=>i.error(d))}),"on"===t?{unsubscribe(){null!=u&&n.off(e,u)}}:{unsubscribe(){}}}).pipe((0,St.U)(i=>{const{snapshot:u,prevKey:d}=i;let p=null;return u.exists()&&(p=u.key),{type:e,payload:u,prevKey:d,key:p}}),(0,nS.B)())}function Xj(n,e){const t=n.length;for(let r=0;r<t;r++)if(n[r].payload.key===e)return r;return-1}function Qz(n,e){const{payload:t,prevKey:r,key:i}=e,u=Xj(n,i),d=function Yz(n,e){if(Kj(e))return 0;{const t=Xj(n,e);return-1===t?n.length:t+1}}(n,r);switch(e.type){case"value":if(e.payload&&e.payload.exists()){let p=null;e.payload.forEach(v=>{const I={payload:v,type:"value",prevKey:p,key:v.key};return p=v.key,n=[...n,I],!1})}return n;case"child_added":if(u>-1){const p=n[u-1];(p&&p.key||null)!==r&&(n=n.filter(v=>v.payload.key!==t.key)).splice(d,0,e)}else{if(null==r)return[e,...n];(n=n.slice()).splice(d,0,e)}return n;case"child_removed":return n.filter(p=>p.payload.key!==t.key);case"child_changed":return n.map(p=>p.payload.key===i?e:p);case"child_moved":if(u>-1){const p=n.splice(u,1)[0];return(n=n.slice()).splice(d,0,p),n}return n;default:return n}}function e$(n){return(Kj(n)||0===n.length)&&(n=["child_added","child_removed","child_changed","child_moved"]),n}function t$(n,e,t){return function Kz(n,e,t){return DI(n,"value","once",t).pipe(ir(r=>{const i=[Tt(r)];return e.forEach(u=>i.push(DI(n,u,"on",t))),(0,Ww.T)(...i).pipe(Ru(Qz,[]))}),_d())}(n,e=e$(e),t)}function n$(n,e,t){const r=(e=e$(e)).map(i=>DI(n,i,"on",t));return(0,Ww.T)(...r)}function r$(n,e){return function(r,i){return Jj(r,{stringCase:()=>n.child(r)[e](i),firebaseCase:()=>r[e](i),snapshotCase:()=>r.ref[e](i)})}}function tK(n){return function(t){return t?Jj(t,{stringCase:()=>n.child(t).remove(),firebaseCase:()=>t.remove(),snapshotCase:()=>t.ref.remove()}):n.remove()}}function i$(n,e){return function(){return DI(n,"value","on",e)}}!function Wz(n){n.INTERNAL.registerComponent(new Wu.wA("database-compat",(e,{instanceIdentifier:t})=>{const r=e.getProvider("app-compat").getImmediate(),i=e.getProvider("database").getImmediate({identifier:t});return new AI(i,r)},"PUBLIC").setServiceProps({Reference:ma,Query:Fs,Database:AI,DataSnapshot:Sf,enableLogging:xz,INTERNAL:Gz,ServerValue:Zz}).setMultipleInstances(!0)),n.registerVersion("@firebase/database-compat","0.2.10")}(eP.Z);const iK=new l.OlP("angularfire2.realtimeDatabaseURL"),sK=new l.OlP("angularfire2.database.use-emulator");let Dv=(()=>{class n{constructor(t,r,i,u,d,p,v,I,S,M,P,$,Q,le,ye){this.schedulers=p;const lt=v,dt=(0,Tr.on)(t,d,r);I&&mE(dt,d,S,P,$,Q,M,le),this.database=(0,Tr.cc)(`${dt.name}.database.${i}`,"AngularFireDatabase",dt.name,()=>{const bt=d.runOutsideAngular(()=>dt.database(i||void 0));return lt&&bt.useEmulator(...lt),bt},[lt])}list(t,r){const i=this.schedulers.ngZone.runOutsideAngular(()=>Qj(this.database,t));let u=i;return r&&(u=r(i)),function nK(n,e){const t=e.schedulers.outsideAngular,r=e.schedulers.ngZone.run(()=>n.ref);return{query:n,update:r$(r,"update"),set:r$(r,"set"),push:i=>r.push(i),remove:tK(r),snapshotChanges:i=>t$(n,i,t).pipe(_n.iC),stateChanges:i=>n$(n,i,t).pipe(_n.iC),auditTrail:i=>function Jz(n,e,t){return function eK(n,e,t){return function Xz(n,e){return DI(n,"value","on",e).pipe((0,St.U)(t=>{let r;return t.payload.forEach(i=>(r=i.key,!1)),{data:t,lastKeyToLoad:r}}))}(n,t).pipe(function FS(...n){const e=(0,Oo.jO)(n);return(0,qr.e)((t,r)=>{const i=n.length,u=new Array(i);let d=n.map(()=>!1),p=!1;for(let v=0;v<i;v++)(0,Nu.Xf)(n[v]).subscribe((0,Xr.x)(r,I=>{u[v]=I,!p&&!d[v]&&(d[v]=!0,(p=d.every(xu.y))&&(d=null))},TB.Z));t.subscribe((0,Xr.x)(r,v=>{if(p){const I=[v,...u];r.next(e?e(...I):I)}}))})}(e),(0,St.U)(([i,u])=>{const d=i.lastKeyToLoad,p=u.map(v=>v.key);return{actions:u,lastKeyToLoad:d,loadedKeys:p}}),function XO(n){return(0,qr.e)((e,t)=>{let r=!1,i=0;e.subscribe((0,Xr.x)(t,u=>(r||(r=!n(u,i++)))&&t.next(u)))})}(i=>-1===i.loadedKeys.indexOf(i.lastKeyToLoad)),(0,St.U)(i=>i.actions))}(n,n$(n,e).pipe(Ru((i,u)=>[...i,u],[])),t)}(n,i,t).pipe(_n.iC),valueChanges:(i,u)=>t$(n,i,t).pipe((0,St.U)(p=>p.map(v=>u&&u.idField?Object.assign(Object.assign({},v.payload.val()),{[u.idField]:v.key}):v.payload.val())),_n.iC)}}(u,this)}object(t){return function rK(n,e){return{query:n,snapshotChanges:()=>i$(n,e.schedulers.outsideAngular)().pipe(_n.iC),update:t=>n.ref.update(t),set:t=>n.ref.set(t),remove:()=>n.ref.remove(),valueChanges:()=>i$(n,e.schedulers.outsideAngular)().pipe(_n.iC,(0,St.U)(r=>r.payload.exists()?r.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>Qj(this.database,t)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Tr.Dh),l.LFG(Tr.xv,8),l.LFG(iK,8),l.LFG(l.Lbi),l.LFG(l.R0b),l.LFG(_n.HU),l.LFG(sK,8),l.LFG(to,8),l.LFG(Mg,8),l.LFG(md,8),l.LFG(hE,8),l.LFG(fE,8),l.LFG(pE,8),l.LFG(gE,8),l.LFG(Ng,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),oK=(()=>{class n{constructor(){$t.Z.registerVersion("angularfire",_n.q4.full,"rtdb-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[Dv]}),n})();var qt,aK=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Sd={},uL=uL||{},vn=aK||self;function rx(){}function ix(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function SI(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var lL="closure_uid_"+(1e9*Math.random()>>>0),lK=0;function cK(n,e,t){return n.call.apply(n.bind,arguments)}function dK(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function ro(n,e,t){return(ro=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?cK:dK).apply(null,arguments)}function sx(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function Us(n,e){function t(){}t.prototype=e.prototype,n.X=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Wb=function(r,i,u){for(var d=Array(arguments.length-2),p=2;p<arguments.length;p++)d[p-2]=arguments[p];return e.prototype[i].apply(r,d)}}function xf(){this.s=this.s,this.o=this.o}xf.prototype.s=!1,xf.prototype.na=function(){!this.s&&(this.s=!0,this.M(),0)&&function uK(n){Object.prototype.hasOwnProperty.call(n,lL)&&n[lL]||(n[lL]=++lK)}(this)},xf.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const s$=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function cL(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function o$(n,e){for(let t=1;t<arguments.length;t++){const r=arguments[t];if(ix(r)){const i=n.length||0,u=r.length||0;n.length=i+u;for(let d=0;d<u;d++)n[i+d]=r[d]}else n.push(r)}}function io(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}io.prototype.h=function(){this.defaultPrevented=!0};var fK=function(){if(!vn.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{vn.addEventListener("test",rx,e),vn.removeEventListener("test",rx,e)}catch{}return n}();function ox(n){return/^[\s\xa0]*$/.test(n)}var a$=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function dL(n,e){return n<e?-1:n>e?1:0}function ax(){var n=vn.navigator;return n&&(n=n.userAgent)?n:""}function nc(n){return-1!=ax().indexOf(n)}function hL(n){return hL[" "](n),n}hL[" "]=rx;var ux,n,gK=nc("Opera"),Sv=nc("Trident")||nc("MSIE"),u$=nc("Edge"),fL=u$||Sv,l$=nc("Gecko")&&!(-1!=ax().toLowerCase().indexOf("webkit")&&!nc("Edge"))&&!(nc("Trident")||nc("MSIE"))&&!nc("Edge"),mK=-1!=ax().toLowerCase().indexOf("webkit")&&!nc("Edge");function c$(){var n=vn.document;return n?n.documentMode:void 0}e:{var pL="",gL=(n=ax(),l$?/rv:([^\);]+)(\)|;)/.exec(n):u$?/Edge\/([\d\.]+)/.exec(n):Sv?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):mK?/WebKit\/(\S+)/.exec(n):gK?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(gL&&(pL=gL?gL[1]:""),Sv){var mL=c$();if(null!=mL&&mL>parseFloat(pL)){ux=String(mL);break e}}ux=pL}var _K={};var vK=vn.document&&Sv&&(c$()||parseInt(ux,10))||void 0;function xI(n,e){if(io.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(l$){e:{try{hL(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:bK[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&xI.X.h.call(this)}}Us(xI,io);var bK={2:"touch",3:"pen",4:"mouse"};xI.prototype.h=function(){xI.X.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var NI="closure_listenable_"+(1e6*Math.random()|0),wK=0;function EK(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.ha=i,this.key=++wK,this.ba=this.ea=!1}function lx(n){n.ba=!0,n.listener=null,n.proxy=null,n.src=null,n.ha=null}function yL(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function h$(n){const e={};for(const t in n)e[t]=n[t];return e}const f$="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function p$(n,e){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)n[t]=r[t];for(let u=0;u<f$.length;u++)t=f$[u],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function cx(n){this.src=n,this.g={},this.h=0}function vL(n,e){var t=e.type;if(t in n.g){var u,r=n.g[t],i=s$(r,e);(u=0<=i)&&Array.prototype.splice.call(r,i,1),u&&(lx(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function bL(n,e,t,r){for(var i=0;i<n.length;++i){var u=n[i];if(!u.ba&&u.listener==e&&u.capture==!!t&&u.ha==r)return i}return-1}cx.prototype.add=function(n,e,t,r,i){var u=n.toString();(n=this.g[u])||(n=this.g[u]=[],this.h++);var d=bL(n,e,r,i);return-1<d?(e=n[d],t||(e.ea=!1)):((e=new EK(e,this.src,u,!!r,i)).ea=t,n.push(e)),e};var wL="closure_lm_"+(1e6*Math.random()|0),EL={};function g$(n,e,t,r,i){if(r&&r.once)return _$(n,e,t,r,i);if(Array.isArray(e)){for(var u=0;u<e.length;u++)g$(n,e[u],t,r,i);return null}return t=AL(t),n&&n[NI]?n.N(e,t,SI(r)?!!r.capture:!!r,i):m$(n,e,t,!1,r,i)}function m$(n,e,t,r,i,u){if(!e)throw Error("Invalid event type");var d=SI(i)?!!i.capture:!!i,p=CL(n);if(p||(n[wL]=p=new cx(n)),(t=p.add(e,t,r,d,u)).proxy)return t;if(r=function IK(){const e=CK;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)fK||(i=d),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(v$(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function _$(n,e,t,r,i){if(Array.isArray(e)){for(var u=0;u<e.length;u++)_$(n,e[u],t,r,i);return null}return t=AL(t),n&&n[NI]?n.O(e,t,SI(r)?!!r.capture:!!r,i):m$(n,e,t,!0,r,i)}function y$(n,e,t,r,i){if(Array.isArray(e))for(var u=0;u<e.length;u++)y$(n,e[u],t,r,i);else r=SI(r)?!!r.capture:!!r,t=AL(t),n&&n[NI]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=bL(u=n.g[e],t,r,i))&&(lx(u[t]),Array.prototype.splice.call(u,t,1),0==u.length&&(delete n.g[e],n.h--))):n&&(n=CL(n))&&(e=n.g[e.toString()],n=-1,e&&(n=bL(e,t,r,i)),(t=-1<n?e[n]:null)&&IL(t))}function IL(n){if("number"!=typeof n&&n&&!n.ba){var e=n.src;if(e&&e[NI])vL(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(v$(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=CL(e))?(vL(t,n),0==t.h&&(t.src=null,e[wL]=null)):lx(n)}}}function v$(n){return n in EL?EL[n]:EL[n]="on"+n}function CK(n,e){if(n.ba)n=!0;else{e=new xI(e,this);var t=n.listener,r=n.ha||n.src;n.ea&&IL(n),n=t.call(r,e)}return n}function CL(n){return(n=n[wL])instanceof cx?n:null}var TL="__closure_events_fn_"+(1e9*Math.random()>>>0);function AL(n){return"function"==typeof n?n:(n[TL]||(n[TL]=function(e){return n.handleEvent(e)}),n[TL])}function Es(){xf.call(this),this.i=new cx(this),this.P=this,this.I=null}function Vs(n,e){var t,r=n.I;if(r)for(t=[];r;r=r.I)t.push(r);if(n=n.P,r=e.type||e,"string"==typeof e)e=new io(e,n);else if(e instanceof io)e.target=e.target||n;else{var i=e;p$(e=new io(r,n),i)}if(i=!0,t)for(var u=t.length-1;0<=u;u--){var d=e.g=t[u];i=dx(d,r,!0,e)&&i}if(i=dx(d=e.g=n,r,!0,e)&&i,i=dx(d,r,!1,e)&&i,t)for(u=0;u<t.length;u++)i=dx(d=e.g=t[u],r,!1,e)&&i}function dx(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,u=0;u<e.length;++u){var d=e[u];if(d&&!d.ba&&d.capture==t){var p=d.listener,v=d.ha||d.src;d.ea&&vL(n.i,d),i=!1!==p.call(v,r)&&i}}return i&&!r.defaultPrevented}Us(Es,xf),Es.prototype[NI]=!0,Es.prototype.removeEventListener=function(n,e,t,r){y$(this,n,e,t,r)},Es.prototype.M=function(){if(Es.X.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)lx(t[r]);delete n.g[e],n.h--}}this.I=null},Es.prototype.N=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},Es.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var DL=vn.JSON.stringify;function TK(){var n=E$;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var SL,b$=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new DK,n=>n.reset());class DK{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function SK(n){vn.setTimeout(()=>{throw n},0)}function w$(n,e){SL||function xK(){var n=vn.Promise.resolve(void 0);SL=function(){n.then(NK)}}(),xL||(SL(),xL=!0),E$.add(n,e)}var xL=!1,E$=new class AK{constructor(){this.h=this.g=null}add(e,t){const r=b$.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}};function NK(){for(var n;n=TK();){try{n.h.call(n.g)}catch(t){SK(t)}var e=b$;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}xL=!1}function hx(n,e){Es.call(this),this.h=n||1,this.g=e||vn,this.j=ro(this.lb,this),this.l=Date.now()}function NL(n){n.ca=!1,n.R&&(n.g.clearTimeout(n.R),n.R=null)}function ML(n,e,t){if("function"==typeof n)t&&(n=ro(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=ro(n.handleEvent,n)}return 2147483647<Number(e)?-1:vn.setTimeout(n,e||0)}function I$(n){n.g=ML(()=>{n.g=null,n.i&&(n.i=!1,I$(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Us(hx,Es),(qt=hx.prototype).ca=!1,qt.R=null,qt.lb=function(){if(this.ca){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-n):(this.R&&(this.g.clearTimeout(this.R),this.R=null),Vs(this,"tick"),this.ca&&(NL(this),this.start()))}},qt.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},qt.M=function(){hx.X.M.call(this),NL(this),delete this.g};class MK extends xf{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:I$(this)}M(){super.M(),this.g&&(vn.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function MI(n){xf.call(this),this.h=n,this.g={}}Us(MI,xf);var C$=[];function T$(n,e,t,r){Array.isArray(t)||(t&&(C$[0]=t.toString()),t=C$);for(var i=0;i<t.length;i++){var u=g$(e,t[i],r||n.handleEvent,!1,n.h||n);if(!u)break;n.g[u.key]=u}}function A$(n){yL(n.g,function(e,t){this.g.hasOwnProperty(t)&&IL(e)},n),n.g={}}function fx(){this.g=!0}function xv(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function PK(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var u=i[0];if("noop"!=u&&"stop"!=u&&"close"!=u)for(var d=1;d<i.length;d++)i[d]=""}}}return DL(t)}catch{return e}}(n,t)+(r?" "+r:"")})}MI.prototype.M=function(){MI.X.M.call(this),A$(this)},MI.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},fx.prototype.Aa=function(){this.g=!1},fx.prototype.info=function(){};var Xg={},D$=null;function px(){return D$=D$||new Es}function S$(n){io.call(this,Xg.Pa,n)}function kI(n){const e=px();Vs(e,new S$(e))}function x$(n,e){io.call(this,Xg.STAT_EVENT,n),this.stat=e}function mo(n){const e=px();Vs(e,new x$(e,n))}function N$(n,e){io.call(this,Xg.Qa,n),this.size=e}function RI(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return vn.setTimeout(function(){n()},e)}Xg.Pa="serverreachability",Us(S$,io),Xg.STAT_EVENT="statevent",Us(x$,io),Xg.Qa="timingevent",Us(N$,io);var gx={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},M$={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function kL(){}function R$(){}kL.prototype.h=null;var PL,OI={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function RL(){io.call(this,"d")}function OL(){io.call(this,"c")}function mx(){}function PI(n,e,t,r){this.l=n,this.j=e,this.m=t,this.U=r||1,this.S=new MI(this),this.O=LK,this.T=new hx(n=fL?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new O$}function O$(){this.i=null,this.g="",this.h=!1}Us(RL,io),Us(OL,io),Us(mx,kL),mx.prototype.g=function(){return new XMLHttpRequest},mx.prototype.i=function(){return{}},PL=new mx;var LK=45e3,LL={},_x={};function FL(n,e,t){n.K=1,n.v=wx(xd(e)),n.s=t,n.P=!0,P$(n,null)}function P$(n,e){n.F=Date.now(),LI(n),n.A=xd(n.v);var t=n.A,r=n.U;Array.isArray(r)||(r=[String(r)]),Z$(t.i,"t",r),n.C=0,t=n.l.H,n.h=new O$,n.g=g6(n.l,t?e:null,!n.s),0<n.N&&(n.L=new MK(ro(n.La,n,n.g),n.N)),T$(n.S,n.g,"readystatechange",n.ib),e=n.H?h$(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.da(n.A,n.u,n.s,e)):(n.u="GET",n.g.da(n.A,n.u,null,e)),kI(),function kK(n,e,t,r,i,u){n.info(function(){if(n.g)if(u)for(var d="",p=u.split("&"),v=0;v<p.length;v++){var I=p[v].split("=");if(1<I.length){var S=I[0];I=I[1];var M=S.split("_");d=2<=M.length&&"type"==M[1]?d+(S+"=")+I+"&":d+(S+"=redacted&")}}else d=null;else d=u;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+d})}(n.j,n.u,n.A,n.m,n.U,n.s)}function L$(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Da}function F$(n,e,t){let i,r=!0;for(;!n.I&&n.C<t.length;){if(i=FK(n,t),i==_x){4==e&&(n.o=4,mo(14),r=!1),xv(n.j,n.m,null,"[Incomplete Response]");break}if(i==LL){n.o=4,mo(15),xv(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}xv(n.j,n.m,i,null),UL(n,i)}L$(n)&&i!=_x&&i!=LL&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,mo(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.$&&(n.$=!0,(e=n.l).g==n&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+t.length),WL(e),e.K=!0,mo(11))):(xv(n.j,n.m,t,"[Invalid Chunked Response]"),em(n),FI(n))}function FK(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?_x:(t=Number(e.substring(t,r)),isNaN(t)?LL:(r+=1)+t>e.length?_x:(e=e.substr(r,t),n.C=r+t,e))}function LI(n){n.V=Date.now()+n.O,U$(n,n.O)}function U$(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=RI(ro(n.gb,n),e)}function yx(n){n.B&&(vn.clearTimeout(n.B),n.B=null)}function FI(n){0==n.l.G||n.I||d6(n.l,n)}function em(n){yx(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,NL(n.T),A$(n.S),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function UL(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||VL(t.h,n)))if(!n.J&&VL(t.h,n)&&3==t.G){try{var r=t.Fa.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!t.u){if(t.g){if(!(t.g.F+3e3<n.F))break e;Dx(t),Tx(t)}ZL(t),mo(18)}}else t.Ba=i[1],0<t.Ba-t.T&&37500>i[2]&&t.L&&0==t.A&&!t.v&&(t.v=RI(ro(t.cb,t),6e3));if(1>=z$(t.h)&&t.ja){try{t.ja()}catch{}t.ja=void 0}}else nm(t,11)}else if((n.J||t.g==n)&&Dx(t),!ox(e))for(i=t.Fa.g.parse(e),e=0;e<i.length;e++){let I=i[e];if(t.T=I[0],I=I[1],2==t.G)if("c"==I[0]){t.I=I[1],t.ka=I[2];const S=I[3];null!=S&&(t.ma=S,t.j.info("VER="+t.ma));const M=I[4];null!=M&&(t.Ca=M,t.j.info("SVER="+t.Ca));const P=I[5];null!=P&&"number"==typeof P&&0<P&&(t.J=r=1.5*P,t.j.info("backChannelRequestTimeoutMs_="+r)),r=t;const $=n.g;if($){const Q=$.g?$.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Q){var u=r.h;u.g||-1==Q.indexOf("spdy")&&-1==Q.indexOf("quic")&&-1==Q.indexOf("h2")||(u.j=u.l,u.g=new Set,u.h&&(BL(u,u.h),u.h=null))}if(r.D){const le=$.g?$.g.getResponseHeader("X-HTTP-Session-Id"):null;le&&(r.za=le,ai(r.F,r.D,le))}}t.G=3,t.l&&t.l.xa(),t.$&&(t.P=Date.now()-n.F,t.j.info("Handshake RTT: "+t.P+"ms"));var d=n;if((r=t).sa=p6(r,r.H?r.ka:null,r.V),d.J){K$(r.h,d);var p=d,v=r.J;v&&p.setTimeout(v),p.B&&(yx(p),LI(p)),r.g=d}else l6(r);0<t.i.length&&Ax(t)}else"stop"!=I[0]&&"close"!=I[0]||nm(t,7);else 3==t.G&&("stop"==I[0]||"close"==I[0]?"stop"==I[0]?nm(t,7):GL(t):"noop"!=I[0]&&t.l&&t.l.wa(I),t.A=0)}kI()}catch{}}function V$(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(ix(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function VK(n){if(n.oa&&"function"==typeof n.oa)return n.oa();if(!n.W||"function"!=typeof n.W){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(ix(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const r in n)e[t++]=r;return e}}}(n),r=function UK(n){if(n.W&&"function"==typeof n.W)return n.W();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(ix(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),i=r.length,u=0;u<i;u++)e.call(void 0,r[u],t&&t[u],n)}(qt=PI.prototype).setTimeout=function(n){this.O=n},qt.ib=function(n){n=n.target;const e=this.L;e&&3==Nd(n)?e.l():this.La(n)},qt.La=function(n){try{if(n==this.g)e:{const S=Nd(this.g);var e=this.g.Ea();if(this.g.aa(),!(3>S)&&(3!=S||fL||this.g&&(this.h.h||this.g.fa()||r6(this.g)))){this.I||4!=S||7==e||kI(),yx(this);var t=this.g.aa();this.Y=t;t:if(L$(this)){var r=r6(this.g);n="";var i=r.length,u=4==Nd(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){em(this),FI(this);var d="";break t}this.h.i=new vn.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:u&&e==i-1});r.splice(0,i),this.h.g+=n,this.C=0,d=this.h.g}else d=this.g.fa();if(this.i=200==t,function RK(n,e,t,r,i,u,d){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+u+" "+d})}(this.j,this.u,this.A,this.m,this.U,S,t),this.i){if(this.Z&&!this.J){t:{if(this.g){var p,v=this.g;if((p=v.g?v.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ox(p)){var I=p;break t}}I=null}if(!(t=I)){this.i=!1,this.o=3,mo(12),em(this),FI(this);break e}xv(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,UL(this,t)}this.P?(F$(this,S,d),fL&&this.i&&3==S&&(T$(this.S,this.T,"tick",this.hb),this.T.start())):(xv(this.j,this.m,d,null),UL(this,d)),4==S&&em(this),this.i&&!this.I&&(4==S?d6(this.l,this):(this.i=!1,LI(this)))}else 400==t&&0<d.indexOf("Unknown SID")?(this.o=3,mo(12)):(this.o=0,mo(13)),em(this),FI(this)}}}catch{}},qt.hb=function(){if(this.g){var n=Nd(this.g),e=this.g.fa();this.C<e.length&&(yx(this),F$(this,n,e),this.i&&4!=n&&LI(this))}},qt.cancel=function(){this.I=!0,em(this)},qt.gb=function(){this.B=null;const n=Date.now();0<=n-this.V?(function OK(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(kI(),mo(17)),em(this),this.o=2,FI(this)):U$(this,this.V-n)};var B$=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function tm(n,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof tm){this.h=void 0!==e?e:n.h,vx(this,n.j),this.s=n.s,this.g=n.g,bx(this,n.m),this.l=n.l,e=n.i;var t=new BI;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),j$(this,t),this.o=n.o}else n&&(t=String(n).match(B$))?(this.h=!!e,vx(this,t[1]||"",!0),this.s=UI(t[2]||""),this.g=UI(t[3]||"",!0),bx(this,t[4]),this.l=UI(t[5]||"",!0),j$(this,t[6]||"",!0),this.o=UI(t[7]||"")):(this.h=!!e,this.i=new BI(null,this.h))}function xd(n){return new tm(n)}function vx(n,e,t){n.j=t?UI(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function bx(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function j$(n,e,t){e instanceof BI?(n.i=e,function WK(n,e){e&&!n.j&&(Nf(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(H$(this,r),Z$(this,i,t))},n)),n.j=e}(n.i,n.h)):(t||(e=VI(e,GK)),n.i=new BI(e,n.h))}function ai(n,e,t){n.i.set(e,t)}function wx(n){return ai(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function UI(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function VI(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,jK),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function jK(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}tm.prototype.toString=function(){var n=[],e=this.j;e&&n.push(VI(e,$$,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(VI(e,$$,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(VI(t,"/"==t.charAt(0)?HK:$K,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",VI(t,ZK)),n.join("")};var $$=/[#\/\?@]/g,$K=/[#\?:]/g,HK=/[#\?]/g,GK=/[#\?@]/g,ZK=/#/g;function BI(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function Nf(n){n.g||(n.g=new Map,n.h=0,n.i&&function BK(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var u=n[t].substring(0,r);i=n[t].substring(r+1)}else u=n[t];e(u,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function H$(n,e){Nf(n),e=Nv(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function G$(n,e){return Nf(n),e=Nv(n,e),n.g.has(e)}function Z$(n,e,t){H$(n,e),0<t.length&&(n.i=null,n.g.set(Nv(n,e),cL(t)),n.h+=t.length)}function Nv(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function W$(n){this.l=n||zK,n=vn.PerformanceNavigationTiming?0<(n=vn.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(vn.g&&vn.g.Ga&&vn.g.Ga()&&vn.g.Ga().$b),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(qt=BI.prototype).add=function(n,e){Nf(this),this.i=null,n=Nv(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},qt.forEach=function(n,e){Nf(this),this.g.forEach(function(t,r){t.forEach(function(i){n.call(e,i,r,this)},this)},this)},qt.oa=function(){Nf(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let r=0;r<e.length;r++){const i=n[r];for(let u=0;u<i.length;u++)t.push(e[r])}return t},qt.W=function(n){Nf(this);let e=[];if("string"==typeof n)G$(this,n)&&(e=e.concat(this.g.get(Nv(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},qt.set=function(n,e){return Nf(this),this.i=null,G$(this,n=Nv(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},qt.get=function(n,e){return n&&0<(n=this.W(n)).length?String(n[0]):e},qt.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var r=e[t];const u=encodeURIComponent(String(r)),d=this.W(r);for(r=0;r<d.length;r++){var i=u;""!==d[r]&&(i+="="+encodeURIComponent(String(d[r]))),n.push(i)}}return this.i=n.join("&")};var zK=10;function q$(n){return!!n.h||!!n.g&&n.g.size>=n.j}function z$(n){return n.h?1:n.g?n.g.size:0}function VL(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function BL(n,e){n.g?n.g.add(e):n.h=e}function K$(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function Y$(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return cL(n.i)}function jL(){}function KK(){this.g=new jL}function YK(n,e,t){const r=t||"";try{V$(n,function(i,u){let d=i;SI(i)&&(d=DL(i)),e.push(r+u+"="+encodeURIComponent(d))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function Ex(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function jI(n){this.l=n.ac||null,this.j=n.jb||!1}function Ix(n,e){Es.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=$L,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}W$.prototype.cancel=function(){if(this.i=Y$(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},jL.prototype.stringify=function(n){return vn.JSON.stringify(n,void 0)},jL.prototype.parse=function(n){return vn.JSON.parse(n,void 0)},Us(jI,kL),jI.prototype.g=function(){return new Ix(this.l,this.j)},jI.prototype.i=function(n){return function(){return n}}({}),Us(Ix,Es);var $L=0;function Q$(n){n.j.read().then(n.Ta.bind(n)).catch(n.ga.bind(n))}function $I(n){n.readyState=4,n.l=null,n.j=null,n.A=null,HI(n)}function HI(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(qt=Ix.prototype).open=function(n,e){if(this.readyState!=$L)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,HI(this)},qt.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||vn).fetch(new Request(this.B,e)).then(this.Wa.bind(this),this.ga.bind(this))},qt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,$I(this)),this.readyState=$L},qt.Wa=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,HI(this)),this.g&&(this.readyState=3,HI(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(typeof vn.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Q$(this)}else n.text().then(this.Va.bind(this),this.ga.bind(this))},qt.Ta=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?$I(this):HI(this),3==this.readyState&&Q$(this)}},qt.Va=function(n){this.g&&(this.response=this.responseText=n,$I(this))},qt.Ua=function(n){this.g&&(this.response=n,$I(this))},qt.ga=function(){this.g&&$I(this)},qt.setRequestHeader=function(n,e){this.v.append(n,e)},qt.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},qt.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(Ix.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var JK=vn.JSON.parse;function Ti(n){Es.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=J$,this.K=this.L=!1}Us(Ti,Es);var J$="",XK=/^https?$/i,eY=["POST","PUT"];function X$(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,e6(n),Cx(n)}function e6(n){n.D||(n.D=!0,Vs(n,"complete"),Vs(n,"error"))}function t6(n){if(n.h&&typeof uL<"u"&&(!n.C[1]||4!=Nd(n)||2!=n.aa()))if(n.v&&4==Nd(n))ML(n.Ha,0,n);else if(Vs(n,"readystatechange"),4==Nd(n)){n.h=!1;try{const p=n.aa();e:switch(p){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===p){var i=String(n.H).match(B$)[1]||null;if(!i&&vn.self&&vn.self.location){var u=vn.self.location.protocol;i=u.substr(0,u.length-1)}r=!XK.test(i?i.toLowerCase():"")}t=r}if(t)Vs(n,"complete"),Vs(n,"success");else{n.m=6;try{var d=2<Nd(n)?n.g.statusText:""}catch{d=""}n.j=d+" ["+n.aa()+"]",e6(n)}}finally{Cx(n)}}}function Cx(n,e){if(n.g){n6(n);const t=n.g,r=n.C[0]?rx:null;n.g=null,n.C=null,e||Vs(n,"ready");try{t.onreadystatechange=r}catch{}}}function n6(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(vn.clearTimeout(n.A),n.A=null)}function Nd(n){return n.g?n.g.readyState:0}function r6(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case J$:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function i6(n){let e="";return yL(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}function HL(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=i6(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):ai(n,e,t))}function GI(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function s6(n){this.Ca=0,this.i=[],this.j=new fx,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=GI("failFast",!1,n),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=GI("baseRetryDelayMs",5e3,n),this.bb=GI("retryDelaySeedMs",1e4,n),this.$a=GI("forwardChannelMaxRetries",2,n),this.ta=GI("forwardChannelRequestTimeoutMs",2e4,n),this.ra=n&&n.xmlHttpFactory||void 0,this.Da=n&&n.Zb||!1,this.J=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.I="",this.h=new W$(n&&n.concurrentRequestLimit),this.Fa=new KK,this.O=n&&n.fastHandshake||!1,this.N=n&&n.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=n&&n.Xb||!1,n&&n.Aa&&this.j.Aa(),n&&n.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&n&&n.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function GL(n){if(o6(n),3==n.G){var e=n.U++,t=xd(n.F);ai(t,"SID",n.I),ai(t,"RID",e),ai(t,"TYPE","terminate"),ZI(n,t),(e=new PI(n,n.j,e,void 0)).K=2,e.v=wx(xd(t)),t=!1,vn.navigator&&vn.navigator.sendBeacon&&(t=vn.navigator.sendBeacon(e.v.toString(),"")),!t&&vn.Image&&((new Image).src=e.v,t=!0),t||(e.g=g6(e.l,null),e.g.da(e.v)),e.F=Date.now(),LI(e)}f6(n)}function Tx(n){n.g&&(WL(n),n.g.cancel(),n.g=null)}function o6(n){Tx(n),n.u&&(vn.clearTimeout(n.u),n.u=null),Dx(n),n.h.cancel(),n.m&&("number"==typeof n.m&&vn.clearTimeout(n.m),n.m=null)}function Ax(n){q$(n.h)||n.m||(n.m=!0,w$(n.Ja,n),n.C=0)}function a6(n,e){var t;t=e?e.m:n.U++;const r=xd(n.F);ai(r,"SID",n.I),ai(r,"RID",t),ai(r,"AID",n.T),ZI(n,r),n.o&&n.s&&HL(r,n.o,n.s),t=new PI(n,n.j,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.i=e.D.concat(n.i)),e=u6(n,t,1e3),t.setTimeout(Math.round(.5*n.ta)+Math.round(.5*n.ta*Math.random())),BL(n.h,t),FL(t,r,e)}function ZI(n,e){n.ia&&yL(n.ia,function(t,r){ai(e,r,t)}),n.l&&V$({},function(t,r){ai(e,r,t)})}function u6(n,e,t){t=Math.min(n.i.length,t);var r=n.l?ro(n.l.Ra,n.l,n):null;e:{var i=n.i;let u=-1;for(;;){const d=["count="+t];-1==u?0<t?(u=i[0].h,d.push("ofs="+u)):u=0:d.push("ofs="+u);let p=!0;for(let v=0;v<t;v++){let I=i[v].h;const S=i[v].g;if(I-=u,0>I)u=Math.max(0,i[v].h-100),p=!1;else try{YK(S,d,"req"+I+"_")}catch{r&&r(S)}}if(p){r=d.join("&");break e}}}return n=n.i.splice(0,t),e.D=n,r}function l6(n){n.g||n.u||(n.Z=1,w$(n.Ia,n),n.A=0)}function ZL(n){return!(n.g||n.u||3<=n.A||(n.Z++,n.u=RI(ro(n.Ia,n),h6(n,n.A)),n.A++,0))}function WL(n){null!=n.B&&(vn.clearTimeout(n.B),n.B=null)}function c6(n){n.g=new PI(n,n.j,"rpc",n.Z),null===n.o&&(n.g.H=n.s),n.g.N=0;var e=xd(n.sa);ai(e,"RID","rpc"),ai(e,"SID",n.I),ai(e,"CI",n.L?"0":"1"),ai(e,"AID",n.T),ai(e,"TYPE","xmlhttp"),ZI(n,e),n.o&&n.s&&HL(e,n.o,n.s),n.J&&n.g.setTimeout(n.J);var t=n.g;n=n.ka,t.K=1,t.v=wx(xd(e)),t.s=null,t.P=!0,P$(t,n)}function Dx(n){null!=n.v&&(vn.clearTimeout(n.v),n.v=null)}function d6(n,e){var t=null;if(n.g==e){Dx(n),WL(n),n.g=null;var r=2}else{if(!VL(n.h,e))return;t=e.D,K$(n.h,e),r=1}if(0!=n.G)if(n.pa=e.Y,e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.F;var i=n.C;Vs(r=px(),new N$(r,t)),Ax(n)}else l6(n);else if(3==(i=e.o)||0==i&&0<n.pa||!(1==r&&function nY(n,e){return!(z$(n.h)>=n.h.j-(n.m?1:0)||(n.m?(n.i=e.D.concat(n.i),0):1==n.G||2==n.G||n.C>=(n.Za?0:n.$a)||(n.m=RI(ro(n.Ja,n,e),h6(n,n.C)),n.C++,0)))}(n,e)||2==r&&ZL(n)))switch(t&&0<t.length&&(e=n.h,e.i=e.i.concat(t)),i){case 1:nm(n,5);break;case 4:nm(n,10);break;case 3:nm(n,6);break;default:nm(n,2)}}function h6(n,e){let t=n.Xa+Math.floor(Math.random()*n.bb);return n.l||(t*=2),t*e}function nm(n,e){if(n.j.info("Error code "+e),2==e){var t=null;n.l&&(t=null);var r=ro(n.kb,n);t||(t=new tm("//www.google.com/images/cleardot.gif"),vn.location&&"http"==vn.location.protocol||vx(t,"https"),wx(t)),function QK(n,e){const t=new fx;if(vn.Image){const r=new Image;r.onload=sx(Ex,t,r,"TestLoadImage: loaded",!0,e),r.onerror=sx(Ex,t,r,"TestLoadImage: error",!1,e),r.onabort=sx(Ex,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=sx(Ex,t,r,"TestLoadImage: timeout",!1,e),vn.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else mo(2);n.G=0,n.l&&n.l.va(e),f6(n),o6(n)}function f6(n){if(n.G=0,n.la=[],n.l){const e=Y$(n.h);(0!=e.length||0!=n.i.length)&&(o$(n.la,e),o$(n.la,n.i),n.h.i.length=0,cL(n.i),n.i.length=0),n.l.ua()}}function p6(n,e,t){var r=t instanceof tm?xd(t):new tm(t,void 0);if(""!=r.g)e&&(r.g=e+"."+r.g),bx(r,r.m);else{var i=vn.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var u=new tm(null,void 0);r&&vx(u,r),e&&(u.g=e),i&&bx(u,i),t&&(u.l=t),r=u}return e=n.za,(t=n.D)&&e&&ai(r,t,e),ai(r,"VER",n.ma),ZI(n,r),r}function g6(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Ti(t&&n.Da&&!n.ra?new jI({jb:!0}):n.ra)).Ka(n.H),e}function m6(){}function Sx(){if(Sv&&!(10<=Number(vK)))throw Error("Environmental error: no available transport.")}function _a(n,e){Es.call(this),this.g=new s6(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.S=n,(n=e&&e.Yb)&&!ox(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!ox(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new Mv(this)}function _6(n){RL.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function y6(){OL.call(this),this.status=1}function Mv(n){this.g=n}(qt=Ti.prototype).Ka=function(n){this.L=n},qt.da=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():PL.g(),this.C=function k$(n){return n.h||(n.h=n.i())}(this.u?this.u:PL),this.g.onreadystatechange=ro(this.Ha,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(u){return void X$(this,u)}if(n=t||"",t=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)t.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const u of r.keys())t.set(u,r.get(u))}r=Array.from(t.keys()).find(u=>"content-type"==u.toLowerCase()),i=vn.FormData&&n instanceof vn.FormData,!(0<=s$(eY,e))||r||i||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[u,d]of t)this.g.setRequestHeader(u,d);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{n6(this),0<this.B&&((this.K=function tY(n){return Sv&&function yK(){return function pK(n){var e=_K;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=a$(String(ux)).split("."),t=a$("9").split("."),r=Math.max(e.length,t.length);for(let d=0;0==n&&d<r;d++){var i=e[d]||"",u=t[d]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],u=/(\d*)(\D*)(.*)/.exec(u)||["","","",""],0==i[0].length&&0==u[0].length)break;n=dL(0==i[1].length?0:parseInt(i[1],10),0==u[1].length?0:parseInt(u[1],10))||dL(0==i[2].length,0==u[2].length)||dL(i[2],u[2]),i=i[3],u=u[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=ro(this.qa,this)):this.A=ML(this.qa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(u){X$(this,u)}},qt.qa=function(){typeof uL<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Vs(this,"timeout"),this.abort(8))},qt.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Vs(this,"complete"),Vs(this,"abort"),Cx(this))},qt.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Cx(this,!0)),Ti.X.M.call(this)},qt.Ha=function(){this.s||(this.F||this.v||this.l?t6(this):this.fb())},qt.fb=function(){t6(this)},qt.aa=function(){try{return 2<Nd(this)?this.g.status:-1}catch{return-1}},qt.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}},qt.Sa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),JK(e)}},qt.Ea=function(){return this.m},qt.Oa=function(){return"string"==typeof this.j?this.j:String(this.j)},(qt=s6.prototype).ma=8,qt.G=1,qt.Ja=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.U=Math.floor(1e5*Math.random()),n=this.U++;const i=new PI(this,this.j,n,void 0);let u=this.s;if(this.S&&(u?(u=h$(u),p$(u,this.S)):u=this.S),null!==this.o||this.N||(i.H=u,u=null),this.O)e:{for(var e=0,t=0;t<this.i.length;t++){var r=this.i[t];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.i.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=u6(this,i,e),ai(t=xd(this.F),"RID",n),ai(t,"CVER",22),this.D&&ai(t,"X-HTTP-Session-Id",this.D),ZI(this,t),u&&(this.N?e="headers="+encodeURIComponent(String(i6(u)))+"&"+e:this.o&&HL(t,this.o,u)),BL(this.h,i),this.Ya&&ai(t,"TYPE","init"),this.O?(ai(t,"$req",e),ai(t,"SID","null"),i.Z=!0,FL(i,t,null)):FL(i,t,e),this.G=2}}else 3==this.G&&(n?a6(this,n):0==this.i.length||q$(this.h)||a6(this))},qt.Ia=function(){if(this.u=null,c6(this),this.$&&!(this.K||null==this.g||0>=this.P)){var n=2*this.P;this.j.info("BP detection timer enabled: "+n),this.B=RI(ro(this.eb,this),n)}},qt.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,mo(10),Tx(this),c6(this))},qt.cb=function(){null!=this.v&&(this.v=null,Tx(this),ZL(this),mo(19))},qt.kb=function(n){n?(this.j.info("Successfully pinged google.com"),mo(2)):(this.j.info("Failed to ping google.com"),mo(1))},(qt=m6.prototype).xa=function(){},qt.wa=function(){},qt.va=function(){},qt.ua=function(){},qt.Ra=function(){},Sx.prototype.g=function(n,e){return new _a(n,e)},Us(_a,Es),_a.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;mo(0),n.V=e,n.ia=t||{},n.L=n.Y,n.F=p6(n,null,n.V),Ax(n)},_a.prototype.close=function(){GL(this.g)},_a.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=DL(n),n=t);e.i.push(new class{constructor(n,e){this.h=n,this.g=e}}(e.ab++,n)),3==e.G&&Ax(e)},_a.prototype.M=function(){this.g.l=null,delete this.j,GL(this.g),delete this.g,_a.X.M.call(this)},Us(_6,RL),Us(y6,OL),Us(Mv,m6),Mv.prototype.xa=function(){Vs(this.g,"a")},Mv.prototype.wa=function(n){Vs(this.g,new _6(n))},Mv.prototype.va=function(n){Vs(this.g,new y6)},Mv.prototype.ua=function(){Vs(this.g,"b")},Sx.prototype.createWebChannel=Sx.prototype.g,_a.prototype.send=_a.prototype.u,_a.prototype.open=_a.prototype.m,_a.prototype.close=_a.prototype.close,gx.NO_ERROR=0,gx.TIMEOUT=8,gx.HTTP_ERROR=6,M$.COMPLETE="complete",R$.EventType=OI,OI.OPEN="a",OI.CLOSE="b",OI.ERROR="c",OI.MESSAGE="d",Es.prototype.listen=Es.prototype.N,Ti.prototype.listenOnce=Ti.prototype.O,Ti.prototype.getLastError=Ti.prototype.Oa,Ti.prototype.getLastErrorCode=Ti.prototype.Ea,Ti.prototype.getStatus=Ti.prototype.aa,Ti.prototype.getResponseJson=Ti.prototype.Sa,Ti.prototype.getResponseText=Ti.prototype.fa,Ti.prototype.send=Ti.prototype.da,Ti.prototype.setWithCredentials=Ti.prototype.Ka;var rY=Sd.createWebChannelTransport=function(){return new Sx},iY=Sd.getStatEventTarget=function(){return px()},qL=Sd.ErrorCode=gx,sY=Sd.EventType=M$,oY=Sd.Event=Xg,v6=Sd.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},aY=Sd.FetchXmlHttpFactory=jI,xx=Sd.WebChannel=R$,uY=Sd.XhrIo=Ti;const b6="@firebase/firestore";class Is{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Is.UNAUTHENTICATED=new Is(null),Is.GOOGLE_CREDENTIALS=new Is("google-credentials-uid"),Is.FIRST_PARTY=new Is("first-party-uid"),Is.MOCK_USER=new Is("mock-user");let kv="9.14.0";const Mf=new da.Yd("@firebase/firestore");function zL(){return Mf.logLevel}function ut(n,...e){if(Mf.logLevel<=da.in.DEBUG){const t=e.map(KL);Mf.debug(`Firestore (${kv}): ${n}`,...t)}}function Vi(n,...e){if(Mf.logLevel<=da.in.ERROR){const t=e.map(KL);Mf.error(`Firestore (${kv}): ${n}`,...t)}}function rm(n,...e){if(Mf.logLevel<=da.in.WARN){const t=e.map(KL);Mf.warn(`Firestore (${kv}): ${n}`,...t)}}function KL(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function Lt(n="Unexpected state"){const e=`FIRESTORE (${kv}) INTERNAL ASSERTION FAILED: `+n;throw Vi(e),new Error(e)}function on(n,e){n||Lt()}function Ct(n,e){return n}const Pe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class nt extends q.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class cs{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class w6{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class dY{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Is.UNAUTHENTICATED))}shutdown(){}}class hY{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class fY{constructor(e){this.t=e,this.currentUser=Is.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let i=this.i;const u=I=>this.i!==i?(i=this.i,t(I)):Promise.resolve();let d=new cs;this.o=()=>{this.i++,this.currentUser=this.u(),d.resolve(),d=new cs,e.enqueueRetryable(()=>u(this.currentUser))};const p=()=>{const I=d;e.enqueueRetryable((0,Re.Z)(function*(){yield I.promise,yield u(r.currentUser)}))},v=I=>{ut("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=I,this.auth.addAuthTokenListener(this.o),p()};this.t.onInit(I=>v(I)),setTimeout(()=>{if(!this.auth){const I=this.t.getImmediate({optional:!0});I?v(I):(ut("FirebaseAuthCredentialsProvider","Auth not yet detected"),d.resolve(),d=new cs)}},0),p()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(ut("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(on("string"==typeof r.accessToken),new w6(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return on(null===e||"string"==typeof e),new Is(e)}}class pY{constructor(e,t,r,i){this.h=e,this.l=t,this.m=r,this.g=i,this.type="FirstParty",this.user=Is.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(on(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class gY{constructor(e,t,r,i){this.h=e,this.l=t,this.m=r,this.g=i}getToken(){return Promise.resolve(new pY(this.h,this.l,this.m,this.g))}start(e,t){e.enqueueRetryable(()=>t(Is.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class E6{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class mY{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,t){const r=u=>{null!=u.error&&ut("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const d=u.token!==this.A;return this.A=u.token,ut("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?t(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>r(u))};const i=u=>{ut("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.appCheck.addTokenListener(this.o)};this.T.onInit(u=>i(u)),setTimeout(()=>{if(!this.appCheck){const u=this.T.getImmediate({optional:!0});u?i(u):ut("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(on("string"==typeof t.token),this.A=t.token,new E6(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function _Y(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class I6{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=_Y(40);for(let u=0;u<i.length;++u)r.length<20&&i[u]<t&&(r+=e.charAt(i[u]%e.length))}return r}}function bn(n,e){return n<e?-1:n>e?1:0}function Rv(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}function C6(n){return n+"\0"}class ui{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new nt(Pe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new nt(Pe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new nt(Pe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new nt(Pe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return ui.fromMillis(Date.now())}static fromDate(e){return ui.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new ui(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?bn(this.nanoseconds,e.nanoseconds):bn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class an{constructor(e){this.timestamp=e}static fromTimestamp(e){return new an(e)}static min(){return new an(new ui(0,0))}static max(){return new an(new ui(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class WI{constructor(e,t,r){void 0===t?t=0:t>e.length&&Lt(),void 0===r?r=e.length-t:r>e.length-t&&Lt(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===WI.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof WI?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const u=e.get(i),d=t.get(i);if(u<d)return-1;if(u>d)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class nr extends WI{construct(e,t,r){return new nr(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new nt(Pe.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new nr(t)}static emptyPath(){return new nr([])}}const yY=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ai extends WI{construct(e,t,r){return new Ai(e,t,r)}static isValidIdentifier(e){return yY.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ai.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Ai(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const u=()=>{if(0===r.length)throw new nt(Pe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let d=!1;for(;i<e.length;){const p=e[i];if("\\"===p){if(i+1===e.length)throw new nt(Pe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const v=e[i+1];if("\\"!==v&&"."!==v&&"`"!==v)throw new nt(Pe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=v,i+=2}else"`"===p?(d=!d,i++):"."!==p||d?(r+=p,i++):(u(),i++)}if(u(),d)throw new nt(Pe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ai(t)}static emptyPath(){return new Ai([])}}class Et{constructor(e){this.path=e}static fromPath(e){return new Et(nr.fromString(e))}static fromName(e){return new Et(nr.fromString(e).popFirst(5))}static empty(){return new Et(nr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===nr.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return nr.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Et(new nr(e.slice()))}}class Nx{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}}function YL(n){return n.fields.find(e=>2===e.kind)}function im(n){return n.fields.filter(e=>2!==e.kind)}Nx.UNKNOWN_ID=-1;class Mx{constructor(e,t){this.fieldPath=e,this.kind=t}}class qI{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new qI(0,ya.min())}}function T6(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=an.fromTimestamp(1e9===r?new ui(t+1,0):new ui(t,r));return new ya(i,Et.empty(),e)}function A6(n){return new ya(n.readTime,n.key,-1)}class ya{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new ya(an.min(),Et.empty(),-1)}static max(){return new ya(an.max(),Et.empty(),-1)}}function QL(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=Et.comparator(n.documentKey,e.documentKey),0!==t?t:bn(n.largestBatchId,e.largestBatchId))}const D6="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class S6{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function kf(n){return JL.apply(this,arguments)}function JL(){return JL=(0,Re.Z)(function*(n){if(n.code!==Pe.FAILED_PRECONDITION||n.message!==D6)throw n;ut("LocalStore","Unexpectedly lost primary lease")}),JL.apply(this,arguments)}class Se{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Lt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Se((r,i)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(r,i)},this.catchCallback=u=>{this.wrapFailure(t,u).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Se?t:Se.resolve(t)}catch(t){return Se.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Se.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Se.reject(t)}static resolve(e){return new Se((t,r)=>{t(e)})}static reject(e){return new Se((t,r)=>{r(e)})}static waitFor(e){return new Se((t,r)=>{let i=0,u=0,d=!1;e.forEach(p=>{++i,p.next(()=>{++u,d&&u===i&&t()},v=>r(v))}),d=!0,u===i&&t()})}static or(e){let t=Se.resolve(!1);for(const r of e)t=t.next(i=>i?Se.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,u)=>{r.push(t.call(this,i,u))}),this.waitFor(r)}static mapArray(e,t){return new Se((r,i)=>{const u=e.length,d=new Array(u);let p=0;for(let v=0;v<u;v++){const I=v;t(e[I]).next(S=>{d[I]=S,++p,p===u&&r(d)},S=>i(S))}})}static doWhile(e,t){return new Se((r,i)=>{const u=()=>{!0===e()?t().next(()=>{u()},i):r()};u()})}}class kx{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.P=new cs,this.transaction.oncomplete=()=>{this.P.resolve()},this.transaction.onabort=()=>{t.error?this.P.reject(new zI(e,t.error)):this.P.resolve()},this.transaction.onerror=r=>{const i=XL(r.target.error);this.P.reject(new zI(e,i))}}static open(e,t,r,i){try{return new kx(t,e.transaction(i,r))}catch(u){throw new zI(t,u)}}get v(){return this.P.promise}abort(e){e&&this.P.reject(e),this.aborted||(ut("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}V(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new EY(t)}}class Ju{constructor(e,t,r){this.name=e,this.version=t,this.S=r,12.2===Ju.D((0,q.z$)())&&Vi("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return ut("SimpleDb","Removing database:",e),sm(window.indexedDB.deleteDatabase(e)).toPromise()}static C(){if(!(0,q.hl)())return!1;if(Ju.N())return!0;const e=(0,q.z$)(),t=Ju.D(e),r=0<t&&t<10,i=Ju.k(e),u=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||u)}static N(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.O)}static M(e,t){return e.store(t)}static D(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static k(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}F(e){var t=this;return(0,Re.Z)(function*(){return t.db||(ut("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,i)=>{const u=indexedDB.open(t.name,t.version);u.onsuccess=d=>{r(d.target.result)},u.onblocked=()=>{i(new zI(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},u.onerror=d=>{const p=d.target.error;i("VersionError"===p.name?new nt(Pe.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===p.name?new nt(Pe.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+p):new zI(e,p))},u.onupgradeneeded=d=>{ut("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',d.oldVersion),t.S.$(d.target.result,u.transaction,d.oldVersion,t.version).next(()=>{ut("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.B&&(t.db.onversionchange=r=>t.B(r)),t.db})()}L(e){this.B=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,i){var u=this;return(0,Re.Z)(function*(){const d="readonly"===t;let p=0;for(;;){++p;try{u.db=yield u.F(e);const v=kx.open(u.db,e,d?"readonly":"readwrite",r),I=i(v).next(S=>(v.V(),S)).catch(S=>(v.abort(S),Se.reject(S))).toPromise();return I.catch(()=>{}),yield v.v,I}catch(v){const I=v,S="FirebaseError"!==I.name&&p<3;if(ut("SimpleDb","Transaction failed with error:",I.message,"Retrying:",S),u.close(),!S)return Promise.reject(I)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class wY{constructor(e){this.U=e,this.q=!1,this.K=null}get isDone(){return this.q}get G(){return this.K}set cursor(e){this.U=e}done(){this.q=!0}j(e){this.K=e}delete(){return sm(this.U.delete())}}class zI extends nt{constructor(e,t){super(Pe.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Rf(n){return"IndexedDbTransactionError"===n.name}class EY{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(ut("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(ut("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),sm(r)}add(e){return ut("SimpleDb","ADD",this.store.name,e,e),sm(this.store.add(e))}get(e){return sm(this.store.get(e)).next(t=>(void 0===t&&(t=null),ut("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return ut("SimpleDb","DELETE",this.store.name,e),sm(this.store.delete(e))}count(){return ut("SimpleDb","COUNT",this.store.name),sm(this.store.count())}W(e,t){const r=this.options(e,t);if(r.index||"function"!=typeof this.store.getAll){const i=this.cursor(r),u=[];return this.H(i,(d,p)=>{u.push(p)}).next(()=>u)}{const i=this.store.getAll(r.range);return new Se((u,d)=>{i.onerror=p=>{d(p.target.error)},i.onsuccess=p=>{u(p.target.result)}})}}J(e,t){const r=this.store.getAll(e,null===t?void 0:t);return new Se((i,u)=>{r.onerror=d=>{u(d.target.error)},r.onsuccess=d=>{i(d.target.result)}})}Y(e,t){ut("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.X=!1;const i=this.cursor(r);return this.H(i,(u,d,p)=>p.delete())}Z(e,t){let r;t?r=e:(r={},t=e);const i=this.cursor(r);return this.H(i,t)}tt(e){const t=this.cursor({});return new Se((r,i)=>{t.onerror=u=>{const d=XL(u.target.error);i(d)},t.onsuccess=u=>{const d=u.target.result;d?e(d.primaryKey,d.value).next(p=>{p?d.continue():r()}):r()}})}H(e,t){const r=[];return new Se((i,u)=>{e.onerror=d=>{u(d.target.error)},e.onsuccess=d=>{const p=d.target.result;if(!p)return void i();const v=new wY(p),I=t(p.primaryKey,p.value,v);if(I instanceof Se){const S=I.catch(M=>(v.done(),Se.reject(M)));r.push(S)}v.isDone?i():null===v.G?p.continue():p.continue(v.G)}}).next(()=>Se.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.X?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function sm(n){return new Se((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const i=XL(r.target.error);t(i)}})}let x6=!1;function XL(n){const e=Ju.D((0,q.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new nt("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return x6||(x6=!0,setTimeout(()=>{throw r},0)),r}}return n}class IY{constructor(e,t){this.asyncQueue=e,this.et=t,this.task=null}start(){this.nt(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}nt(e){var t=this;ut("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,Re.Z)(function*(){t.task=null;try{ut("IndexBackiller",`Documents written: ${yield t.et.st()}`)}catch(r){Rf(r)?ut("IndexBackiller","Ignoring IndexedDB error during index backfill: ",r):yield kf(r)}yield t.nt(6e4)}))}}class CY{constructor(e,t){this.localStore=e,this.persistence=t}st(e=50){var t=this;return(0,Re.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",r=>t.it(r,e))})()}it(e,t){const r=new Set;let i=t,u=!0;return Se.doWhile(()=>!0===u&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(d=>{if(null!==d&&!r.has(d))return ut("IndexBackiller",`Processing collection: ${d}`),this.rt(e,d,i).next(p=>{i-=p,r.add(d)});u=!1})).next(()=>t-i)}rt(e,t,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(i=>this.localStore.localDocuments.getNextDocuments(e,t,i,r).next(u=>{const d=u.changes;return this.localStore.indexManager.updateIndexEntries(e,d).next(()=>this.ot(i,u)).next(p=>(ut("IndexBackiller",`Updating offset: ${p}`),this.localStore.indexManager.updateCollectionGroup(e,t,p))).next(()=>d.size)}))}ot(e,t){let r=e;return t.changes.forEach((i,u)=>{const d=A6(u);QL(d,r)>0&&(r=d)}),new ya(r.readTime,r.documentKey,Math.max(t.batchId,e.largestBatchId))}}class Zo{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ut(r),this.ct=r=>t.writeSequenceNumber(r))}ut(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ct&&this.ct(e),e}}function N6(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function om(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function M6(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}Zo.at=-1;class Di{constructor(e,t){this.comparator=e,this.root=t||Bs.EMPTY}insert(e,t){return new Di(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Bs.BLACK,null,null))}remove(e){return new Di(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Bs.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Rx(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Rx(this.root,e,this.comparator,!1)}getReverseIterator(){return new Rx(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Rx(this.root,e,this.comparator,!0)}}class Rx{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=t?r(e.key,t):1,t&&i&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(0===u){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Bs{constructor(e,t,r,i,u){this.key=e,this.value=t,this.color=r??Bs.RED,this.left=i??Bs.EMPTY,this.right=u??Bs.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,u){return new Bs(e??this.key,t??this.value,r??this.color,i??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const u=r(e,i.key);return i=u<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===u?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Bs.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return Bs.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Bs.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Bs.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Lt();const e=this.left.check();if(e!==this.right.check())throw Lt();return e+(this.isRed()?0:1)}}Bs.EMPTY=null,Bs.RED=!0,Bs.BLACK=!1,Bs.EMPTY=new class{constructor(){this.size=0}get key(){throw Lt()}get value(){throw Lt()}get color(){throw Lt()}get left(){throw Lt()}get right(){throw Lt()}copy(n,e,t,r,i){return this}insert(n,e,t){return new Bs(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Nr{constructor(e){this.comparator=e,this.data=new Di(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new k6(this.data.getIterator())}getIteratorFrom(e){return new k6(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Nr)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,u=r.getNext().key;if(0!==this.comparator(i,u))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Nr(this.comparator);return t.data=e,t}}class k6{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Ov(n){return n.hasNext()?n.getNext():void 0}class va{constructor(e){this.fields=e,e.sort(Ai.comparator)}static empty(){return new va([])}unionWith(e){let t=new Nr(Ai.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new va(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Rv(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class ds{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new ds(t)}static fromUint8Array(e){const t=function(r){let i="";for(let u=0;u<r.length;++u)i+=String.fromCharCode(r[u]);return i}(e);return new ds(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return bn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ds.EMPTY_BYTE_STRING=new ds("");const AY=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Of(n){if(on(!!n),"string"==typeof n){let e=0;const t=AY.exec(n);if(on(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Si(n.seconds),nanos:Si(n.nanos)}}function Si(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function am(n){return"string"==typeof n?ds.fromBase64String(n):ds.fromUint8Array(n)}function e2(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function R6(n){const e=n.mapValue.fields.__previous_value__;return e2(e)?R6(e):e}function KI(n){const e=Of(n.mapValue.fields.__local_write_time__.timestampValue);return new ui(e.seconds,e.nanos)}class DY{constructor(e,t,r,i,u,d,p,v){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=u,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.useFetchStreams=v}}class Pf{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Pf("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Pf&&e.projectId===this.projectId&&e.database===this.database}}function YI(n){return null==n}function QI(n){return 0===n&&1/n==-1/0}function O6(n){return"number"==typeof n&&Number.isInteger(n)&&!QI(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}const Lf={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Ox={nullValue:"NULL_VALUE"};function um(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?e2(n)?4:U6(n)?9007199254740991:10:Lt()}function rc(n,e){if(n===e)return!0;const t=um(n);if(t!==um(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return KI(n).isEqual(KI(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const u=Of(r.timestampValue),d=Of(i.timestampValue);return u.seconds===d.seconds&&u.nanos===d.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return i=e,am(n.bytesValue).isEqual(am(i.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,i){return Si(r.geoPointValue.latitude)===Si(i.geoPointValue.latitude)&&Si(r.geoPointValue.longitude)===Si(i.geoPointValue.longitude)}(n,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return Si(r.integerValue)===Si(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const u=Si(r.doubleValue),d=Si(i.doubleValue);return u===d?QI(u)===QI(d):isNaN(u)&&isNaN(d)}return!1}(n,e);case 9:return Rv(n.arrayValue.values||[],e.arrayValue.values||[],rc);case 10:return function(r,i){const u=r.mapValue.fields||{},d=i.mapValue.fields||{};if(N6(u)!==N6(d))return!1;for(const p in u)if(u.hasOwnProperty(p)&&(void 0===d[p]||!rc(u[p],d[p])))return!1;return!0}(n,e);default:return Lt()}var i}function JI(n,e){return void 0!==(n.values||[]).find(t=>rc(t,e))}function Ff(n,e){if(n===e)return 0;const t=um(n),r=um(e);if(t!==r)return bn(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return bn(n.booleanValue,e.booleanValue);case 2:return function(i,u){const d=Si(i.integerValue||i.doubleValue),p=Si(u.integerValue||u.doubleValue);return d<p?-1:d>p?1:d===p?0:isNaN(d)?isNaN(p)?0:-1:1}(n,e);case 3:return P6(n.timestampValue,e.timestampValue);case 4:return P6(KI(n),KI(e));case 5:return bn(n.stringValue,e.stringValue);case 6:return function(i,u){const d=am(i),p=am(u);return d.compareTo(p)}(n.bytesValue,e.bytesValue);case 7:return function(i,u){const d=i.split("/"),p=u.split("/");for(let v=0;v<d.length&&v<p.length;v++){const I=bn(d[v],p[v]);if(0!==I)return I}return bn(d.length,p.length)}(n.referenceValue,e.referenceValue);case 8:return function(i,u){const d=bn(Si(i.latitude),Si(u.latitude));return 0!==d?d:bn(Si(i.longitude),Si(u.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(i,u){const d=i.values||[],p=u.values||[];for(let v=0;v<d.length&&v<p.length;++v){const I=Ff(d[v],p[v]);if(I)return I}return bn(d.length,p.length)}(n.arrayValue,e.arrayValue);case 10:return function(i,u){if(i===Lf.mapValue&&u===Lf.mapValue)return 0;if(i===Lf.mapValue)return 1;if(u===Lf.mapValue)return-1;const d=i.fields||{},p=Object.keys(d),v=u.fields||{},I=Object.keys(v);p.sort(),I.sort();for(let S=0;S<p.length&&S<I.length;++S){const M=bn(p[S],I[S]);if(0!==M)return M;const P=Ff(d[p[S]],v[I[S]]);if(0!==P)return P}return bn(p.length,I.length)}(n.mapValue,e.mapValue);default:throw Lt()}}function P6(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return bn(n,e);const t=Of(n),r=Of(e),i=bn(t.seconds,r.seconds);return 0!==i?i:bn(t.nanos,r.nanos)}function Pv(n){return t2(n)}function t2(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const i=Of(r);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?am(n.bytesValue).toBase64():"referenceValue"in n?Et.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let i="[",u=!0;for(const d of r.values||[])u?u=!1:i+=",",i+=t2(d);return i+"]"}(n.arrayValue):"mapValue"in n?function(r){const i=Object.keys(r.fields||{}).sort();let u="{",d=!0;for(const p of i)d?d=!1:u+=",",u+=`${p}:${t2(r.fields[p])}`;return u+"}"}(n.mapValue):Lt();var e}function lm(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function n2(n){return!!n&&"integerValue"in n}function XI(n){return!!n&&"arrayValue"in n}function L6(n){return!!n&&"nullValue"in n}function F6(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Px(n){return!!n&&"mapValue"in n}function eC(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return om(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=eC(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=eC(n.arrayValue.values[t]);return e}return Object.assign({},n)}function U6(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function SY(n){return"nullValue"in n?Ox:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?lm(Pf.empty(),Et.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:Lt()}function xY(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?lm(Pf.empty(),Et.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?Lf:Lt()}function V6(n,e){const t=Ff(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function B6(n,e){const t=Ff(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class js{constructor(e){this.value=e}static empty(){return new js({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Px(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=eC(t)}setAll(e){let t=Ai.emptyPath(),r={},i=[];e.forEach((d,p)=>{if(!t.isImmediateParentOf(p)){const v=this.getFieldsMap(t);this.applyChanges(v,r,i),r={},i=[],t=p.popLast()}d?r[p.lastSegment()]=eC(d):i.push(p.lastSegment())});const u=this.getFieldsMap(t);this.applyChanges(u,r,i)}delete(e){const t=this.field(e.popLast());Px(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return rc(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];Px(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){om(t,(i,u)=>e[i]=u);for(const i of r)delete e[i]}clone(){return new js(eC(this.value))}}function j6(n){const e=[];return om(n.fields,(t,r)=>{const i=new Ai([t]);if(Px(r)){const u=j6(r.mapValue).fields;if(0===u.length)e.push(i);else for(const d of u)e.push(i.child(d))}else e.push(i)}),new va(e)}class Yr{constructor(e,t,r,i,u,d){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.data=u,this.documentState=d}static newInvalidDocument(e){return new Yr(e,0,an.min(),an.min(),js.empty(),0)}static newFoundDocument(e,t,r){return new Yr(e,1,t,an.min(),r,0)}static newNoDocument(e,t){return new Yr(e,2,t,an.min(),js.empty(),0)}static newUnknownDocument(e,t){return new Yr(e,3,t,an.min(),js.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=js.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=js.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=an.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Yr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Yr(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class NY{constructor(e,t=null,r=[],i=[],u=null,d=null,p=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=u,this.startAt=d,this.endAt=p,this.ht=null}}function $6(n,e=null,t=[],r=[],i=null,u=null,d=null){return new NY(n,e,t,r,i,u,d)}function cm(n){const e=Ct(n);if(null===e.ht){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>{return(i=r).field.canonicalString()+i.op.toString()+Pv(i.value);var i}).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),YI(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Pv(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Pv(r)).join(",")),e.ht=t}return e.ht}function tC(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<n.orderBy.length;i++)if(!VY(n.orderBy[i],e.orderBy[i]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let i=0;i<n.filters.length;i++)if((t=n.filters[i]).op!==(r=e.filters[i]).op||!t.field.isEqual(r.field)||!rc(t.value,r.value))return!1;var t,r;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!q6(n.startAt,e.startAt)&&q6(n.endAt,e.endAt)}function Lx(n){return Et.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function Fx(n,e){return n.filters.filter(t=>t instanceof $s&&t.field.isEqual(e))}function H6(n,e,t){let r=Ox,i=!0;for(const u of Fx(n,e)){let d=Ox,p=!0;switch(u.op){case"<":case"<=":d=SY(u.value);break;case"==":case"in":case">=":d=u.value;break;case">":d=u.value,p=!1;break;case"!=":case"not-in":d=Ox}V6({value:r,inclusive:i},{value:d,inclusive:p})<0&&(r=d,i=p)}if(null!==t)for(let u=0;u<n.orderBy.length;++u)if(n.orderBy[u].field.isEqual(e)){const d=t.position[u];V6({value:r,inclusive:i},{value:d,inclusive:t.inclusive})<0&&(r=d,i=t.inclusive);break}return{value:r,inclusive:i}}function G6(n,e,t){let r=Lf,i=!0;for(const u of Fx(n,e)){let d=Lf,p=!0;switch(u.op){case">=":case">":d=xY(u.value),p=!1;break;case"==":case"in":case"<=":d=u.value;break;case"<":d=u.value,p=!1;break;case"!=":case"not-in":d=Lf}B6({value:r,inclusive:i},{value:d,inclusive:p})>0&&(r=d,i=p)}if(null!==t)for(let u=0;u<n.orderBy.length;++u)if(n.orderBy[u].field.isEqual(e)){const d=t.position[u];B6({value:r,inclusive:i},{value:d,inclusive:t.inclusive})>0&&(r=d,i=t.inclusive);break}return{value:r,inclusive:i}}class $s extends class{}{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.lt(e,t,r):new kY(e,t,r):"array-contains"===t?new PY(e,r):"in"===t?new LY(e,r):"not-in"===t?new FY(e,r):"array-contains-any"===t?new UY(e,r):new $s(e,t,r)}static lt(e,t,r){return"in"===t?new RY(e,r):new OY(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.ft(Ff(t,this.value)):null!==t&&um(this.value)===um(t)&&this.ft(Ff(t,this.value))}ft(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Lt()}}dt(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class kY extends $s{constructor(e,t,r){super(e,t,r),this.key=Et.fromName(r.referenceValue)}matches(e){const t=Et.comparator(e.key,this.key);return this.ft(t)}}class RY extends $s{constructor(e,t){super(e,"in",t),this.keys=Z6(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class OY extends $s{constructor(e,t){super(e,"not-in",t),this.keys=Z6(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Z6(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>Et.fromName(r.referenceValue))}class PY extends $s{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return XI(t)&&JI(t.arrayValue,this.value)}}class LY extends $s{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&JI(this.value.arrayValue,t)}}class FY extends $s{constructor(e,t){super(e,"not-in",t)}matches(e){if(JI(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!JI(this.value.arrayValue,t)}}class UY extends $s{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!XI(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>JI(this.value.arrayValue,r))}}class Uf{constructor(e,t){this.position=e,this.inclusive=t}}class Lv{constructor(e,t="asc"){this.field=e,this.dir=t}}function VY(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}function W6(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const u=e[i],d=n.position[i];if(r=u.field.isKeyField()?Et.comparator(Et.fromName(d.referenceValue),t.key):Ff(d,t.data.field(u.field)),"desc"===u.dir&&(r*=-1),0!==r)break}return r}function q6(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!rc(n.position[t],e.position[t]))return!1;return!0}class Md{constructor(e,t=null,r=[],i=[],u=null,d="F",p=null,v=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=u,this.limitType=d,this.startAt=p,this.endAt=v,this._t=null,this.wt=null}}function z6(n,e,t,r,i,u,d,p){return new Md(n,e,t,r,i,u,d,p)}function Fv(n){return new Md(n)}function K6(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function r2(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function s2(n){for(const e of n.filters)if(e.dt())return e.field;return null}function o2(n){return null!==n.collectionGroup}function Uv(n){const e=Ct(n);if(null===e._t){e._t=[];const t=s2(e),r=r2(e);if(null!==t&&null===r)t.isKeyField()||e._t.push(new Lv(t)),e._t.push(new Lv(Ai.keyField(),"asc"));else{let i=!1;for(const u of e.explicitOrderBy)e._t.push(u),u.field.isKeyField()&&(i=!0);if(!i){const u=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e._t.push(new Lv(Ai.keyField(),u))}}}return e._t}function _o(n){const e=Ct(n);if(!e.wt)if("F"===e.limitType)e.wt=$6(e.path,e.collectionGroup,Uv(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const u of Uv(e))t.push(new Lv(u.field,"desc"===u.dir?"asc":"desc"));const r=e.endAt?new Uf(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new Uf(e.startAt.position,e.startAt.inclusive):null;e.wt=$6(e.path,e.collectionGroup,t,e.filters,e.limit,r,i)}return e.wt}function Ux(n,e,t){return new Md(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function nC(n,e){return tC(_o(n),_o(e))&&n.limitType===e.limitType}function Y6(n){return`${cm(_o(n))}|lt:${n.limitType}`}function a2(n){return`Query(target=${function MY(n){let e=n.path.canonicalString();return null!==n.collectionGroup&&(e+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(e+=`, filters: [${n.filters.map(t=>{return`${(r=t).field.canonicalString()} ${r.op} ${Pv(r.value)}`;var r}).join(", ")}]`),YI(n.limit)||(e+=", limit: "+n.limit),n.orderBy.length>0&&(e+=`, orderBy: [${n.orderBy.map(t=>{return`${(r=t).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),n.startAt&&(e+=", startAt: ",e+=n.startAt.inclusive?"b:":"a:",e+=n.startAt.position.map(t=>Pv(t)).join(",")),n.endAt&&(e+=", endAt: ",e+=n.endAt.inclusive?"a:":"b:",e+=n.endAt.position.map(t=>Pv(t)).join(",")),`Target(${e})`}(_o(n))}; limitType=${n.limitType})`}function u2(n,e){return e.isFoundDocument()&&function(t,r){const i=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(i):Et.isDocumentKey(t.path)?t.path.isEqual(i):t.path.isImmediateParentOf(i)}(n,e)&&function(t,r){for(const i of t.explicitOrderBy)if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(n,e)&&function(t,r){for(const i of t.filters)if(!i.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(i,u,d){const p=W6(i,u,d);return i.inclusive?p<=0:p<0}(t.startAt,Uv(t),r)||t.endAt&&!function(i,u,d){const p=W6(i,u,d);return i.inclusive?p>=0:p>0}(t.endAt,Uv(t),r)));var t,r}function Q6(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function J6(n){return(e,t)=>{let r=!1;for(const i of Uv(n)){const u=BY(i,e,t);if(0!==u)return u;r=r||i.field.isKeyField()}return 0}}function BY(n,e,t){const r=n.field.isKeyField()?Et.comparator(e.key,t.key):function(i,u,d){const p=u.data.field(i),v=d.data.field(i);return null!==p&&null!==v?Ff(p,v):Lt()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Lt()}}function X6(n,e){if(n.gt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:QI(e)?"-0":e}}function e4(n){return{integerValue:""+n}}function t4(n,e){return O6(e)?e4(e):X6(n,e)}class Vx{constructor(){this._=void 0}}function jY(n,e,t){return n instanceof Vv?function(r,i){const u={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(u.fields.__previous_value__=i),{mapValue:u}}(t,e):n instanceof dm?r4(n,e):n instanceof hm?i4(n,e):function(r,i){const u=n4(r,i),d=s4(u)+s4(r.yt);return n2(u)&&n2(r.yt)?e4(d):X6(r.It,d)}(n,e)}function $Y(n,e,t){return n instanceof dm?r4(n,e):n instanceof hm?i4(n,e):t}function n4(n,e){return n instanceof Bv?n2(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class Vv extends Vx{}class dm extends Vx{constructor(e){super(),this.elements=e}}function r4(n,e){const t=o4(e);for(const r of n.elements)t.some(i=>rc(i,r))||t.push(r);return{arrayValue:{values:t}}}class hm extends Vx{constructor(e){super(),this.elements=e}}function i4(n,e){let t=o4(e);for(const r of n.elements)t=t.filter(i=>!rc(i,r));return{arrayValue:{values:t}}}class Bv extends Vx{constructor(e,t){super(),this.It=e,this.yt=t}}function s4(n){return Si(n.integerValue||n.doubleValue)}function o4(n){return XI(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class rC{constructor(e,t){this.field=e,this.transform=t}}class GY{constructor(e,t){this.version=e,this.transformResults=t}}class li{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new li}static exists(e){return new li(void 0,e)}static updateTime(e){return new li(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Bx(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class jx{}function a4(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new $v(n.key,li.none()):new jv(n.key,n.data,li.none());{const t=n.data,r=js.empty();let i=new Nr(Ai.comparator);for(let u of e.fields)if(!i.has(u)){let d=t.field(u);null===d&&u.length>1&&(u=u.popLast(),d=t.field(u)),null===d?r.delete(u):r.set(u,d),i=i.add(u)}return new kd(n.key,r,new va(i.toArray()),li.none())}}function ZY(n,e,t){n instanceof jv?function(r,i,u){const d=r.value.clone(),p=c4(r.fieldTransforms,i,u.transformResults);d.setAll(p),i.convertToFoundDocument(u.version,d).setHasCommittedMutations()}(n,e,t):n instanceof kd?function(r,i,u){if(!Bx(r.precondition,i))return void i.convertToUnknownDocument(u.version);const d=c4(r.fieldTransforms,i,u.transformResults),p=i.data;p.setAll(l4(r)),p.setAll(d),i.convertToFoundDocument(u.version,p).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function iC(n,e,t,r){return n instanceof jv?function(i,u,d,p){if(!Bx(i.precondition,u))return d;const v=i.value.clone(),I=d4(i.fieldTransforms,p,u);return v.setAll(I),u.convertToFoundDocument(u.version,v).setHasLocalMutations(),null}(n,e,t,r):n instanceof kd?function(i,u,d,p){if(!Bx(i.precondition,u))return d;const v=d4(i.fieldTransforms,p,u),I=u.data;return I.setAll(l4(i)),I.setAll(v),u.convertToFoundDocument(u.version,I).setHasLocalMutations(),null===d?null:d.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(S=>S.field))}(n,e,t,r):(d=t,Bx(n.precondition,u=e)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):d);var u,d}function WY(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),u=n4(r.transform,i||null);null!=u&&(null===t&&(t=js.empty()),t.set(r.field,u))}return t||null}function u4(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&Rv(t,r,(i,u)=>function HY(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof dm&&r instanceof dm||t instanceof hm&&r instanceof hm?Rv(t.elements,r.elements,rc):t instanceof Bv&&r instanceof Bv?rc(t.yt,r.yt):t instanceof Vv&&r instanceof Vv);var t,r}(i,u))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}class jv extends jx{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class kd extends jx{constructor(e,t,r,i,u=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function l4(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function c4(n,e,t){const r=new Map;on(n.length===t.length);for(let i=0;i<t.length;i++){const u=n[i],d=u.transform,p=e.data.field(u.field);r.set(u.field,$Y(d,p,t[i]))}return r}function d4(n,e,t){const r=new Map;for(const i of n){const u=i.transform,d=t.data.field(i.field);r.set(i.field,jY(u,d,e))}return r}class $v extends jx{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class l2 extends jx{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class qY{constructor(e){this.count=e}}var es,rr;function h4(n){switch(n){default:return Lt();case Pe.CANCELLED:case Pe.UNKNOWN:case Pe.DEADLINE_EXCEEDED:case Pe.RESOURCE_EXHAUSTED:case Pe.INTERNAL:case Pe.UNAVAILABLE:case Pe.UNAUTHENTICATED:return!1;case Pe.INVALID_ARGUMENT:case Pe.NOT_FOUND:case Pe.ALREADY_EXISTS:case Pe.PERMISSION_DENIED:case Pe.FAILED_PRECONDITION:case Pe.ABORTED:case Pe.OUT_OF_RANGE:case Pe.UNIMPLEMENTED:case Pe.DATA_LOSS:return!0}}function f4(n){if(void 0===n)return Vi("GRPC error has no .code"),Pe.UNKNOWN;switch(n){case es.OK:return Pe.OK;case es.CANCELLED:return Pe.CANCELLED;case es.UNKNOWN:return Pe.UNKNOWN;case es.DEADLINE_EXCEEDED:return Pe.DEADLINE_EXCEEDED;case es.RESOURCE_EXHAUSTED:return Pe.RESOURCE_EXHAUSTED;case es.INTERNAL:return Pe.INTERNAL;case es.UNAVAILABLE:return Pe.UNAVAILABLE;case es.UNAUTHENTICATED:return Pe.UNAUTHENTICATED;case es.INVALID_ARGUMENT:return Pe.INVALID_ARGUMENT;case es.NOT_FOUND:return Pe.NOT_FOUND;case es.ALREADY_EXISTS:return Pe.ALREADY_EXISTS;case es.PERMISSION_DENIED:return Pe.PERMISSION_DENIED;case es.FAILED_PRECONDITION:return Pe.FAILED_PRECONDITION;case es.ABORTED:return Pe.ABORTED;case es.OUT_OF_RANGE:return Pe.OUT_OF_RANGE;case es.UNIMPLEMENTED:return Pe.UNIMPLEMENTED;case es.DATA_LOSS:return Pe.DATA_LOSS;default:return Lt()}}(rr=es||(es={}))[rr.OK=0]="OK",rr[rr.CANCELLED=1]="CANCELLED",rr[rr.UNKNOWN=2]="UNKNOWN",rr[rr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",rr[rr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",rr[rr.NOT_FOUND=5]="NOT_FOUND",rr[rr.ALREADY_EXISTS=6]="ALREADY_EXISTS",rr[rr.PERMISSION_DENIED=7]="PERMISSION_DENIED",rr[rr.UNAUTHENTICATED=16]="UNAUTHENTICATED",rr[rr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",rr[rr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",rr[rr.ABORTED=10]="ABORTED",rr[rr.OUT_OF_RANGE=11]="OUT_OF_RANGE",rr[rr.UNIMPLEMENTED=12]="UNIMPLEMENTED",rr[rr.INTERNAL=13]="INTERNAL",rr[rr.UNAVAILABLE=14]="UNAVAILABLE",rr[rr.DATA_LOSS=15]="DATA_LOSS";class Vf{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[i,u]of r)if(this.equalsFn(i,e))return u}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,t]],void this.innerSize++;for(let u=0;u<i.length;u++)if(this.equalsFn(i[u][0],e))return void(i[u]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){om(this.inner,(t,r)=>{for(const[i,u]of r)e(i,u)})}isEmpty(){return M6(this.inner)}size(){return this.innerSize}}const zY=new Di(Et.comparator);function Wo(){return zY}const p4=new Di(Et.comparator);function sC(...n){let e=p4;for(const t of n)e=e.insert(t.key,t);return e}function g4(n){let e=p4;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function ic(){return oC()}function m4(){return oC()}function oC(){return new Vf(n=>n.toString(),(n,e)=>n.isEqual(e))}const KY=new Di(Et.comparator),YY=new Nr(Et.comparator);function xn(...n){let e=YY;for(const t of n)e=e.add(t);return e}const QY=new Nr(bn);function $x(){return QY}class aC{constructor(e,t,r,i,u){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,uC.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new aC(an.min(),i,$x(),Wo(),xn())}}class uC{constructor(e,t,r,i,u){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new uC(r,t,xn(),xn(),xn())}}class Hx{constructor(e,t,r,i){this.Tt=e,this.removedTargetIds=t,this.key=r,this.Et=i}}class _4{constructor(e,t){this.targetId=e,this.At=t}}class y4{constructor(e,t,r=ds.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class v4{constructor(){this.Rt=0,this.bt=w4(),this.Pt=ds.EMPTY_BYTE_STRING,this.vt=!1,this.Vt=!0}get current(){return this.vt}get resumeToken(){return this.Pt}get St(){return 0!==this.Rt}get Dt(){return this.Vt}Ct(e){e.approximateByteSize()>0&&(this.Vt=!0,this.Pt=e)}xt(){let e=xn(),t=xn(),r=xn();return this.bt.forEach((i,u)=>{switch(u){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:Lt()}}),new uC(this.Pt,this.vt,e,t,r)}Nt(){this.Vt=!1,this.bt=w4()}kt(e,t){this.Vt=!0,this.bt=this.bt.insert(e,t)}Ot(e){this.Vt=!0,this.bt=this.bt.remove(e)}Mt(){this.Rt+=1}Ft(){this.Rt-=1}$t(){this.Vt=!0,this.vt=!0}}class JY{constructor(e){this.Bt=e,this.Lt=new Map,this.Ut=Wo(),this.qt=b4(),this.Kt=new Nr(bn)}Gt(e){for(const t of e.Tt)e.Et&&e.Et.isFoundDocument()?this.Qt(t,e.Et):this.jt(t,e.key,e.Et);for(const t of e.removedTargetIds)this.jt(t,e.key,e.Et)}Wt(e){this.forEachTarget(e,t=>{const r=this.zt(t);switch(e.state){case 0:this.Ht(t)&&r.Ct(e.resumeToken);break;case 1:r.Ft(),r.St||r.Nt(),r.Ct(e.resumeToken);break;case 2:r.Ft(),r.St||this.removeTarget(t);break;case 3:this.Ht(t)&&(r.$t(),r.Ct(e.resumeToken));break;case 4:this.Ht(t)&&(this.Jt(t),r.Ct(e.resumeToken));break;default:Lt()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Lt.forEach((r,i)=>{this.Ht(i)&&t(i)})}Yt(e){const t=e.targetId,r=e.At.count,i=this.Xt(t);if(i){const u=i.target;if(Lx(u))if(0===r){const d=new Et(u.path);this.jt(t,d,Yr.newNoDocument(d,an.min()))}else on(1===r);else this.Zt(t)!==r&&(this.Jt(t),this.Kt=this.Kt.add(t))}}te(e){const t=new Map;this.Lt.forEach((u,d)=>{const p=this.Xt(d);if(p){if(u.current&&Lx(p.target)){const v=new Et(p.target.path);null!==this.Ut.get(v)||this.ee(d,v)||this.jt(d,v,Yr.newNoDocument(v,e))}u.Dt&&(t.set(d,u.xt()),u.Nt())}});let r=xn();this.qt.forEach((u,d)=>{let p=!0;d.forEachWhile(v=>{const I=this.Xt(v);return!I||2===I.purpose||(p=!1,!1)}),p&&(r=r.add(u))}),this.Ut.forEach((u,d)=>d.setReadTime(e));const i=new aC(e,t,this.Kt,this.Ut,r);return this.Ut=Wo(),this.qt=b4(),this.Kt=new Nr(bn),i}Qt(e,t){if(!this.Ht(e))return;const r=this.ee(e,t.key)?2:0;this.zt(e).kt(t.key,r),this.Ut=this.Ut.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ne(t.key).add(e))}jt(e,t,r){if(!this.Ht(e))return;const i=this.zt(e);this.ee(e,t)?i.kt(t,1):i.Ot(t),this.qt=this.qt.insert(t,this.ne(t).delete(e)),r&&(this.Ut=this.Ut.insert(t,r))}removeTarget(e){this.Lt.delete(e)}Zt(e){const t=this.zt(e).xt();return this.Bt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Mt(e){this.zt(e).Mt()}zt(e){let t=this.Lt.get(e);return t||(t=new v4,this.Lt.set(e,t)),t}ne(e){let t=this.qt.get(e);return t||(t=new Nr(bn),this.qt=this.qt.insert(e,t)),t}Ht(e){const t=null!==this.Xt(e);return t||ut("WatchChangeAggregator","Detected inactive target",e),t}Xt(e){const t=this.Lt.get(e);return t&&t.St?null:this.Bt.se(e)}Jt(e){this.Lt.set(e,new v4),this.Bt.getRemoteKeysForTarget(e).forEach(t=>{this.jt(e,t,null)})}ee(e,t){return this.Bt.getRemoteKeysForTarget(e).has(t)}}function b4(){return new Di(Et.comparator)}function w4(){return new Di(Et.comparator)}const XY={asc:"ASCENDING",desc:"DESCENDING"},eQ={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class tQ{constructor(e,t){this.databaseId=e,this.gt=t}}function lC(n,e){return n.gt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function E4(n,e){return n.gt?e.toBase64():e.toUint8Array()}function nQ(n,e){return lC(n,e.toTimestamp())}function Cs(n){return on(!!n),an.fromTimestamp(function(e){const t=Of(e);return new ui(t.seconds,t.nanos)}(n))}function c2(n,e){return(t=n,new nr(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function I4(n){const e=nr.fromString(n);return on(M4(e)),e}function cC(n,e){return c2(n.databaseId,e.path)}function sc(n,e){const t=I4(e);if(t.get(1)!==n.databaseId.projectId)throw new nt(Pe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new nt(Pe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Et(T4(t))}function d2(n,e){return c2(n.databaseId,e)}function C4(n){const e=I4(n);return 4===e.length?nr.emptyPath():T4(e)}function dC(n){return new nr(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function T4(n){return on(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function A4(n,e,t){return{name:cC(n,e),fields:t.value.mapValue.fields}}function D4(n,e,t){const r=sc(n,e.name),i=Cs(e.updateTime),u=new js({mapValue:{fields:e.fields}}),d=Yr.newFoundDocument(r,i,u);return t&&d.setHasCommittedMutations(),t?d.setHasCommittedMutations():d}function hC(n,e){let t;if(e instanceof jv)t={update:A4(n,e.key,e.value)};else if(e instanceof $v)t={delete:cC(n,e.key)};else if(e instanceof kd)t={update:A4(n,e.key,e.data),updateMask:dQ(e.fieldMask)};else{if(!(e instanceof l2))return Lt();t={verify:cC(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(i,u){const d=u.transform;if(d instanceof Vv)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof dm)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof hm)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof Bv)return{fieldPath:u.field.canonicalString(),increment:d.yt};throw Lt()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:nQ(n,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:Lt()),t;var i}function h2(n,e){const t=e.currentDocument?void 0!==(i=e.currentDocument).updateTime?li.updateTime(Cs(i.updateTime)):void 0!==i.exists?li.exists(i.exists):li.none():li.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(u,d){let p=null;"setToServerValue"in d?(on("REQUEST_TIME"===d.setToServerValue),p=new Vv):"appendMissingElements"in d?p=new dm(d.appendMissingElements.values||[]):"removeAllFromArray"in d?p=new hm(d.removeAllFromArray.values||[]):"increment"in d?p=new Bv(u,d.increment):Lt();const v=Ai.fromServerFormat(d.fieldPath);return new rC(v,p)}(n,i)):[];var i;if(e.update){const i=sc(n,e.update.name),u=new js({mapValue:{fields:e.update.fields}});if(e.updateMask){const d=new va((e.updateMask.fieldPaths||[]).map(I=>Ai.fromServerFormat(I)));return new kd(i,u,d,t,r)}return new jv(i,u,t,r)}if(e.delete){const i=sc(n,e.delete);return new $v(i,t)}if(e.verify){const i=sc(n,e.verify);return new l2(i,t)}return Lt()}function S4(n,e){return{documents:[d2(n,e.path)]}}function f2(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=d2(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=d2(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(v){if(0===v.length)return;const I=v.map(S=>function(M){if("=="===M.op){if(F6(M.value))return{unaryFilter:{field:Hv(M.field),op:"IS_NAN"}};if(L6(M.value))return{unaryFilter:{field:Hv(M.field),op:"IS_NULL"}}}else if("!="===M.op){if(F6(M.value))return{unaryFilter:{field:Hv(M.field),op:"IS_NOT_NAN"}};if(L6(M.value))return{unaryFilter:{field:Hv(M.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Hv(M.field),op:uQ(M.op),value:M.value}}}(S));return 1===I.length?I[0]:{compositeFilter:{op:"AND",filters:I}}}(e.filters);i&&(t.structuredQuery.where=i);const u=function(v){if(0!==v.length)return v.map(I=>{return{field:Hv((S=I).field),direction:aQ(S.dir)};var S})}(e.orderBy);u&&(t.structuredQuery.orderBy=u);const d=(I=e.limit,n.gt||YI(I)?I:{value:I});var I,p,v;return null!==d&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt={before:(p=e.startAt).inclusive,values:p.position}),e.endAt&&(t.structuredQuery.endAt={before:!(v=e.endAt).inclusive,values:v.position}),t}function x4(n){let e=C4(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){on(1===r);const S=t.from[0];S.allDescendants?i=S.collectionId:e=e.child(S.collectionId)}let u=[];t.where&&(u=N4(t.where));let d=[];t.orderBy&&(d=t.orderBy.map(S=>{return new Lv(Gv((M=S).field),function(P){switch(P){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(M.direction));var M}));let p=null;t.limit&&(p=function(S){let M;return M="object"==typeof S?S.value:S,YI(M)?null:M}(t.limit));let v=null;var S;t.startAt&&(v=new Uf((S=t.startAt).values||[],!!S.before));let I=null;return t.endAt&&(I=function(S){return new Uf(S.values||[],!S.before)}(t.endAt)),z6(e,i,d,u,p,"F",v,I)}function N4(n){return n?void 0!==n.unaryFilter?[cQ(n)]:void 0!==n.fieldFilter?[lQ(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(e=>N4(e)).reduce((e,t)=>e.concat(t)):Lt():[]}function aQ(n){return XY[n]}function uQ(n){return eQ[n]}function Hv(n){return{fieldPath:n.canonicalString()}}function Gv(n){return Ai.fromServerFormat(n.fieldPath)}function lQ(n){return $s.create(Gv(n.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Lt()}}(n.fieldFilter.op),n.fieldFilter.value)}function cQ(n){switch(n.unaryFilter.op){case"IS_NAN":const e=Gv(n.unaryFilter.field);return $s.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=Gv(n.unaryFilter.field);return $s.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Gv(n.unaryFilter.field);return $s.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=Gv(n.unaryFilter.field);return $s.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Lt()}}function dQ(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function M4(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function yo(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=k4(e)),e=hQ(n.get(t),e);return k4(e)}function hQ(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const u=n.charAt(i);switch(u){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=u}}return t}function k4(n){return n+"\x01\x01"}function oc(n){const e=n.length;if(on(e>=2),2===e)return on("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),nr.emptyPath();const t=e-2,r=[];let i="";for(let u=0;u<e;){const d=n.indexOf("\x01",u);switch((d<0||d>t)&&Lt(),n.charAt(d+1)){case"\x01":const p=n.substring(u,d);let v;0===i.length?v=p:(i+=p,v=i,i=""),r.push(v);break;case"\x10":i+=n.substring(u,d),i+="\0";break;case"\x11":i+=n.substring(u,d+1);break;default:Lt()}u=d+2}return new nr(r)}const R4=["userId","batchId"];function Gx(n,e){return[n,yo(e)]}function O4(n,e,t){return[n,yo(e),t]}const fQ={},pQ=["prefixPath","collectionGroup","readTime","documentId"],gQ=["prefixPath","collectionGroup","documentId"],mQ=["collectionGroup","readTime","prefixPath","documentId"],_Q=["canonicalId","targetId"],yQ=["targetId","path"],vQ=["path","targetId"],bQ=["collectionId","parent"],wQ=["indexId","uid"],EQ=["uid","sequenceNumber"],IQ=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],CQ=["indexId","uid","orderedDocumentKey"],TQ=["userId","collectionPath","documentId"],AQ=["userId","collectionPath","largestBatchId"],DQ=["userId","collectionGroup","largestBatchId"],P4=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],SQ=[...P4,"documentOverlays"],L4=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],F4=L4,xQ=[...F4,"indexConfiguration","indexState","indexEntries"];class p2 extends S6{constructor(e,t){super(),this.ie=e,this.currentSequenceNumber=t}}function Ts(n,e){const t=Ct(n);return Ju.M(t.ie,e)}class g2{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const u=this.mutations[i];u.key.isEqual(e.key)&&ZY(u,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=iC(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=iC(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=m4();return this.mutations.forEach(i=>{const u=e.get(i.key),d=u.overlayedDocument;let p=this.applyToLocalView(d,u.mutatedFields);p=t.has(i.key)?null:p;const v=a4(d,p);null!==v&&r.set(i.key,v),d.isValidDocument()||d.convertToNoDocument(an.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),xn())}isEqual(e){return this.batchId===e.batchId&&Rv(this.mutations,e.mutations,(t,r)=>u4(t,r))&&Rv(this.baseMutations,e.baseMutations,(t,r)=>u4(t,r))}}class m2{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){on(e.mutations.length===r.length);let i=KY;const u=e.mutations;for(let d=0;d<u.length;d++)i=i.insert(u[d].key,r[d].version);return new m2(e,t,r,i)}}class _2{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Bf{constructor(e,t,r,i,u=an.min(),d=an.min(),p=ds.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p}withSequenceNumber(e){return new Bf(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new Bf(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Bf(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class U4{constructor(e){this.re=e}}function V4(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:Zx(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document={name:cC(i=n.re,(u=e).key),fields:u.data.value.mapValue.fields,updateTime:lC(i,u.version.toTimestamp())};else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:fm(e.version)};else{if(!e.isUnknownDocument())return Lt();r.unknownDocument={path:t.path.toArray(),version:fm(e.version)}}var i,u;return r}function Zx(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function fm(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function pm(n){const e=new ui(n.seconds,n.nanoseconds);return an.fromTimestamp(e)}function gm(n,e){const t=(e.baseMutations||[]).map(u=>h2(n.re,u));for(let u=0;u<e.mutations.length-1;++u){const d=e.mutations[u];u+1<e.mutations.length&&void 0!==e.mutations[u+1].transform&&(d.updateTransforms=e.mutations[u+1].transform.fieldTransforms,e.mutations.splice(u+1,1),++u)}const r=e.mutations.map(u=>h2(n.re,u)),i=ui.fromMillis(e.localWriteTimeMs);return new g2(e.batchId,i,t,r)}function fC(n){const e=pm(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?pm(n.lastLimboFreeSnapshotVersion):an.min();let r;var i;return void 0!==n.query.documents?(on(1===(i=n.query).documents.length),r=_o(Fv(C4(i.documents[0])))):r=_o(x4(n.query)),new Bf(r,n.targetId,0,n.lastListenSequenceNumber,e,t,ds.fromBase64String(n.resumeToken))}function B4(n,e){const t=fm(e.snapshotVersion),r=fm(e.lastLimboFreeSnapshotVersion);let i;i=Lx(e.target)?S4(n.re,e.target):f2(n.re,e.target);const u=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:cm(e.target),readTime:t,resumeToken:u,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function y2(n){const e=x4({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?Ux(e,e.limit,"L"):e}function v2(n,e){return new _2(e.largestBatchId,h2(n.re,e.overlayMutation))}function j4(n,e){const t=e.path.lastSegment();return[n,yo(e.path.popLast()),t]}function $4(n,e,t,r){return{indexId:n,uid:e.uid||"",sequenceNumber:t,readTime:fm(r.readTime),documentKey:yo(r.documentKey.path),largestBatchId:r.largestBatchId}}class MQ{getBundleMetadata(e,t){return H4(e).get(t).next(r=>{if(r)return{id:(i=r).bundleId,createTime:pm(i.createTime),version:i.version};var i})}saveBundleMetadata(e,t){return H4(e).put({bundleId:(r=t).id,createTime:fm(Cs(r.createTime)),version:r.version});var r}getNamedQuery(e,t){return G4(e).get(t).next(r=>{if(r)return{name:(i=r).name,query:y2(i.bundledQuery),readTime:pm(i.readTime)};var i})}saveNamedQuery(e,t){return G4(e).put({name:(r=t).name,readTime:fm(Cs(r.readTime)),bundledQuery:r.bundledQuery});var r}}function H4(n){return Ts(n,"bundles")}function G4(n){return Ts(n,"namedQueries")}class Wx{constructor(e,t){this.It=e,this.userId=t}static oe(e,t){return new Wx(e,t.uid||"")}getOverlay(e,t){return pC(e).get(j4(this.userId,t)).next(r=>r?v2(this.It,r):null)}getOverlays(e,t){const r=ic();return Se.forEach(t,i=>this.getOverlay(e,i).next(u=>{null!==u&&r.set(i,u)})).next(()=>r)}saveOverlays(e,t,r){const i=[];return r.forEach((u,d)=>{const p=new _2(t,d);i.push(this.ue(e,p))}),Se.waitFor(i)}removeOverlaysForBatchId(e,t,r){const i=new Set;t.forEach(d=>i.add(yo(d.getCollectionPath())));const u=[];return i.forEach(d=>{const p=IDBKeyRange.bound([this.userId,d,r],[this.userId,d,r+1],!1,!0);u.push(pC(e).Y("collectionPathOverlayIndex",p))}),Se.waitFor(u)}getOverlaysForCollection(e,t,r){const i=ic(),u=yo(t),d=IDBKeyRange.bound([this.userId,u,r],[this.userId,u,Number.POSITIVE_INFINITY],!0);return pC(e).W("collectionPathOverlayIndex",d).next(p=>{for(const v of p){const I=v2(this.It,v);i.set(I.getKey(),I)}return i})}getOverlaysForCollectionGroup(e,t,r,i){const u=ic();let d;const p=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return pC(e).Z({index:"collectionGroupOverlayIndex",range:p},(v,I,S)=>{const M=v2(this.It,I);u.size()<i||M.largestBatchId===d?(u.set(M.getKey(),M),d=M.largestBatchId):S.done()}).next(()=>u)}ue(e,t){return pC(e).put(function(r,i,u){const[d,p,v]=j4(i,u.mutation.key);return{userId:i,collectionPath:p,documentId:v,collectionGroup:u.mutation.key.getCollectionGroup(),largestBatchId:u.largestBatchId,overlayMutation:hC(r.re,u.mutation)}}(this.It,this.userId,t))}}function pC(n){return Ts(n,"documentOverlays")}class mm{constructor(){}ce(e,t){this.ae(e,t),t.he()}ae(e,t){if("nullValue"in e)this.le(t,5);else if("booleanValue"in e)this.le(t,10),t.fe(e.booleanValue?1:0);else if("integerValue"in e)this.le(t,15),t.fe(Si(e.integerValue));else if("doubleValue"in e){const r=Si(e.doubleValue);isNaN(r)?this.le(t,13):(this.le(t,15),QI(r)?t.fe(0):t.fe(r))}else if("timestampValue"in e){const r=e.timestampValue;this.le(t,20),"string"==typeof r?t.de(r):(t.de(`${r.seconds||""}`),t.fe(r.nanos||0))}else if("stringValue"in e)this._e(e.stringValue,t),this.we(t);else if("bytesValue"in e)this.le(t,30),t.me(am(e.bytesValue)),this.we(t);else if("referenceValue"in e)this.ge(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.le(t,45),t.fe(r.latitude||0),t.fe(r.longitude||0)}else"mapValue"in e?U6(e)?this.le(t,Number.MAX_SAFE_INTEGER):(this.ye(e.mapValue,t),this.we(t)):"arrayValue"in e?(this.pe(e.arrayValue,t),this.we(t)):Lt()}_e(e,t){this.le(t,25),this.Ie(e,t)}Ie(e,t){t.de(e)}ye(e,t){const r=e.fields||{};this.le(t,55);for(const i of Object.keys(r))this._e(i,t),this.ae(r[i],t)}pe(e,t){const r=e.values||[];this.le(t,50);for(const i of r)this.ae(i,t)}ge(e,t){this.le(t,37),Et.fromName(e).path.forEach(r=>{this.le(t,60),this.Ie(r,t)})}le(e,t){e.fe(t)}we(e){e.fe(2)}}function kQ(n){if(0===n)return 8;let e=0;return n>>4==0&&(e+=4,n<<=4),n>>6==0&&(e+=2,n<<=2),n>>7==0&&(e+=1),e}function Z4(n){const e=64-function(t){let r=0;for(let i=0;i<8;++i){const u=kQ(255&t[i]);if(r+=u,8!==u)break}return r}(n);return Math.ceil(e/8)}mm.Te=new mm;class RQ{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ee(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Ae(r.value),r=t.next();this.Re()}be(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Pe(r.value),r=t.next();this.ve()}Ve(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Ae(r);else if(r<2048)this.Ae(960|r>>>6),this.Ae(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.Ae(480|r>>>12),this.Ae(128|63&r>>>6),this.Ae(128|63&r);else{const i=t.codePointAt(0);this.Ae(240|i>>>18),this.Ae(128|63&i>>>12),this.Ae(128|63&i>>>6),this.Ae(128|63&i)}}this.Re()}Se(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Pe(r);else if(r<2048)this.Pe(960|r>>>6),this.Pe(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.Pe(480|r>>>12),this.Pe(128|63&r>>>6),this.Pe(128|63&r);else{const i=t.codePointAt(0);this.Pe(240|i>>>18),this.Pe(128|63&i>>>12),this.Pe(128|63&i>>>6),this.Pe(128|63&i)}}this.ve()}De(e){const t=this.Ce(e),r=Z4(t);this.xe(1+r),this.buffer[this.position++]=255&r;for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=255&t[i]}Ne(e){const t=this.Ce(e),r=Z4(t);this.xe(1+r),this.buffer[this.position++]=~(255&r);for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=~(255&t[i])}ke(){this.Oe(255),this.Oe(255)}Me(){this.Fe(255),this.Fe(255)}reset(){this.position=0}seed(e){this.xe(e.length),this.buffer.set(e,this.position),this.position+=e.length}$e(){return this.buffer.slice(0,this.position)}Ce(e){const t=function(i){const u=new DataView(new ArrayBuffer(8));return u.setFloat64(0,i,!1),new Uint8Array(u.buffer)}(e),r=0!=(128&t[0]);t[0]^=r?255:128;for(let i=1;i<t.length;++i)t[i]^=r?255:0;return t}Ae(e){const t=255&e;0===t?(this.Oe(0),this.Oe(255)):255===t?(this.Oe(255),this.Oe(0)):this.Oe(t)}Pe(e){const t=255&e;0===t?(this.Fe(0),this.Fe(255)):255===t?(this.Fe(255),this.Fe(0)):this.Fe(e)}Re(){this.Oe(0),this.Oe(1)}ve(){this.Fe(0),this.Fe(1)}Oe(e){this.xe(1),this.buffer[this.position++]=e}Fe(e){this.xe(1),this.buffer[this.position++]=~e}xe(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class OQ{constructor(e){this.Be=e}me(e){this.Be.Ee(e)}de(e){this.Be.Ve(e)}fe(e){this.Be.De(e)}he(){this.Be.ke()}}class PQ{constructor(e){this.Be=e}me(e){this.Be.be(e)}de(e){this.Be.Se(e)}fe(e){this.Be.Ne(e)}he(){this.Be.Me()}}class gC{constructor(){this.Be=new RQ,this.Le=new OQ(this.Be),this.Ue=new PQ(this.Be)}seed(e){this.Be.seed(e)}qe(e){return 0===e?this.Le:this.Ue}$e(){return this.Be.$e()}reset(){this.Be.reset()}}class _m{constructor(e,t,r,i){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=i}Ke(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new _m(this.indexId,this.documentKey,this.arrayValue,r)}}function ym(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=W4(n.arrayValue,e.arrayValue),0!==t?t:(t=W4(n.directionalValue,e.directionalValue),0!==t?t:Et.comparator(n.documentKey,e.documentKey)))}function W4(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(0!==r)return r}return n.length-e.length}class LQ{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ge=e.orderBy,this.Qe=[];for(const t of e.filters){const r=t;r.dt()?this.je=r:this.Qe.push(r)}}We(e){const t=YL(e);if(void 0!==t&&!this.ze(t))return!1;const r=im(e);let i=0,u=0;for(;i<r.length&&this.ze(r[i]);++i);if(i===r.length)return!0;if(void 0!==this.je){const d=r[i];if(!this.He(this.je,d)||!this.Je(this.Ge[u++],d))return!1;++i}for(;i<r.length;++i){const d=r[i];if(u>=this.Ge.length||!this.Je(this.Ge[u++],d))return!1}return!0}ze(e){for(const t of this.Qe)if(this.He(t,e))return!0;return!1}He(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}Je(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}class FQ{constructor(){this.Ye=new b2}addToCollectionParentIndex(e,t){return this.Ye.add(t),Se.resolve()}getCollectionParents(e,t){return Se.resolve(this.Ye.getEntries(t))}addFieldIndex(e,t){return Se.resolve()}deleteFieldIndex(e,t){return Se.resolve()}getDocumentsMatchingTarget(e,t){return Se.resolve(null)}getIndexType(e,t){return Se.resolve(0)}getFieldIndexes(e,t){return Se.resolve([])}getNextCollectionGroupToUpdate(e){return Se.resolve(null)}getMinOffset(e,t){return Se.resolve(ya.min())}getMinOffsetFromCollectionGroup(e,t){return Se.resolve(ya.min())}updateCollectionGroup(e,t,r){return Se.resolve()}updateIndexEntries(e,t){return Se.resolve()}}class b2{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new Nr(nr.comparator),u=!i.has(r);return this.index[t]=i.add(r),u}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Nr(nr.comparator)).toArray()}}const qx=new Uint8Array(0);class UQ{constructor(e,t){this.user=e,this.databaseId=t,this.Xe=new b2,this.Ze=new Vf(r=>cm(r),(r,i)=>tC(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Xe.has(t)){const r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener(()=>{this.Xe.add(t)});const u={collectionId:r,parent:yo(i)};return q4(e).put(u)}return Se.resolve()}getCollectionParents(e,t){const r=[],i=IDBKeyRange.bound([t,""],[C6(t),""],!1,!0);return q4(e).W(i).next(u=>{for(const d of u){if(d.collectionId!==t)break;r.push(oc(d.parent))}return r})}addFieldIndex(e,t){const r=zx(e),i={indexId:(d=t).indexId,collectionGroup:d.collectionGroup,fields:d.fields.map(p=>[p.fieldPath.canonicalString(),p.kind])};var d;delete i.indexId;const u=r.add(i);if(t.indexState){const d=_C(e);return u.next(p=>{d.put($4(p,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return u.next()}deleteFieldIndex(e,t){const r=zx(e),i=_C(e),u=mC(e);return r.delete(t.indexId).next(()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>u.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const r=mC(e);let i=!0;const u=new Map;return Se.forEach(this.tn(t),d=>this.en(e,d).next(p=>{i&&(i=!!p),u.set(d,p)})).next(()=>{if(i){let d=xn();const p=[];return Se.forEach(u,(v,I)=>{var S;ut("IndexedDbIndexManager",`Using index ${S=v,`id=${S.indexId}|cg=${S.collectionGroup}|f=${S.fields.map(bt=>`${bt.fieldPath}:${bt.kind}`).join(",")}`} to execute ${cm(t)}`);const M=function(bt,_t){const ft=YL(_t);if(void 0===ft)return null;for(const yt of Fx(bt,ft.fieldPath))switch(yt.op){case"array-contains-any":return yt.value.arrayValue.values||[];case"array-contains":return[yt.value]}return null}(I,v),P=function(bt,_t){const ft=new Map;for(const yt of im(_t))for(const fn of Fx(bt,yt.fieldPath))switch(fn.op){case"==":case"in":ft.set(yt.fieldPath.canonicalString(),fn.value);break;case"not-in":case"!=":return ft.set(yt.fieldPath.canonicalString(),fn.value),Array.from(ft.values())}return null}(I,v),$=function(bt,_t){const ft=[];let yt=!0;for(const fn of im(_t)){const Mr=0===fn.kind?H6(bt,fn.fieldPath,bt.startAt):G6(bt,fn.fieldPath,bt.startAt);ft.push(Mr.value),yt&&(yt=Mr.inclusive)}return new Uf(ft,yt)}(I,v),Q=function(bt,_t){const ft=[];let yt=!0;for(const fn of im(_t)){const Mr=0===fn.kind?G6(bt,fn.fieldPath,bt.endAt):H6(bt,fn.fieldPath,bt.endAt);ft.push(Mr.value),yt&&(yt=Mr.inclusive)}return new Uf(ft,yt)}(I,v),le=this.nn(v,I,$),ye=this.nn(v,I,Q),lt=this.sn(v,I,P),dt=this.rn(v.indexId,M,le,$.inclusive,ye,Q.inclusive,lt);return Se.forEach(dt,bt=>r.J(bt,t.limit).next(_t=>{_t.forEach(ft=>{const yt=Et.fromSegments(ft.documentKey);d.has(yt)||(d=d.add(yt),p.push(yt))})}))}).next(()=>p)}return Se.resolve(null)})}tn(e){let t=this.Ze.get(e);return t||(t=[e],this.Ze.set(e,t),t)}rn(e,t,r,i,u,d,p){const v=(null!=t?t.length:1)*Math.max(r.length,u.length),I=v/(null!=t?t.length:1),S=[];for(let M=0;M<v;++M){const P=t?this.on(t[M/I]):qx,$=this.un(e,P,r[M%I],i),Q=this.cn(e,P,u[M%I],d),le=p.map(ye=>this.un(e,P,ye,!0));S.push(...this.createRange($,Q,le))}return S}un(e,t,r,i){const u=new _m(e,Et.empty(),t,r);return i?u:u.Ke()}cn(e,t,r,i){const u=new _m(e,Et.empty(),t,r);return i?u.Ke():u}en(e,t){const r=new LQ(t),i=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,i).next(u=>{let d=null;for(const p of u)r.We(p)&&(!d||p.fields.length>d.fields.length)&&(d=p);return d})}getIndexType(e,t){let r=2;return Se.forEach(this.tn(t),i=>this.en(e,i).next(u=>{u?0!==r&&u.fields.length<function(d){let p=new Nr(Ai.comparator),v=!1;for(const I of d.filters){const S=I;S.field.isKeyField()||("array-contains"===S.op||"array-contains-any"===S.op?v=!0:p=p.add(S.field))}for(const I of d.orderBy)I.field.isKeyField()||(p=p.add(I.field));return p.size+(v?1:0)}(i)&&(r=1):r=0})).next(()=>r)}an(e,t){const r=new gC;for(const i of im(e)){const u=t.data.field(i.fieldPath);if(null==u)return null;const d=r.qe(i.kind);mm.Te.ce(u,d)}return r.$e()}on(e){const t=new gC;return mm.Te.ce(e,t.qe(0)),t.$e()}hn(e,t){const r=new gC;return mm.Te.ce(lm(this.databaseId,t),r.qe(function(i){const u=im(i);return 0===u.length?0:u[u.length-1].kind}(e))),r.$e()}sn(e,t,r){if(null===r)return[];let i=[];i.push(new gC);let u=0;for(const d of im(e)){const p=r[u++];for(const v of i)if(this.ln(t,d.fieldPath)&&XI(p))i=this.fn(i,d,p);else{const I=v.qe(d.kind);mm.Te.ce(p,I)}}return this.dn(i)}nn(e,t,r){return this.sn(e,t,r.position)}dn(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].$e();return t}fn(e,t,r){const i=[...e],u=[];for(const d of r.arrayValue.values||[])for(const p of i){const v=new gC;v.seed(p.$e()),mm.Te.ce(d,v.qe(t.kind)),u.push(v)}return u}ln(e,t){return!!e.filters.find(r=>r instanceof $s&&r.field.isEqual(t)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(e,t){const r=zx(e),i=_C(e);return(t?r.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.W()).next(u=>{const d=[];return Se.forEach(u,p=>i.get([p.indexId,this.uid]).next(v=>{d.push(function(I,S){const M=S?new qI(S.sequenceNumber,new ya(pm(S.readTime),new Et(oc(S.documentKey)),S.largestBatchId)):qI.empty(),P=I.fields.map(([$,Q])=>new Mx(Ai.fromServerFormat($),Q));return new Nx(I.indexId,I.collectionGroup,P,M)}(p,v))})).next(()=>d)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((r,i)=>{const u=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return 0!==u?u:bn(r.collectionGroup,i.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const i=zx(e),u=_C(e);return this._n(e).next(d=>i.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(p=>Se.forEach(p,v=>u.put($4(v.indexId,this.user,d,r)))))}updateIndexEntries(e,t){const r=new Map;return Se.forEach(t,(i,u)=>{const d=r.get(i.collectionGroup);return(d?Se.resolve(d):this.getFieldIndexes(e,i.collectionGroup)).next(p=>(r.set(i.collectionGroup,p),Se.forEach(p,v=>this.wn(e,i,v).next(I=>{const S=this.mn(u,v);return I.isEqual(S)?Se.resolve():this.gn(e,u,v,I,S)}))))})}yn(e,t,r,i){return mC(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.hn(r,t.key),documentKey:t.key.path.toArray()})}pn(e,t,r,i){return mC(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.hn(r,t.key),t.key.path.toArray()])}wn(e,t,r){const i=mC(e);let u=new Nr(ym);return i.Z({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.hn(r,t)])},(d,p)=>{u=u.add(new _m(r.indexId,t,p.arrayValue,p.directionalValue))}).next(()=>u)}mn(e,t){let r=new Nr(ym);const i=this.an(t,e);if(null==i)return r;const u=YL(t);if(null!=u){const d=e.data.field(u.fieldPath);if(XI(d))for(const p of d.arrayValue.values||[])r=r.add(new _m(t.indexId,e.key,this.on(p),i))}else r=r.add(new _m(t.indexId,e.key,qx,i));return r}gn(e,t,r,i,u){ut("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const d=[];return function(p,v,I,S,M){const P=p.getIterator(),$=v.getIterator();let Q=Ov(P),le=Ov($);for(;Q||le;){let ye=!1,lt=!1;if(Q&&le){const dt=I(Q,le);dt<0?lt=!0:dt>0&&(ye=!0)}else null!=Q?lt=!0:ye=!0;ye?(S(le),le=Ov($)):lt?(M(Q),Q=Ov(P)):(Q=Ov(P),le=Ov($))}}(i,u,ym,p=>{d.push(this.yn(e,t,r,p))},p=>{d.push(this.pn(e,t,r,p))}),Se.waitFor(d)}_n(e){let t=1;return _C(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,u)=>{u.done(),t=i.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((d,p)=>ym(d,p)).filter((d,p,v)=>!p||0!==ym(d,v[p-1]));const i=[];i.push(e);for(const d of r){const p=ym(d,e),v=ym(d,t);if(0===p)i[0]=e.Ke();else if(p>0&&v<0)i.push(d),i.push(d.Ke());else if(v>0)break}i.push(t);const u=[];for(let d=0;d<i.length;d+=2)u.push(IDBKeyRange.bound([i[d].indexId,this.uid,i[d].arrayValue,i[d].directionalValue,qx,[]],[i[d+1].indexId,this.uid,i[d+1].arrayValue,i[d+1].directionalValue,qx,[]]));return u}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(z4)}getMinOffset(e,t){return Se.mapArray(this.tn(t),r=>this.en(e,r).next(i=>i||Lt())).next(z4)}}function q4(n){return Ts(n,"collectionParents")}function mC(n){return Ts(n,"indexEntries")}function zx(n){return Ts(n,"indexConfiguration")}function _C(n){return Ts(n,"indexState")}function z4(n){on(0!==n.length);let e=n[0].indexState.offset,t=e.largestBatchId;for(let r=1;r<n.length;r++){const i=n[r].indexState.offset;QL(i,e)<0&&(e=i),t<i.largestBatchId&&(t=i.largestBatchId)}return new ya(e.readTime,e.documentKey,t)}const K4={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class qo{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new qo(e,qo.DEFAULT_COLLECTION_PERCENTILE,qo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Y4(n,e,t){const r=n.store("mutations"),i=n.store("documentMutations"),u=[],d=IDBKeyRange.only(t.batchId);let p=0;const v=r.Z({range:d},(S,M,P)=>(p++,P.delete()));u.push(v.next(()=>{on(1===p)}));const I=[];for(const S of t.mutations){const M=O4(e,S.key.path,t.batchId);u.push(i.delete(M)),I.push(S.key)}return Se.waitFor(u).next(()=>I)}function Kx(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw Lt();e=n.noDocument}return JSON.stringify(e).length}qo.DEFAULT_COLLECTION_PERCENTILE=10,qo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,qo.DEFAULT=new qo(41943040,qo.DEFAULT_COLLECTION_PERCENTILE,qo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),qo.DISABLED=new qo(-1,0,0);class Yx{constructor(e,t,r,i){this.userId=e,this.It=t,this.indexManager=r,this.referenceDelegate=i,this.In={}}static oe(e,t,r,i){on(""!==e.uid);const u=e.isAuthenticated()?e.uid:"";return new Yx(u,t,r,i)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return jf(e).Z({index:"userMutationsIndex",range:r},(i,u,d)=>{t=!1,d.done()}).next(()=>t)}addMutationBatch(e,t,r,i){const u=Zv(e),d=jf(e);return d.add({}).next(p=>{on("number"==typeof p);const v=new g2(p,t,r,i),I=function(P,$,Q){const le=Q.baseMutations.map(lt=>hC(P.re,lt)),ye=Q.mutations.map(lt=>hC(P.re,lt));return{userId:$,batchId:Q.batchId,localWriteTimeMs:Q.localWriteTime.toMillis(),baseMutations:le,mutations:ye}}(this.It,this.userId,v),S=[];let M=new Nr((P,$)=>bn(P.canonicalString(),$.canonicalString()));for(const P of i){const $=O4(this.userId,P.key.path,p);M=M.add(P.key.path.popLast()),S.push(d.put(I)),S.push(u.put($,fQ))}return M.forEach(P=>{S.push(this.indexManager.addToCollectionParentIndex(e,P))}),e.addOnCommittedListener(()=>{this.In[p]=v.keys()}),Se.waitFor(S).next(()=>v)})}lookupMutationBatch(e,t){return jf(e).get(t).next(r=>r?(on(r.userId===this.userId),gm(this.It,r)):null)}Tn(e,t){return this.In[t]?Se.resolve(this.In[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const i=r.keys();return this.In[t]=i,i}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]);let u=null;return jf(e).Z({index:"userMutationsIndex",range:i},(d,p,v)=>{p.userId===this.userId&&(on(p.batchId>=r),u=gm(this.It,p)),v.done()}).next(()=>u)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return jf(e).Z({index:"userMutationsIndex",range:t,reverse:!0},(i,u,d)=>{r=u.batchId,d.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return jf(e).W("userMutationsIndex",t).next(r=>r.map(i=>gm(this.It,i)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=Gx(this.userId,t.path),i=IDBKeyRange.lowerBound(r),u=[];return Zv(e).Z({range:i},(d,p,v)=>{const[I,S,M]=d,P=oc(S);if(I===this.userId&&t.path.isEqual(P))return jf(e).get(M).next($=>{if(!$)throw Lt();on($.userId===this.userId),u.push(gm(this.It,$))});v.done()}).next(()=>u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Nr(bn);const i=[];return t.forEach(u=>{const d=Gx(this.userId,u.path),p=IDBKeyRange.lowerBound(d),v=Zv(e).Z({range:p},(I,S,M)=>{const[P,$,Q]=I,le=oc($);P===this.userId&&u.path.isEqual(le)?r=r.add(Q):M.done()});i.push(v)}),Se.waitFor(i).next(()=>this.En(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1,u=Gx(this.userId,r),d=IDBKeyRange.lowerBound(u);let p=new Nr(bn);return Zv(e).Z({range:d},(v,I,S)=>{const[M,P,$]=v,Q=oc(P);M===this.userId&&r.isPrefixOf(Q)?Q.length===i&&(p=p.add($)):S.done()}).next(()=>this.En(e,p))}En(e,t){const r=[],i=[];return t.forEach(u=>{i.push(jf(e).get(u).next(d=>{if(null===d)throw Lt();on(d.userId===this.userId),r.push(gm(this.It,d))}))}),Se.waitFor(i).next(()=>r)}removeMutationBatch(e,t){return Y4(e.ie,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.An(t.batchId)}),Se.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}An(e){delete this.In[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return Se.resolve();const r=IDBKeyRange.lowerBound([this.userId]),i=[];return Zv(e).Z({range:r},(u,d,p)=>{if(u[0]===this.userId){const v=oc(u[1]);i.push(v)}else p.done()}).next(()=>{on(0===i.length)})})}containsKey(e,t){return Q4(e,this.userId,t)}Rn(e){return J4(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function Q4(n,e,t){const r=Gx(e,t.path),i=r[1],u=IDBKeyRange.lowerBound(r);let d=!1;return Zv(n).Z({range:u,X:!0},(p,v,I)=>{const[S,M,P]=p;S===e&&M===i&&(d=!0),I.done()}).next(()=>d)}function jf(n){return Ts(n,"mutations")}function Zv(n){return Ts(n,"documentMutations")}function J4(n){return Ts(n,"mutationQueues")}class vm{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Pn(){return new vm(0)}static vn(){return new vm(-1)}}class VQ{constructor(e,t){this.referenceDelegate=e,this.It=t}allocateTargetId(e){return this.Vn(e).next(t=>{const r=new vm(t.highestTargetId);return t.highestTargetId=r.next(),this.Sn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Vn(e).next(t=>an.fromTimestamp(new ui(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Vn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.Vn(e).next(i=>(i.highestListenSequenceNumber=t,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),this.Sn(e,i)))}addTargetData(e,t){return this.Dn(e,t).next(()=>this.Vn(e).next(r=>(r.targetCount+=1,this.Cn(t,r),this.Sn(e,r))))}updateTargetData(e,t){return this.Dn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Wv(e).delete(t.targetId)).next(()=>this.Vn(e)).next(r=>(on(r.targetCount>0),r.targetCount-=1,this.Sn(e,r)))}removeTargets(e,t,r){let i=0;const u=[];return Wv(e).Z((d,p)=>{const v=fC(p);v.sequenceNumber<=t&&null===r.get(v.targetId)&&(i++,u.push(this.removeTargetData(e,v)))}).next(()=>Se.waitFor(u)).next(()=>i)}forEachTarget(e,t){return Wv(e).Z((r,i)=>{const u=fC(i);t(u)})}Vn(e){return X4(e).get("targetGlobalKey").next(t=>(on(null!==t),t))}Sn(e,t){return X4(e).put("targetGlobalKey",t)}Dn(e,t){return Wv(e).put(B4(this.It,t))}Cn(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.Vn(e).next(t=>t.targetCount)}getTargetData(e,t){const r=cm(t),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let u=null;return Wv(e).Z({range:i,index:"queryTargetsIndex"},(d,p,v)=>{const I=fC(p);tC(t,I.target)&&(u=I,v.done())}).next(()=>u)}addMatchingKeys(e,t,r){const i=[],u=$f(e);return t.forEach(d=>{const p=yo(d.path);i.push(u.put({targetId:r,path:p})),i.push(this.referenceDelegate.addReference(e,r,d))}),Se.waitFor(i)}removeMatchingKeys(e,t,r){const i=$f(e);return Se.forEach(t,u=>{const d=yo(u.path);return Se.waitFor([i.delete([r,d]),this.referenceDelegate.removeReference(e,r,u)])})}removeMatchingKeysForTargetId(e,t){const r=$f(e),i=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),i=$f(e);let u=xn();return i.Z({range:r,X:!0},(d,p,v)=>{const I=oc(d[1]),S=new Et(I);u=u.add(S)}).next(()=>u)}containsKey(e,t){const r=yo(t.path),i=IDBKeyRange.bound([r],[C6(r)],!1,!0);let u=0;return $f(e).Z({index:"documentTargetsIndex",X:!0,range:i},([d,p],v,I)=>{0!==d&&(u++,I.done())}).next(()=>u>0)}se(e,t){return Wv(e).get(t).next(r=>r?fC(r):null)}}function Wv(n){return Ts(n,"targets")}function X4(n){return Ts(n,"targetGlobal")}function $f(n){return Ts(n,"targetDocuments")}function eH([n,e],[t,r]){const i=bn(n,t);return 0===i?bn(e,r):i}class BQ{constructor(e){this.xn=e,this.buffer=new Nr(eH),this.Nn=0}kn(){return++this.Nn}On(e){const t=[e,this.kn()];if(this.buffer.size<this.xn)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();eH(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class jQ{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Mn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Fn(6e4)}stop(){this.Mn&&(this.Mn.cancel(),this.Mn=null)}get started(){return null!==this.Mn}Fn(e){var t=this;ut("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Mn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,Re.Z)(function*(){t.Mn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(r){Rf(r)?ut("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):yield kf(r)}yield t.Fn(3e5)}))}}class $Q{constructor(e,t){this.$n=e,this.params=t}calculateTargetCount(e,t){return this.$n.Bn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return Se.resolve(Zo.at);const r=new BQ(t);return this.$n.forEachTarget(e,i=>r.On(i.sequenceNumber)).next(()=>this.$n.Ln(e,i=>r.On(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.$n.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.$n.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(ut("LruGarbageCollector","Garbage collection skipped; disabled"),Se.resolve(K4)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(ut("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),K4):this.Un(e,t))}getCacheSize(e){return this.$n.getCacheSize(e)}Un(e,t){let r,i,u,d,p,v,I;const S=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(M=>(M>this.params.maximumSequenceNumbersToCollect?(ut("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${M}`),i=this.params.maximumSequenceNumbersToCollect):i=M,d=Date.now(),this.nthSequenceNumber(e,i))).next(M=>(r=M,p=Date.now(),this.removeTargets(e,r,t))).next(M=>(u=M,v=Date.now(),this.removeOrphanedDocuments(e,r))).next(M=>(I=Date.now(),zL()<=da.in.DEBUG&&ut("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${d-S}ms\n\tDetermined least recently used ${i} in `+(p-d)+`ms\n\tRemoved ${u} targets in `+(v-p)+`ms\n\tRemoved ${M} documents in `+(I-v)+`ms\nTotal Duration: ${I-S}ms`),Se.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:u,documentsRemoved:M})))}}class HQ{constructor(e,t){this.db=e,this.garbageCollector=new $Q(this,t)}Bn(e){const t=this.qn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}qn(e){let t=0;return this.Ln(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Ln(e,t){return this.Kn(e,(r,i)=>t(i))}addReference(e,t,r){return Qx(e,r)}removeReference(e,t,r){return Qx(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return Qx(e,t)}Gn(e,t){return function(r,i){let u=!1;return J4(r).tt(d=>Q4(r,d,i).next(p=>(p&&(u=!0),Se.resolve(!p)))).next(()=>u)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let u=0;return this.Kn(e,(d,p)=>{if(p<=t){const v=this.Gn(e,d).next(I=>{if(!I)return u++,r.getEntry(e,d).next(()=>(r.removeEntry(d,an.min()),$f(e).delete([0,yo(d.path)])))});i.push(v)}}).next(()=>Se.waitFor(i)).next(()=>r.apply(e)).next(()=>u)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return Qx(e,t)}Kn(e,t){const r=$f(e);let i,u=Zo.at;return r.Z({index:"documentTargetsIndex"},([d,p],{path:v,sequenceNumber:I})=>{0===d?(u!==Zo.at&&t(new Et(oc(i)),u),u=I,i=v):u=Zo.at}).next(()=>{u!==Zo.at&&t(new Et(oc(i)),u)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Qx(n,e){return $f(n).put((r=n.currentSequenceNumber,{targetId:0,path:yo(e.path),sequenceNumber:r}));var r}class tH{constructor(){this.changes=new Vf(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Yr.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?Se.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class GQ{constructor(e){this.It=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return bm(e).put(r)}removeEntry(e,t,r){return bm(e).delete(function(i,u){const d=i.path.toArray();return[d.slice(0,d.length-2),d[d.length-2],Zx(u),d[d.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.Qn(e,r)))}getEntry(e,t){let r=Yr.newInvalidDocument(t);return bm(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(yC(t))},(i,u)=>{r=this.jn(t,u)}).next(()=>r)}Wn(e,t){let r={size:0,document:Yr.newInvalidDocument(t)};return bm(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(yC(t))},(i,u)=>{r={document:this.jn(t,u),size:Kx(u)}}).next(()=>r)}getEntries(e,t){let r=Wo();return this.zn(e,t,(i,u)=>{const d=this.jn(i,u);r=r.insert(i,d)}).next(()=>r)}Hn(e,t){let r=Wo(),i=new Di(Et.comparator);return this.zn(e,t,(u,d)=>{const p=this.jn(u,d);r=r.insert(u,p),i=i.insert(u,Kx(d))}).next(()=>({documents:r,Jn:i}))}zn(e,t,r){if(t.isEmpty())return Se.resolve();let i=new Nr(sH);t.forEach(v=>i=i.add(v));const u=IDBKeyRange.bound(yC(i.first()),yC(i.last())),d=i.getIterator();let p=d.getNext();return bm(e).Z({index:"documentKeyIndex",range:u},(v,I,S)=>{const M=Et.fromSegments([...I.prefixPath,I.collectionGroup,I.documentId]);for(;p&&sH(p,M)<0;)r(p,null),p=d.getNext();p&&p.isEqual(M)&&(r(p,I),p=d.hasNext()?d.getNext():null),p?S.j(yC(p)):S.done()}).next(()=>{for(;p;)r(p,null),p=d.hasNext()?d.getNext():null})}getAllFromCollection(e,t,r){const i=[t.popLast().toArray(),t.lastSegment(),Zx(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],u=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return bm(e).W(IDBKeyRange.bound(i,u,!0)).next(d=>{let p=Wo();for(const v of d){const I=this.jn(Et.fromSegments(v.prefixPath.concat(v.collectionGroup,v.documentId)),v);p=p.insert(I.key,I)}return p})}getAllFromCollectionGroup(e,t,r,i){let u=Wo();const d=iH(t,r),p=iH(t,ya.max());return bm(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(d,p,!0)},(v,I,S)=>{const M=this.jn(Et.fromSegments(I.prefixPath.concat(I.collectionGroup,I.documentId)),I);u=u.insert(M.key,M),u.size===i&&S.done()}).next(()=>u)}newChangeBuffer(e){return new ZQ(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return rH(e).get("remoteDocumentGlobalKey").next(t=>(on(!!t),t))}Qn(e,t){return rH(e).put("remoteDocumentGlobalKey",t)}jn(e,t){if(t){const r=function NQ(n,e){let t;if(e.document)t=D4(n.re,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=Et.fromSegments(e.noDocument.path),i=pm(e.noDocument.readTime);t=Yr.newNoDocument(r,i),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return Lt();{const r=Et.fromSegments(e.unknownDocument.path),i=pm(e.unknownDocument.version);t=Yr.newUnknownDocument(r,i)}}return e.readTime&&t.setReadTime(function(r){const i=new ui(r[0],r[1]);return an.fromTimestamp(i)}(e.readTime)),t}(this.It,t);if(!r.isNoDocument()||!r.version.isEqual(an.min()))return r}return Yr.newInvalidDocument(e)}}function nH(n){return new GQ(n)}class ZQ extends tH{constructor(e,t){super(),this.Yn=e,this.trackRemovals=t,this.Xn=new Vf(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const t=[];let r=0,i=new Nr((u,d)=>bn(u.canonicalString(),d.canonicalString()));return this.changes.forEach((u,d)=>{const p=this.Xn.get(u);if(t.push(this.Yn.removeEntry(e,u,p.readTime)),d.isValidDocument()){const v=V4(this.Yn.It,d);i=i.add(u.path.popLast());const I=Kx(v);r+=I-p.size,t.push(this.Yn.addEntry(e,u,v))}else if(r-=p.size,this.trackRemovals){const v=V4(this.Yn.It,d.convertToNoDocument(an.min()));t.push(this.Yn.addEntry(e,u,v))}}),i.forEach(u=>{t.push(this.Yn.indexManager.addToCollectionParentIndex(e,u))}),t.push(this.Yn.updateMetadata(e,r)),Se.waitFor(t)}getFromCache(e,t){return this.Yn.Wn(e,t).next(r=>(this.Xn.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this.Yn.Hn(e,t).next(({documents:r,Jn:i})=>(i.forEach((u,d)=>{this.Xn.set(u,{size:d,readTime:r.get(u).readTime})}),r))}}function rH(n){return Ts(n,"remoteDocumentGlobal")}function bm(n){return Ts(n,"remoteDocumentsV14")}function yC(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function iH(n,e){const t=e.documentKey.path.toArray();return[n,Zx(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function sH(n,e){const t=n.path.toArray(),r=e.path.toArray();let i=0;for(let u=0;u<t.length-2&&u<r.length-2;++u)if(i=bn(t[u],r[u]),i)return i;return i=bn(t.length,r.length),i||(i=bn(t[t.length-2],r[r.length-2]),i||bn(t[t.length-1],r[r.length-1]))}class WQ{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class oH{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.getBaseDocument(e,t,r))).next(i=>(null!==r&&iC(r.mutation,i,va.empty(),ui.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,xn()).next(()=>r))}getLocalViewOfDocuments(e,t,r=xn()){const i=ic();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(u=>{let d=sC();return u.forEach((p,v)=>{d=d.insert(p,v.overlayedDocument)}),d}))}getOverlayedDocuments(e,t){const r=ic();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,xn()))}populateOverlays(e,t,r){const i=[];return r.forEach(u=>{t.has(u)||i.push(u)}),this.documentOverlayCache.getOverlays(e,i).next(u=>{u.forEach((d,p)=>{t.set(d,p)})})}computeViews(e,t,r,i){let u=Wo();const d=oC(),p=oC();return t.forEach((v,I)=>{const S=r.get(I.key);i.has(I.key)&&(void 0===S||S.mutation instanceof kd)?u=u.insert(I.key,I):void 0!==S&&(d.set(I.key,S.mutation.getFieldMask()),iC(S.mutation,I,S.mutation.getFieldMask(),ui.now()))}),this.recalculateAndSaveOverlays(e,u).next(v=>(v.forEach((I,S)=>d.set(I,S)),t.forEach((I,S)=>{var M;return p.set(I,new WQ(S,null!==(M=d.get(I))&&void 0!==M?M:null))}),p))}recalculateAndSaveOverlays(e,t){const r=oC();let i=new Di((d,p)=>d-p),u=xn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(d=>{for(const p of d)p.keys().forEach(v=>{const I=t.get(v);if(null===I)return;let S=r.get(v)||va.empty();S=p.applyToLocalView(I,S),r.set(v,S);const M=(i.get(p.batchId)||xn()).add(v);i=i.insert(p.batchId,M)})}).next(()=>{const d=[],p=i.getReverseIterator();for(;p.hasNext();){const v=p.getNext(),I=v.key,S=v.value,M=m4();S.forEach(P=>{if(!u.has(P)){const $=a4(t.get(P),r.get(P));null!==$&&M.set(P,$),u=u.add(P)}}),d.push(this.documentOverlayCache.saveOverlays(e,I,M))}return Se.waitFor(d)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r){return Et.isDocumentKey((i=t).path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):o2(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r):this.getDocumentsMatchingCollectionQuery(e,t,r);var i}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(u=>{const d=i-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-u.size):Se.resolve(ic());let p=-1,v=u;return d.next(I=>Se.forEach(I,(S,M)=>(p<M.largestBatchId&&(p=M.largestBatchId),u.get(S)?Se.resolve():this.getBaseDocument(e,S,M).next(P=>{v=v.insert(S,P)}))).next(()=>this.populateOverlays(e,I,u)).next(()=>this.computeViews(e,v,I,xn())).next(S=>({batchId:p,changes:g4(S)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Et(t)).next(r=>{let i=sC();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r){const i=t.collectionGroup;let u=sC();return this.indexManager.getCollectionParents(e,i).next(d=>Se.forEach(d,p=>{const v=(I=t,S=p.child(i),new Md(S,null,I.explicitOrderBy.slice(),I.filters.slice(),I.limit,I.limitType,I.startAt,I.endAt));var I,S;return this.getDocumentsMatchingCollectionQuery(e,v,r).next(I=>{I.forEach((S,M)=>{u=u.insert(S,M)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,t,r){let i;return this.remoteDocumentCache.getAllFromCollection(e,t.path,r).next(u=>(i=u,this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId))).next(u=>{u.forEach((p,v)=>{const I=v.getKey();null===i.get(I)&&(i=i.insert(I,Yr.newInvalidDocument(I)))});let d=sC();return i.forEach((p,v)=>{const I=u.get(p);void 0!==I&&iC(I.mutation,v,va.empty(),ui.now()),u2(t,v)&&(d=d.insert(p,v))}),d})}getBaseDocument(e,t,r){return null===r||1===r.mutation.type?this.remoteDocumentCache.getEntry(e,t):Se.resolve(Yr.newInvalidDocument(t))}}class qQ{constructor(e){this.It=e,this.Zn=new Map,this.ts=new Map}getBundleMetadata(e,t){return Se.resolve(this.Zn.get(t))}saveBundleMetadata(e,t){var r;return this.Zn.set(t.id,{id:(r=t).id,version:r.version,createTime:Cs(r.createTime)}),Se.resolve()}getNamedQuery(e,t){return Se.resolve(this.ts.get(t))}saveNamedQuery(e,t){return this.ts.set(t.name,{name:(r=t).name,query:y2(r.bundledQuery),readTime:Cs(r.readTime)}),Se.resolve();var r}}class zQ{constructor(){this.overlays=new Di(Et.comparator),this.es=new Map}getOverlay(e,t){return Se.resolve(this.overlays.get(t))}getOverlays(e,t){const r=ic();return Se.forEach(t,i=>this.getOverlay(e,i).next(u=>{null!==u&&r.set(i,u)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,u)=>{this.ue(e,t,u)}),Se.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.es.get(r);return void 0!==i&&(i.forEach(u=>this.overlays=this.overlays.remove(u)),this.es.delete(r)),Se.resolve()}getOverlaysForCollection(e,t,r){const i=ic(),u=t.length+1,d=new Et(t.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const v=p.getNext().value,I=v.getKey();if(!t.isPrefixOf(I.path))break;I.path.length===u&&v.largestBatchId>r&&i.set(v.getKey(),v)}return Se.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let u=new Di((I,S)=>I-S);const d=this.overlays.getIterator();for(;d.hasNext();){const I=d.getNext().value;if(I.getKey().getCollectionGroup()===t&&I.largestBatchId>r){let S=u.get(I.largestBatchId);null===S&&(S=ic(),u=u.insert(I.largestBatchId,S)),S.set(I.getKey(),I)}}const p=ic(),v=u.getIterator();for(;v.hasNext()&&(v.getNext().value.forEach((I,S)=>p.set(I,S)),!(p.size()>=i)););return Se.resolve(p)}ue(e,t,r){const i=this.overlays.get(r.key);if(null!==i){const d=this.es.get(i.largestBatchId).delete(r.key);this.es.set(i.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new _2(t,r));let u=this.es.get(t);void 0===u&&(u=xn(),this.es.set(t,u)),this.es.set(t,u.add(r.key))}}class w2{constructor(){this.ns=new Nr(As.ss),this.rs=new Nr(As.os)}isEmpty(){return this.ns.isEmpty()}addReference(e,t){const r=new As(e,t);this.ns=this.ns.add(r),this.rs=this.rs.add(r)}us(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.cs(new As(e,t))}hs(e,t){e.forEach(r=>this.removeReference(r,t))}ls(e){const t=new Et(new nr([])),r=new As(t,e),i=new As(t,e+1),u=[];return this.rs.forEachInRange([r,i],d=>{this.cs(d),u.push(d.key)}),u}fs(){this.ns.forEach(e=>this.cs(e))}cs(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}ds(e){const t=new Et(new nr([])),r=new As(t,e),i=new As(t,e+1);let u=xn();return this.rs.forEachInRange([r,i],d=>{u=u.add(d.key)}),u}containsKey(e){const t=new As(e,0),r=this.ns.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class As{constructor(e,t){this.key=e,this._s=t}static ss(e,t){return Et.comparator(e.key,t.key)||bn(e._s,t._s)}static os(e,t){return bn(e._s,t._s)||Et.comparator(e.key,t.key)}}class KQ{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.ws=1,this.gs=new Nr(As.ss)}checkEmpty(e){return Se.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,i){const u=this.ws;this.ws++;const d=new g2(u,t,r,i);this.mutationQueue.push(d);for(const p of i)this.gs=this.gs.add(new As(p.key,u)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return Se.resolve(d)}lookupMutationBatch(e,t){return Se.resolve(this.ys(t))}getNextMutationBatchAfterBatchId(e,t){const i=this.ps(t+1),u=i<0?0:i;return Se.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return Se.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(e){return Se.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new As(t,0),i=new As(t,Number.POSITIVE_INFINITY),u=[];return this.gs.forEachInRange([r,i],d=>{const p=this.ys(d._s);u.push(p)}),Se.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Nr(bn);return t.forEach(i=>{const u=new As(i,0),d=new As(i,Number.POSITIVE_INFINITY);this.gs.forEachInRange([u,d],p=>{r=r.add(p._s)})}),Se.resolve(this.Is(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let u=r;Et.isDocumentKey(u)||(u=u.child(""));const d=new As(new Et(u),0);let p=new Nr(bn);return this.gs.forEachWhile(v=>{const I=v.key.path;return!!r.isPrefixOf(I)&&(I.length===i&&(p=p.add(v._s)),!0)},d),Se.resolve(this.Is(p))}Is(e){const t=[];return e.forEach(r=>{const i=this.ys(r);null!==i&&t.push(i)}),t}removeMutationBatch(e,t){on(0===this.Ts(t.batchId,"removed")),this.mutationQueue.shift();let r=this.gs;return Se.forEach(t.mutations,i=>{const u=new As(i.key,t.batchId);return r=r.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.gs=r})}An(e){}containsKey(e,t){const r=new As(t,0),i=this.gs.firstAfterOrEqual(r);return Se.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return Se.resolve()}Ts(e,t){return this.ps(e)}ps(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}ys(e){const t=this.ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class YQ{constructor(e){this.Es=e,this.docs=new Di(Et.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),u=i?i.size:0,d=this.Es(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:d}),this.size+=d-u,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return Se.resolve(r?r.document.mutableCopy():Yr.newInvalidDocument(t))}getEntries(e,t){let r=Wo();return t.forEach(i=>{const u=this.docs.get(i);r=r.insert(i,u?u.document.mutableCopy():Yr.newInvalidDocument(i))}),Se.resolve(r)}getAllFromCollection(e,t,r){let i=Wo();const u=new Et(t.child("")),d=this.docs.getIteratorFrom(u);for(;d.hasNext();){const{key:p,value:{document:v}}=d.getNext();if(!t.isPrefixOf(p.path))break;p.path.length>t.length+1||QL(A6(v),r)<=0||(i=i.insert(v.key,v.mutableCopy()))}return Se.resolve(i)}getAllFromCollectionGroup(e,t,r,i){Lt()}As(e,t){return Se.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new QQ(this)}getSize(e){return Se.resolve(this.size)}}class QQ extends tH{constructor(e){super(),this.Yn=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Yn.addEntry(e,i)):this.Yn.removeEntry(r)}),Se.waitFor(t)}getFromCache(e,t){return this.Yn.getEntry(e,t)}getAllFromCache(e,t){return this.Yn.getEntries(e,t)}}class JQ{constructor(e){this.persistence=e,this.Rs=new Vf(t=>cm(t),tC),this.lastRemoteSnapshotVersion=an.min(),this.highestTargetId=0,this.bs=0,this.Ps=new w2,this.targetCount=0,this.vs=vm.Pn()}forEachTarget(e,t){return this.Rs.forEach((r,i)=>t(i)),Se.resolve()}getLastRemoteSnapshotVersion(e){return Se.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Se.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.vs.next(),Se.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.bs&&(this.bs=t),Se.resolve()}Dn(e){this.Rs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.vs=new vm(t),this.highestTargetId=t),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,t){return this.Dn(t),this.targetCount+=1,Se.resolve()}updateTargetData(e,t){return this.Dn(t),Se.resolve()}removeTargetData(e,t){return this.Rs.delete(t.target),this.Ps.ls(t.targetId),this.targetCount-=1,Se.resolve()}removeTargets(e,t,r){let i=0;const u=[];return this.Rs.forEach((d,p)=>{p.sequenceNumber<=t&&null===r.get(p.targetId)&&(this.Rs.delete(d),u.push(this.removeMatchingKeysForTargetId(e,p.targetId)),i++)}),Se.waitFor(u).next(()=>i)}getTargetCount(e){return Se.resolve(this.targetCount)}getTargetData(e,t){const r=this.Rs.get(t)||null;return Se.resolve(r)}addMatchingKeys(e,t,r){return this.Ps.us(t,r),Se.resolve()}removeMatchingKeys(e,t,r){this.Ps.hs(t,r);const i=this.persistence.referenceDelegate,u=[];return i&&t.forEach(d=>{u.push(i.markPotentiallyOrphaned(e,d))}),Se.waitFor(u)}removeMatchingKeysForTargetId(e,t){return this.Ps.ls(t),Se.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Ps.ds(t);return Se.resolve(r)}containsKey(e,t){return Se.resolve(this.Ps.containsKey(t))}}class aH{constructor(e,t){this.Vs={},this.overlays={},this.Ss=new Zo(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=e(this),this.Cs=new JQ(this),this.indexManager=new FQ,this.remoteDocumentCache=new YQ(r=>this.referenceDelegate.xs(r)),this.It=new U4(t),this.Ns=new qQ(this.It)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new zQ,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Vs[e.toKey()];return r||(r=new KQ(t,this.referenceDelegate),this.Vs[e.toKey()]=r),r}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(e,t,r){ut("MemoryPersistence","Starting transaction:",e);const i=new XQ(this.Ss.next());return this.referenceDelegate.ks(),r(i).next(u=>this.referenceDelegate.Os(i).next(()=>u)).toPromise().then(u=>(i.raiseOnCommittedEvent(),u))}Ms(e,t){return Se.or(Object.values(this.Vs).map(r=>()=>r.containsKey(e,t)))}}class XQ extends S6{constructor(e){super(),this.currentSequenceNumber=e}}class Jx{constructor(e){this.persistence=e,this.Fs=new w2,this.$s=null}static Bs(e){return new Jx(e)}get Ls(){if(this.$s)return this.$s;throw Lt()}addReference(e,t,r){return this.Fs.addReference(r,t),this.Ls.delete(r.toString()),Se.resolve()}removeReference(e,t,r){return this.Fs.removeReference(r,t),this.Ls.add(r.toString()),Se.resolve()}markPotentiallyOrphaned(e,t){return this.Ls.add(t.toString()),Se.resolve()}removeTarget(e,t){this.Fs.ls(t.targetId).forEach(i=>this.Ls.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(u=>this.Ls.add(u.toString()))}).next(()=>r.removeTargetData(e,t))}ks(){this.$s=new Set}Os(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Se.forEach(this.Ls,r=>{const i=Et.fromPath(r);return this.Us(e,i).next(u=>{u||t.removeEntry(i,an.min())})}).next(()=>(this.$s=null,t.apply(e)))}updateLimboDocument(e,t){return this.Us(e,t).next(r=>{r?this.Ls.delete(t.toString()):this.Ls.add(t.toString())})}xs(e){return 0}Us(e,t){return Se.or([()=>Se.resolve(this.Fs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ms(e,t)])}}class eJ{constructor(e){this.It=e}$(e,t,r,i){const u=new kx("createOrUpgrade",t);var p;r<1&&i>=1&&(e.createObjectStore("owner"),(p=e).createObjectStore("mutationQueues",{keyPath:"userId"}),p.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",R4,{unique:!0}),p.createObjectStore("documentMutations"),uH(e),function(p){p.createObjectStore("remoteDocuments")}(e));let d=Se.resolve();return r<3&&i>=3&&(0!==r&&(function(p){p.deleteObjectStore("targetDocuments"),p.deleteObjectStore("targets"),p.deleteObjectStore("targetGlobal")}(e),uH(e)),d=d.next(()=>function(p){const v=p.store("targetGlobal"),I={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:an.min().toTimestamp(),targetCount:0};return v.put("targetGlobalKey",I)}(u))),r<4&&i>=4&&(0!==r&&(d=d.next(()=>function(p,v){return v.store("mutations").W().next(I=>{p.deleteObjectStore("mutations"),p.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",R4,{unique:!0});const S=v.store("mutations"),M=I.map(P=>S.put(P));return Se.waitFor(M)})}(e,u))),d=d.next(()=>{!function(p){p.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),r<5&&i>=5&&(d=d.next(()=>this.qs(u))),r<6&&i>=6&&(d=d.next(()=>(function(p){p.createObjectStore("remoteDocumentGlobal")}(e),this.Ks(u)))),r<7&&i>=7&&(d=d.next(()=>this.Gs(u))),r<8&&i>=8&&(d=d.next(()=>this.Qs(e,u))),r<9&&i>=9&&(d=d.next(()=>{!function(p){p.objectStoreNames.contains("remoteDocumentChanges")&&p.deleteObjectStore("remoteDocumentChanges")}(e)})),r<10&&i>=10&&(d=d.next(()=>this.js(u))),r<11&&i>=11&&(d=d.next(()=>{(function(p){p.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(p){p.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(d=d.next(()=>{!function(p){const v=p.createObjectStore("documentOverlays",{keyPath:TQ});v.createIndex("collectionPathOverlayIndex",AQ,{unique:!1}),v.createIndex("collectionGroupOverlayIndex",DQ,{unique:!1})}(e)})),r<13&&i>=13&&(d=d.next(()=>function(p){const v=p.createObjectStore("remoteDocumentsV14",{keyPath:pQ});v.createIndex("documentKeyIndex",gQ),v.createIndex("collectionGroupIndex",mQ)}(e)).next(()=>this.Ws(e,u)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(d=d.next(()=>this.zs(e,u))),r<15&&i>=15&&(d=d.next(()=>function(p){p.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),p.createObjectStore("indexState",{keyPath:wQ}).createIndex("sequenceNumberIndex",EQ,{unique:!1}),p.createObjectStore("indexEntries",{keyPath:IQ}).createIndex("documentKeyIndex",CQ,{unique:!1})}(e))),d}Ks(e){let t=0;return e.store("remoteDocuments").Z((r,i)=>{t+=Kx(i)}).next(()=>{const r={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}qs(e){const t=e.store("mutationQueues"),r=e.store("mutations");return t.W().next(i=>Se.forEach(i,u=>{const d=IDBKeyRange.bound([u.userId,-1],[u.userId,u.lastAcknowledgedBatchId]);return r.W("userMutationsIndex",d).next(p=>Se.forEach(p,v=>{on(v.userId===u.userId);const I=gm(this.It,v);return Y4(e,u.userId,I).next(()=>{})}))}))}Gs(e){const t=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const u=[];return r.Z((d,p)=>{const v=new nr(d),I=[0,yo(v)];u.push(t.get(I).next(S=>S?Se.resolve():t.put({targetId:0,path:yo(v),sequenceNumber:i.highestListenSequenceNumber})))}).next(()=>Se.waitFor(u))})}Qs(e,t){e.createObjectStore("collectionParents",{keyPath:bQ});const r=t.store("collectionParents"),i=new b2,u=d=>{if(i.add(d)){const p=d.lastSegment(),v=d.popLast();return r.put({collectionId:p,parent:yo(v)})}};return t.store("remoteDocuments").Z({X:!0},(d,p)=>{const v=new nr(d);return u(v.popLast())}).next(()=>t.store("documentMutations").Z({X:!0},([d,p,v],I)=>{const S=oc(p);return u(S.popLast())}))}js(e){const t=e.store("targets");return t.Z((r,i)=>{const u=fC(i),d=B4(this.It,u);return t.put(d)})}Ws(e,t){const r=t.store("remoteDocuments"),i=[];return r.Z((u,d)=>{const p=t.store("remoteDocumentsV14"),v=(I=d,I.document?new Et(nr.fromString(I.document.name).popFirst(5)):I.noDocument?Et.fromSegments(I.noDocument.path):I.unknownDocument?Et.fromSegments(I.unknownDocument.path):Lt()).path.toArray();var I;const S={prefixPath:v.slice(0,v.length-2),collectionGroup:v[v.length-2],documentId:v[v.length-1],readTime:d.readTime||[0,0],unknownDocument:d.unknownDocument,noDocument:d.noDocument,document:d.document,hasCommittedMutations:!!d.hasCommittedMutations};i.push(p.put(S))}).next(()=>Se.waitFor(i))}zs(e,t){const r=t.store("mutations"),i=nH(this.It),u=new aH(Jx.Bs,this.It.re);return r.W().next(d=>{const p=new Map;return d.forEach(v=>{var I;let S=null!==(I=p.get(v.userId))&&void 0!==I?I:xn();gm(this.It,v).keys().forEach(M=>S=S.add(M)),p.set(v.userId,S)}),Se.forEach(p,(v,I)=>{const S=new Is(I),M=Wx.oe(this.It,S),P=u.getIndexManager(S),$=Yx.oe(S,this.It,P,u.referenceDelegate);return new oH(i,$,M,P).recalculateAndSaveOverlaysForDocumentKeys(new p2(t,Zo.at),v).next()})})}}function uH(n){n.createObjectStore("targetDocuments",{keyPath:yQ}).createIndex("documentTargetsIndex",vQ,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",_Q,{unique:!0}),n.createObjectStore("targetGlobal")}const E2="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class I2{constructor(e,t,r,i,u,d,p,v,I,S,M=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.Hs=u,this.window=d,this.document=p,this.Js=I,this.Ys=S,this.Xs=M,this.Ss=null,this.Ds=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.ti=null,this.ei=null,this.ni=Number.NEGATIVE_INFINITY,this.si=P=>Promise.resolve(),!I2.C())throw new nt(Pe.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new HQ(this,i),this.ii=t+"main",this.It=new U4(v),this.ri=new Ju(this.ii,this.Xs,new eJ(this.It)),this.Cs=new VQ(this.referenceDelegate,this.It),this.remoteDocumentCache=nH(this.It),this.Ns=new MQ,this.window&&this.window.localStorage?this.oi=this.window.localStorage:(this.oi=null,!1===S&&Vi("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ui().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new nt(Pe.FAILED_PRECONDITION,E2);return this.ci(),this.ai(),this.hi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Cs.getHighestSequenceNumber(e))}).then(e=>{this.Ss=new Zo(e,this.Js)}).then(()=>{this.Ds=!0}).catch(e=>(this.ri&&this.ri.close(),Promise.reject(e)))}li(e){var t=this;return this.si=function(){var r=(0,Re.Z)(function*(i){if(t.started)return e(i)});return function(i){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ri.L(function(){var t=(0,Re.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Hs.enqueueAndForget((0,Re.Z)(function*(){t.started&&(yield t.ui())})))}ui(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Xx(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(e).next(t=>{t||(this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)))})}).next(()=>this.di(e)).next(t=>this.isPrimary&&!t?this._i(e).next(()=>!1):!!t&&this.wi(e).next(()=>!0))).catch(e=>{if(Rf(e))return ut("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return ut("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Hs.enqueueRetryable(()=>this.si(e)),this.isPrimary=e})}fi(e){return vC(e).get("owner").next(t=>Se.resolve(this.mi(t)))}gi(e){return Xx(e).delete(this.clientId)}yi(){var e=this;return(0,Re.Z)(function*(){if(e.isPrimary&&!e.pi(e.ni,18e5)){e.ni=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const i=Ts(r,"clientMetadata");return i.W().next(u=>{const d=e.Ii(u,18e5),p=u.filter(v=>-1===d.indexOf(v));return Se.forEach(p,v=>i.delete(v.clientId)).next(()=>p)})}).catch(()=>[]);if(e.oi)for(const r of t)e.oi.removeItem(e.Ti(r.clientId))}})()}hi(){this.ei=this.Hs.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ui().then(()=>this.yi()).then(()=>this.hi()))}mi(e){return!!e&&e.ownerId===this.clientId}di(e){return this.Ys?Se.resolve(!0):vC(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)){if(this.mi(t)&&this.networkEnabled)return!0;if(!this.mi(t)){if(!t.allowTabSynchronization)throw new nt(Pe.FAILED_PRECONDITION,E2);return!1}}return!(!this.networkEnabled||!this.inForeground)||Xx(e).W().next(r=>void 0===this.Ii(r,5e3).find(i=>{if(this.clientId!==i.clientId){const d=!this.inForeground&&i.inForeground,p=this.networkEnabled===i.networkEnabled;if(!this.networkEnabled&&i.networkEnabled||d&&p)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&ut("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,Re.Z)(function*(){e.Ds=!1,e.Ai(),e.ei&&(e.ei.cancel(),e.ei=null),e.Ri(),e.bi(),yield e.ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const r=new p2(t,Zo.at);return e._i(r).next(()=>e.gi(r))}),e.ri.close(),e.Pi()})()}Ii(e,t){return e.filter(r=>this.pi(r.updateTimeMs,t)&&!this.Ei(r.clientId))}vi(){return this.runTransaction("getActiveClients","readonly",e=>Xx(e).W().next(t=>this.Ii(t,18e5).map(r=>r.clientId)))}get started(){return this.Ds}getMutationQueue(e,t){return Yx.oe(e,this.It,t,this.referenceDelegate)}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new UQ(e,this.It.re.databaseId)}getDocumentOverlayCache(e){return Wx.oe(this.It,e)}getBundleCache(){return this.Ns}runTransaction(e,t,r){ut("IndexedDbPersistence","Starting transaction:",e);const i="readonly"===t?"readonly":"readwrite",u=15===(d=this.Xs)?xQ:14===d?F4:13===d?L4:12===d?SQ:11===d?P4:void Lt();var d;let p;return this.ri.runTransaction(e,i,u,v=>(p=new p2(v,this.Ss?this.Ss.next():Zo.at),"readwrite-primary"===t?this.fi(p).next(I=>!!I||this.di(p)).next(I=>{if(!I)throw Vi(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)),new nt(Pe.FAILED_PRECONDITION,D6);return r(p)}).next(I=>this.wi(p).next(()=>I)):this.Vi(p).next(()=>r(p)))).then(v=>(p.raiseOnCommittedEvent(),v))}Vi(e){return vC(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)&&!this.mi(t)&&!(this.Ys||this.allowTabSynchronization&&t.allowTabSynchronization))throw new nt(Pe.FAILED_PRECONDITION,E2)})}wi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return vC(e).put("owner",t)}static C(){return Ju.C()}_i(e){const t=vC(e);return t.get("owner").next(r=>this.mi(r)?(ut("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):Se.resolve())}pi(e,t){const r=Date.now();return!(e<r-t||e>r&&(Vi(`Detected an update time that is in the future: ${e} > ${r}`),1))}ci(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ti=()=>{this.Hs.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ui()))},this.document.addEventListener("visibilitychange",this.ti),this.inForeground="visible"===this.document.visibilityState)}Ri(){this.ti&&(this.document.removeEventListener("visibilitychange",this.ti),this.ti=null)}ai(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Zs=()=>{this.Ai(),(0,q.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Hs.enterRestrictedMode(!0),this.Hs.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Zs))}bi(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}Ei(e){var t;try{const r=null!==(null===(t=this.oi)||void 0===t?void 0:t.getItem(this.Ti(e)));return ut("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return Vi("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}Ai(){if(this.oi)try{this.oi.setItem(this.Ti(this.clientId),String(Date.now()))}catch(e){Vi("Failed to set zombie client id.",e)}}Pi(){if(this.oi)try{this.oi.removeItem(this.Ti(this.clientId))}catch{}}Ti(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function vC(n){return Ts(n,"owner")}function Xx(n){return Ts(n,"clientMetadata")}function C2(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class T2{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Si=r,this.Di=i}static Ci(e,t){let r=xn(),i=xn();for(const u of t.docChanges)switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:i=i.add(u.doc.key)}return new T2(e,t.fromCache,r,i)}}class lH{constructor(){this.xi=!1}initialize(e,t){this.Ni=e,this.indexManager=t,this.xi=!0}getDocumentsMatchingQuery(e,t,r,i){return this.ki(e,t).next(u=>u||this.Oi(e,t,i,r)).next(u=>u||this.Mi(e,t))}ki(e,t){if(K6(t))return Se.resolve(null);let r=_o(t);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==t.limit&&1===i&&(t=Ux(t,null,"F"),r=_o(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(u=>{const d=xn(...u);return this.Ni.getDocuments(e,d).next(p=>this.indexManager.getMinOffset(e,r).next(v=>{const I=this.Fi(t,p);return this.$i(t,I,d,v.readTime)?this.ki(e,Ux(t,null,"F")):this.Bi(e,I,t,v)}))})))}Oi(e,t,r,i){return K6(t)||i.isEqual(an.min())?this.Mi(e,t):this.Ni.getDocuments(e,r).next(u=>{const d=this.Fi(t,u);return this.$i(t,d,r,i)?this.Mi(e,t):(zL()<=da.in.DEBUG&&ut("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),a2(t)),this.Bi(e,d,t,T6(i,-1)))})}Fi(e,t){let r=new Nr(J6(e));return t.forEach((i,u)=>{u2(e,u)&&(r=r.add(u))}),r}$i(e,t,r,i){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const u="F"===e.limitType?t.last():t.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(i)>0)}Mi(e,t){return zL()<=da.in.DEBUG&&ut("QueryEngine","Using full collection scan to execute query:",a2(t)),this.Ni.getDocumentsMatchingQuery(e,t,ya.min())}Bi(e,t,r,i){return this.Ni.getDocumentsMatchingQuery(e,r,i).next(u=>(t.forEach(d=>{u=u.insert(d.key,d)}),u))}}class tJ{constructor(e,t,r,i){this.persistence=e,this.Li=t,this.It=i,this.Ui=new Di(bn),this.qi=new Vf(u=>cm(u),tC),this.Ki=new Map,this.Gi=e.getRemoteDocumentCache(),this.Cs=e.getTargetCache(),this.Ns=e.getBundleCache(),this.Qi(r)}Qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new oH(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ui))}}function cH(n,e,t,r){return new tJ(n,e,t,r)}function dH(n,e){return A2.apply(this,arguments)}function A2(){return A2=(0,Re.Z)(function*(n,e){const t=Ct(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(u=>(i=u,t.Qi(e),t.mutationQueue.getAllMutationBatches(r))).next(u=>{const d=[],p=[];let v=xn();for(const I of i){d.push(I.batchId);for(const S of I.mutations)v=v.add(S.key)}for(const I of u){p.push(I.batchId);for(const S of I.mutations)v=v.add(S.key)}return t.localDocuments.getDocuments(r,v).next(I=>({ji:I,removedBatchIds:d,addedBatchIds:p}))})})}),A2.apply(this,arguments)}function nJ(n,e){const t=Ct(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),u=t.Gi.newChangeBuffer({trackRemovals:!0});return function(d,p,v,I){const S=v.batch,M=S.keys();let P=Se.resolve();return M.forEach($=>{P=P.next(()=>I.getEntry(p,$)).next(Q=>{const le=v.docVersions.get($);on(null!==le),Q.version.compareTo(le)<0&&(S.applyToRemoteDocument(Q,v),Q.isValidDocument()&&(Q.setReadTime(v.commitVersion),I.addEntry(Q)))})}),P.next(()=>d.mutationQueue.removeMutationBatch(p,S))}(t,r,e,u).next(()=>u.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(d){let p=xn();for(let v=0;v<d.mutationResults.length;++v)d.mutationResults[v].transformResults.length>0&&(p=p.add(d.batch.mutations[v].key));return p}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function hH(n){const e=Ct(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Cs.getLastRemoteSnapshotVersion(t))}function rJ(n,e){const t=Ct(n),r=e.snapshotVersion;let i=t.Ui;return t.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const d=t.Gi.newChangeBuffer({trackRemovals:!0});i=t.Ui;const p=[];e.targetChanges.forEach((S,M)=>{const P=i.get(M);if(!P)return;p.push(t.Cs.removeMatchingKeys(u,S.removedDocuments,M).next(()=>t.Cs.addMatchingKeys(u,S.addedDocuments,M)));let $=P.withSequenceNumber(u.currentSequenceNumber);var Q,le,ye;e.targetMismatches.has(M)?$=$.withResumeToken(ds.EMPTY_BYTE_STRING,an.min()).withLastLimboFreeSnapshotVersion(an.min()):S.resumeToken.approximateByteSize()>0&&($=$.withResumeToken(S.resumeToken,r)),i=i.insert(M,$),le=$,ye=S,(0===(Q=P).resumeToken.approximateByteSize()||le.snapshotVersion.toMicroseconds()-Q.snapshotVersion.toMicroseconds()>=3e8||ye.addedDocuments.size+ye.modifiedDocuments.size+ye.removedDocuments.size>0)&&p.push(t.Cs.updateTargetData(u,$))});let v=Wo(),I=xn();if(e.documentUpdates.forEach(S=>{e.resolvedLimboDocuments.has(S)&&p.push(t.persistence.referenceDelegate.updateLimboDocument(u,S))}),p.push(fH(u,d,e.documentUpdates).next(S=>{v=S.Wi,I=S.zi})),!r.isEqual(an.min())){const S=t.Cs.getLastRemoteSnapshotVersion(u).next(M=>t.Cs.setTargetsMetadata(u,u.currentSequenceNumber,r));p.push(S)}return Se.waitFor(p).next(()=>d.apply(u)).next(()=>t.localDocuments.getLocalViewOfDocuments(u,v,I)).next(()=>v)}).then(u=>(t.Ui=i,u))}function fH(n,e,t){let r=xn(),i=xn();return t.forEach(u=>r=r.add(u)),e.getEntries(n,r).next(u=>{let d=Wo();return t.forEach((p,v)=>{const I=u.get(p);v.isFoundDocument()!==I.isFoundDocument()&&(i=i.add(p)),v.isNoDocument()&&v.version.isEqual(an.min())?(e.removeEntry(p,v.readTime),d=d.insert(p,v)):!I.isValidDocument()||v.version.compareTo(I.version)>0||0===v.version.compareTo(I.version)&&I.hasPendingWrites?(e.addEntry(v),d=d.insert(p,v)):ut("LocalStore","Ignoring outdated watch update for ",p,". Current version:",I.version," Watch version:",v.version)}),{Wi:d,zi:i}})}function iJ(n,e){const t=Ct(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function qv(n,e){const t=Ct(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Cs.getTargetData(r,e).next(u=>u?(i=u,Se.resolve(i)):t.Cs.allocateTargetId(r).next(d=>(i=new Bf(e,d,0,r.currentSequenceNumber),t.Cs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.Ui.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Ui=t.Ui.insert(r.targetId,r),t.qi.set(e,r.targetId)),r})}function zv(n,e,t){return D2.apply(this,arguments)}function D2(){return D2=(0,Re.Z)(function*(n,e,t){const r=Ct(n),i=r.Ui.get(e),u=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",u,d=>r.persistence.referenceDelegate.removeTarget(d,i)))}catch(d){if(!Rf(d))throw d;ut("LocalStore",`Failed to update sequence numbers for target ${e}: ${d}`)}r.Ui=r.Ui.remove(e),r.qi.delete(i.target)}),D2.apply(this,arguments)}function eN(n,e,t){const r=Ct(n);let i=an.min(),u=xn();return r.persistence.runTransaction("Execute query","readonly",d=>function(p,v,I){const S=Ct(p),M=S.qi.get(I);return void 0!==M?Se.resolve(S.Ui.get(M)):S.Cs.getTargetData(v,I)}(r,d,_o(e)).next(p=>{if(p)return i=p.lastLimboFreeSnapshotVersion,r.Cs.getMatchingKeysForTargetId(d,p.targetId).next(v=>{u=v})}).next(()=>r.Li.getDocumentsMatchingQuery(d,e,t?i:an.min(),t?u:xn())).next(p=>(mH(r,Q6(e),p),{documents:p,Hi:u})))}function pH(n,e){const t=Ct(n),r=Ct(t.Cs),i=t.Ui.get(e);return i?Promise.resolve(i.target):t.persistence.runTransaction("Get target data","readonly",u=>r.se(u,e).next(d=>d?d.target:null))}function gH(n,e){const t=Ct(n),r=t.Ki.get(e)||an.min();return t.persistence.runTransaction("Get new document changes","readonly",i=>t.Gi.getAllFromCollectionGroup(i,e,T6(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>(mH(t,e,i),i))}function mH(n,e,t){let r=n.Ki.get(e)||an.min();t.forEach((i,u)=>{u.readTime.compareTo(r)>0&&(r=u.readTime)}),n.Ki.set(e,r)}function S2(){return S2=(0,Re.Z)(function*(n,e,t,r){const i=Ct(n);let u=xn(),d=Wo();for(const I of t){const S=e.Ji(I.metadata.name);I.document&&(u=u.add(S));const M=e.Yi(I);M.setReadTime(e.Xi(I.metadata.readTime)),d=d.insert(S,M)}const p=i.Gi.newChangeBuffer({trackRemovals:!0}),v=yield qv(i,(I=r,_o(Fv(nr.fromString(`__bundle__/docs/${I}`)))));var I;return i.persistence.runTransaction("Apply bundle documents","readwrite",I=>fH(I,p,d).next(S=>(p.apply(I),S)).next(S=>i.Cs.removeMatchingKeysForTargetId(I,v.targetId).next(()=>i.Cs.addMatchingKeys(I,u,v.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(I,S.Wi,S.zi)).next(()=>S.Wi)))}),S2.apply(this,arguments)}function oJ(n,e){return x2.apply(this,arguments)}function x2(){return x2=(0,Re.Z)(function*(n,e,t=xn()){const r=yield qv(n,_o(y2(e.bundledQuery))),i=Ct(n);return i.persistence.runTransaction("Save named query","readwrite",u=>{const d=Cs(e.readTime);if(r.snapshotVersion.compareTo(d)>=0)return i.Ns.saveNamedQuery(u,e);const p=r.withResumeToken(ds.EMPTY_BYTE_STRING,d);return i.Ui=i.Ui.insert(p.targetId,p),i.Cs.updateTargetData(u,p).next(()=>i.Cs.removeMatchingKeysForTargetId(u,r.targetId)).next(()=>i.Cs.addMatchingKeys(u,t,r.targetId)).next(()=>i.Ns.saveNamedQuery(u,e))})}),x2.apply(this,arguments)}function _H(n,e){return`firestore_clients_${n}_${e}`}function yH(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function N2(n,e){return`firestore_targets_${n}_${e}`}class tN{constructor(e,t,r,i){this.user=e,this.batchId=t,this.state=r,this.error=i}static Zi(e,t,r){const i=JSON.parse(r);let u,d="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return d&&i.error&&(d="string"==typeof i.error.message&&"string"==typeof i.error.code,d&&(u=new nt(i.error.code,i.error.message))),d?new tN(e,t,i.state,u):(Vi("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class bC{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static Zi(e,t){const r=JSON.parse(t);let i,u="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return u&&r.error&&(u="string"==typeof r.error.message&&"string"==typeof r.error.code,u&&(i=new nt(r.error.code,r.error.message))),u?new bC(e,r.state,i):(Vi("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class nN{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Zi(e,t){const r=JSON.parse(t);let i="object"==typeof r&&r.activeTargetIds instanceof Array,u=$x();for(let d=0;i&&d<r.activeTargetIds.length;++d)i=O6(r.activeTargetIds[d]),u=u.add(r.activeTargetIds[d]);return i?new nN(e,u):(Vi("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class M2{constructor(e,t){this.clientId=e,this.onlineState=t}static Zi(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new M2(t.clientId,t.onlineState):(Vi("SharedClientState",`Failed to parse online state: ${e}`),null)}}class k2{constructor(){this.activeTargetIds=$x()}er(e){this.activeTargetIds=this.activeTargetIds.add(e)}nr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}tr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class R2{constructor(e,t,r,i,u){this.window=e,this.Hs=t,this.persistenceKey=r,this.sr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ir=this.rr.bind(this),this.ur=new Di(bn),this.started=!1,this.cr=[];const d=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=u,this.ar=_H(this.persistenceKey,this.sr),this.hr=`firestore_sequence_number_${this.persistenceKey}`,this.ur=this.ur.insert(this.sr,new k2),this.lr=new RegExp(`^firestore_clients_${d}_([^_]*)$`),this.dr=new RegExp(`^firestore_mutations_${d}_(\\d+)(?:_(.*))?$`),this._r=new RegExp(`^firestore_targets_${d}_(\\d+)$`),this.wr=`firestore_online_state_${this.persistenceKey}`,this.mr=function(p){return`firestore_bundle_loaded_v2_${p}`}(this.persistenceKey),this.window.addEventListener("storage",this.ir)}static C(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,Re.Z)(function*(){const t=yield e.syncEngine.vi();for(const i of t){if(i===e.sr)continue;const u=e.getItem(_H(e.persistenceKey,i));if(u){const d=nN.Zi(i,u);d&&(e.ur=e.ur.insert(d.clientId,d))}}e.gr();const r=e.storage.getItem(e.wr);if(r){const i=e.yr(r);i&&e.pr(i)}for(const i of e.cr)e.rr(i);e.cr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.hr,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Ir(this.ur)}isActiveQueryTarget(e){let t=!1;return this.ur.forEach((r,i)=>{i.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Tr(e,"pending")}updateMutationState(e,t,r){this.Tr(e,t,r),this.Er(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(N2(this.persistenceKey,e));if(r){const i=bC.Zi(e,r);i&&(t=i.state)}}return this.Ar.er(e),this.gr(),t}removeLocalQueryTarget(e){this.Ar.nr(e),this.gr()}isLocalQueryTarget(e){return this.Ar.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(N2(this.persistenceKey,e))}updateQueryState(e,t,r){this.Rr(e,t,r)}handleUserChange(e,t,r){t.forEach(i=>{this.Er(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.br(e)}notifyBundleLoaded(e){this.Pr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ir),this.removeItem(this.ar),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return ut("SharedClientState","READ",e,t),t}setItem(e,t){ut("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){ut("SharedClientState","REMOVE",e),this.storage.removeItem(e)}rr(e){var t=this;const r=e;if(r.storageArea===this.storage){if(ut("SharedClientState","EVENT",r.key,r.newValue),r.key===this.ar)return void Vi("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Hs.enqueueRetryable((0,Re.Z)(function*(){if(t.started){if(null!==r.key)if(t.lr.test(r.key)){if(null==r.newValue){const i=t.vr(r.key);return t.Vr(i,null)}{const i=t.Sr(r.key,r.newValue);if(i)return t.Vr(i.clientId,i)}}else if(t.dr.test(r.key)){if(null!==r.newValue){const i=t.Dr(r.key,r.newValue);if(i)return t.Cr(i)}}else if(t._r.test(r.key)){if(null!==r.newValue){const i=t.Nr(r.key,r.newValue);if(i)return t.kr(i)}}else if(r.key===t.wr){if(null!==r.newValue){const i=t.yr(r.newValue);if(i)return t.pr(i)}}else if(r.key===t.hr){const i=function(u){let d=Zo.at;if(null!=u)try{const p=JSON.parse(u);on("number"==typeof p),d=p}catch(p){Vi("SharedClientState","Failed to read sequence number from WebStorage",p)}return d}(r.newValue);i!==Zo.at&&t.sequenceNumberHandler(i)}else if(r.key===t.mr){const i=t.Or(r.newValue);yield Promise.all(i.map(u=>t.syncEngine.Mr(u)))}}else t.cr.push(r)}))}}get Ar(){return this.ur.get(this.sr)}gr(){this.setItem(this.ar,this.Ar.tr())}Tr(e,t,r){const i=new tN(this.currentUser,e,t,r),u=yH(this.persistenceKey,this.currentUser,e);this.setItem(u,i.tr())}Er(e){const t=yH(this.persistenceKey,this.currentUser,e);this.removeItem(t)}br(e){this.storage.setItem(this.wr,JSON.stringify({clientId:this.sr,onlineState:e}))}Rr(e,t,r){const i=N2(this.persistenceKey,e),u=new bC(e,t,r);this.setItem(i,u.tr())}Pr(e){const t=JSON.stringify(Array.from(e));this.setItem(this.mr,t)}vr(e){const t=this.lr.exec(e);return t?t[1]:null}Sr(e,t){const r=this.vr(e);return nN.Zi(r,t)}Dr(e,t){const r=this.dr.exec(e),i=Number(r[1]);return tN.Zi(new Is(void 0!==r[2]?r[2]:null),i,t)}Nr(e,t){const r=this._r.exec(e),i=Number(r[1]);return bC.Zi(i,t)}yr(e){return M2.Zi(e)}Or(e){return JSON.parse(e)}Cr(e){var t=this;return(0,Re.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.Fr(e.batchId,e.state,e.error);ut("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}kr(e){return this.syncEngine.$r(e.targetId,e.state,e.error)}Vr(e,t){const r=t?this.ur.insert(e,t):this.ur.remove(e),i=this.Ir(this.ur),u=this.Ir(r),d=[],p=[];return u.forEach(v=>{i.has(v)||d.push(v)}),i.forEach(v=>{u.has(v)||p.push(v)}),this.syncEngine.Br(d,p).then(()=>{this.ur=r})}pr(e){this.ur.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Ir(e){let t=$x();return e.forEach((r,i)=>{t=t.unionWith(i.activeTargetIds)}),t}}class vH{constructor(){this.Lr=new k2,this.Ur={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Lr.er(e),this.Ur[e]||"not-current"}updateQueryState(e,t,r){this.Ur[e]=t}removeLocalQueryTarget(e){this.Lr.nr(e)}isLocalQueryTarget(e){return this.Lr.activeTargetIds.has(e)}clearQueryState(e){delete this.Ur[e]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(e){return this.Lr.activeTargetIds.has(e)}start(){return this.Lr=new k2,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class aJ{qr(e){}shutdown(){}}class bH{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}qr(e){this.Wr.push(e)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){ut("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Wr)e(0)}jr(){ut("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Wr)e(1)}static C(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const uJ={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class lJ{constructor(e){this.Hr=e.Hr,this.Jr=e.Jr}Yr(e){this.Xr=e}Zr(e){this.eo=e}onMessage(e){this.no=e}close(){this.Jr()}send(e){this.Hr(e)}so(){this.Xr()}io(e){this.eo(e)}ro(e){this.no(e)}}class cJ extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.oo=(e.ssl?"https":"http")+"://"+e.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get co(){return!1}ao(e,t,r,i,u){const d=this.ho(e,t);ut("RestConnection","Sending: ",d,r);const p={};return this.lo(p,i,u),this.fo(e,d,p,r).then(v=>(ut("RestConnection","Received: ",v),v),v=>{throw rm("RestConnection",`${e} failed with error: `,v,"url: ",d,"request:",r),v})}_o(e,t,r,i,u,d){return this.ao(e,t,r,i,u)}lo(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+kv,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,u)=>e[u]=i),r&&r.headers.forEach((i,u)=>e[u]=i)}ho(e,t){return`${this.oo}/v1/${t}:${uJ[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}fo(e,t,r,i){return new Promise((u,d)=>{const p=new uY;p.setWithCredentials(!0),p.listenOnce(sY.COMPLETE,()=>{var I;try{switch(p.getLastErrorCode()){case qL.NO_ERROR:const S=p.getResponseJson();ut("Connection","XHR received:",JSON.stringify(S)),u(S);break;case qL.TIMEOUT:ut("Connection",'RPC "'+e+'" timed out'),d(new nt(Pe.DEADLINE_EXCEEDED,"Request time out"));break;case qL.HTTP_ERROR:const M=p.getStatus();if(ut("Connection",'RPC "'+e+'" failed with status:',M,"response text:",p.getResponseText()),M>0){let P=p.getResponseJson();Array.isArray(P)&&(P=P[0]);const $=null===(I=P)||void 0===I?void 0:I.error;if($&&$.status&&$.message){const Q=function(le){const ye=le.toLowerCase().replace(/_/g,"-");return Object.values(Pe).indexOf(ye)>=0?ye:Pe.UNKNOWN}($.status);d(new nt(Q,$.message))}else d(new nt(Pe.UNKNOWN,"Server responded with status "+p.getStatus()))}else d(new nt(Pe.UNAVAILABLE,"Connection failed."));break;default:Lt()}}finally{ut("Connection",'RPC "'+e+'" completed.')}});const v=JSON.stringify(i);p.send(t,"POST",v,r,15)})}wo(e,t,r){const i=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=rY(),d=iY(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(p.xmlHttpFactory=new aY({})),this.lo(p.initMessageHeaders,t,r),p.encodeInitMessageHeaders=!0;const v=i.join("");ut("Connection","Creating WebChannel: "+v,p);const I=u.createWebChannel(v,p);let S=!1,M=!1;const P=new lJ({Hr:Q=>{M?ut("Connection","Not sending because WebChannel is closed:",Q):(S||(ut("Connection","Opening WebChannel transport."),I.open(),S=!0),ut("Connection","WebChannel sending:",Q),I.send(Q))},Jr:()=>I.close()}),$=(Q,le,ye)=>{Q.listen(le,lt=>{try{ye(lt)}catch(dt){setTimeout(()=>{throw dt},0)}})};return $(I,xx.EventType.OPEN,()=>{M||ut("Connection","WebChannel transport opened.")}),$(I,xx.EventType.CLOSE,()=>{M||(M=!0,ut("Connection","WebChannel transport closed"),P.io())}),$(I,xx.EventType.ERROR,Q=>{M||(M=!0,rm("Connection","WebChannel transport errored:",Q),P.io(new nt(Pe.UNAVAILABLE,"The operation could not be completed")))}),$(I,xx.EventType.MESSAGE,Q=>{var le;if(!M){const ye=Q.data[0];on(!!ye);const lt=ye,dt=lt.error||(null===(le=lt[0])||void 0===le?void 0:le.error);if(dt){ut("Connection","WebChannel received error:",dt);const bt=dt.status;let _t=function(yt){const fn=es[yt];if(void 0!==fn)return f4(fn)}(bt),ft=dt.message;void 0===_t&&(_t=Pe.INTERNAL,ft="Unknown error status: "+bt+" with message "+dt.message),M=!0,P.io(new nt(_t,ft)),I.close()}else ut("Connection","WebChannel received:",ye),P.ro(ye)}}),$(d,oY.STAT_EVENT,Q=>{Q.stat===v6.PROXY?ut("Connection","Detected buffering proxy"):Q.stat===v6.NOPROXY&&ut("Connection","Detected no buffering proxy")}),setTimeout(()=>{P.so()},0),P}}function wH(){return typeof window<"u"?window:null}function rN(){return typeof document<"u"?document:null}function wC(n){return new tQ(n,!0)}class O2{constructor(e,t,r=1e3,i=1.5,u=6e4){this.Hs=e,this.timerId=t,this.mo=r,this.yo=i,this.po=u,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(e){this.cancel();const t=Math.floor(this.Io+this.bo()),r=Math.max(0,Date.now()-this.Eo),i=Math.max(0,t-r);i>0&&ut("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Io} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.To=this.Hs.enqueueAfterDelay(this.timerId,i,()=>(this.Eo=Date.now(),e())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){null!==this.To&&(this.To.skipDelay(),this.To=null)}cancel(){null!==this.To&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}class EH{constructor(e,t,r,i,u,d,p,v){this.Hs=e,this.vo=r,this.Vo=i,this.connection=u,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=v,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new O2(e,t)}No(){return 1===this.state||5===this.state||this.ko()}ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Oo()}stop(){var e=this;return(0,Re.Z)(function*(){e.No()&&(yield e.close(0))})()}Mo(){this.state=0,this.xo.reset()}Fo(){this.ko()&&null===this.Do&&(this.Do=this.Hs.enqueueAfterDelay(this.vo,6e4,()=>this.$o()))}Bo(e){this.Lo(),this.stream.send(e)}$o(){var e=this;return(0,Re.Z)(function*(){if(e.ko())return e.close(0)})()}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}Uo(){this.Co&&(this.Co.cancel(),this.Co=null)}close(e,t){var r=this;return(0,Re.Z)(function*(){r.Lo(),r.Uo(),r.xo.cancel(),r.So++,4!==e?r.xo.reset():t&&t.code===Pe.RESOURCE_EXHAUSTED?(Vi(t.toString()),Vi("Using maximum backoff delay to prevent overloading the backend."),r.xo.Ao()):t&&t.code===Pe.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.qo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Zr(t)})()}qo(){}auth(){this.state=1;const e=this.Ko(this.So),t=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.So===t&&this.Go(r,i)},r=>{e(()=>{const i=new nt(Pe.UNKNOWN,"Fetching auth token failed: "+r.message);return this.Qo(i)})})}Go(e,t){const r=this.Ko(this.So);this.stream=this.jo(e,t),this.stream.Yr(()=>{r(()=>(this.state=2,this.Co=this.Hs.enqueueAfterDelay(this.Vo,1e4,()=>(this.ko()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(i=>{r(()=>this.Qo(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Oo(){var e=this;this.state=5,this.xo.Ro((0,Re.Z)(function*(){e.state=0,e.start()}))}Qo(e){return ut("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Ko(e){return t=>{this.Hs.enqueueAndForget(()=>this.So===e?t():(ut("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class dJ extends EH{constructor(e,t,r,i,u,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,d),this.It=u}jo(e,t){return this.connection.wo("Listen",e,t)}onMessage(e){this.xo.reset();const t=function iQ(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(v=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===v?1:"REMOVE"===v?2:"CURRENT"===v?3:"RESET"===v?4:Lt(),i=e.targetChange.targetIds||[],u=function(v,I){return v.gt?(on(void 0===I||"string"==typeof I),ds.fromBase64String(I||"")):(on(void 0===I||I instanceof Uint8Array),ds.fromUint8Array(I||new Uint8Array))}(n,e.targetChange.resumeToken),d=e.targetChange.cause,p=d&&function(v){const I=void 0===v.code?Pe.UNKNOWN:f4(v.code);return new nt(I,v.message||"")}(d);t=new y4(r,i,u,p||null)}else if("documentChange"in e){const r=e.documentChange,i=sc(n,r.document.name),u=Cs(r.document.updateTime),d=new js({mapValue:{fields:r.document.fields}}),p=Yr.newFoundDocument(i,u,d);t=new Hx(r.targetIds||[],r.removedTargetIds||[],p.key,p)}else if("documentDelete"in e){const r=e.documentDelete,i=sc(n,r.document),u=r.readTime?Cs(r.readTime):an.min(),d=Yr.newNoDocument(i,u);t=new Hx([],r.removedTargetIds||[],d.key,d)}else if("documentRemove"in e){const r=e.documentRemove,i=sc(n,r.document);t=new Hx([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return Lt();{const r=e.filter,u=new qY(r.count||0);t=new _4(r.targetId,u)}}var v;return t}(this.It,e),r=function(i){if(!("targetChange"in i))return an.min();const u=i.targetChange;return u.targetIds&&u.targetIds.length?an.min():u.readTime?Cs(u.readTime):an.min()}(e);return this.listener.Wo(t,r)}zo(e){const t={};t.database=dC(this.It),t.addTarget=function(i,u){let d;const p=u.target;return d=Lx(p)?{documents:S4(i,p)}:{query:f2(i,p)},d.targetId=u.targetId,u.resumeToken.approximateByteSize()>0?d.resumeToken=E4(i,u.resumeToken):u.snapshotVersion.compareTo(an.min())>0&&(d.readTime=lC(i,u.snapshotVersion.toTimestamp())),d}(this.It,e);const r=function oQ(n,e){const t=function(r,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Lt()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Bo(t)}Ho(e){const t={};t.database=dC(this.It),t.removeTarget=e,this.Bo(t)}}class hJ extends EH{constructor(e,t,r,i,u,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,d),this.It=u,this.Jo=!1}get Yo(){return this.Jo}start(){this.Jo=!1,this.lastStreamToken=void 0,super.start()}qo(){this.Jo&&this.Xo([])}jo(e,t){return this.connection.wo("Write",e,t)}onMessage(e){if(on(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();const t=function sQ(n,e){return n&&n.length>0?(on(void 0!==e),n.map(t=>function(r,i){let u=Cs(r.updateTime?r.updateTime:i);return u.isEqual(an.min())&&(u=Cs(i)),new GY(u,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=Cs(e.commitTime);return this.listener.Zo(r,t)}return on(!e.writeResults||0===e.writeResults.length),this.Jo=!0,this.listener.tu()}eu(){const e={};e.database=dC(this.It),this.Bo(e)}Xo(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>hC(this.It,r))};this.Bo(t)}}class fJ extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.It=i,this.nu=!1}su(){if(this.nu)throw new nt(Pe.FAILED_PRECONDITION,"The client has already been terminated.")}ao(e,t,r){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,u])=>this.connection.ao(e,t,r,i,u)).catch(i=>{throw"FirebaseError"===i.name?(i.code===Pe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new nt(Pe.UNKNOWN,i.toString())})}_o(e,t,r,i){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,d])=>this.connection._o(e,t,r,u,d,i)).catch(u=>{throw"FirebaseError"===u.name?(u.code===Pe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new nt(Pe.UNKNOWN,u.toString())})}terminate(){this.nu=!0}}class gJ{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}uu(){0===this.iu&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ru=null,this.au("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}hu(e){"Online"===this.state?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.cu("Offline")))}set(e){this.lu(),this.iu=0,"Online"===e&&(this.ou=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}au(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ou?(Vi(t),this.ou=!1):ut("OnlineStateTracker",t)}lu(){null!==this.ru&&(this.ru.cancel(),this.ru=null)}}class mJ{constructor(e,t,r,i,u){var d=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=u,this.mu.qr(p=>{r.enqueueAndForget((0,Re.Z)(function*(){var v;Rd(d)&&(ut("RemoteStore","Restarting streams for network reachability change."),yield(v=(0,Re.Z)(function*(I){const S=Ct(I);S._u.add(4),yield Kv(S),S.gu.set("Unknown"),S._u.delete(4),yield EC(S)}),function(I){return v.apply(this,arguments)})(d))}))}),this.gu=new gJ(r,i)}}function EC(n){return L2.apply(this,arguments)}function L2(){return L2=(0,Re.Z)(function*(n){if(Rd(n))for(const e of n.wu)yield e(!0)}),L2.apply(this,arguments)}function Kv(n){return F2.apply(this,arguments)}function F2(){return F2=(0,Re.Z)(function*(n){for(const e of n.wu)yield e(!1)}),F2.apply(this,arguments)}function iN(n,e){const t=Ct(n);t.du.has(e.targetId)||(t.du.set(e.targetId,e),B2(t)?V2(t):Qv(t).ko()&&U2(t,e))}function IC(n,e){const t=Ct(n),r=Qv(t);t.du.delete(e),r.ko()&&IH(t,e),0===t.du.size&&(r.ko()?r.Fo():Rd(t)&&t.gu.set("Unknown"))}function U2(n,e){n.yu.Mt(e.targetId),Qv(n).zo(e)}function IH(n,e){n.yu.Mt(e),Qv(n).Ho(e)}function V2(n){n.yu=new JY({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),se:e=>n.du.get(e)||null}),Qv(n).start(),n.gu.uu()}function B2(n){return Rd(n)&&!Qv(n).No()&&n.du.size>0}function Rd(n){return 0===Ct(n)._u.size}function CH(n){n.yu=void 0}function _J(n){return j2.apply(this,arguments)}function j2(){return j2=(0,Re.Z)(function*(n){n.du.forEach((e,t)=>{U2(n,e)})}),j2.apply(this,arguments)}function yJ(n,e){return $2.apply(this,arguments)}function $2(){return $2=(0,Re.Z)(function*(n,e){CH(n),B2(n)?(n.gu.hu(e),V2(n)):n.gu.set("Unknown")}),$2.apply(this,arguments)}function vJ(n,e,t){return H2.apply(this,arguments)}function H2(){return H2=(0,Re.Z)(function*(n,e,t){if(n.gu.set("Online"),e instanceof y4&&2===e.state&&e.cause)try{yield(r=(0,Re.Z)(function*(i,u){const d=u.cause;for(const p of u.targetIds)i.du.has(p)&&(yield i.remoteSyncer.rejectListen(p,d),i.du.delete(p),i.yu.removeTarget(p))}),function(i,u){return r.apply(this,arguments)})(n,e)}catch(r){ut("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield sN(n,r)}else if(e instanceof Hx?n.yu.Gt(e):e instanceof _4?n.yu.Yt(e):n.yu.Wt(e),!t.isEqual(an.min()))try{const r=yield hH(n.localStore);t.compareTo(r)>=0&&(yield function(i,u){const d=i.yu.te(u);return d.targetChanges.forEach((p,v)=>{if(p.resumeToken.approximateByteSize()>0){const I=i.du.get(v);I&&i.du.set(v,I.withResumeToken(p.resumeToken,u))}}),d.targetMismatches.forEach(p=>{const v=i.du.get(p);if(!v)return;i.du.set(p,v.withResumeToken(ds.EMPTY_BYTE_STRING,v.snapshotVersion)),IH(i,p);const I=new Bf(v.target,p,1,v.sequenceNumber);U2(i,I)}),i.remoteSyncer.applyRemoteEvent(d)}(n,t))}catch(r){ut("RemoteStore","Failed to raise snapshot:",r),yield sN(n,r)}var r}),H2.apply(this,arguments)}function sN(n,e,t){return G2.apply(this,arguments)}function G2(){return G2=(0,Re.Z)(function*(n,e,t){if(!Rf(e))throw e;n._u.add(1),yield Kv(n),n.gu.set("Offline"),t||(t=()=>hH(n.localStore)),n.asyncQueue.enqueueRetryable((0,Re.Z)(function*(){ut("RemoteStore","Retrying IndexedDB access"),yield t(),n._u.delete(1),yield EC(n)}))}),G2.apply(this,arguments)}function TH(n,e){return e().catch(t=>sN(n,t,e))}function Yv(n){return Z2.apply(this,arguments)}function Z2(){return Z2=(0,Re.Z)(function*(n){const e=Ct(n),t=Hf(e);let r=e.fu.length>0?e.fu[e.fu.length-1].batchId:-1;for(;bJ(e);)try{const i=yield iJ(e.localStore,r);if(null===i){0===e.fu.length&&t.Fo();break}r=i.batchId,wJ(e,i)}catch(i){yield sN(e,i)}AH(e)&&DH(e)}),Z2.apply(this,arguments)}function bJ(n){return Rd(n)&&n.fu.length<10}function wJ(n,e){n.fu.push(e);const t=Hf(n);t.ko()&&t.Yo&&t.Xo(e.mutations)}function AH(n){return Rd(n)&&!Hf(n).No()&&n.fu.length>0}function DH(n){Hf(n).start()}function EJ(n){return W2.apply(this,arguments)}function W2(){return W2=(0,Re.Z)(function*(n){Hf(n).eu()}),W2.apply(this,arguments)}function IJ(n){return q2.apply(this,arguments)}function q2(){return q2=(0,Re.Z)(function*(n){const e=Hf(n);for(const t of n.fu)e.Xo(t.mutations)}),q2.apply(this,arguments)}function CJ(n,e,t){return z2.apply(this,arguments)}function z2(){return z2=(0,Re.Z)(function*(n,e,t){const r=n.fu.shift(),i=m2.from(r,e,t);yield TH(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield Yv(n)}),z2.apply(this,arguments)}function TJ(n,e){return K2.apply(this,arguments)}function K2(){return K2=(0,Re.Z)(function*(n,e){var t;e&&Hf(n).Yo&&(yield(t=(0,Re.Z)(function*(r,i){if(h4(u=i.code)&&u!==Pe.ABORTED){const d=r.fu.shift();Hf(r).Mo(),yield TH(r,()=>r.remoteSyncer.rejectFailedWrite(d.batchId,i)),yield Yv(r)}var u}),function(r,i){return t.apply(this,arguments)})(n,e)),AH(n)&&DH(n)}),K2.apply(this,arguments)}function SH(n,e){return Y2.apply(this,arguments)}function Y2(){return Y2=(0,Re.Z)(function*(n,e){const t=Ct(n);t.asyncQueue.verifyOperationInProgress(),ut("RemoteStore","RemoteStore received new credentials");const r=Rd(t);t._u.add(3),yield Kv(t),r&&t.gu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t._u.delete(3),yield EC(t)}),Y2.apply(this,arguments)}function Q2(n,e){return J2.apply(this,arguments)}function J2(){return J2=(0,Re.Z)(function*(n,e){const t=Ct(n);e?(t._u.delete(2),yield EC(t)):e||(t._u.add(2),yield Kv(t),t.gu.set("Unknown"))}),J2.apply(this,arguments)}function Qv(n){return n.pu||(n.pu=function(e,t,r){const i=Ct(e);return i.su(),new dJ(t,i.connection,i.authCredentials,i.appCheckCredentials,i.It,r)}(n.datastore,n.asyncQueue,{Yr:_J.bind(null,n),Zr:yJ.bind(null,n),Wo:vJ.bind(null,n)}),n.wu.push(function(){var e=(0,Re.Z)(function*(t){t?(n.pu.Mo(),B2(n)?V2(n):n.gu.set("Unknown")):(yield n.pu.stop(),CH(n))});return function(t){return e.apply(this,arguments)}}())),n.pu}function Hf(n){return n.Iu||(n.Iu=function(e,t,r){const i=Ct(e);return i.su(),new hJ(t,i.connection,i.authCredentials,i.appCheckCredentials,i.It,r)}(n.datastore,n.asyncQueue,{Yr:EJ.bind(null,n),Zr:TJ.bind(null,n),tu:IJ.bind(null,n),Zo:CJ.bind(null,n)}),n.wu.push(function(){var e=(0,Re.Z)(function*(t){t?(n.Iu.Mo(),yield Yv(n)):(yield n.Iu.stop(),n.fu.length>0&&(ut("RemoteStore",`Stopping write stream with ${n.fu.length} pending writes`),n.fu=[]))});return function(t){return e.apply(this,arguments)}}())),n.Iu}class X2{constructor(e,t,r,i,u){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=u,this.deferred=new cs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}static createAndSchedule(e,t,r,i,u){const d=Date.now()+r,p=new X2(e,t,d,i,u);return p.start(r),p}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new nt(Pe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Jv(n,e){if(Vi("AsyncQueue",`${e}: ${n}`),Rf(n))return new nt(Pe.UNAVAILABLE,`${e}: ${n}`);throw n}class Xv{constructor(e){this.comparator=e?(t,r)=>e(t,r)||Et.comparator(t.key,r.key):(t,r)=>Et.comparator(t.key,r.key),this.keyedMap=sC(),this.sortedSet=new Di(this.comparator)}static emptySet(e){return new Xv(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Xv)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,u=r.getNext().key;if(!i.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new Xv;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class xH{constructor(){this.Tu=new Di(Et.comparator)}track(e){const t=e.doc.key,r=this.Tu.get(t);r?0!==e.type&&3===r.type?this.Tu=this.Tu.insert(t,e):3===e.type&&1!==r.type?this.Tu=this.Tu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Tu=this.Tu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Tu=this.Tu.remove(t):1===e.type&&2===r.type?this.Tu=this.Tu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):Lt():this.Tu=this.Tu.insert(t,e)}Eu(){const e=[];return this.Tu.inorderTraversal((t,r)=>{e.push(r)}),e}}class e0{constructor(e,t,r,i,u,d,p,v,I){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=u,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=v,this.hasCachedResults=I}static fromInitialDocuments(e,t,r,i,u){const d=[];return t.forEach(p=>{d.push({type:0,doc:p})}),new e0(e,t,Xv.emptySet(t),d,r,i,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&nC(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class AJ{constructor(){this.Au=void 0,this.listeners=[]}}class DJ{constructor(){this.queries=new Vf(e=>Y6(e),nC),this.onlineState="Unknown",this.Ru=new Set}}function eF(n,e){return tF.apply(this,arguments)}function tF(){return tF=(0,Re.Z)(function*(n,e){const t=Ct(n),r=e.query;let i=!1,u=t.queries.get(r);if(u||(i=!0,u=new AJ),i)try{u.Au=yield t.onListen(r)}catch(d){const p=Jv(d,`Initialization of query '${a2(e.query)}' failed`);return void e.onError(p)}t.queries.set(r,u),u.listeners.push(e),e.bu(t.onlineState),u.Au&&e.Pu(u.Au)&&iF(t)}),tF.apply(this,arguments)}function nF(n,e){return rF.apply(this,arguments)}function rF(){return rF=(0,Re.Z)(function*(n,e){const t=Ct(n),r=e.query;let i=!1;const u=t.queries.get(r);if(u){const d=u.listeners.indexOf(e);d>=0&&(u.listeners.splice(d,1),i=0===u.listeners.length)}if(i)return t.queries.delete(r),t.onUnlisten(r)}),rF.apply(this,arguments)}function SJ(n,e){const t=Ct(n);let r=!1;for(const i of e){const d=t.queries.get(i.query);if(d){for(const p of d.listeners)p.Pu(i)&&(r=!0);d.Au=i}}r&&iF(t)}function xJ(n,e,t){const r=Ct(n),i=r.queries.get(e);if(i)for(const u of i.listeners)u.onError(t);r.queries.delete(e)}function iF(n){n.Ru.forEach(e=>{e.next()})}class sF{constructor(e,t,r){this.query=e,this.vu=t,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=r||{}}Pu(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new e0(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),t=!0):this.Cu(e,this.onlineState)&&(this.xu(e),t=!0),this.Su=e,t}onError(e){this.vu.error(e)}bu(e){this.onlineState=e;let t=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),t=!0),t}Cu(e,t){return!e.fromCache||(!this.options.Nu||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Du(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}xu(e){e=e0.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Vu=!0,this.vu.next(e)}}class NJ{constructor(e,t){this.ku=e,this.byteLength=t}Ou(){return"metadata"in this.ku}}class NH{constructor(e){this.It=e}Ji(e){return sc(this.It,e)}Yi(e){return e.metadata.exists?D4(this.It,e.document,!1):Yr.newNoDocument(this.Ji(e.metadata.name),this.Xi(e.metadata.readTime))}Xi(e){return Cs(e)}}class MJ{constructor(e,t,r){this.Mu=e,this.localStore=t,this.It=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=MH(e)}Fu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.ku.namedQuery)this.queries.push(e.ku.namedQuery);else if(e.ku.documentMetadata){this.documents.push({metadata:e.ku.documentMetadata}),e.ku.documentMetadata.exists||++t;const r=nr.fromString(e.ku.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.ku.document&&(this.documents[this.documents.length-1].document=e.ku.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}$u(e){const t=new Map,r=new NH(this.It);for(const i of e)if(i.metadata.queries){const u=r.Ji(i.metadata.name);for(const d of i.metadata.queries){const p=(t.get(d)||xn()).add(u);t.set(d,p)}}return t}complete(){var e=this;return(0,Re.Z)(function*(){const t=yield function sJ(n,e,t,r){return S2.apply(this,arguments)}(e.localStore,new NH(e.It),e.documents,e.Mu.id),r=e.$u(e.documents);for(const i of e.queries)yield oJ(e.localStore,i,r.get(i.name));return e.progress.taskState="Success",{progress:e.progress,Bu:e.collectionGroups,Lu:t}})()}}function MH(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class kH{constructor(e){this.key=e}}class RH{constructor(e){this.key=e}}class OH{constructor(e,t){this.query=e,this.Uu=t,this.qu=null,this.hasCachedResults=!1,this.current=!1,this.Ku=xn(),this.mutatedKeys=xn(),this.Gu=J6(e),this.Qu=new Xv(this.Gu)}get ju(){return this.Uu}Wu(e,t){const r=t?t.zu:new xH,i=t?t.Qu:this.Qu;let u=t?t.mutatedKeys:this.mutatedKeys,d=i,p=!1;const v="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,I="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((S,M)=>{const P=i.get(S),$=u2(this.query,M)?M:null,Q=!!P&&this.mutatedKeys.has(P.key),le=!!$&&($.hasLocalMutations||this.mutatedKeys.has($.key)&&$.hasCommittedMutations);let ye=!1;P&&$?P.data.isEqual($.data)?Q!==le&&(r.track({type:3,doc:$}),ye=!0):this.Hu(P,$)||(r.track({type:2,doc:$}),ye=!0,(v&&this.Gu($,v)>0||I&&this.Gu($,I)<0)&&(p=!0)):!P&&$?(r.track({type:0,doc:$}),ye=!0):P&&!$&&(r.track({type:1,doc:P}),ye=!0,(v||I)&&(p=!0)),ye&&($?(d=d.add($),u=le?u.add(S):u.delete(S)):(d=d.delete(S),u=u.delete(S)))}),null!==this.query.limit)for(;d.size>this.query.limit;){const S="F"===this.query.limitType?d.last():d.first();d=d.delete(S.key),u=u.delete(S.key),r.track({type:1,doc:S})}return{Qu:d,zu:r,$i:p,mutatedKeys:u}}Hu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const i=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;const u=e.zu.Eu();u.sort((I,S)=>function(M,P){const $=Q=>{switch(Q){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Lt()}};return $(M)-$(P)}(I.type,S.type)||this.Gu(I.doc,S.doc)),this.Ju(r);const d=t?this.Yu():[],p=0===this.Ku.size&&this.current?1:0,v=p!==this.qu;return this.qu=p,0!==u.length||v?{snapshot:new e0(this.query,e.Qu,i,u,e.mutatedKeys,0===p,v,!1,!!r&&r.resumeToken.approximateByteSize()>0),Xu:d}:{Xu:d}}bu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new xH,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Xu:[]}}Zu(e){return!this.Uu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}Ju(e){e&&(e.addedDocuments.forEach(t=>this.Uu=this.Uu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Uu=this.Uu.delete(t)),this.current=e.current)}Yu(){if(!this.current)return[];const e=this.Ku;this.Ku=xn(),this.Qu.forEach(r=>{this.Zu(r.key)&&(this.Ku=this.Ku.add(r.key))});const t=[];return e.forEach(r=>{this.Ku.has(r)||t.push(new RH(r))}),this.Ku.forEach(r=>{e.has(r)||t.push(new kH(r))}),t}tc(e){this.Uu=e.Hi,this.Ku=xn();const t=this.Wu(e.documents);return this.applyChanges(t,!0)}ec(){return e0.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.qu,this.hasCachedResults)}}class kJ{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class RJ{constructor(e){this.key=e,this.nc=!1}}class OJ{constructor(e,t,r,i,u,d){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=u,this.maxConcurrentLimboResolutions=d,this.sc={},this.ic=new Vf(p=>Y6(p),nC),this.rc=new Map,this.oc=new Set,this.uc=new Di(Et.comparator),this.cc=new Map,this.ac=new w2,this.hc={},this.lc=new Map,this.fc=vm.vn(),this.onlineState="Unknown",this.dc=void 0}get isPrimaryClient(){return!0===this.dc}}function PJ(n,e){return oF.apply(this,arguments)}function oF(){return oF=(0,Re.Z)(function*(n,e){const t=xF(n);let r,i;const u=t.ic.get(e);if(u)r=u.targetId,t.sharedClientState.addLocalQueryTarget(r),i=u.view.ec();else{const d=yield qv(t.localStore,_o(e));t.isPrimaryClient&&iN(t.remoteStore,d);const p=t.sharedClientState.addLocalQueryTarget(d.targetId);r=d.targetId,i=yield aF(t,e,r,"current"===p,d.resumeToken)}return i}),oF.apply(this,arguments)}function aF(n,e,t,r,i){return uF.apply(this,arguments)}function uF(){return uF=(0,Re.Z)(function*(n,e,t,r,i){n._c=(M,P,$)=>{return(Q=(0,Re.Z)(function*(le,ye,lt,dt){let bt=ye.view.Wu(lt);bt.$i&&(bt=yield eN(le.localStore,ye.query,!1).then(({documents:yt})=>ye.view.Wu(yt,bt)));const _t=dt&&dt.targetChanges.get(ye.targetId),ft=ye.view.applyChanges(bt,le.isPrimaryClient,_t);return yF(le,ye.targetId,ft.Xu),ft.snapshot}),function(le,ye,lt,dt){return Q.apply(this,arguments)})(n,M,P,$);var Q};const u=yield eN(n.localStore,e,!0),d=new OH(e,u.Hi),p=d.Wu(u.documents),v=uC.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState,i),I=d.applyChanges(p,n.isPrimaryClient,v);yF(n,t,I.Xu);const S=new kJ(e,t,d);return n.ic.set(e,S),n.rc.has(t)?n.rc.get(t).push(e):n.rc.set(t,[e]),I.snapshot}),uF.apply(this,arguments)}function LJ(n,e){return lF.apply(this,arguments)}function lF(){return lF=(0,Re.Z)(function*(n,e){const t=Ct(n),r=t.ic.get(e),i=t.rc.get(r.targetId);if(i.length>1)return t.rc.set(r.targetId,i.filter(u=>!nC(u,e))),void t.ic.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield zv(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),IC(t.remoteStore,r.targetId),t0(t,r.targetId)}).catch(kf))):(t0(t,r.targetId),yield zv(t.localStore,r.targetId,!0))}),lF.apply(this,arguments)}function cF(){return cF=(0,Re.Z)(function*(n,e,t){const r=NF(n);try{const i=yield function(u,d){const p=Ct(u),v=ui.now(),I=d.reduce((P,$)=>P.add($.key),xn());let S,M;return p.persistence.runTransaction("Locally write mutations","readwrite",P=>{let $=Wo(),Q=xn();return p.Gi.getEntries(P,I).next(le=>{$=le,$.forEach((ye,lt)=>{lt.isValidDocument()||(Q=Q.add(ye))})}).next(()=>p.localDocuments.getOverlayedDocuments(P,$)).next(le=>{S=le;const ye=[];for(const lt of d){const dt=WY(lt,S.get(lt.key).overlayedDocument);null!=dt&&ye.push(new kd(lt.key,dt,j6(dt.value.mapValue),li.exists(!0)))}return p.mutationQueue.addMutationBatch(P,v,ye,d)}).next(le=>{M=le;const ye=le.applyToLocalDocumentSet(S,Q);return p.documentOverlayCache.saveOverlays(P,le.batchId,ye)})}).then(()=>({batchId:M.batchId,changes:g4(S)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(u,d,p){let v=u.hc[u.currentUser.toKey()];v||(v=new Di(bn)),v=v.insert(d,p),u.hc[u.currentUser.toKey()]=v}(r,i.batchId,t),yield Od(r,i.changes),yield Yv(r.remoteStore)}catch(i){const u=Jv(i,"Failed to persist write");t.reject(u)}}),cF.apply(this,arguments)}function PH(n,e){return dF.apply(this,arguments)}function dF(){return dF=(0,Re.Z)(function*(n,e){const t=Ct(n);try{const r=yield rJ(t.localStore,e);e.targetChanges.forEach((i,u)=>{const d=t.cc.get(u);d&&(on(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?d.nc=!0:i.modifiedDocuments.size>0?on(d.nc):i.removedDocuments.size>0&&(on(d.nc),d.nc=!1))}),yield Od(t,r,e)}catch(r){yield kf(r)}}),dF.apply(this,arguments)}function LH(n,e,t){const r=Ct(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const i=[];r.ic.forEach((u,d)=>{const p=d.view.bu(e);p.snapshot&&i.push(p.snapshot)}),function(u,d){const p=Ct(u);p.onlineState=d;let v=!1;p.queries.forEach((I,S)=>{for(const M of S.listeners)M.bu(d)&&(v=!0)}),v&&iF(p)}(r.eventManager,e),i.length&&r.sc.Wo(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function UJ(n,e,t){return hF.apply(this,arguments)}function hF(){return hF=(0,Re.Z)(function*(n,e,t){const r=Ct(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.cc.get(e),u=i&&i.key;if(u){let d=new Di(Et.comparator);d=d.insert(u,Yr.newNoDocument(u,an.min()));const p=xn().add(u),v=new aC(an.min(),new Map,new Nr(bn),d,p);yield PH(r,v),r.uc=r.uc.remove(u),r.cc.delete(e),vF(r)}else yield zv(r.localStore,e,!1).then(()=>t0(r,e,t)).catch(kf)}),hF.apply(this,arguments)}function VJ(n,e){return fF.apply(this,arguments)}function fF(){return fF=(0,Re.Z)(function*(n,e){const t=Ct(n),r=e.batch.batchId;try{const i=yield nJ(t.localStore,e);_F(t,r,null),mF(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield Od(t,i)}catch(i){yield kf(i)}}),fF.apply(this,arguments)}function BJ(n,e,t){return pF.apply(this,arguments)}function pF(){return pF=(0,Re.Z)(function*(n,e,t){const r=Ct(n);try{const i=yield function(u,d){const p=Ct(u);return p.persistence.runTransaction("Reject batch","readwrite-primary",v=>{let I;return p.mutationQueue.lookupMutationBatch(v,d).next(S=>(on(null!==S),I=S.keys(),p.mutationQueue.removeMutationBatch(v,S))).next(()=>p.mutationQueue.performConsistencyCheck(v)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(v,I,d)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,I)).next(()=>p.localDocuments.getDocuments(v,I))})}(r.localStore,e);_F(r,e,t),mF(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield Od(r,i)}catch(i){yield kf(i)}}),pF.apply(this,arguments)}function gF(){return gF=(0,Re.Z)(function*(n,e){const t=Ct(n);Rd(t.remoteStore)||ut("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(u){const d=Ct(u);return d.persistence.runTransaction("Get highest unacknowledged batch id","readonly",p=>d.mutationQueue.getHighestUnacknowledgedBatchId(p))}(t.localStore);if(-1===r)return void e.resolve();const i=t.lc.get(r)||[];i.push(e),t.lc.set(r,i)}catch(r){const i=Jv(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}),gF.apply(this,arguments)}function mF(n,e){(n.lc.get(e)||[]).forEach(t=>{t.resolve()}),n.lc.delete(e)}function _F(n,e,t){const r=Ct(n);let i=r.hc[r.currentUser.toKey()];if(i){const u=i.get(e);u&&(t?u.reject(t):u.resolve(),i=i.remove(e)),r.hc[r.currentUser.toKey()]=i}}function t0(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.rc.get(e))n.ic.delete(r),t&&n.sc.wc(r,t);n.rc.delete(e),n.isPrimaryClient&&n.ac.ls(e).forEach(r=>{n.ac.containsKey(r)||FH(n,r)})}function FH(n,e){n.oc.delete(e.path.canonicalString());const t=n.uc.get(e);null!==t&&(IC(n.remoteStore,t),n.uc=n.uc.remove(e),n.cc.delete(t),vF(n))}function yF(n,e,t){for(const r of t)r instanceof kH?(n.ac.addReference(r.key,e),$J(n,r)):r instanceof RH?(ut("SyncEngine","Document no longer in limbo: "+r.key),n.ac.removeReference(r.key,e),n.ac.containsKey(r.key)||FH(n,r.key)):Lt()}function $J(n,e){const t=e.key,r=t.path.canonicalString();n.uc.get(t)||n.oc.has(r)||(ut("SyncEngine","New document in limbo: "+t),n.oc.add(r),vF(n))}function vF(n){for(;n.oc.size>0&&n.uc.size<n.maxConcurrentLimboResolutions;){const e=n.oc.values().next().value;n.oc.delete(e);const t=new Et(nr.fromString(e)),r=n.fc.next();n.cc.set(r,new RJ(t)),n.uc=n.uc.insert(t,r),iN(n.remoteStore,new Bf(_o(Fv(t.path)),r,2,Zo.at))}}function Od(n,e,t){return bF.apply(this,arguments)}function bF(){return bF=(0,Re.Z)(function*(n,e,t){const r=Ct(n),i=[],u=[],d=[];var p;r.ic.isEmpty()||(r.ic.forEach((p,v)=>{d.push(r._c(v,e,t).then(I=>{if((I||t)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(v.targetId,I?.fromCache?"not-current":"current"),I){i.push(I);const S=T2.Ci(v.targetId,I);u.push(S)}}))}),yield Promise.all(d),r.sc.Wo(i),yield(p=(0,Re.Z)(function*(v,I){const S=Ct(v);try{yield S.persistence.runTransaction("notifyLocalViewChanges","readwrite",M=>Se.forEach(I,P=>Se.forEach(P.Si,$=>S.persistence.referenceDelegate.addReference(M,P.targetId,$)).next(()=>Se.forEach(P.Di,$=>S.persistence.referenceDelegate.removeReference(M,P.targetId,$)))))}catch(M){if(!Rf(M))throw M;ut("LocalStore","Failed to update sequence numbers: "+M)}for(const M of I){const P=M.targetId;if(!M.fromCache){const $=S.Ui.get(P),le=$.withLastLimboFreeSnapshotVersion($.snapshotVersion);S.Ui=S.Ui.insert(P,le)}}}),function(v,I){return p.apply(this,arguments)})(r.localStore,u))}),bF.apply(this,arguments)}function HJ(n,e){return wF.apply(this,arguments)}function wF(){return wF=(0,Re.Z)(function*(n,e){const t=Ct(n);if(!t.currentUser.isEqual(e)){ut("SyncEngine","User change. New user:",e.toKey());const r=yield dH(t.localStore,e);t.currentUser=e,(i=t).lc.forEach(d=>{d.forEach(p=>{p.reject(new nt(Pe.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.lc.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Od(t,r.ji)}var i}),wF.apply(this,arguments)}function GJ(n,e){const t=Ct(n),r=t.cc.get(e);if(r&&r.nc)return xn().add(r.key);{let i=xn();const u=t.rc.get(e);if(!u)return i;for(const d of u){const p=t.ic.get(d);i=i.unionWith(p.view.ju)}return i}}function ZJ(n,e){return EF.apply(this,arguments)}function EF(){return EF=(0,Re.Z)(function*(n,e){const t=Ct(n),r=yield eN(t.localStore,e.query,!0),i=e.view.tc(r);return t.isPrimaryClient&&yF(t,e.targetId,i.Xu),i}),EF.apply(this,arguments)}function WJ(n,e){return IF.apply(this,arguments)}function IF(){return IF=(0,Re.Z)(function*(n,e){const t=Ct(n);return gH(t.localStore,e).then(r=>Od(t,r))}),IF.apply(this,arguments)}function qJ(n,e,t,r){return CF.apply(this,arguments)}function CF(){return CF=(0,Re.Z)(function*(n,e,t,r){const i=Ct(n),u=yield function(d,p){const v=Ct(d),I=Ct(v.mutationQueue);return v.persistence.runTransaction("Lookup mutation documents","readonly",S=>I.Tn(S,p).next(M=>M?v.localDocuments.getDocuments(S,M):Se.resolve(null)))}(i.localStore,e);var p;null!==u?("pending"===t?yield Yv(i.remoteStore):"acknowledged"===t||"rejected"===t?(_F(i,e,r||null),mF(i,e),p=e,Ct(Ct(i.localStore).mutationQueue).An(p)):Lt(),yield Od(i,u)):ut("SyncEngine","Cannot apply mutation batch with id: "+e)}),CF.apply(this,arguments)}function TF(){return TF=(0,Re.Z)(function*(n,e){const t=Ct(n);if(xF(t),NF(t),!0===e&&!0!==t.dc){const r=t.sharedClientState.getAllActiveQueryTargets(),i=yield UH(t,r.toArray());t.dc=!0,yield Q2(t.remoteStore,!0);for(const u of i)iN(t.remoteStore,u)}else if(!1===e&&!1!==t.dc){const r=[];let i=Promise.resolve();t.rc.forEach((u,d)=>{t.sharedClientState.isLocalQueryTarget(d)?r.push(d):i=i.then(()=>(t0(t,d),zv(t.localStore,d,!0))),IC(t.remoteStore,d)}),yield i,yield UH(t,r),function(u){const d=Ct(u);d.cc.forEach((p,v)=>{IC(d.remoteStore,v)}),d.ac.fs(),d.cc=new Map,d.uc=new Di(Et.comparator)}(t),t.dc=!1,yield Q2(t.remoteStore,!1)}}),TF.apply(this,arguments)}function UH(n,e,t){return AF.apply(this,arguments)}function AF(){return AF=(0,Re.Z)(function*(n,e,t){const r=Ct(n),i=[],u=[];for(const d of e){let p;const v=r.rc.get(d);if(v&&0!==v.length){p=yield qv(r.localStore,_o(v[0]));for(const I of v){const S=r.ic.get(I),M=yield ZJ(r,S);M.snapshot&&u.push(M.snapshot)}}else{const I=yield pH(r.localStore,d);p=yield qv(r.localStore,I),yield aF(r,VH(I),d,!1,p.resumeToken)}i.push(p)}return r.sc.Wo(u),i}),AF.apply(this,arguments)}function VH(n){return z6(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function KJ(n){const e=Ct(n);return Ct(Ct(e.localStore).persistence).vi()}function YJ(n,e,t,r){return DF.apply(this,arguments)}function DF(){return DF=(0,Re.Z)(function*(n,e,t,r){const i=Ct(n);if(i.dc)return void ut("SyncEngine","Ignoring unexpected query state notification.");const u=i.rc.get(e);if(u&&u.length>0)switch(t){case"current":case"not-current":{const d=yield gH(i.localStore,Q6(u[0])),p=aC.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,ds.EMPTY_BYTE_STRING);yield Od(i,d,p);break}case"rejected":yield zv(i.localStore,e,!0),t0(i,e,r);break;default:Lt()}}),DF.apply(this,arguments)}function QJ(n,e,t){return SF.apply(this,arguments)}function SF(){return SF=(0,Re.Z)(function*(n,e,t){const r=xF(n);if(r.dc){for(const i of e){if(r.rc.has(i)){ut("SyncEngine","Adding an already active target "+i);continue}const u=yield pH(r.localStore,i),d=yield qv(r.localStore,u);yield aF(r,VH(u),d.targetId,!1,d.resumeToken),iN(r.remoteStore,d)}for(const i of t)r.rc.has(i)&&(yield zv(r.localStore,i,!1).then(()=>{IC(r.remoteStore,i),t0(r,i)}).catch(kf))}}),SF.apply(this,arguments)}function xF(n){const e=Ct(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=PH.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=GJ.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=UJ.bind(null,e),e.sc.Wo=SJ.bind(null,e.eventManager),e.sc.wc=xJ.bind(null,e.eventManager),e}function NF(n){const e=Ct(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=VJ.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=BJ.bind(null,e),e}class BH{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,Re.Z)(function*(){t.It=wC(e.databaseInfo.databaseId),t.sharedClientState=t.gc(e),t.persistence=t.yc(e),yield t.persistence.start(),t.localStore=t.Ic(e),t.gcScheduler=t.Tc(e,t.localStore),t.indexBackfillerScheduler=t.Ec(e,t.localStore)})()}Tc(e,t){return null}Ec(e,t){return null}Ic(e){return cH(this.persistence,new lH,e.initialUser,this.It)}yc(e){return new aH(Jx.Bs,this.It)}gc(e){return new vH}terminate(){var e=this;return(0,Re.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class jH extends BH{constructor(e,t,r){super(),this.Ac=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return(0,Re.Z)(function*(){yield t().call(r,e),yield r.Ac.initialize(r,e),yield NF(r.Ac.syncEngine),yield Yv(r.Ac.remoteStore),yield r.persistence.li(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()))})()}Ic(e){return cH(this.persistence,new lH,e.initialUser,this.It)}Tc(e,t){return new jQ(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}Ec(e,t){const r=new CY(t,this.persistence);return new IY(e.asyncQueue,r)}yc(e){const t=C2(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?qo.withCacheSize(this.cacheSizeBytes):qo.DEFAULT;return new I2(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,wH(),rN(),this.It,this.sharedClientState,!!this.forceOwnership)}gc(e){return new vH}}class XJ extends jH{constructor(e,t){super(e,t,!1),this.Ac=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,r=this;return(0,Re.Z)(function*(){yield t().call(r,e);const i=r.Ac.syncEngine;r.sharedClientState instanceof R2&&(r.sharedClientState.syncEngine={Fr:qJ.bind(null,i),$r:YJ.bind(null,i),Br:QJ.bind(null,i),vi:KJ.bind(null,i),Mr:WJ.bind(null,i)},yield r.sharedClientState.start()),yield r.persistence.li(function(){var u=(0,Re.Z)(function*(d){yield function zJ(n,e){return TF.apply(this,arguments)}(r.Ac.syncEngine,d),r.gcScheduler&&(d&&!r.gcScheduler.started?r.gcScheduler.start():d||r.gcScheduler.stop()),r.indexBackfillerScheduler&&(d&&!r.indexBackfillerScheduler.started?r.indexBackfillerScheduler.start():d||r.indexBackfillerScheduler.stop())});return function(d){return u.apply(this,arguments)}}())})()}gc(e){const t=wH();if(!R2.C(t))throw new nt(Pe.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=C2(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new R2(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class MF{initialize(e,t){var r=this;return(0,Re.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>LH(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=HJ.bind(null,r.syncEngine),yield Q2(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new DJ}createDatastore(e){const t=wC(e.databaseInfo.databaseId),r=new cJ(e.databaseInfo);return new fJ(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,i=e.asyncQueue,u=p=>LH(this.syncEngine,p,0),d=bH.C()?new bH:new aJ,new mJ(t,r,i,u,d);var t,r,i,u,d}createSyncEngine(e,t){return function(r,i,u,d,p,v,I){const S=new OJ(r,i,u,d,p,v);return I&&(S.dc=!0),S}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,Re.Z)(function*(t){const r=Ct(t);ut("RemoteStore","RemoteStore shutting down."),r._u.add(5),yield Kv(r),r.mu.shutdown(),r.gu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function kF(n,e,t){if(!t)throw new nt(Pe.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function $H(n,e,t,r){if(!0===e&&!0===r)throw new nt(Pe.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function HH(n){if(!Et.isDocumentKey(n))throw new nt(Pe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function GH(n){if(Et.isDocumentKey(n))throw new nt(Pe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function oN(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":Lt()}function Kn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new nt(Pe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=oN(n);throw new nt(Pe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function ZH(n,e){if(e<=0)throw new nt(Pe.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}const WH=new Map;class qH{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new nt(Pe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new nt(Pe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,$H("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class CC{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new qH({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new nt(Pe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new nt(Pe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new qH(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new dY;switch(t.type){case"gapi":return new gY(t.client,t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new nt(Pe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=WH.get(e);t&&(ut("ComponentProvider","Removing Datastore"),WH.delete(e),t.terminate())}(this),Promise.resolve()}}class ei{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ac(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ei(this.firestore,e,this._key)}}class so{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new so(this.firestore,e,this._query)}}class ac extends so{constructor(e,t,r){super(e,t,Fv(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ei(this.firestore,null,new Et(e))}withConverter(e){return new ac(this.firestore,e,this._path)}}function KH(n,e,...t){if(n=(0,q.m9)(n),kF("collection","path",e),n instanceof CC){const r=nr.fromString(e,...t);return GH(r),new ac(n,null,r)}{if(!(n instanceof ei||n instanceof ac))throw new nt(Pe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(nr.fromString(e,...t));return GH(r),new ac(n.firestore,null,r)}}function aN(n,e,...t){if(n=(0,q.m9)(n),1===arguments.length&&(e=I6.R()),kF("doc","path",e),n instanceof CC){const r=nr.fromString(e,...t);return HH(r),new ei(n,null,new Et(r))}{if(!(n instanceof ei||n instanceof ac))throw new nt(Pe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(nr.fromString(e,...t));return HH(r),new ei(n.firestore,n instanceof ac?n.converter:null,new Et(r))}}function YH(n,e){return n=(0,q.m9)(n),e=(0,q.m9)(e),(n instanceof ei||n instanceof ac)&&(e instanceof ei||e instanceof ac)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function RF(n,e){return n=(0,q.m9)(n),e=(0,q.m9)(e),n instanceof so&&e instanceof so&&n.firestore===e.firestore&&nC(n._query,e._query)&&n.converter===e.converter}function QH(n,e=10240){let t=0;return{read:()=>(0,Re.Z)(function*(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})(),cancel:()=>(0,Re.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class uN{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Rc(this.observer.next,e)}error(e){this.observer.error?this.Rc(this.observer.error,e):Vi("Uncaught Error in snapshot listener:",e.toString())}bc(){this.muted=!0}Rc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class tX{constructor(e,t){this.Pc=e,this.It=t,this.metadata=new cs,this.buffer=new Uint8Array,this.vc=new TextDecoder("utf-8"),this.Vc().then(r=>{r&&r.Ou()?this.metadata.resolve(r.ku.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(r?.ku)}`))},r=>this.metadata.reject(r))}close(){return this.Pc.cancel()}getMetadata(){var e=this;return(0,Re.Z)(function*(){return e.metadata.promise})()}mc(){var e=this;return(0,Re.Z)(function*(){return yield e.getMetadata(),e.Vc()})()}Vc(){var e=this;return(0,Re.Z)(function*(){const t=yield e.Sc();if(null===t)return null;const r=e.vc.decode(t),i=Number(r);isNaN(i)&&e.Dc(`length string (${r}) is not valid number`);const u=yield e.Cc(i);return new NJ(JSON.parse(u),t.length+i)})()}xc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Sc(){var e=this;return(0,Re.Z)(function*(){for(;e.xc()<0&&!(yield e.Nc()););if(0===e.buffer.length)return null;const t=e.xc();t<0&&e.Dc("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),r})()}Cc(e){var t=this;return(0,Re.Z)(function*(){for(;t.buffer.length<e;)(yield t.Nc())&&t.Dc("Reached the end of bundle when more is expected.");const r=t.vc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),r})()}Dc(e){throw this.Pc.cancel(),new Error(`Invalid bundle format: ${e}`)}Nc(){var e=this;return(0,Re.Z)(function*(){const t=yield e.Pc.read();if(!t.done){const r=new Uint8Array(e.buffer.length+t.value.length);r.set(e.buffer),r.set(t.value,e.buffer.length),e.buffer=r}return t.done})()}}class iX{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,Re.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new nt(Pe.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(i=(0,Re.Z)(function*(u,d){const p=Ct(u),v=dC(p.It)+"/documents",I={documents:d.map($=>cC(p.It,$))},S=yield p._o("BatchGetDocuments",v,I,d.length),M=new Map;S.forEach($=>{const Q=function rQ(n,e){return"found"in e?function(t,r){on(!!r.found);const i=sc(t,r.found.name),u=Cs(r.found.updateTime),d=new js({mapValue:{fields:r.found.fields}});return Yr.newFoundDocument(i,u,d)}(n,e):"missing"in e?function(t,r){on(!!r.missing),on(!!r.readTime);const i=sc(t,r.missing),u=Cs(r.readTime);return Yr.newNoDocument(i,u)}(n,e):Lt()}(p.It,$);M.set(Q.key.toString(),Q)});const P=[];return d.forEach($=>{const Q=M.get($.toString());on(!!Q),P.push(Q)}),P}),function(u,d){return i.apply(this,arguments)})(t.datastore,e);var i;return r.forEach(i=>t.recordVersion(i)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new $v(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,Re.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,i)=>{const u=Et.fromPath(i);e.mutations.push(new l2(u,e.precondition(u)))}),yield(r=(0,Re.Z)(function*(i,u){const d=Ct(i),p=dC(d.It)+"/documents",v={writes:u.map(I=>hC(d.It,I))};yield d.ao("Commit",p,v)}),function(i,u){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Lt();t=an.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new nt(Pe.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(an.min())?li.exists(!1):li.updateTime(t):li.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(an.min()))throw new nt(Pe.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return li.updateTime(t)}return li.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class sX{constructor(e,t,r,i,u){this.asyncQueue=e,this.datastore=t,this.options=r,this.updateFunction=i,this.deferred=u,this.kc=r.maxAttempts,this.xo=new O2(this.asyncQueue,"transaction_retry")}run(){this.kc-=1,this.Oc()}Oc(){var e=this;this.xo.Ro((0,Re.Z)(function*(){const t=new iX(e.datastore),r=e.Mc(t);r&&r.then(i=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(i)}).catch(u=>{e.Fc(u)}))}).catch(i=>{e.Fc(i)})}))}Mc(e){try{const t=this.updateFunction(e);return!YI(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Fc(e){this.kc>0&&this.$c(e)?(this.kc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Oc(),Promise.resolve()))):this.deferred.reject(e)}$c(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!h4(t)}return!1}}class oX{constructor(e,t,r,i){var u=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=Is.UNAUTHENTICATED,this.clientId=I6.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var d=(0,Re.Z)(function*(p){ut("FirestoreClient","Received user=",p.uid),yield u.authCredentialListener(p),u.user=p});return function(p){return d.apply(this,arguments)}}()),this.appCheckCredentials.start(r,d=>(ut("FirestoreClient","Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}getConfiguration(){var e=this;return(0,Re.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new nt(Pe.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new cs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Re.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=Jv(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function JH(n,e){return OF.apply(this,arguments)}function OF(){return OF=(0,Re.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),ut("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var i=(0,Re.Z)(function*(u){r.isEqual(u)||(yield dH(e.localStore,u),r=u)});return function(u){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),OF.apply(this,arguments)}function XH(n,e){return PF.apply(this,arguments)}function PF(){return PF=(0,Re.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield LF(n);ut("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(i=>SH(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,u)=>SH(e.remoteStore,u)),n.onlineComponents=e}),PF.apply(this,arguments)}function LF(n){return FF.apply(this,arguments)}function FF(){return FF=(0,Re.Z)(function*(n){return n.offlineComponents||(ut("FirestoreClient","Using default OfflineComponentProvider"),yield JH(n,new BH)),n.offlineComponents}),FF.apply(this,arguments)}function lN(n){return UF.apply(this,arguments)}function UF(){return UF=(0,Re.Z)(function*(n){return n.onlineComponents||(ut("FirestoreClient","Using default OnlineComponentProvider"),yield XH(n,new MF)),n.onlineComponents}),UF.apply(this,arguments)}function e5(n){return LF(n).then(e=>e.persistence)}function cN(n){return LF(n).then(e=>e.localStore)}function VF(n){return lN(n).then(e=>e.remoteStore)}function BF(n){return lN(n).then(e=>e.syncEngine)}function n0(n){return jF.apply(this,arguments)}function jF(){return jF=(0,Re.Z)(function*(n){const e=yield lN(n),t=e.eventManager;return t.onListen=PJ.bind(null,e.syncEngine),t.onUnlisten=LJ.bind(null,e.syncEngine),t}),jF.apply(this,arguments)}function n5(n,e,t={}){const r=new cs;return n.asyncQueue.enqueueAndForget((0,Re.Z)(function*(){return function(i,u,d,p,v){const I=new uN({next:M=>{u.enqueueAndForget(()=>nF(i,S));const P=M.docs.has(d);!P&&M.fromCache?v.reject(new nt(Pe.UNAVAILABLE,"Failed to get document because the client is offline.")):P&&M.fromCache&&p&&"server"===p.source?v.reject(new nt(Pe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):v.resolve(M)},error:M=>v.reject(M)}),S=new sF(Fv(d.path),I,{includeMetadataChanges:!0,Nu:!0});return eF(i,S)}(yield n0(n),n.asyncQueue,e,t,r)})),r.promise}function r5(n,e,t={}){const r=new cs;return n.asyncQueue.enqueueAndForget((0,Re.Z)(function*(){return function(i,u,d,p,v){const I=new uN({next:M=>{u.enqueueAndForget(()=>nF(i,S)),M.fromCache&&"server"===p.source?v.reject(new nt(Pe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):v.resolve(M)},error:M=>v.reject(M)}),S=new sF(d,I,{includeMetadataChanges:!0,Nu:!0});return eF(i,S)}(yield n0(n),n.asyncQueue,e,t,r)})),r.promise}class pX{constructor(){this.Bc=Promise.resolve(),this.Lc=[],this.Uc=!1,this.qc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.xo=new O2(this,"async_queue_retry"),this.Wc=()=>{const t=rN();t&&ut("AsyncQueue","Visibility state changed to "+t.visibilityState),this.xo.Po()};const e=rN();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Wc)}get isShuttingDown(){return this.Uc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.zc(),this.Hc(e)}enterRestrictedMode(e){if(!this.Uc){this.Uc=!0,this.Qc=e||!1;const t=rN();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Wc)}}enqueue(e){if(this.zc(),this.Uc)return new Promise(()=>{});const t=new cs;return this.Hc(()=>this.Uc&&this.Qc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Lc.push(e),this.Jc()))}Jc(){var e=this;return(0,Re.Z)(function*(){if(0!==e.Lc.length){try{yield e.Lc[0](),e.Lc.shift(),e.xo.reset()}catch(t){if(!Rf(t))throw t;ut("AsyncQueue","Operation failed with retryable error: "+t)}e.Lc.length>0&&e.xo.Ro(()=>e.Jc())}})()}Hc(e){const t=this.Bc.then(()=>(this.Gc=!0,e().catch(r=>{throw this.Kc=r,this.Gc=!1,Vi("INTERNAL UNHANDLED ERROR: ",function(u){let d=u.message||"";return u.stack&&(d=u.stack.includes(u.message)?u.stack:u.message+"\n"+u.stack),d}(r)),r}).then(r=>(this.Gc=!1,r))));return this.Bc=t,t}enqueueAfterDelay(e,t,r){this.zc(),this.jc.indexOf(e)>-1&&(t=0);const i=X2.createAndSchedule(this,e,t,r,u=>this.Yc(u));return this.qc.push(i),i}zc(){this.Kc&&Lt()}verifyOperationInProgress(){}Xc(){var e=this;return(0,Re.Z)(function*(){let t;do{t=e.Bc,yield t}while(t!==e.Bc)})()}Zc(e){for(const t of this.qc)if(t.timerId===e)return!0;return!1}ta(e){return this.Xc().then(()=>{this.qc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.qc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Xc()})}ea(e){this.jc.push(e)}Yc(e){const t=this.qc.indexOf(e);this.qc.splice(t,1)}}function $F(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(n)}class gX{constructor(){this._progressObserver={},this._taskCompletionResolver=new cs,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class ti extends CC{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new pX,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||i5(this),this._firestoreClient.terminate()}}function Bi(n){return n._firestoreClient||i5(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function i5(n){var e;const t=n._freezeSettings(),r=(u=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new DY(n._databaseId,u,n._persistenceKey,(p=t).host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,p.useFetchStreams));var u,p;n._firestoreClient=new oX(n._authCredentials,n._appCheckCredentials,n._queue,r)}function s5(n,e,t){const r=new cs;return n.asyncQueue.enqueue((0,Re.Z)(function*(){try{yield JH(n,t),yield XH(n,e),r.resolve()}catch(i){const u=i;if(!("FirebaseError"===(d=u).name?d.code===Pe.FAILED_PRECONDITION||d.code===Pe.UNIMPLEMENTED:!(typeof DOMException<"u"&&d instanceof DOMException)||22===d.code||20===d.code||11===d.code))throw u;rm("Error enabling offline persistence. Falling back to persistence disabled: "+u),r.reject(u)}var d})).then(()=>r.promise)}function o5(n){if(n._initialized||n._terminated)throw new nt(Pe.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class uc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new uc(ds.fromBase64String(e))}catch(t){throw new nt(Pe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new uc(ds.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Pd{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new nt(Pe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ai(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class wm{constructor(e){this._methodName=e}}class dN{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new nt(Pe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new nt(Pe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return bn(this._lat,e._lat)||bn(this._long,e._long)}}const TX=/^__.*__$/;class AX{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new kd(e,this.data,this.fieldMask,t,this.fieldTransforms):new jv(e,this.data,t,this.fieldTransforms)}}class a5{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new kd(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function u5(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Lt()}}class hN{constructor(e,t,r,i,u,d){this.settings=e,this.databaseId=t,this.It=r,this.ignoreUndefinedProperties=i,void 0===u&&this.na(),this.fieldTransforms=u||[],this.fieldMask=d||[]}get path(){return this.settings.path}get sa(){return this.settings.sa}ia(e){return new hN(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.It,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ra(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.ia({path:r,oa:!1});return i.ua(e),i}ca(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.ia({path:r,oa:!1});return i.na(),i}aa(e){return this.ia({path:void 0,oa:!0})}ha(e){return gN(e,this.settings.methodName,this.settings.la||!1,this.path,this.settings.fa)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}na(){if(this.path)for(let e=0;e<this.path.length;e++)this.ua(this.path.get(e))}ua(e){if(0===e.length)throw this.ha("Document fields must not be empty");if(u5(this.sa)&&TX.test(e))throw this.ha('Document fields cannot begin and end with "__"')}}class DX{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.It=r||wC(e)}da(e,t,r,i=!1){return new hN({sa:e,methodName:t,fa:r,path:Ai.emptyPath(),oa:!1,la:i},this.databaseId,this.It,this.ignoreUndefinedProperties)}}function Em(n){const e=n._freezeSettings(),t=wC(n._databaseId);return new DX(n._databaseId,!!e.ignoreUndefinedProperties,t)}function fN(n,e,t,r,i,u={}){const d=n.da(u.merge||u.mergeFields?2:0,e,t,i);WF("Data must be an object, but it was:",d,r);const p=d5(r,d);let v,I;if(u.merge)v=new va(d.fieldMask),I=d.fieldTransforms;else if(u.mergeFields){const S=[];for(const M of u.mergeFields){const P=qF(e,M,t);if(!d.contains(P))throw new nt(Pe.INVALID_ARGUMENT,`Field '${P}' is specified in your field mask but missing from your input data.`);f5(S,P)||S.push(P)}v=new va(S),I=d.fieldTransforms.filter(M=>v.covers(M.field))}else v=null,I=d.fieldTransforms;return new AX(new js(p),v,I)}class TC extends wm{_toFieldTransform(e){if(2!==e.sa)throw e.ha(1===e.sa?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof TC}}function l5(n,e,t){return new hN({sa:3,fa:e.settings.fa,methodName:n._methodName,oa:t},e.databaseId,e.It,e.ignoreUndefinedProperties)}class HF extends wm{_toFieldTransform(e){return new rC(e.path,new Vv)}isEqual(e){return e instanceof HF}}class SX extends wm{constructor(e,t){super(e),this._a=t}_toFieldTransform(e){const t=l5(this,e,!0),r=this._a.map(u=>Im(u,t)),i=new dm(r);return new rC(e.path,i)}isEqual(e){return this===e}}class xX extends wm{constructor(e,t){super(e),this._a=t}_toFieldTransform(e){const t=l5(this,e,!0),r=this._a.map(u=>Im(u,t)),i=new hm(r);return new rC(e.path,i)}isEqual(e){return this===e}}class NX extends wm{constructor(e,t){super(e),this.wa=t}_toFieldTransform(e){const t=new Bv(e.It,t4(e.It,this.wa));return new rC(e.path,t)}isEqual(e){return this===e}}function GF(n,e,t,r){const i=n.da(1,e,t);WF("Data must be an object, but it was:",i,r);const u=[],d=js.empty();om(r,(v,I)=>{const S=pN(e,v,t);I=(0,q.m9)(I);const M=i.ca(S);if(I instanceof TC)u.push(S);else{const P=Im(I,M);null!=P&&(u.push(S),d.set(S,P))}});const p=new va(u);return new a5(d,p,i.fieldTransforms)}function ZF(n,e,t,r,i,u){const d=n.da(1,e,t),p=[qF(e,r,t)],v=[i];if(u.length%2!=0)throw new nt(Pe.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let P=0;P<u.length;P+=2)p.push(qF(e,u[P])),v.push(u[P+1]);const I=[],S=js.empty();for(let P=p.length-1;P>=0;--P)if(!f5(I,p[P])){const $=p[P];let Q=v[P];Q=(0,q.m9)(Q);const le=d.ca($);if(Q instanceof TC)I.push($);else{const ye=Im(Q,le);null!=ye&&(I.push($),S.set($,ye))}}const M=new va(I);return new a5(S,M,d.fieldTransforms)}function c5(n,e,t,r=!1){return Im(t,n.da(r?4:3,e))}function Im(n,e){if(h5(n=(0,q.m9)(n)))return WF("Unsupported field value:",e,n),d5(n,e);if(n instanceof wm)return function(t,r){if(!u5(r.sa))throw r.ha(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r.ha(`${t._methodName}() is not currently supported inside arrays`);const i=t._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.oa&&4!==e.sa)throw e.ha("Nested arrays are not supported");return function(t,r){const i=[];let u=0;for(const d of t){let p=Im(d,r.aa(u));null==p&&(p={nullValue:"NULL_VALUE"}),i.push(p),u++}return{arrayValue:{values:i}}}(n,e)}return function(t,r){if(null===(t=(0,q.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return t4(r.It,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const i=ui.fromDate(t);return{timestampValue:lC(r.It,i)}}if(t instanceof ui){const i=new ui(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:lC(r.It,i)}}if(t instanceof dN)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof uc)return{bytesValue:E4(r.It,t._byteString)};if(t instanceof ei){const i=r.databaseId,u=t.firestore._databaseId;if(!u.isEqual(i))throw r.ha(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:c2(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r.ha(`Unsupported field value: ${oN(t)}`)}(n,e)}function d5(n,e){const t={};return M6(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):om(n,(r,i)=>{const u=Im(i,e.ra(r));null!=u&&(t[r]=u)}),{mapValue:{fields:t}}}function h5(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof ui||n instanceof dN||n instanceof uc||n instanceof ei||n instanceof wm)}function WF(n,e,t){if(!h5(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=oN(t);throw e.ha("an object"===r?n+" a custom object":n+" "+r)}var r}function qF(n,e,t){if((e=(0,q.m9)(e))instanceof Pd)return e._internalPath;if("string"==typeof e)return pN(n,e);throw gN("Field path arguments must be of type string or ",n,!1,void 0,t)}const MX=new RegExp("[~\\*/\\[\\]]");function pN(n,e,t){if(e.search(MX)>=0)throw gN(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Pd(...e.split("."))._internalPath}catch{throw gN(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function gN(n,e,t,r,i){const u=r&&!r.isEmpty(),d=void 0!==i;let p=`Function ${e}() called with invalid data`;t&&(p+=" (via `toFirestore()`)"),p+=". ";let v="";return(u||d)&&(v+=" (found",u&&(v+=` in field ${r}`),d&&(v+=` in document ${i}`),v+=")"),new nt(Pe.INVALID_ARGUMENT,p+n+v)}function f5(n,e){return n.some(t=>t.isEqual(e))}class AC{constructor(e,t,r,i,u){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new ei(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new kX(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(mN("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class kX extends AC{data(){return super.data()}}function mN(n,e){return"string"==typeof e?pN(n,e):e instanceof Pd?e._internalPath:e._delegate._internalPath}function p5(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new nt(Pe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class DC{}function Gf(n,...e){for(const t of e)n=t._apply(n);return n}class RX extends DC{constructor(e,t,r){super(),this.ma=e,this.ga=t,this.ya=r,this.type="where"}_apply(e){const t=Em(e.firestore),r=function(i,u,d,p,v,I,S){let M;if(v.isKeyField()){if("array-contains"===I||"array-contains-any"===I)throw new nt(Pe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${I}' queries on documentId().`);if("in"===I||"not-in"===I){b5(S,I);const $=[];for(const Q of S)$.push(v5(p,i,Q));M={arrayValue:{values:$}}}else M=v5(p,i,S)}else"in"!==I&&"not-in"!==I&&"array-contains-any"!==I||b5(S,I),M=c5(d,"where",S,"in"===I||"not-in"===I);const P=$s.create(v,I,M);return function($,Q){if(Q.dt()){const ye=s2($);if(null!==ye&&!ye.isEqual(Q.field))throw new nt(Pe.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${ye.toString()}' and '${Q.field.toString()}'`);const lt=r2($);null!==lt&&w5(0,Q.field,lt)}const le=function(ye,lt){for(const dt of ye.filters)if(lt.indexOf(dt.op)>=0)return dt.op;return null}($,function(ye){switch(ye){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(Q.op));if(null!==le)throw new nt(Pe.INVALID_ARGUMENT,le===Q.op?`Invalid query. You cannot use more than one '${Q.op.toString()}' filter.`:`Invalid query. You cannot use '${Q.op.toString()}' filters with '${le.toString()}' filters.`)}(i,P),P}(e._query,0,t,e.firestore._databaseId,this.ma,this.ga,this.ya);return new so(e.firestore,e.converter,function(i,u){const d=i.filters.concat([u]);return new Md(i.path,i.collectionGroup,i.explicitOrderBy.slice(),d,i.limit,i.limitType,i.startAt,i.endAt)}(e._query,r))}}class PX extends DC{constructor(e,t){super(),this.ma=e,this.pa=t,this.type="orderBy"}_apply(e){const t=function(r,i,u){if(null!==r.startAt)throw new nt(Pe.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new nt(Pe.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const d=new Lv(i,u);return function(p,v){if(null===r2(p)){const I=s2(p);null!==I&&w5(0,I,v.field)}}(r,d),d}(e._query,this.ma,this.pa);return new so(e.firestore,e.converter,function(r,i){const u=r.explicitOrderBy.concat([i]);return new Md(r.path,r.collectionGroup,u,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class g5 extends DC{constructor(e,t,r){super(),this.type=e,this.Ia=t,this.Ta=r}_apply(e){return new so(e.firestore,e.converter,Ux(e._query,this.Ia,this.Ta))}}class m5 extends DC{constructor(e,t,r){super(),this.type=e,this.Ea=t,this.Aa=r}_apply(e){const t=y5(e,this.type,this.Ea,this.Aa);return new so(e.firestore,e.converter,(i=t,new Md((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,i,r.endAt)));var r,i}}class _5 extends DC{constructor(e,t,r){super(),this.type=e,this.Ea=t,this.Aa=r}_apply(e){const t=y5(e,this.type,this.Ea,this.Aa);return new so(e.firestore,e.converter,(i=t,new Md((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,i)));var r,i}}function y5(n,e,t,r){if(t[0]=(0,q.m9)(t[0]),t[0]instanceof AC)return function(i,u,d,p,v){if(!p)throw new nt(Pe.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${d}().`);const I=[];for(const S of Uv(i))if(S.field.isKeyField())I.push(lm(u,p.key));else{const M=p.data.field(S.field);if(e2(M))throw new nt(Pe.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+S.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===M){const P=S.field.canonicalString();throw new nt(Pe.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${P}' (used as the orderBy) does not exist.`)}I.push(M)}return new Uf(I,v)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const i=Em(n.firestore);return function(u,d,p,v,I,S){const M=u.explicitOrderBy;if(I.length>M.length)throw new nt(Pe.INVALID_ARGUMENT,`Too many arguments provided to ${v}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const P=[];for(let $=0;$<I.length;$++){const Q=I[$];if(M[$].field.isKeyField()){if("string"!=typeof Q)throw new nt(Pe.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${v}(), but got a ${typeof Q}`);if(!o2(u)&&-1!==Q.indexOf("/"))throw new nt(Pe.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${v}() must be a plain document ID, but '${Q}' contains a slash.`);const le=u.path.child(nr.fromString(Q));if(!Et.isDocumentKey(le))throw new nt(Pe.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${v}() must result in a valid document path, but '${le}' is not because it contains an odd number of segments.`);const ye=new Et(le);P.push(lm(d,ye))}else{const le=c5(p,v,Q);P.push(le)}}return new Uf(P,S)}(n._query,n.firestore._databaseId,i,e,t,r)}}function v5(n,e,t){if("string"==typeof(t=(0,q.m9)(t))){if(""===t)throw new nt(Pe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!o2(e)&&-1!==t.indexOf("/"))throw new nt(Pe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(nr.fromString(t));if(!Et.isDocumentKey(r))throw new nt(Pe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return lm(n,new Et(r))}if(t instanceof ei)return lm(n,t._key);throw new nt(Pe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${oN(t)}.`)}function b5(n,e){if(!Array.isArray(n)||0===n.length)throw new nt(Pe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(n.length>10)throw new nt(Pe.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function w5(n,e,t){if(!t.isEqual(e))throw new nt(Pe.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class zF{convertValue(e,t="none"){switch(um(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Si(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(am(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Lt()}}convertObject(e,t){const r={};return om(e.fields,(i,u)=>{r[i]=this.convertValue(u,t)}),r}convertGeoPoint(e){return new dN(Si(e.latitude),Si(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=R6(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(KI(e));default:return null}}convertTimestamp(e){const t=Of(e);return new ui(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=nr.fromString(e);on(M4(r));const i=new Pf(r.get(1),r.get(3)),u=new Et(r.popFirst(5));return i.isEqual(t)||Vi(`Document ${u} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),u}}function _N(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class HX extends zF{constructor(e){super(),this.firestore=e}convertBytes(e){return new uc(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new ei(this.firestore,null,t)}}class Cm{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ld extends AC{constructor(e,t,r,i,u,d){super(e,t,r,i,d),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new SC(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(mN("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class SC extends Ld{data(e={}){return super.data(e)}}class Zf{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Cm(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new SC(this._firestore,this._userDataWriter,r.key,r,new Cm(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new nt(Pe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let u=0;return r._snapshot.docChanges.map(d=>({type:"added",doc:new SC(r._firestore,r._userDataWriter,d.doc.key,d.doc,new Cm(r._snapshot.mutatedKeys.has(d.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:u++}))}{let u=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(d=>i||3!==d.type).map(d=>{const p=new SC(r._firestore,r._userDataWriter,d.doc.key,d.doc,new Cm(r._snapshot.mutatedKeys.has(d.doc.key),r._snapshot.fromCache),r.query.converter);let v=-1,I=-1;return 0!==d.type&&(v=u.indexOf(d.doc.key),u=u.delete(d.doc.key)),1!==d.type&&(u=u.add(d.doc),I=u.indexOf(d.doc.key)),{type:GX(d.type),doc:p,oldIndex:v,newIndex:I}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function GX(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Lt()}}function E5(n,e){return n instanceof Ld&&e instanceof Ld?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof Zf&&e instanceof Zf&&n._firestore===e._firestore&&RF(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}class Wf extends zF{constructor(e){super(),this.firestore=e}convertBytes(e){return new uc(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new ei(this.firestore,null,t)}}function I5(n,e,t){n=Kn(n,ei);const r=Kn(n.firestore,ti),i=_N(n.converter,e,t);return r0(r,[fN(Em(r),"setDoc",n._key,i,null!==n.converter,t).toMutation(n._key,li.none())])}function C5(n,e,t,...r){n=Kn(n,ei);const i=Kn(n.firestore,ti),u=Em(i);let d;return d="string"==typeof(e=(0,q.m9)(e))||e instanceof Pd?ZF(u,"updateDoc",n._key,e,t,r):GF(u,"updateDoc",n._key,e),r0(i,[d.toMutation(n._key,li.exists(!0))])}function T5(n,...e){var t,r,i;n=(0,q.m9)(n);let u={includeMetadataChanges:!1},d=0;"object"!=typeof e[d]||$F(e[d])||(u=e[d],d++);const p={includeMetadataChanges:u.includeMetadataChanges};if($F(e[d])){const M=e[d];e[d]=null===(t=M.next)||void 0===t?void 0:t.bind(M),e[d+1]=null===(r=M.error)||void 0===r?void 0:r.bind(M),e[d+2]=null===(i=M.complete)||void 0===i?void 0:i.bind(M)}let v,I,S;if(n instanceof ei)I=Kn(n.firestore,ti),S=Fv(n._key.path),v={next:M=>{e[d]&&e[d](KF(I,n,M))},error:e[d+1],complete:e[d+2]};else{const M=Kn(n,so);I=Kn(M.firestore,ti),S=M._query;const P=new Wf(I);v={next:$=>{e[d]&&e[d](new Zf(I,P,M,$))},error:e[d+1],complete:e[d+2]},p5(n._query)}return function(M,P,$,Q){const le=new uN(Q),ye=new sF(P,le,$);return M.asyncQueue.enqueueAndForget((0,Re.Z)(function*(){return eF(yield n0(M),ye)})),()=>{le.bc(),M.asyncQueue.enqueueAndForget((0,Re.Z)(function*(){return nF(yield n0(M),ye)}))}}(Bi(I),S,p,v)}function r0(n,e){return function(t,r){const i=new cs;return t.asyncQueue.enqueueAndForget((0,Re.Z)(function*(){return function FJ(n,e,t){return cF.apply(this,arguments)}(yield BF(t),r,i)})),i.promise}(Bi(n),e)}function KF(n,e,t){const r=t.docs.get(e._key),i=new Wf(n);return new Ld(n,i,e._key,r,new Cm(t.hasPendingWrites,t.fromCache),e.converter)}const eee={maxAttempts:5};class A5{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Em(e)}set(e,t,r){this._verifyNotCommitted();const i=qf(e,this._firestore),u=_N(i.converter,t,r),d=fN(this._dataReader,"WriteBatch.set",i._key,u,null!==i.converter,r);return this._mutations.push(d.toMutation(i._key,li.none())),this}update(e,t,r,...i){this._verifyNotCommitted();const u=qf(e,this._firestore);let d;return d="string"==typeof(t=(0,q.m9)(t))||t instanceof Pd?ZF(this._dataReader,"WriteBatch.update",u._key,t,r,i):GF(this._dataReader,"WriteBatch.update",u._key,t),this._mutations.push(d.toMutation(u._key,li.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=qf(e,this._firestore);return this._mutations=this._mutations.concat(new $v(t._key,li.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new nt(Pe.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function qf(n,e){if((n=(0,q.m9)(n)).firestore!==e)throw new nt(Pe.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class tee extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Em(e)}get(e){const t=qf(e,this._firestore),r=new HX(this._firestore);return this._transaction.lookup([t._key]).then(i=>{if(!i||1!==i.length)return Lt();const u=i[0];if(u.isFoundDocument())return new AC(this._firestore,r,u.key,u,t.converter);if(u.isNoDocument())return new AC(this._firestore,r,t._key,null,t.converter);throw Lt()})}set(e,t,r){const i=qf(e,this._firestore),u=_N(i.converter,t,r),d=fN(this._dataReader,"Transaction.set",i._key,u,null!==i.converter,r);return this._transaction.set(i._key,d),this}update(e,t,r,...i){const u=qf(e,this._firestore);let d;return d="string"==typeof(t=(0,q.m9)(t))||t instanceof Pd?ZF(this._dataReader,"Transaction.update",u._key,t,r,i):GF(this._dataReader,"Transaction.update",u._key,t),this._transaction.update(u._key,d),this}delete(e){const t=qf(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=qf(e,this._firestore),r=new Wf(this._firestore);return super.get(e).then(i=>new Ld(this._firestore,r,t._key,i._document,new Cm(!1,!1),t.converter))}}function YF(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new nt("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function S5(){if(typeof Uint8Array>"u")throw new nt("unimplemented","Uint8Arrays are not available in this environment.")}function x5(){if(!function TY(){return typeof atob<"u"}())throw new nt("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){kv=eo.SDK_VERSION,(0,eo._registerComponent)(new Wu.wA("firestore",(t,{instanceIdentifier:r,options:i})=>{const u=t.getProvider("app").getImmediate(),d=new ti(new fY(t.getProvider("auth-internal")),new mY(t.getProvider("app-check-internal")),function(p,v){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new nt(Pe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Pf(p.options.projectId,v)}(u,r),u);return i=Object.assign({useFetchStreams:e},i),d._setSettings(i),d},"PUBLIC").setMultipleInstances(!0)),(0,eo.registerVersion)(b6,"3.7.3",n),(0,eo.registerVersion)(b6,"3.7.3","esm2017")}();class xC{constructor(e){this._delegate=e}static fromBase64String(e){return x5(),new xC(uc.fromBase64String(e))}static fromUint8Array(e){return S5(),new xC(uc.fromUint8Array(e))}toBase64(){return x5(),this._delegate.toBase64()}toUint8Array(){return S5(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function QF(n){return function cee(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of e)if(r in t&&"function"==typeof t[r])return!0;return!1}(n,["next","error","complete"])}class dee{enableIndexedDbPersistence(e,t){return function _X(n,e){o5(n=Kn(n,ti));const t=Bi(n),r=n._freezeSettings(),i=new MF;return s5(t,i,new jH(i,r.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function yX(n){o5(n=Kn(n,ti));const e=Bi(n),t=n._freezeSettings(),r=new MF;return s5(e,r,new XJ(r,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function vX(n){if(n._initialized&&!n._terminated)throw new nt(Pe.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new cs;return n._queue.enqueueAndForgetEvenWhileRestricted((0,Re.Z)(function*(){try{yield(t=(0,Re.Z)(function*(r){if(!Ju.C())return Promise.resolve();const i=r+"main";yield Ju.delete(i)}),function(r){return t.apply(this,arguments)})(C2(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class N5{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof Pf||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&rm("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){!function zH(n,e,t,r={}){var i;const u=(n=Kn(n,CC))._getSettings();if("firestore.googleapis.com"!==u.host&&u.host!==e&&rm("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},u),{host:`${e}:${t}`,ssl:!1})),r.mockUserToken){let d,p;if("string"==typeof r.mockUserToken)d=r.mockUserToken,p=Is.MOCK_USER;else{d=(0,q.Sg)(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const v=r.mockUserToken.sub||r.mockUserToken.user_id;if(!v)throw new nt(Pe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new Is(v)}n._authCredentials=new hY(new w6(d,p))}}(this._delegate,e,t,r)}enableNetwork(){return function wX(n){return function aX(n){return n.asyncQueue.enqueue((0,Re.Z)(function*(){const e=yield e5(n),t=yield VF(n);return e.setNetworkEnabled(!0),function(r){const i=Ct(r);return i._u.delete(0),EC(i)}(t)}))}(Bi(n=Kn(n,ti)))}(this._delegate)}disableNetwork(){return function EX(n){return function uX(n){return n.asyncQueue.enqueue((0,Re.Z)(function*(){const e=yield e5(n),t=yield VF(n);return e.setNetworkEnabled(!1),(r=(0,Re.Z)(function*(i){const u=Ct(i);u._u.add(0),yield Kv(u),u.gu.set("Offline")}),function(i){return r.apply(this,arguments)})(t);var r}))}(Bi(n=Kn(n,ti)))}(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,$H("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function bX(n){return function(e){const t=new cs;return e.asyncQueue.enqueueAndForget((0,Re.Z)(function*(){return function jJ(n,e){return gF.apply(this,arguments)}(yield BF(e),t)})),t.promise}(Bi(n=Kn(n,ti)))}(this._delegate)}onSnapshotsInSync(e){return function XX(n,e){return function dX(n,e){const t=new uN(e);return n.asyncQueue.enqueueAndForget((0,Re.Z)(function*(){return r=yield n0(n),i=t,Ct(r).Ru.add(i),void i.next();var r,i})),()=>{t.bc(),n.asyncQueue.enqueueAndForget((0,Re.Z)(function*(){return r=yield n0(n),i=t,void Ct(r).Ru.delete(i);var r,i}))}}(Bi(n=Kn(n,ti)),$F(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new nt("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new s0(this,KH(this._delegate,e))}catch(t){throw vo(t,"collection()","Firestore.collection()")}}doc(e){try{return new su(this,aN(this._delegate,e))}catch(t){throw vo(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new bo(this,function eX(n,e){if(n=Kn(n,CC),kF("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new nt(Pe.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new so(n,null,(t=e,new Md(nr.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw vo(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function nee(n,e,t){n=Kn(n,ti);const r=Object.assign(Object.assign({},eee),t);return function(i){if(i.maxAttempts<1)throw new nt(Pe.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(i,u,d){const p=new cs;return i.asyncQueue.enqueueAndForget((0,Re.Z)(function*(){const v=yield function t5(n){return lN(n).then(e=>e.datastore)}(i);new sX(i.asyncQueue,v,d,u,p).run()})),p.promise}(Bi(n),i=>e(new tee(n,i)),r)}(this._delegate,t=>e(new M5(this,t)))}batch(){return Bi(this._delegate),new k5(new A5(this._delegate,e=>r0(this._delegate,e)))}loadBundle(e){return function IX(n,e){const t=Bi(n=Kn(n,ti)),r=new gX;return function hX(n,e,t,r){const i=function(u,d){let p;return p="string"==typeof u?(new TextEncoder).encode(u):u,v=function(v,I){if(v instanceof Uint8Array)return QH(v,I);if(v instanceof ArrayBuffer)return QH(new Uint8Array(v),I);if(v instanceof ReadableStream)return v.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(p),new tX(v,d);var v}(t,wC(e));n.asyncQueue.enqueueAndForget((0,Re.Z)(function*(){!function JJ(n,e,t){const r=Ct(n);var i;(i=(0,Re.Z)(function*(u,d,p){try{const v=yield d.getMetadata();if(yield function(P,$){const Q=Ct(P),le=Cs($.createTime);return Q.persistence.runTransaction("hasNewerBundle","readonly",ye=>Q.Ns.getBundleMetadata(ye,$.id)).then(ye=>!!ye&&ye.createTime.compareTo(le)>=0)}(u.localStore,v))return yield d.close(),p._completeWith({taskState:"Success",documentsLoaded:(P=v).totalDocuments,bytesLoaded:P.totalBytes,totalDocuments:P.totalDocuments,totalBytes:P.totalBytes}),Promise.resolve(new Set);p._updateProgress(MH(v));const I=new MJ(v,u.localStore,d.It);let S=yield d.mc();for(;S;){const P=yield I.Fu(S);P&&p._updateProgress(P),S=yield d.mc()}const M=yield I.complete();return yield Od(u,M.Lu,void 0),yield function(P,$){const Q=Ct(P);return Q.persistence.runTransaction("Save bundle","readwrite",le=>Q.Ns.saveBundleMetadata(le,$))}(u.localStore,v),p._completeWith(M.progress),Promise.resolve(M.Bu)}catch(v){return rm("SyncEngine",`Loading bundle failed with ${v}`),p._failWith(v),Promise.resolve(new Set)}var P}),function(u,d,p){return i.apply(this,arguments)})(r,e,t).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}(yield BF(n),i,r)}))}(t,n._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function CX(n,e){return function fX(n,e){return n.asyncQueue.enqueue((0,Re.Z)(function*(){return function(t,r){const i=Ct(t);return i.persistence.runTransaction("Get named query","readonly",u=>i.Ns.getNamedQuery(u,r))}(yield cN(n),e)}))}(Bi(n=Kn(n,ti)),e).then(t=>t?new so(n,null,t.query):null)}(this._delegate,e).then(t=>t?new bo(this,t):null)}}class yN extends zF{constructor(e){super(),this.firestore=e}convertBytes(e){return new xC(new uc(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return su.forKey(t,this.firestore,null)}}class M5{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new yN(e)}get(e){const t=Am(e);return this._delegate.get(t).then(r=>new NC(this._firestore,new Ld(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const i=Am(e);return r?(YF("Transaction.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const u=Am(e);return 2===arguments.length?this._delegate.update(u,t):this._delegate.update(u,t,r,...i),this}delete(e){const t=Am(e);return this._delegate.delete(t),this}}class k5{constructor(e){this._delegate=e}set(e,t,r){const i=Am(e);return r?(YF("WriteBatch.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const u=Am(e);return 2===arguments.length?this._delegate.update(u,t):this._delegate.update(u,t,r,...i),this}delete(e){const t=Am(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Tm{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new SC(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new MC(this._firestore,r),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=Tm.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let u=i.get(t);return u||(u=new Tm(e,new yN(e),t),i.set(t,u)),u}}Tm.INSTANCES=new WeakMap;class su{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new yN(e)}static forPath(e,t,r){if(e.length%2!=0)throw new nt("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new su(t,new ei(t._delegate,r,new Et(e)))}static forKey(e,t,r){return new su(t,new ei(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new s0(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new s0(this.firestore,KH(this._delegate,e))}catch(t){throw vo(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,q.m9)(e))instanceof ei&&YH(this._delegate,e)}set(e,t){t=YF("DocumentReference.set",t);try{return t?I5(this._delegate,e,t):I5(this._delegate,e)}catch(r){throw vo(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?C5(this._delegate,e):C5(this._delegate,e,t,...r)}catch(i){throw vo(i,"updateDoc()","DocumentReference.update()")}}delete(){return function QX(n){return r0(Kn(n.firestore,ti),[new $v(n._key,li.none())])}(this._delegate)}onSnapshot(...e){const t=R5(e),r=O5(e,i=>new NC(this.firestore,new Ld(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return T5(this._delegate,t,r)}get(e){let t;return t="cache"===e?.source?function WX(n){n=Kn(n,ei);const e=Kn(n.firestore,ti),t=Bi(e),r=new Wf(e);return function lX(n,e){const t=new cs;return n.asyncQueue.enqueueAndForget((0,Re.Z)(function*(){return(r=(0,Re.Z)(function*(i,u,d){try{const p=yield function(v,I){const S=Ct(v);return S.persistence.runTransaction("read document","readonly",M=>S.localDocuments.getDocument(M,I))}(i,u);p.isFoundDocument()?d.resolve(p):p.isNoDocument()?d.resolve(null):d.reject(new nt(Pe.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(p){const v=Jv(p,`Failed to get document '${u} from cache`);d.reject(v)}}),function(i,u,d){return r.apply(this,arguments)})(yield cN(n),e,t);var r})),t.promise}(t,n._key).then(i=>new Ld(e,r,n._key,i,new Cm(null!==i&&i.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===e?.source?function qX(n){n=Kn(n,ei);const e=Kn(n.firestore,ti);return n5(Bi(e),n._key,{source:"server"}).then(t=>KF(e,n,t))}(this._delegate):function ZX(n){n=Kn(n,ei);const e=Kn(n.firestore,ti);return n5(Bi(e),n._key).then(t=>KF(e,n,t))}(this._delegate),t.then(r=>new NC(this.firestore,new Ld(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new su(this.firestore,this._delegate.withConverter(e?Tm.getInstance(this.firestore,e):null))}}function vo(n,e,t){return n.message=n.message.replace(e,t),n}function R5(n){for(const e of n)if("object"==typeof e&&!QF(e))return e;return{}}function O5(n,e){var t,r;let i;return i=QF(n[0])?n[0]:QF(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:u=>{i.next&&i.next(e(u))},error:null===(t=i.error)||void 0===t?void 0:t.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class NC{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new su(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return E5(this._delegate,e._delegate)}}class MC extends NC{data(e){const t=this._delegate.data(e);return function cY(n,e){n||Lt()}(void 0!==t),t}}class bo{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new yN(e)}where(e,t,r){try{return new bo(this.firestore,Gf(this._delegate,function OX(n,e,t){const r=e,i=mN("where",n);return new RX(i,r,t)}(e,t,r)))}catch(i){throw vo(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new bo(this.firestore,Gf(this._delegate,function LX(n,e="asc"){const t=e,r=mN("orderBy",n);return new PX(r,t)}(e,t)))}catch(r){throw vo(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new bo(this.firestore,Gf(this._delegate,function FX(n){return ZH("limit",n),new g5("limit",n,"F")}(e)))}catch(t){throw vo(t,"limit()","Query.limit()")}}limitToLast(e){try{return new bo(this.firestore,Gf(this._delegate,function UX(n){return ZH("limitToLast",n),new g5("limitToLast",n,"L")}(e)))}catch(t){throw vo(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new bo(this.firestore,Gf(this._delegate,function VX(...n){return new m5("startAt",n,!0)}(...e)))}catch(t){throw vo(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new bo(this.firestore,Gf(this._delegate,function BX(...n){return new m5("startAfter",n,!1)}(...e)))}catch(t){throw vo(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new bo(this.firestore,Gf(this._delegate,function jX(...n){return new _5("endBefore",n,!1)}(...e)))}catch(t){throw vo(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new bo(this.firestore,Gf(this._delegate,function $X(...n){return new _5("endAt",n,!0)}(...e)))}catch(t){throw vo(t,"endAt()","Query.endAt()")}}isEqual(e){return RF(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function KX(n){n=Kn(n,so);const e=Kn(n.firestore,ti),t=Bi(e),r=new Wf(e);return function cX(n,e){const t=new cs;return n.asyncQueue.enqueueAndForget((0,Re.Z)(function*(){return(r=(0,Re.Z)(function*(i,u,d){try{const p=yield eN(i,u,!0),v=new OH(u,p.Hi),I=v.Wu(p.documents),S=v.applyChanges(I,!1);d.resolve(S.snapshot)}catch(p){const v=Jv(p,`Failed to execute query '${u} against cache`);d.reject(v)}}),function(i,u,d){return r.apply(this,arguments)})(yield cN(n),e,t);var r})),t.promise}(t,n._query).then(i=>new Zf(e,r,n,i))}(this._delegate):"server"===e?.source?function YX(n){n=Kn(n,so);const e=Kn(n.firestore,ti),t=Bi(e),r=new Wf(e);return r5(t,n._query,{source:"server"}).then(i=>new Zf(e,r,n,i))}(this._delegate):function zX(n){n=Kn(n,so);const e=Kn(n.firestore,ti),t=Bi(e),r=new Wf(e);return p5(n._query),r5(t,n._query).then(i=>new Zf(e,r,n,i))}(this._delegate),t.then(r=>new JF(this.firestore,new Zf(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=R5(e),r=O5(e,i=>new JF(this.firestore,new Zf(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return T5(this._delegate,t,r)}withConverter(e){return new bo(this.firestore,this._delegate.withConverter(e?Tm.getInstance(this.firestore,e):null))}}class fee{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new MC(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class JF{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new bo(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new MC(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new fee(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new MC(this._firestore,r))})}isEqual(e){return E5(this._delegate,e._delegate)}}class s0 extends bo{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new su(this.firestore,e):null}doc(e){try{return new su(this.firestore,void 0===e?aN(this._delegate):aN(this._delegate,e))}catch(t){throw vo(t,"doc()","CollectionReference.doc()")}}add(e){return function JX(n,e){const t=Kn(n.firestore,ti),r=aN(n),i=_N(n.converter,e);return r0(t,[fN(Em(n.firestore),"addDoc",r._key,i,null!==n.converter,{}).toMutation(r._key,li.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new su(this.firestore,t))}isEqual(e){return YH(this._delegate,e._delegate)}withConverter(e){return new s0(this.firestore,this._delegate.withConverter(e?Tm.getInstance(this.firestore,e):null))}}function Am(n){return Kn(n,ei)}class XF{constructor(...e){this._delegate=new Pd(...e)}static documentId(){return new XF(Ai.keyField().canonicalString())}isEqual(e){return(e=(0,q.m9)(e))instanceof Pd&&this._delegate._internalPath.isEqual(e._internalPath)}}class Dm{constructor(e){this._delegate=e}static serverTimestamp(){const e=function iee(){return new HF("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new Dm(e)}static delete(){const e=function ree(){return new TC("deleteField")}();return e._methodName="FieldValue.delete",new Dm(e)}static arrayUnion(...e){const t=function see(...n){return new SX("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new Dm(t)}static arrayRemove(...e){const t=function oee(...n){return new xX("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new Dm(t)}static increment(e){const t=function aee(n){return new NX("increment",n)}(e);return t._methodName="FieldValue.increment",new Dm(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const pee={Firestore:N5,GeoPoint:dN,Timestamp:ui,Blob:xC,Transaction:M5,WriteBatch:k5,DocumentReference:su,DocumentSnapshot:NC,Query:bo,QueryDocumentSnapshot:MC,QuerySnapshot:JF,CollectionReference:s0,FieldPath:XF,FieldValue:Dm,setLogLevel:function hee(n){!function lY(n){Mf.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};function P5(n,e){return function _ee(n,e=SE.z){return new Xs.y(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{r?.()}})}(n,e)}function eU(n,e){return P5(n,e).pipe((0,St.U)(t=>({payload:t,type:"query"})))}function vN(n,e){return eU(n,e).pipe(gh(void 0),kg(),(0,St.U)(([t,r])=>{const i=r.payload.docChanges(),u=i.map(d=>({type:d.type,payload:d}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((d,p)=>{const v=i.find(S=>S.doc.ref.isEqual(d.ref)),I=t?.payload.docs.find(S=>S.ref.isEqual(d.ref));v&&JSON.stringify(v.doc.metadata)===JSON.stringify(d.metadata)||!v&&I&&JSON.stringify(I.metadata)===JSON.stringify(d.metadata)||u.push({type:"modified",payload:{oldIndex:p,newIndex:p,type:"modified",doc:d}})}),u}))}function L5(n,e,t){return vN(n,t).pipe(Ru((r,i)=>function vee(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function bee(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return tU(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return tU(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return tU(n,e.oldIndex,1)}return n}(n,r))}),n}(r,i.map(u=>u.payload),e),[]),_d(),(0,St.U)(r=>r.map(i=>({type:i.type,payload:i}))))}function tU(n,e,t,...r){const i=n.slice();return i.splice(e,t,...r),i}function F5(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}!function mee(n){(function gee(n,e){n.INTERNAL.registerComponent(new Wu.wA("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),i=t.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},pee)))})(n,(e,t)=>new N5(e,t,new dee)),n.registerVersion("@firebase/firestore-compat","0.2.3")}(eP.Z);class U5{constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=vN(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,St.U)(r=>r.filter(i=>e.indexOf(i.type)>-1)))),t.pipe(gh(void 0),kg(),ys(([r,i])=>i.length>0||!r),(0,St.U)(([r,i])=>i),_n.iC)}auditTrail(e){return this.stateChanges(e).pipe(Ru((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=F5(e);return L5(this.query,t,this.afs.schedulers.outsideAngular).pipe(_n.iC)}valueChanges(e={}){return eU(this.query,this.afs.schedulers.outsideAngular).pipe((0,St.U)(t=>t.payload.docs.map(r=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data())),_n.iC)}get(e){return(0,Hn.D)(this.query.get(e)).pipe(_n.iC)}add(e){return this.ref.add(e)}doc(e){return new V5(this.ref.doc(e),this.afs)}}class V5{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:i,query:u}=$5(r,t);return new U5(i,u,this.afs)}snapshotChanges(){return function yee(n,e){return P5(n,e).pipe(gh(void 0),kg(),(0,St.U)(([t,r])=>r.exists?t?.exists?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(_n.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,St.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,Hn.D)(this.ref.get(e)).pipe(_n.iC)}}class wee{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?vN(this.query,this.afs.schedulers.outsideAngular).pipe((0,St.U)(t=>t.filter(r=>e.indexOf(r.type)>-1)),ys(t=>t.length>0),_n.iC):vN(this.query,this.afs.schedulers.outsideAngular).pipe(_n.iC)}auditTrail(e){return this.stateChanges(e).pipe(Ru((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=F5(e);return L5(this.query,t,this.afs.schedulers.outsideAngular).pipe(_n.iC)}valueChanges(e={}){return eU(this.query,this.afs.schedulers.outsideAngular).pipe((0,St.U)(r=>r.payload.docs.map(i=>e.idField?Object.assign({[e.idField]:i.id},i.data()):i.data())),_n.iC)}get(e){return(0,Hn.D)(this.query.get(e)).pipe(_n.iC)}}const B5=new l.OlP("angularfire2.enableFirestorePersistence"),j5=new l.OlP("angularfire2.firestore.persistenceSettings"),Eee=new l.OlP("angularfire2.firestore.settings"),Iee=new l.OlP("angularfire2.firestore.use-emulator");function $5(n,e=(t=>t)){return{query:e(n),ref:n}}let H5=(()=>{class n{constructor(t,r,i,u,d,p,v,I,S,M,P,$,Q,le,ye,lt,dt){this.schedulers=v;const bt=(0,Tr.on)(t,p,r),_t=S;M&&mE(bt,p,P,Q,le,ye,$,lt),[this.firestore,this.persistenceEnabled$]=(0,Tr.cc)(`${bt.name}.firestore`,"AngularFirestore",bt.name,()=>{const ft=p.runOutsideAngular(()=>bt.firestore());if(u&&ft.settings(u),_t&&ft.useEmulator(..._t),i&&!Oa(d)){const yt=()=>{try{return(0,Hn.D)(ft.enablePersistence(I||void 0).then(()=>!0,()=>!1))}catch(fn){return typeof console<"u"&&console.warn(fn),Tt(!1)}};return[ft,p.runOutsideAngular(yt)]}return[ft,Tt(!1)]},[u,_t,i])}collection(t,r){let i;i="string"==typeof t?this.firestore.collection(t):t;const{ref:u,query:d}=$5(i,r),p=this.schedulers.ngZone.run(()=>u);return new U5(p,d,this)}collectionGroup(t,r){const i=r||(d=>d),u=this.firestore.collectionGroup(t);return new wee(i(u),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const i=this.schedulers.ngZone.run(()=>r);return new V5(i,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Tr.Dh),l.LFG(Tr.xv,8),l.LFG(B5,8),l.LFG(Eee,8),l.LFG(l.Lbi),l.LFG(l.R0b),l.LFG(_n.HU),l.LFG(j5,8),l.LFG(Iee,8),l.LFG(to,8),l.LFG(Mg,8),l.LFG(md,8),l.LFG(hE,8),l.LFG(fE,8),l.LFG(pE,8),l.LFG(gE,8),l.LFG(Ng,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),Cee=(()=>{class n{constructor(){$t.Z.registerVersion("angularfire",_n.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:B5,useValue:!0},{provide:j5,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[H5]}),n})();const Aee=new l.OlP("angularfire2.functions.origin"),G5=new l.OlP("angularfire2.functions.region"),Dee=new l.OlP("angularfire2.functions.use-emulator");let nU=(()=>{class n{constructor(t,r,i,u,d,p,v,I){const S=v,M=Tt(void 0).pipe((0,fd.Q)(u.outsideAngular),ir(()=>V.e(568).then(V.bind(V,7568))),(0,St.U)(()=>(0,Tr.on)(t,i,r)),(0,St.U)(P=>(0,Tr.cc)(`${P.name}.functions.${d||p}`,"AngularFireFunctions",P.name,()=>{let $;if(d&&p)throw new Error("REGION and ORIGIN can't be used at the same time.");return $=P.functions(d||p||void 0),S&&$.useEmulator(...S),$},[d,p,S])),si({bufferSize:1,refCount:!1}));return this.httpsCallable=(P,$)=>Q=>(0,Hn.D)(M).pipe((0,fd.Q)(u.insideAngular),ir(le=>le.httpsCallable(P,$)(Q)),(0,St.U)(le=>le.data)),(0,Tr.pX)(this,M,i)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Tr.Dh),l.LFG(Tr.xv,8),l.LFG(l.R0b),l.LFG(_n.HU),l.LFG(G5,8),l.LFG(Aee,8),l.LFG(Dee,8),l.LFG(Ng,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),See=(()=>{class n{constructor(){$t.Z.registerVersion("angularfire",_n.q4.full,"fn-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[nU]}),n})();var xee=V(4159),Nee=V.n(xee);V(2125),V(5473),V(9812),V(7792),V(2910),function(){(function(){var n,t,e="function"==typeof Object.create?Object.create:function(s){function h(){}return h.prototype=s,new h};if("function"==typeof Object.setPrototypeOf)t=Object.setPrototypeOf;else{var r;e:{var u={};try{u.__proto__={xb:!0},r=u.xb;break e}catch{}r=!1}t=r?function(s,h){if(s.__proto__=h,s.__proto__!==h)throw new TypeError(s+" is not extensible");return s}:null}var d=t;function p(s,h){if(s.prototype=e(h.prototype),s.prototype.constructor=s,d)d(s,h);else for(var m in h)if("prototype"!=m)if(Object.defineProperties){var b=Object.getOwnPropertyDescriptor(h,m);b&&Object.defineProperty(s,m,b)}else s[m]=h[m];s.K=h.prototype}var v="function"==typeof Object.defineProperties?Object.defineProperty:function(s,h,m){s!=Array.prototype&&s!=Object.prototype&&(s[h]=m.value)},I=typeof window<"u"&&window===this?this:typeof global<"u"&&null!=global?global:this;function S(s,h){if(h){var m=I;s=s.split(".");for(var b=0;b<s.length-1;b++){var T=s[b];T in m||(m[T]={}),m=m[T]}(h=h(b=m[s=s[s.length-1]]))!=b&&null!=h&&v(m,s,{configurable:!0,writable:!0,value:h})}}S("Object.is",function(s){return s||function(h,m){return h===m?0!==h||1/h==1/m:h!=h&&m!=m}}),S("Array.prototype.includes",function(s){return s||function(h,m){var b=this;b instanceof String&&(b=String(b));var T=b.length;for(0>(m=m||0)&&(m=Math.max(m+T,0));m<T;m++){var x=b[m];if(x===h||Object.is(x,h))return!0}return!1}});var M=this;function P(s){return void 0!==s}function $(s){return"string"==typeof s}var Q=/^[\w+/_-]+[=]{0,2}$/,le=null;function ye(){}function lt(s){s.W=void 0,s.Xa=function(){return s.W?s.W:s.W=new s}}function dt(s){var h=typeof s;if("object"==h){if(!s)return"null";if(s instanceof Array)return"array";if(s instanceof Object)return h;var m=Object.prototype.toString.call(s);if("[object Window]"==m)return"object";if("[object Array]"==m||"number"==typeof s.length&&typeof s.splice<"u"&&typeof s.propertyIsEnumerable<"u"&&!s.propertyIsEnumerable("splice"))return"array";if("[object Function]"==m||typeof s.call<"u"&&typeof s.propertyIsEnumerable<"u"&&!s.propertyIsEnumerable("call"))return"function"}else if("function"==h&&typeof s.call>"u")return"object";return h}function bt(s){return"array"==dt(s)}function _t(s){var h=dt(s);return"array"==h||"object"==h&&"number"==typeof s.length}function ft(s){return"function"==dt(s)}function yt(s){var h=typeof s;return"object"==h&&null!=s||"function"==h}var fn="closure_uid_"+(1e9*Math.random()>>>0),Mr=0;function ji(s,h,m){return s.call.apply(s.bind,arguments)}function $i(s,h,m){if(!s)throw Error();if(2<arguments.length){var b=Array.prototype.slice.call(arguments,2);return function(){var T=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(T,b),s.apply(h,T)}}return function(){return s.apply(h,arguments)}}function tn(s,h,m){return(tn=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ji:$i).apply(null,arguments)}function hs(s,h){var m=Array.prototype.slice.call(arguments,1);return function(){var b=m.slice();return b.push.apply(b,arguments),s.apply(this,b)}}function kn(s,h){for(var m in h)s[m]=h[m]}var Fm,Io=Date.now||function(){return+new Date};function lr(s,h){s=s.split(".");var b,m=M;s[0]in m||typeof m.execScript>"u"||m.execScript("var "+s[0]);for(;s.length&&(b=s.shift());)!s.length&&P(h)?m[b]=h:m=m[b]&&m[b]!==Object.prototype[b]?m[b]:m[b]={}}function Yt(s,h){function m(){}m.prototype=h.prototype,s.K=h.prototype,s.prototype=new m,s.prototype.constructor=s,s.vc=function(b,T,x){for(var B=Array(arguments.length-2),ee=2;ee<arguments.length;ee++)B[ee-2]=arguments[ee];return h.prototype[T].apply(b,B)}}function ni(s){if(Error.captureStackTrace)Error.captureStackTrace(this,ni);else{var h=Error().stack;h&&(this.stack=h)}s&&(this.message=String(s))}function nl(s,h){for(var m="",b=(s=s.split("%s")).length-1,T=0;T<b;T++)m+=s[T]+(T<h.length?h[T]:"%s");ni.call(this,m+s[b])}function zo(s,h){throw new nl("Failure"+(s?": "+s:""),Array.prototype.slice.call(arguments,1))}Yt(ni,Error),ni.prototype.name="CustomError",Yt(nl,ni),nl.prototype.name="AssertionError";var E0=Array.prototype.indexOf?function(s,h){return Array.prototype.indexOf.call(s,h,void 0)}:function(s,h){if($(s))return $(h)&&1==h.length?s.indexOf(h,0):-1;for(var m=0;m<s.length;m++)if(m in s&&s[m]===h)return m;return-1},rl=Array.prototype.forEach?function(s,h,m){Array.prototype.forEach.call(s,h,m)}:function(s,h,m){for(var b=s.length,T=$(s)?s.split(""):s,x=0;x<b;x++)x in T&&h.call(m,T[x],x,s)},np=Array.prototype.filter?function(s,h){return Array.prototype.filter.call(s,h,void 0)}:function(s,h){for(var m=s.length,b=[],T=0,x=$(s)?s.split(""):s,B=0;B<m;B++)if(B in x){var ee=x[B];h.call(void 0,ee,B,s)&&(b[T++]=ee)}return b},hc=Array.prototype.map?function(s,h){return Array.prototype.map.call(s,h,void 0)}:function(s,h){for(var m=s.length,b=Array(m),T=$(s)?s.split(""):s,x=0;x<m;x++)x in T&&(b[x]=h.call(void 0,T[x],x,s));return b},Um=Array.prototype.some?function(s,h){return Array.prototype.some.call(s,h,void 0)}:function(s,h){for(var m=s.length,b=$(s)?s.split(""):s,T=0;T<m;T++)if(T in b&&h.call(void 0,b[T],T,s))return!0;return!1};function Hs(s,h){return 0<=E0(s,h)}function fc(s,h){var m;return(m=0<=(h=E0(s,h)))&&rp(s,h),m}function rp(s,h){return 1==Array.prototype.splice.call(s,h,1).length}function XN(s){return Array.prototype.concat.apply([],arguments)}function HC(s){var h=s.length;if(0<h){for(var m=Array(h),b=0;b<h;b++)m[b]=s[b];return m}return[]}function WU(s,h,m){return 2>=arguments.length?Array.prototype.slice.call(s,h):Array.prototype.slice.call(s,h,m)}var Co=String.prototype.trim?function(s){return s.trim()}:function(s){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(s)[1]},eM=/&/g,tM=/</g,qU=/>/g,zU=/"/g,Hd=/'/g,C0=/\x00/g,nM=/[\x00&<>"']/;function T0(s,h){return s<h?-1:s>h?1:0}function pc(s){return nM.test(s)&&(-1!=s.indexOf("&")&&(s=s.replace(eM,"&amp;")),-1!=s.indexOf("<")&&(s=s.replace(tM,"&lt;")),-1!=s.indexOf(">")&&(s=s.replace(qU,"&gt;")),-1!=s.indexOf('"')&&(s=s.replace(zU,"&quot;")),-1!=s.indexOf("'")&&(s=s.replace(Hd,"&#39;")),-1!=s.indexOf("\0")&&(s=s.replace(C0,"&#0;"))),s}function GC(s,h,m){for(var b in s)h.call(m,s[b],b,s)}function A0(s){var m,h={};for(m in s)h[m]=s[m];return h}var ZC="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Vm(s,h){for(var m,b,T=1;T<arguments.length;T++){for(m in b=arguments[T])s[m]=b[m];for(var x=0;x<ZC.length;x++)m=ZC[x],Object.prototype.hasOwnProperty.call(b,m)&&(s[m]=b[m])}}var D0="StopIteration"in M?M.StopIteration:{message:"StopIteration",stack:""};function Bm(){}function NZ(s){if(s instanceof Bm)return s;if("function"==typeof s.ha)return s.ha(!1);if(_t(s)){var h=0,m=new Bm;return m.next=function(){for(;;){if(h>=s.length)throw D0;if(h in s)return s[h++];h++}},m}throw Error("Not implemented")}function rM(s,h){this.g={},this.a=[],this.j=this.h=0;var m=arguments.length;if(1<m){if(m%2)throw Error("Uneven number of arguments");for(var b=0;b<m;b+=2)this.set(arguments[b],arguments[b+1])}else if(s)if(s instanceof rM)for(m=s.ja(),b=0;b<m.length;b++)this.set(m[b],s.get(m[b]));else for(b in s)this.set(b,s[b])}function iM(s){if(s.h!=s.a.length){for(var h=0,m=0;h<s.a.length;){var b=s.a[h];jm(s.g,b)&&(s.a[m++]=b),h++}s.a.length=m}if(s.h!=s.a.length){var T={};for(m=h=0;h<s.a.length;)jm(T,b=s.a[h])||(s.a[m++]=b,T[b]=1),h++;s.a.length=m}}function jm(s,h){return Object.prototype.hasOwnProperty.call(s,h)}Bm.prototype.next=function(){throw D0},Bm.prototype.ha=function(){return this},(n=rM.prototype).la=function(){iM(this);for(var s=[],h=0;h<this.a.length;h++)s.push(this.g[this.a[h]]);return s},n.ja=function(){return iM(this),this.a.concat()},n.clear=function(){this.g={},this.j=this.h=this.a.length=0},n.get=function(s,h){return jm(this.g,s)?this.g[s]:h},n.set=function(s,h){jm(this.g,s)||(this.h++,this.a.push(s),this.j++),this.g[s]=h},n.forEach=function(s,h){for(var m=this.ja(),b=0;b<m.length;b++){var T=m[b],x=this.get(T);s.call(h,x,T,this)}},n.ha=function(s){iM(this);var h=0,m=this.j,b=this,T=new Bm;return T.next=function(){if(m!=b.j)throw Error("The map has changed since the iterator was created");if(h>=b.a.length)throw D0;var x=b.a[h++];return s?x:b.g[x]},T};var Ioe=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function MZ(s,h,m,b){for(var T=m.length;0<=(h=s.indexOf(m,h))&&h<b;){var x=s.charCodeAt(h-1);if(!(38!=x&&63!=x||(x=s.charCodeAt(h+T))&&61!=x&&38!=x&&35!=x))return h;h+=T+1}return-1}var kZ=/#|$/;function sM(s,h){var m=s.search(kZ),b=MZ(s,0,h,m);if(0>b)return null;var T=s.indexOf("&",b);return(0>T||T>m)&&(T=m),b+=h.length+1,decodeURIComponent(s.substr(b,T-b).replace(/\+/g," "))}var Toe=/[?&]($|#)/;function ip(s,h){var m;this.h=this.A=this.j="",this.C=null,this.s=this.g="",this.i=!1,s instanceof ip?(this.i=P(h)?h:s.i,KU(this,s.j),this.A=s.A,this.h=s.h,YU(this,s.C),this.g=s.g,QU(this,PZ(s.a)),this.s=s.s):s&&(m=String(s).match(Ioe))?(this.i=!!h,KU(this,m[1]||"",!0),this.A=WC(m[2]||""),this.h=WC(m[3]||"",!0),YU(this,m[4]),this.g=WC(m[5]||"",!0),QU(this,m[6]||"",!0),this.s=WC(m[7]||"")):(this.i=!!h,this.a=new zC(null,this.i))}function KU(s,h,m){s.j=m?WC(h,!0):h,s.j&&(s.j=s.j.replace(/:$/,""))}function YU(s,h){if(h){if(h=Number(h),isNaN(h)||0>h)throw Error("Bad port number "+h);s.C=h}else s.C=null}function QU(s,h,m){h instanceof zC?(s.a=h,function Moe(s,h){h&&!s.j&&(sp(s),s.h=null,s.a.forEach(function(m,b){var T=b.toLowerCase();b!=T&&($m(this,b),$m(this,T),0<m.length&&(this.h=null,this.a.set(S0(this,T),HC(m)),this.g+=m.length))},s)),s.j=h}(s.a,s.i)):(m||(h=qC(h,xoe)),s.a=new zC(h,s.i))}function JU(s){return s instanceof ip?new ip(s):new ip(s,void 0)}function WC(s,h){return s?h?decodeURI(s.replace(/%25/g,"%2525")):decodeURIComponent(s):""}function qC(s,h,m){return $(s)?(s=encodeURI(s).replace(h,Aoe),m&&(s=s.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),s):null}function Aoe(s){return"%"+((s=s.charCodeAt(0))>>4&15).toString(16)+(15&s).toString(16)}ip.prototype.toString=function(){var s=[],h=this.j;h&&s.push(qC(h,RZ,!0),":");var m=this.h;return(m||"file"==h)&&(s.push("//"),(h=this.A)&&s.push(qC(h,RZ,!0),"@"),s.push(encodeURIComponent(String(m)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(m=this.C)&&s.push(":",String(m))),(m=this.g)&&(this.h&&"/"!=m.charAt(0)&&s.push("/"),s.push(qC(m,"/"==m.charAt(0)?Soe:Doe,!0))),(m=this.a.toString())&&s.push("?",m),(m=this.s)&&s.push("#",qC(m,Noe)),s.join("")};var RZ=/[#\/\?@]/g,Doe=/[#\?:]/g,Soe=/[#\?]/g,xoe=/[#\?@]/g,Noe=/#/g;function zC(s,h){this.g=this.a=null,this.h=s||null,this.j=!!h}function sp(s){s.a||(s.a=new rM,s.g=0,s.h&&function Coe(s,h){if(s){s=s.split("&");for(var m=0;m<s.length;m++){var b=s[m].indexOf("="),T=null;if(0<=b){var x=s[m].substring(0,b);T=s[m].substring(b+1)}else x=s[m];h(x,T?decodeURIComponent(T.replace(/\+/g," ")):"")}}}(s.h,function(h,m){s.add(decodeURIComponent(h.replace(/\+/g," ")),m)}))}function $m(s,h){sp(s),h=S0(s,h),jm(s.a.g,h)&&(s.h=null,s.g-=s.a.get(h).length,jm((s=s.a).g,h)&&(delete s.g[h],s.h--,s.j++,s.a.length>2*s.h&&iM(s)))}function OZ(s,h){return sp(s),h=S0(s,h),jm(s.a.g,h)}function PZ(s){var h=new zC;return h.h=s.h,s.a&&(h.a=new rM(s.a),h.g=s.g),h}function S0(s,h){return h=String(h),s.j&&(h=h.toLowerCase()),h}function Hm(s){this.a=JU(s)}function LZ(s){return s.a.a.get(ts.Pa)||null}function FZ(s,h){h?s.a.a.set(ts.PROVIDER_ID,h):$m(s.a.a,ts.PROVIDER_ID)}(n=zC.prototype).add=function(s,h){sp(this),this.h=null,s=S0(this,s);var m=this.a.get(s);return m||this.a.set(s,m=[]),m.push(h),this.g+=1,this},n.clear=function(){this.a=this.h=null,this.g=0},n.forEach=function(s,h){sp(this),this.a.forEach(function(m,b){rl(m,function(T){s.call(h,T,b,this)},this)},this)},n.ja=function(){sp(this);for(var s=this.a.la(),h=this.a.ja(),m=[],b=0;b<h.length;b++)for(var T=s[b],x=0;x<T.length;x++)m.push(h[b]);return m},n.la=function(s){sp(this);var h=[];if($(s))OZ(this,s)&&(h=XN(h,this.a.get(S0(this,s))));else{s=this.a.la();for(var m=0;m<s.length;m++)h=XN(h,s[m])}return h},n.set=function(s,h){return sp(this),this.h=null,OZ(this,s=S0(this,s))&&(this.g-=this.a.get(s).length),this.a.set(s,[h]),this.g+=1,this},n.get=function(s,h){return s&&0<(s=this.la(s)).length?String(s[0]):h},n.toString=function(){if(this.h)return this.h;if(!this.a)return"";for(var s=[],h=this.a.ja(),m=0;m<h.length;m++){var b=h[m],T=encodeURIComponent(String(b));b=this.la(b);for(var x=0;x<b.length;x++){var B=T;""!==b[x]&&(B+="="+encodeURIComponent(String(b[x]))),s.push(B)}}return this.h=s.join("&")},Hm.prototype.toString=function(){return this.a.toString()};var x0,ts={Pa:"ui_auid",lc:"apiKey",Qa:"ui_sd",ub:"mode",$a:"oobCode",PROVIDER_ID:"ui_pid",Sa:"ui_sid",vb:"tenantId"};e:{var UZ=M.navigator;if(UZ){var VZ=UZ.userAgent;if(VZ){x0=VZ;break e}}x0=""}function Wn(s){return-1!=x0.indexOf(s)}function BZ(){return(Wn("Chrome")||Wn("CriOS"))&&!Wn("Edge")}function XU(s){return XU[" "](s),s}XU[" "]=ye;var oM,s,jZ=Wn("Opera"),xi=Wn("Trident")||Wn("MSIE"),op=Wn("Edge"),Poe=op||xi,il=Wn("Gecko")&&!(-1!=x0.toLowerCase().indexOf("webkit")&&!Wn("Edge"))&&!(Wn("Trident")||Wn("MSIE"))&&!Wn("Edge"),To=-1!=x0.toLowerCase().indexOf("webkit")&&!Wn("Edge"),Loe=To&&Wn("Mobile"),ap=Wn("Macintosh");function $Z(){var s=M.document;return s?s.documentMode:void 0}e:{var eV="",tV=(s=x0,il?/rv:([^\);]+)(\)|;)/.exec(s):op?/Edge\/([\d\.]+)/.exec(s):xi?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(s):To?/WebKit\/(\S+)/.exec(s):jZ?/(?:Version)[ \/]?(\S+)/.exec(s):void 0);if(tV&&(eV=tV?tV[1]:""),xi){var nV=$Z();if(null!=nV&&nV>parseFloat(eV)){oM=String(nV);break e}}oM=eV}var Foe={};function Gm(s){return function Ooe(s,h){var m=Foe;return Object.prototype.hasOwnProperty.call(m,s)?m[s]:m[s]=h(s)}(s,function(){for(var h=0,m=Co(String(oM)).split("."),b=Co(String(s)).split("."),T=Math.max(m.length,b.length),x=0;0==h&&x<T;x++){var B=m[x]||"",ee=b[x]||"";do{if(B=/(\d*)(\D*)(.*)/.exec(B)||["","","",""],ee=/(\d*)(\D*)(.*)/.exec(ee)||["","","",""],0==B[0].length&&0==ee[0].length)break;h=T0(0==B[1].length?0:parseInt(B[1],10),0==ee[1].length?0:parseInt(ee[1],10))||T0(0==B[2].length,0==ee[2].length)||T0(B[2],ee[2]),B=B[3],ee=ee[3]}while(0==h)}return 0<=h})}var KC,HZ=M.document;function N0(s,h){this.a=s===ZZ&&h||"",this.g=GZ}KC=HZ&&xi?$Z()||("CSS1Compat"==HZ.compatMode?parseInt(oM,10):5):void 0,N0.prototype.ma=!0,N0.prototype.ka=function(){return this.a},N0.prototype.toString=function(){return"Const{"+this.a+"}"};var GZ={},ZZ={};function Zm(){this.a="",this.h=qZ}function WZ(s){return s instanceof Zm&&s.constructor===Zm&&s.h===qZ?s.a:(zo("expected object of type TrustedResourceUrl, got '"+s+"' of type "+dt(s)),"type_error:TrustedResourceUrl")}Zm.prototype.ma=!0,Zm.prototype.ka=function(){return this.a.toString()},Zm.prototype.g=function(){return 1},Zm.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var qZ={};function Ea(){this.a="",this.h=YZ}function up(s){return s instanceof Ea&&s.constructor===Ea&&s.h===YZ?s.a:(zo("expected object of type SafeUrl, got '"+s+"' of type "+dt(s)),"type_error:SafeUrl")}Ea.prototype.ma=!0,Ea.prototype.ka=function(){return this.a.toString()},Ea.prototype.g=function(){return 1},Ea.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var zZ=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function aM(s){return s instanceof Ea?s:(s="object"==typeof s&&s.ma?s.ka():String(s),zZ.test(s)||(s="about:invalid#zClosurez"),rV(s))}function KZ(s){return s instanceof Ea?s:(s="object"==typeof s&&s.ma?s.ka():String(s),zZ.test(s)||(s="about:invalid#zClosurez"),rV(s))}var YZ={};function rV(s){var h=new Ea;return h.a=s,h}function M0(){this.a="",this.g=QZ}rV("about:blank"),M0.prototype.ma=!0;var QZ={};function lp(){this.a="",this.j=JZ,this.h=null}function uM(s){return s instanceof lp&&s.constructor===lp&&s.j===JZ?s.a:(zo("expected object of type SafeHtml, got '"+s+"' of type "+dt(s)),"type_error:SafeHtml")}M0.prototype.ka=function(){return this.a},M0.prototype.toString=function(){return"SafeStyle{"+this.a+"}"},lp.prototype.g=function(){return this.h},lp.prototype.ma=!0,lp.prototype.ka=function(){return this.a.toString()},lp.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var JZ={};function YC(s,h){var m=new lp;return m.a=s,m.h=h,m}YC("<!DOCTYPE html>",0);var Voe=YC("",0);YC("<br>",0);var m,h,Boe=(h=!1,function(){return h||(m=function(){if(typeof document>"u")return!1;var s=document.createElement("div"),h=document.createElement("div");return h.appendChild(document.createElement("div")),s.appendChild(h),!!s.firstChild&&(h=s.firstChild.firstChild,s.innerHTML=uM(Voe),!h.parentElement)}(),h=!0),m});function k0(s,h){h=h instanceof Ea?h:KZ(h),s.assign(up(h))}function cp(s,h){this.a=P(s)?s:0,this.g=P(h)?h:0}function iV(s,h){this.width=s,this.height=h}function lM(s){return s?new uV(QC(s)):Fm||(Fm=new uV)}function sV(s,h){var m=h||document;return m.querySelectorAll&&m.querySelector?m.querySelectorAll("."+s):XZ(document,s,h)}function oV(s,h){var m=h||document;if(m.getElementsByClassName)s=m.getElementsByClassName(s)[0];else{m=document;var b=h||m;s=b.querySelectorAll&&b.querySelector&&s?b.querySelector(s?"."+s:""):XZ(m,s,h)[0]||null}return s||null}function XZ(s,h,m){var b;if((s=m||s).querySelectorAll&&s.querySelector&&h)return s.querySelectorAll(h?"."+h:"");if(h&&s.getElementsByClassName){var T=s.getElementsByClassName(h);return T}if(T=s.getElementsByTagName("*"),h){var x={};for(m=b=0;s=T[m];m++){var B=s.className;"function"==typeof B.split&&Hs(B.split(/\s+/),h)&&(x[b++]=s)}return x.length=b,x}return T}cp.prototype.toString=function(){return"("+this.a+", "+this.g+")"},cp.prototype.ceil=function(){return this.a=Math.ceil(this.a),this.g=Math.ceil(this.g),this},cp.prototype.floor=function(){return this.a=Math.floor(this.a),this.g=Math.floor(this.g),this},cp.prototype.round=function(){return this.a=Math.round(this.a),this.g=Math.round(this.g),this},(n=iV.prototype).toString=function(){return"("+this.width+" x "+this.height+")"},n.aspectRatio=function(){return this.width/this.height},n.ceil=function(){return this.width=Math.ceil(this.width),this.height=Math.ceil(this.height),this},n.floor=function(){return this.width=Math.floor(this.width),this.height=Math.floor(this.height),this},n.round=function(){return this.width=Math.round(this.width),this.height=Math.round(this.height),this};var e8={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function cM(s){return s.scrollingElement?s.scrollingElement:(To||"CSS1Compat"!=s.compatMode)&&s.body||s.documentElement}function Wm(s){s&&s.parentNode&&s.parentNode.removeChild(s)}function QC(s){return 9==s.nodeType?s:s.ownerDocument||s.document}function aV(s,h){if("textContent"in s)s.textContent=h;else if(3==s.nodeType)s.data=String(h);else if(s.firstChild&&3==s.firstChild.nodeType){for(;s.lastChild!=s.firstChild;)s.removeChild(s.lastChild);s.firstChild.data=String(h)}else{for(var m;m=s.firstChild;)s.removeChild(m);s.appendChild(QC(s).createTextNode(String(h)))}}function t8(s,h){return h?function Hoe(s,h){for(;s;){if(h(s))return s;s=s.parentNode}return null}(s,function(m){return!h||$(m.className)&&Hs(m.className.split(/\s+/),h)}):null}function uV(s){this.a=s||M.document||document}uV.prototype.N=function(){return $(void 0)?this.a.getElementById(void 0):void 0};var dM={Fc:!0},n8={Hc:!0},Goe={Ec:!0},r8={Gc:!0};function dp(){throw Error("Do not instantiate directly")}function JC(s,h,m,b){if(s=s(h||qoe,void 0,m),b=(b||lM()).a.createElement("DIV"),(s=function Zoe(s){if(!yt(s))return pc(String(s));if(s instanceof dp){if(s.fa===dM)return s.content;if(s.fa===r8)return pc(s.content)}return zo("Soy template output is unsafe for use as HTML: "+s),"zSoyz"}(s)).match(Woe),s=YC(s,null),Boe())for(;b.lastChild;)b.removeChild(b.lastChild);return b.innerHTML=uM(s),1==b.childNodes.length&&1==(s=b.firstChild).nodeType&&(b=s),b}dp.prototype.va=null,dp.prototype.toString=function(){return this.content};var Woe=/^<(body|caption|col|colgroup|head|html|tr|td|th|tbody|thead|tfoot)>/i,qoe={};function hM(){dp.call(this)}function pn(s){return null!=s&&s.fa===dM?s:s instanceof lp?kt(uM(s).toString(),s.g()):kt(pc(String(String(s))),function zoe(s){if(null!=s)switch(s.va){case 1:return 1;case-1:return-1;case 0:return 0}return null}(s))}function fM(){dp.call(this)}function pM(s,h){this.content=String(s),this.va=h??null}function or(s){return new pM(s,void 0)}Yt(hM,dp),hM.prototype.fa=dM,Yt(fM,dp),fM.prototype.fa=n8,fM.prototype.va=1,Yt(pM,dp),pM.prototype.fa=r8;var kt=function(s){function h(m){this.content=m}return h.prototype=s.prototype,function(m,b){return m=new h(String(m)),void 0!==b&&(m.va=b),m}}(hM),Koe=function(s){function h(m){this.content=m}return h.prototype=s.prototype,function(m){return new h(String(m))}}(fM);function Ni(s){return(s=String(s))?new pM(s,void 0):""}var i8=function(s){function h(m){this.content=m}return h.prototype=s.prototype,function(m,b){return(m=String(m))?(m=new h(m),void 0!==b&&(m.va=b),m):""}}(hM);function Ao(s){return null!=s&&s.fa===dM?String(String(s.content).replace(rae,"").replace(iae,"&lt;")).replace(eae,Joe):pc(String(s))}function qm(s){return null!=s&&s.fa===n8?s=String(s).replace(cV,lV):s instanceof Ea?s=String(up(s).toString()).replace(cV,lV):(s=String(s),nae.test(s)?s=s.replace(cV,lV):(zo("Bad value `%s` for |filterNormalizeUri",[s]),s="#zSoyz")),s}function s8(s){return null!=s&&s.fa===Goe?s=s.content:null==s?s="":s instanceof M0?s instanceof M0&&s.constructor===M0&&s.g===QZ?s=s.a:(zo("expected object of type SafeStyle, got '"+s+"' of type "+dt(s)),s="type_error:SafeStyle"):(s=String(s),tae.test(s)||(zo("Bad value `%s` for |filterCssValue",[s]),s="zSoyz")),s}var Qoe={"\0":"&#0;","\t":"&#9;","\n":"&#10;","\v":"&#11;","\f":"&#12;","\r":"&#13;"," ":"&#32;",'"':"&quot;","&":"&amp;","'":"&#39;","-":"&#45;","/":"&#47;","<":"&lt;","=":"&#61;",">":"&gt;","`":"&#96;","\x85":"&#133;","\xa0":"&#160;","\u2028":"&#8232;","\u2029":"&#8233;"};function Joe(s){return Qoe[s]}var Xoe={"\0":"%00","\x01":"%01","\x02":"%02","\x03":"%03","\x04":"%04","\x05":"%05","\x06":"%06","\x07":"%07","\b":"%08","\t":"%09","\n":"%0A","\v":"%0B","\f":"%0C","\r":"%0D","\x0e":"%0E","\x0f":"%0F","\x10":"%10","\x11":"%11","\x12":"%12","\x13":"%13","\x14":"%14","\x15":"%15","\x16":"%16","\x17":"%17","\x18":"%18","\x19":"%19","\x1a":"%1A","\x1b":"%1B","\x1c":"%1C","\x1d":"%1D","\x1e":"%1E","\x1f":"%1F"," ":"%20",'"':"%22","'":"%27","(":"%28",")":"%29","<":"%3C",">":"%3E","\\":"%5C","{":"%7B","}":"%7D","\x7f":"%7F","\x85":"%C2%85","\xa0":"%C2%A0","\u2028":"%E2%80%A8","\u2029":"%E2%80%A9","\uff01":"%EF%BC%81","\uff03":"%EF%BC%83","\uff04":"%EF%BC%84","\uff06":"%EF%BC%86","\uff07":"%EF%BC%87","\uff08":"%EF%BC%88","\uff09":"%EF%BC%89","\uff0a":"%EF%BC%8A","\uff0b":"%EF%BC%8B","\uff0c":"%EF%BC%8C","\uff0f":"%EF%BC%8F","\uff1a":"%EF%BC%9A","\uff1b":"%EF%BC%9B","\uff1d":"%EF%BC%9D","\uff1f":"%EF%BC%9F","\uff20":"%EF%BC%A0","\uff3b":"%EF%BC%BB","\uff3d":"%EF%BC%BD"};function lV(s){return Xoe[s]}var eae=/[\x00\x22\x27\x3c\x3e]/g,cV=/[\x00- \x22\x27-\x29\x3c\x3e\\\x7b\x7d\x7f\x85\xa0\u2028\u2029\uff01\uff03\uff04\uff06-\uff0c\uff0f\uff1a\uff1b\uff1d\uff1f\uff20\uff3b\uff3d]/g,tae=/^(?!-*(?:expression|(?:moz-)?binding))(?:[.#]?-?(?:[_a-z0-9-]+)(?:-[_a-z0-9-]+)*-?|-?(?:[0-9]+(?:\.[0-9]*)?|\.[0-9]+)(?:[a-z]{1,2}|%)?|!important|)$/i,nae=/^(?![^#?]*\/(?:\.|%2E){2}(?:[\/?#]|$))(?:(?:https?|mailto):|[^&:\/?#]*(?:[\/?#]|$))/i,rae=/<(?:!|\/?([a-zA-Z][a-zA-Z0-9:\-]*))(?:[^>'"]|"[^"]*"|'[^']*')*>/g,iae=/</g;function dV(){return or("Enter a valid phone number")}function o8(){return or("Unable to send password reset code to specified email")}function a8(){return or("Something went wrong. Please try again.")}function u8(){return or("This email already exists without any means of sign-in. Please reset the password to recover.")}function l8(s){var h="";switch((s=s||{}).code){case"invalid-argument":h+="Client specified an invalid argument.";break;case"invalid-configuration":h+="Client specified an invalid project configuration.";break;case"failed-precondition":h+="Request can not be executed in the current system state.";break;case"out-of-range":h+="Client specified an invalid range.";break;case"unauthenticated":h+="Request not authenticated due to missing, invalid, or expired OAuth token.";break;case"permission-denied":h+="Client does not have sufficient permission.";break;case"not-found":h+="Specified resource is not found.";break;case"aborted":h+="Concurrency conflict, such as read-modify-write conflict.";break;case"already-exists":h+="The resource that a client tried to create already exists.";break;case"resource-exhausted":h+="Either out of resource quota or reaching rate limiting.";break;case"cancelled":h+="Request cancelled by the client.";break;case"data-loss":h+="Unrecoverable data loss or data corruption.";break;case"unknown":h+="Unknown server error.";break;case"internal":h+="Internal server error.";break;case"not-implemented":h+="API method not implemented by the server.";break;case"unavailable":h+="Service unavailable.";break;case"deadline-exceeded":h+="Request deadline exceeded.";break;case"auth/user-disabled":h+="The user account has been disabled by an administrator.";break;case"auth/timeout":h+="The operation has timed out.";break;case"auth/too-many-requests":h+="We have blocked all requests from this device due to unusual activity. Try again later.";break;case"auth/quota-exceeded":h+="The quota for this operation has been exceeded. Try again later.";break;case"auth/network-request-failed":h+="A network error has occurred. Try again later.";break;case"restart-process":h+="An issue was encountered when authenticating your request. Please visit the URL that redirected you to this page again to restart the authentication process.";break;case"no-matching-tenant-for-email":h+="No sign-in provider is available for the given email, please try with a different email."}return or(h)}function XC(s,h,m){var b=Error.call(this);this.message=b.message,"stack"in b&&(this.stack=b.stack),this.code=sae+s,(s=h)||("firebaseui/merge-conflict"===(s="",this.code)?s+="The current anonymous user failed to upgrade. The non-anonymous credential is already associated with a different user account.":s+=a8(),s=or(s).toString()),this.message=s||"",this.credential=m||null}p(XC,Error),XC.prototype.toJSON=function(){return{code:this.code,message:this.message}};var sae="firebaseui/";function zm(){0!=hV&&(d8[this[fn]||(this[fn]=++Mr)]=this),this.T=this.T,this.C=this.C}var hV=0,d8={};function eT(s,h){s.T?P(void 0)?h.call(void 0):h():(s.C||(s.C=[]),s.C.push(P(void 0)?tn(h,void 0):h))}function tT(s){s&&"function"==typeof s.m&&s.m()}zm.prototype.T=!1,zm.prototype.m=function(){if(!this.T&&(this.T=!0,this.o(),0!=hV)){var s=this[fn]||(this[fn]=++Mr);if(0!=hV&&this.C&&0<this.C.length)throw Error(this+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete d8[s]}},zm.prototype.o=function(){if(this.C)for(;this.C.length;)this.C.shift()()};var oae=Object.freeze||function(s){return s},h8=!xi||9<=Number(KC),aae=xi&&!Gm("9"),uae=function(){if(!M.addEventListener||!Object.defineProperty)return!1;var s=!1,h=Object.defineProperty({},"passive",{get:function(){s=!0}});try{M.addEventListener("test",ye,h),M.removeEventListener("test",ye,h)}catch{}return s}();function Gd(s,h){this.type=s,this.g=this.target=h,this.h=!1,this.qb=!0}function Do(s,h){if(Gd.call(this,s?s.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.j=this.keyCode=0,this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,s){var m=this.type=s.type,b=s.changedTouches&&s.changedTouches.length?s.changedTouches[0]:null;if(this.target=s.target||s.srcElement,this.g=h,h=s.relatedTarget){if(il){e:{try{XU(h.nodeName);var T=!0;break e}catch{}T=!1}T||(h=null)}}else"mouseover"==m?h=s.fromElement:"mouseout"==m&&(h=s.toElement);this.relatedTarget=h,b?(this.clientX=void 0!==b.clientX?b.clientX:b.pageX,this.clientY=void 0!==b.clientY?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=void 0!==s.clientX?s.clientX:s.pageX,this.clientY=void 0!==s.clientY?s.clientY:s.pageY,this.screenX=s.screenX||0,this.screenY=s.screenY||0),this.button=s.button,this.keyCode=s.keyCode||0,this.key=s.key||"",this.j=s.charCode||("keypress"==m?s.keyCode:0),this.ctrlKey=s.ctrlKey,this.altKey=s.altKey,this.shiftKey=s.shiftKey,this.metaKey=s.metaKey,this.pointerId=s.pointerId||0,this.pointerType=$(s.pointerType)?s.pointerType:lae[s.pointerType]||"",this.a=s,s.defaultPrevented&&this.preventDefault()}}Gd.prototype.stopPropagation=function(){this.h=!0},Gd.prototype.preventDefault=function(){this.qb=!1},Yt(Do,Gd);var lae=oae({2:"touch",3:"pen",4:"mouse"});Do.prototype.stopPropagation=function(){Do.K.stopPropagation.call(this),this.a.stopPropagation?this.a.stopPropagation():this.a.cancelBubble=!0},Do.prototype.preventDefault=function(){Do.K.preventDefault.call(this);var s=this.a;if(s.preventDefault)s.preventDefault();else if(s.returnValue=!1,aae)try{(s.ctrlKey||112<=s.keyCode&&123>=s.keyCode)&&(s.keyCode=-1)}catch{}};var nT="closure_listenable_"+(1e6*Math.random()|0),cae=0;function dae(s,h,m,b,T){this.listener=s,this.proxy=null,this.src=h,this.type=m,this.capture=!!b,this.La=T,this.key=++cae,this.sa=this.Ia=!1}function gM(s){s.sa=!0,s.listener=null,s.proxy=null,s.src=null,s.La=null}function mM(s){this.src=s,this.a={},this.g=0}function fV(s,h){var m=h.type;m in s.a&&fc(s.a[m],h)&&(gM(h),0==s.a[m].length&&(delete s.a[m],s.g--))}function pV(s,h,m,b){for(var T=0;T<s.length;++T){var x=s[T];if(!x.sa&&x.listener==h&&x.capture==!!m&&x.La==b)return T}return-1}mM.prototype.add=function(s,h,m,b,T){var x=s.toString();(s=this.a[x])||(s=this.a[x]=[],this.g++);var B=pV(s,h,b,T);return-1<B?(h=s[B],m||(h.Ia=!1)):((h=new dae(h,this.src,x,!!b,T)).Ia=m,s.push(h)),h};var gV="closure_lm_"+(1e6*Math.random()|0),mV={};function sl(s,h,m,b,T){if(b&&b.once)return rT(s,h,m,b,T);if(bt(h)){for(var x=0;x<h.length;x++)sl(s,h[x],m,b,T);return null}return m=yV(m),s&&s[nT]?s.J.add(String(h),m,!1,yt(b)?!!b.capture:!!b,T):p8(s,h,m,!1,b,T)}function p8(s,h,m,b,T,x){if(!h)throw Error("Invalid event type");var B=yt(T)?!!T.capture:!!T,ee=_M(s);if(ee||(s[gV]=ee=new mM(s)),(m=ee.add(h,m,b,B,x)).proxy)return m;if(b=function hae(){var s=fae,h=h8?function(m){return s.call(h.src,h.listener,m)}:function(m){if(!(m=s.call(h.src,h.listener,m)))return m};return h}(),m.proxy=b,b.src=s,b.listener=m,s.addEventListener)uae||(T=B),void 0===T&&(T=!1),s.addEventListener(h.toString(),b,T);else if(s.attachEvent)s.attachEvent(g8(h.toString()),b);else{if(!s.addListener||!s.removeListener)throw Error("addEventListener and attachEvent are unavailable.");s.addListener(b)}return m}function rT(s,h,m,b,T){if(bt(h)){for(var x=0;x<h.length;x++)rT(s,h[x],m,b,T);return null}return m=yV(m),s&&s[nT]?s.J.add(String(h),m,!0,yt(b)?!!b.capture:!!b,T):p8(s,h,m,!0,b,T)}function Km(s,h,m,b,T){if(bt(h))for(var x=0;x<h.length;x++)Km(s,h[x],m,b,T);else b=yt(b)?!!b.capture:!!b,m=yV(m),s&&s[nT]?(s=s.J,(h=String(h).toString())in s.a&&-1<(m=pV(x=s.a[h],m,b,T))&&(gM(x[m]),rp(x,m),0==x.length&&(delete s.a[h],s.g--))):s&&(s=_M(s))&&(h=s.a[h.toString()],s=-1,h&&(s=pV(h,m,b,T)),(m=-1<s?h[s]:null)&&hp(m))}function hp(s){if("number"!=typeof s&&s&&!s.sa){var h=s.src;if(h&&h[nT])fV(h.J,s);else{var m=s.type,b=s.proxy;h.removeEventListener?h.removeEventListener(m,b,s.capture):h.detachEvent?h.detachEvent(g8(m),b):h.addListener&&h.removeListener&&h.removeListener(b),(m=_M(h))?(fV(m,s),0==m.g&&(m.src=null,h[gV]=null)):gM(s)}}}function g8(s){return s in mV?mV[s]:mV[s]="on"+s}function m8(s,h,m,b){var T=!0;if((s=_M(s))&&(h=s.a[h.toString()]))for(h=h.concat(),s=0;s<h.length;s++){var x=h[s];x&&x.capture==m&&!x.sa&&(x=_8(x,b),T=T&&!1!==x)}return T}function _8(s,h){var m=s.listener,b=s.La||s.src;return s.Ia&&hp(s),m.call(b,h)}function fae(s,h){if(s.sa)return!0;if(!h8){if(!h)e:{h=["window","event"];for(var m=M,b=0;b<h.length;b++)if(null==(m=m[h[b]])){h=null;break e}h=m}if(h=new Do(b=h,this),m=!0,!(0>b.keyCode||null!=b.returnValue)){e:{var T=!1;if(0==b.keyCode)try{b.keyCode=-1;break e}catch{T=!0}(T||null==b.returnValue)&&(b.returnValue=!0)}for(b=[],T=h.g;T;T=T.parentNode)b.push(T);for(s=s.type,T=b.length-1;!h.h&&0<=T;T--){h.g=b[T];var x=m8(b[T],s,!0,h);m=m&&x}for(T=0;!h.h&&T<b.length;T++)h.g=b[T],x=m8(b[T],s,!1,h),m=m&&x}return m}return _8(s,new Do(h,this))}function _M(s){return(s=s[gV])instanceof mM?s:null}var _V="__closure_events_fn_"+(1e9*Math.random()>>>0);function yV(s){return ft(s)?s:(s[_V]||(s[_V]=function(h){return s.handleEvent(h)}),s[_V])}function ns(){zm.call(this),this.J=new mM(this),this.wb=this,this.Ha=null}function fp(s,h){var m,b=s.Ha;if(b)for(m=[];b;b=b.Ha)m.push(b);if(s=s.wb,b=h.type||h,$(h))h=new Gd(h,s);else if(h instanceof Gd)h.target=h.target||s;else{var T=h;Vm(h=new Gd(b,s),T)}if(T=!0,m)for(var x=m.length-1;!h.h&&0<=x;x--){var B=h.g=m[x];T=yM(B,b,!0,h)&&T}if(h.h||(T=yM(B=h.g=s,b,!0,h)&&T,h.h||(T=yM(B,b,!1,h)&&T)),m)for(x=0;!h.h&&x<m.length;x++)T=yM(B=h.g=m[x],b,!1,h)&&T;return T}function yM(s,h,m,b){if(!(h=s.J.a[String(h)]))return!0;h=h.concat();for(var T=!0,x=0;x<h.length;++x){var B=h[x];if(B&&!B.sa&&B.capture==m){var ee=B.listener,Le=B.La||B.src;B.Ia&&fV(s.J,B),T=!1!==ee.call(Le,b)&&T}}return T&&0!=b.qb}Yt(ns,zm),ns.prototype[nT]=!0,ns.prototype.Za=function(s){this.Ha=s},ns.prototype.removeEventListener=function(s,h,m,b){Km(this,s,h,m,b)},ns.prototype.o=function(){if(ns.K.o.call(this),this.J){var m,s=this.J;for(m in s.a){for(var b=s.a[m],T=0;T<b.length;T++)gM(b[T]);delete s.a[m],s.g--}}this.Ha=null};var Ia={},y8=0;function v8(s,h){if(!s)throw Error("Event target element must be provided!");if(s=vV(s),Ia[s]&&Ia[s].length)for(var m=0;m<Ia[s].length;m++)fp(Ia[s][m],h)}function vV(s){return typeof s.a>"u"&&(s.a=y8,y8++),s.a}function vM(s){if(!s)throw Error("Event target element must be provided!");ns.call(this),this.a=s}function b8(s){if(!s)return!1;try{return!!s.$goog_Thenable}catch{return!1}}function bV(s,h){this.h=s,this.j=h,this.g=0,this.a=null}function w8(s,h){s.j(h),100>s.g&&(s.g++,h.next=s.a,s.a=h)}function E8(){this.g=this.a=null}p(vM,ns),vM.prototype.N=function(){return this.a},vM.prototype.register=function(){var s=vV(this.N());Ia[s]?Hs(Ia[s],this)||Ia[s].push(this):Ia[s]=[this]},bV.prototype.get=function(){if(0<this.g){this.g--;var s=this.a;this.a=s.next,s.next=null}else s=this.h();return s};var EV,bM,I8=new bV(function(){return new wV},function(s){s.reset()});function gae(){var s=T8,h=null;return s.a&&(h=s.a,s.a=s.a.next,s.a||(s.g=null),h.next=null),h}function wV(){this.next=this.g=this.a=null}function C8(s){M.setTimeout(function(){throw s},0)}function IV(s,h){bM||function _ae(){if(M.Promise&&M.Promise.resolve){var s=M.Promise.resolve(void 0);bM=function(){s.then(A8)}}else bM=function(){var h=A8;!ft(M.setImmediate)||M.Window&&M.Window.prototype&&!Wn("Edge")&&M.Window.prototype.setImmediate==M.setImmediate?(EV||(EV=function mae(){var s=M.MessageChannel;if(typeof s>"u"&&typeof window<"u"&&window.postMessage&&window.addEventListener&&!Wn("Presto")&&(s=function(){var T=document.createElement("IFRAME");T.style.display="none",T.src="",document.documentElement.appendChild(T);var x=T.contentWindow;(T=x.document).open(),T.write(""),T.close();var B="callImmediate"+Math.random(),ee="file:"==x.location.protocol?"*":x.location.protocol+"//"+x.location.host;T=tn(function(Le){("*"==ee||Le.origin==ee)&&Le.data==B&&this.port1.onmessage()},this),x.addEventListener("message",T,!1),this.port1={},this.port2={postMessage:function(){x.postMessage(B,ee)}}}),typeof s<"u"&&!Wn("Trident")&&!Wn("MSIE")){var h=new s,m={},b=m;return h.port1.onmessage=function(){if(P(m.next)){var T=(m=m.next).gb;m.gb=null,T()}},function(T){b.next={gb:T},b=b.next,h.port2.postMessage(0)}}return typeof document<"u"&&"onreadystatechange"in document.createElement("SCRIPT")?function(T){var x=document.createElement("SCRIPT");x.onreadystatechange=function(){x.onreadystatechange=null,x.parentNode.removeChild(x),x=null,T(),T=null},document.documentElement.appendChild(x)}:function(T){M.setTimeout(T,0)}}()),EV(h)):M.setImmediate(h)}}(),CV||(bM(),CV=!0),T8.add(s,h)}E8.prototype.add=function(s,h){var m=I8.get();m.set(s,h),this.g?this.g.next=m:this.a=m,this.g=m},wV.prototype.set=function(s,h){this.a=s,this.g=h,this.next=null},wV.prototype.reset=function(){this.next=this.g=this.a=null};var CV=!1,T8=new E8;function A8(){for(var s;s=gae();){try{s.a.call(s.g)}catch(h){C8(h)}w8(I8,s)}CV=!1}function rs(s){if(this.a=Ym,this.A=void 0,this.j=this.g=this.h=null,this.s=this.i=!1,s!=ye)try{var h=this;s.call(void 0,function(m){Qm(h,iT,m)},function(m){if(!(m instanceof O0))try{throw m instanceof Error?m:Error("Promise rejected.")}catch{}Qm(h,Zd,m)})}catch(m){Qm(this,Zd,m)}}var Ym=0,iT=2,Zd=3;function D8(){this.next=this.j=this.g=this.s=this.a=null,this.h=!1}D8.prototype.reset=function(){this.j=this.g=this.s=this.a=null,this.h=!1};var S8=new bV(function(){return new D8},function(s){s.reset()});function TV(s,h,m){var b=S8.get();return b.s=s,b.g=h,b.j=m,b}function Mi(s){if(s instanceof rs)return s;var h=new rs(ye);return Qm(h,iT,s),h}function R0(s){return new rs(function(h,m){m(s)})}function x8(s,h){if(s.a==Ym)if(s.h){var m=s.h;if(m.g){for(var b=0,T=null,x=null,B=m.g;B&&(B.h||(b++,B.a==s&&(T=B),!(T&&1<b)));B=B.next)T||(x=B);T&&(m.a==Ym&&1==b?x8(m,h):(x?((b=x).next==m.j&&(m.j=b),b.next=b.next.next):k8(m),R8(m,T,Zd,h)))}s.h=null}else Qm(s,Zd,h)}function AV(s,h){s.g||s.a!=iT&&s.a!=Zd||M8(s),s.j?s.j.next=h:s.g=h,s.j=h}function N8(s,h,m,b){var T=TV(null,null,null);return T.a=new rs(function(x,B){T.s=h?function(ee){try{var Le=h.call(b,ee);x(Le)}catch(ct){B(ct)}}:x,T.g=m?function(ee){try{var Le=m.call(b,ee);!P(Le)&&ee instanceof O0?B(ee):x(Le)}catch(ct){B(ct)}}:B}),T.a.h=s,AV(s,T),T.a}function Qm(s,h,m){if(s.a==Ym){s===m&&(h=Zd,m=new TypeError("Promise cannot resolve to itself")),s.a=1;e:{var b=m,T=s.hc,x=s.ic;if(b instanceof rs){AV(b,TV(T||ye,x||null,s));var B=!0}else if(b8(b))b.then(T,x,s),B=!0;else{if(yt(b))try{var ee=b.then;if(ft(ee)){(function yae(s,h,m,b,T){function x(Le){ee||(ee=!0,b.call(T,Le))}var ee=!1;try{h.call(s,function B(Le){ee||(ee=!0,m.call(T,Le))},x)}catch(Le){x(Le)}})(b,ee,T,x,s),B=!0;break e}}catch(Le){x.call(s,Le),B=!0;break e}B=!1}}B||(s.A=m,s.a=h,s.h=null,M8(s),h!=Zd||m instanceof O0||function vae(s,h){s.s=!0,IV(function(){s.s&&P8.call(null,h)})}(s,m))}}function M8(s){s.i||(s.i=!0,IV(s.Hb,s))}function k8(s){var h=null;return s.g&&(s.g=(h=s.g).next,h.next=null),s.g||(s.j=null),h}function R8(s,h,m,b){if(m==Zd&&h.g&&!h.h)for(;s&&s.s;s=s.h)s.s=!1;if(h.a)h.a.h=null,O8(h,m,b);else try{h.h?h.s.call(h.j):O8(h,m,b)}catch(T){P8.call(null,T)}w8(S8,h)}function O8(s,h,m){h==iT?s.s.call(s.j,m):s.g&&s.g.call(s.j,m)}rs.prototype.then=function(s,h,m){return N8(this,ft(s)?s:null,ft(h)?h:null,m)},rs.prototype.$goog_Thenable=!0,(n=rs.prototype).fc=function(s,h){return(s=TV(s,s,h)).h=!0,AV(this,s),this},n.Ca=function(s,h){return N8(this,null,s,h)},n.cancel=function(s){this.a==Ym&&IV(function(){x8(this,new O0(s))},this)},n.hc=function(s){this.a=Ym,Qm(this,iT,s)},n.ic=function(s){this.a=Ym,Qm(this,Zd,s)},n.Hb=function(){for(var s;s=k8(this);)R8(this,s,this.a,this.A);this.i=!1};var P8=C8;function O0(s){ni.call(this,s)}function L8(s,h,m){h||(h={}),m=m||window;var b=s instanceof Ea?s:aM(typeof s.href<"u"?s.href:String(s));s=h.target||s.target;var T=[];for(x in h)switch(x){case"width":case"height":case"top":case"left":T.push(x+"="+h[x]);break;case"target":case"noopener":case"noreferrer":break;default:T.push(x+"="+(h[x]?1:0))}var x=T.join(",");return(Wn("iPhone")&&!Wn("iPod")&&!Wn("iPad")||Wn("iPad")||Wn("iPod"))&&m.navigator&&m.navigator.standalone&&s&&"_self"!=s?(x=m.document.createElement("A"),b=b instanceof Ea?b:KZ(b),x.href=up(b),x.setAttribute("target",s),h.noreferrer&&x.setAttribute("rel","noreferrer"),(h=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,m,1),x.dispatchEvent(h),m={}):h.noreferrer?(m=m.open("",s,x),h=up(b).toString(),m&&(Poe&&-1!=h.indexOf(";")&&(h="'"+h.replace(/'/g,"%27")+"'"),m.opener=null,h=YC('<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+pc(h)+'">',null),m.document.write(uM(h)),m.document.close())):(m=m.open(up(b).toString(),s,x))&&h.noopener&&(m.opener=null),m}function F8(){try{return!(!window.opener||!window.opener.location||window.opener.location.hostname!==window.location.hostname||window.opener.location.protocol!==window.location.protocol)}catch{}return!1}function P0(s){L8(s,{target:window.cordova&&window.cordova.InAppBrowser?"_system":"_blank"},void 0)}function wM(s,h){if(null==(s=yt(s)&&1==s.nodeType?s:document.querySelector(String(s))))throw Error(h||"Cannot find element.");return s}function Wd(){return window.location.href}function pp(s){var h=Tae;this.s=[],this.T=h,this.O=s||null,this.j=this.a=!1,this.h=void 0,this.J=this.l=this.A=!1,this.i=0,this.g=null,this.C=0}function sT(s,h,m){s.a=!0,s.h=m,s.j=!h,B8(s)}function EM(s){if(s.a){if(!s.J)throw new IM(s);s.J=!1}}function U8(s,h,m){s.s.push([h,m,void 0]),s.a&&B8(s)}function V8(s){return Um(s.s,function(h){return ft(h[1])})}function B8(s){if(s.i&&s.a&&V8(s)){var h=s.i,m=CM[h];m&&(M.clearTimeout(m.a),delete CM[h]),s.i=0}s.g&&(s.g.C--,delete s.g),h=s.h;for(var b=m=!1;s.s.length&&!s.A;){var T=s.s.shift(),x=T[0],B=T[1];if(T=T[2],x=s.j?B:x)try{var ee=x.call(T||s.O,h);P(ee)&&(s.j=s.j&&(ee==h||ee instanceof Error),s.h=h=ee),(b8(h)||"function"==typeof M.Promise&&h instanceof M.Promise)&&(b=!0,s.A=!0)}catch(Le){h=Le,s.j=!0,V8(s)||(m=!0)}}s.h=h,b&&(ee=tn(s.L,s,!0),b=tn(s.L,s,!1),h instanceof pp?(U8(h,ee,b),h.l=!0):h.then(ee,b)),m&&(h=new j8(h),CM[h.a]=h,s.i=h.a)}function IM(){ni.call(this)}function oT(){ni.call(this)}function j8(s){this.a=M.setTimeout(tn(this.h,this),0),this.g=s}Yt(O0,ni),O0.prototype.name="cancel",pp.prototype.cancel=function(s){if(this.a)this.h instanceof pp&&this.h.cancel();else{if(this.g){var h=this.g;delete this.g,s?h.cancel(s):(h.C--,0>=h.C&&h.cancel())}this.T?this.T.call(this.O,this):this.J=!0,this.a||(s=new oT(this),EM(this),sT(this,!1,s))}},pp.prototype.L=function(s,h){this.A=!1,sT(this,s,h)},pp.prototype.callback=function(s){EM(this),sT(this,!0,s)},pp.prototype.then=function(s,h,m){var b,T,x=new rs(function(B,ee){b=B,T=ee});return U8(this,b,function(B){B instanceof oT?x.cancel():T(B)}),x.then(s,h,m)},pp.prototype.$goog_Thenable=!0,Yt(IM,ni),IM.prototype.message="Deferred has already fired",IM.prototype.name="AlreadyCalledError",Yt(oT,ni),oT.prototype.message="Deferred was canceled",oT.prototype.name="CanceledError",j8.prototype.h=function(){throw delete CM[this.a],this.g};var CM={};function Tae(){if(this&&this.rb){var s=this.rb;s&&"SCRIPT"==s.tagName&&TM(s,!0,this.sb)}}function TM(s,h,m){null!=m&&M.clearTimeout(m),s.onload=ye,s.onerror=ye,s.onreadystatechange=ye,h&&window.setTimeout(function(){Wm(s)},0)}var Aae=0,Dae=1;function DV(s,h){var m="Jsloader error (code #"+s+")";h&&(m+=": "+h),ni.call(this,m),this.code=s}function aT(){return M.google&&M.google.accounts&&M.google.accounts.id||null}function SV(s){this.a=s||aT(),this.h=!1,this.g=null}function $8(s,h,m){return s.a&&h?(s.h=!0,new rs(function(T){s.g=T,s.a.initialize({client_id:h,callback:T,auto_select:!m}),s.a.prompt()})):Mi(h?xV.Xa().load().then(function(){return s.a=aT(),$8(s,h,m)}).Ca(function(){return null}):null)}Yt(DV,ni),SV.prototype.cancel=function(){this.a&&this.h&&(this.g&&this.g(null),this.a.cancel())},lt(SV);var Sae=new N0(ZZ,"https://accounts.google.com/gsi/client");function xV(){this.a=null}function NV(s,h){this.a=s,this.g=h||function(m){throw m}}function MV(s,h,m){this.reset(s,h,m,void 0,void 0)}function kV(s){this.s=s,this.a=this.h=this.j=this.g=null}function AM(s,h){this.name=s,this.value=h}xV.prototype.load=function(){var s=this;if(this.a)return this.a;var h=function Uoe(){var s=Sae;s instanceof N0&&s.constructor===N0&&s.g===GZ?s=s.a:(zo("expected object of type Const, got '"+s+"'"),s="type_error:Const");var h=new Zm;return h.a=s,h}();return aT()?Mi():this.a=function bae(){var s=null;return new rs(function(h){"complete"==M.document.readyState?h():(s=function(){h()},rT(window,"load",s))}).Ca(function(h){throw Km(window,"load",s),h})}().then(function(){if(!aT())return new rs(function(m,b){var T=setTimeout(function(){s.a=null,b(Error("Network error!"))},1e4);M.onGoogleLibraryLoad=function(){clearTimeout(T),m()},Mi(function Iae(s){var h={},m=h.document||document,b=WZ(s).toString(),T=document.createElement("SCRIPT"),x={rb:T,sb:void 0},B=new pp(x),ee=null,Le=null!=h.timeout?h.timeout:5e3;return 0<Le&&(ee=window.setTimeout(function(){TM(T,!0);var ct=new DV(Dae,"Timeout reached for loading script "+b);EM(B),sT(B,!1,ct)},Le),x.sb=ee),T.onload=T.onreadystatechange=function(){T.readyState&&"loaded"!=T.readyState&&"complete"!=T.readyState||(TM(T,h.xc||!1,ee),B.callback(null))},T.onerror=function(){TM(T,!0,ee);var ct=new DV(Aae,"Error while loading script "+b);EM(B),sT(B,!1,ct)},Vm(x=h.attributes||{},{type:"text/javascript",charset:"UTF-8"}),function $oe(s,h){GC(h,function(m,b){m&&"object"==typeof m&&m.ma&&(m=m.ka()),"style"==b?s.style.cssText=m:"class"==b?s.className=m:"for"==b?s.htmlFor=m:e8.hasOwnProperty(b)?s.setAttribute(e8[b],m):0==b.lastIndexOf("aria-",0)||0==b.lastIndexOf("data-",0)?s.setAttribute(b,m):s[b]=m})}(T,x),function joe(s,h){s.src=WZ(h),null===le&&(le=(h=(h=M.document).querySelector&&h.querySelector("script[nonce]"))&&(h=h.nonce||h.getAttribute("nonce"))&&Q.test(h)?h:""),(h=le)&&s.setAttribute("nonce",h)}(T,s),function Cae(s){var h=(s||document).getElementsByTagName("HEAD");return h&&0!=h.length?h[0]:s.documentElement}(m).appendChild(T),B}(h)).then(function(){aT()&&m()}).Ca(function(x){clearTimeout(T),s.a=null,b(x)})})})},lt(xV),NV.prototype.confirm=function(s){return Mi(this.a.confirm(s)).Ca(this.g)},MV.prototype.a=null,MV.prototype.reset=function(s,h,m,b,T){this.h=b||Io(),this.j=s,this.s=h,this.g=m,delete this.a},AM.prototype.toString=function(){return this.name};var H8=new AM("SEVERE",1e3),G8=new AM("WARNING",900),Z8=new AM("CONFIG",700);function W8(s){return s.j?s.j:s.g?W8(s.g):(zo("Root logger has no level set."),null)}kV.prototype.log=function(s,h,m){if(s.value>=W8(this).value)for(ft(h)&&(h=h()),s=new MV(s,String(h),this.s),m&&(s.a=m),m=this;m;){var b=m,T=s;if(b.a)for(var x=0;h=b.a[x];x++)h(T);m=m.g}};var RV={},uT=null;function q8(){uT||(uT=new kV(""),RV[""]=uT,uT.j=Z8)}function DM(){this.a=Io()}var OV=null;function lT(s){this.j=s||"",OV||(OV=new DM),this.s=OV}function Jm(s){return 10>s?"0"+s:String(s)}function K8(s){lT.call(this,s)}function Y8(){this.s=tn(this.h,this),this.a=new K8,this.a.g=!1,this.a.h=!1,this.g=this.a.a=!1,this.j={}}DM.prototype.set=function(s){this.a=s},DM.prototype.reset=function(){this.set(Io())},DM.prototype.get=function(){return this.a},lT.prototype.a=!0,lT.prototype.g=!0,lT.prototype.h=!1,Yt(K8,lT),Y8.prototype.h=function(s){if(!this.j[s.g]){var m=function Mae(s,h){var m=[];if(m.push(s.j," "),s.g){var b=new Date(h.h);m.push("[",Jm(b.getFullYear()-2e3)+Jm(b.getMonth()+1)+Jm(b.getDate())+" "+Jm(b.getHours())+":"+Jm(b.getMinutes())+":"+Jm(b.getSeconds())+"."+Jm(Math.floor(b.getMilliseconds()/10)),"] ")}return m.push("[",function Nae(s,h){h=(s=(s.h-h)/1e3).toFixed(3);var m=0;if(1>s)m=2;else for(;100>s;)m++,s*=10;for(;0<m--;)h=" "+h;return h}(h,s.s.get()),"s] "),m.push("[",h.g,"] "),m.push(h.s),s.h&&(h=h.a)&&m.push("\n",h instanceof Error?h.message:h.toString()),s.a&&m.push("\n"),m.join("")}(this.a,s);kae&&function Rae(s,h,m,b){s[h]?s[h](m,b||""):s.log(m,b||"")}(kae,function h(x){if(x){if(x.value>=H8.value)return"error";if(x.value>=G8.value)return"warn";if(x.value>=Z8.value)return"log"}return"debug"}(s.j),m,s.a)}};var PV,kae=M.console;function Ca(s,h){PV&&PV.log(H8,s,h)}PV=function z8(s){var h;if(q8(),!(h=RV[s])){h=new kV(s);var m=s.lastIndexOf("."),b=s.substr(m+1);(m=z8(s.substr(0,m))).h||(m.h={}),m.h[b]=h,h.g=m,RV[s]=h}return h}("firebaseui");var LV=new Y8;if(1!=LV.g){var SM;q8();var Oae=LV.s;(SM=uT).a||(SM.a=[]),SM.a.push(Oae),LV.g=!0}function gp(s){PV&&PV.log(G8,s,void 0)}function Q8(){this.a=(typeof document>"u"?null:document)||{cookie:""}}function FV(s){s=(s.a.cookie||"").split(";");for(var b,T,h=[],m=[],x=0;x<s.length;x++)-1==(b=(T=Co(s[x])).indexOf("="))?(h.push(""),m.push(T)):(h.push(T.substring(0,b)),m.push(T.substring(b+1)));return{keys:h,values:m}}(n=Q8.prototype).set=function(s,h,m,b,T,x){if(/[;=\s]/.test(s))throw Error('Invalid cookie name "'+s+'"');if(/[;\r\n]/.test(h))throw Error('Invalid cookie value "'+h+'"');P(m)||(m=-1),T=T?";domain="+T:"",b=b?";path="+b:"",x=x?";secure":"",m=0>m?"":0==m?";expires="+new Date(1970,1,1).toUTCString():";expires="+new Date(Io()+1e3*m).toUTCString(),this.a.cookie=s+"="+h+T+b+m+x},n.get=function(s,h){for(var x,m=s+"=",b=(this.a.cookie||"").split(";"),T=0;T<b.length;T++){if(0==(x=Co(b[T])).lastIndexOf(m,0))return x.substr(m.length);if(x==s)return""}return h},n.ja=function(){return FV(this).keys},n.la=function(){return FV(this).values},n.clear=function(){for(var s=FV(this).keys,h=s.length-1;0<=h;h--){var m=s[h];this.get(m),this.set(m,"",0,void 0,void 0)}};var xM=new Q8;function J8(){}function L0(s,h,m,b){this.h=typeof s<"u"&&null!==s?s:-1,this.g=h||null,this.a=m||null,this.j=!!b}function UV(s,h){this.g=s,this.a=h||null}function X8(s){return{email:s.g,credential:s.a&&s.a.toJSON()}}function eW(s){if(s&&s.email){var h=s.credential&&$t.Z.auth.AuthCredential.fromJSON(s.credential);return new UV(s.email,h)}return null}function tW(s){this.a=s||null}function nW(s){for(var h=[],m=0,b=0;b<s.length;b++){var T=s.charCodeAt(b);255<T&&(h[m++]=255&T,T>>=8),h[m++]=T}return h}function Pae(s){return hc(s,function(h){return 1<(h=h.toString(16)).length?h:"0"+h}).join("")}function NM(s){for(this.i=s,this.g=this.i.length/4,this.j=this.g+6,this.h=[[],[],[],[]],this.s=[[],[],[],[]],this.a=Array(F0*(this.j+1)),s=0;s<this.g;s++)this.a[s]=[this.i[4*s],this.i[4*s+1],this.i[4*s+2],this.i[4*s+3]];var h=Array(4);for(s=this.g;s<F0*(this.j+1);s++){if(h[0]=this.a[s-1][0],h[1]=this.a[s-1][1],h[2]=this.a[s-1][2],h[3]=this.a[s-1][3],s%this.g==0){var m=h,b=m[0];m[0]=m[1],m[1]=m[2],m[2]=m[3],m[3]=b,aW(h),h[0]^=kM[s/this.g][0],h[1]^=kM[s/this.g][1],h[2]^=kM[s/this.g][2],h[3]^=kM[s/this.g][3]}else 6<this.g&&s%this.g==4&&aW(h);this.a[s]=Array(4),this.a[s][0]=this.a[s-this.g][0]^h[0],this.a[s][1]=this.a[s-this.g][1]^h[1],this.a[s][2]=this.a[s-this.g][2]^h[2],this.a[s][3]=this.a[s-this.g][3]^h[3]}}p(L0,J8),L0.prototype.set=function(s,h){xM.set(s,h,this.h,this.g,this.a,this.j)},L0.prototype.get=function(s){return xM.get(s)||null},L0.prototype.ra=function(s){var h=this.g,m=this.a;xM.get(s),xM.set(s,"",0,h,m)};var F0=(NM.prototype.A=16)/4;function rW(s,h){for(var b=0;b<F0;b++)for(var T=0;4>T;T++)s.h[b][T]=h[4*T+b]}function iW(s){for(var h=[],m=0;m<F0;m++)for(var b=0;4>b;b++)h[4*b+m]=s.h[m][b];return h}function U0(s,h){for(var m=0;4>m;m++)for(var b=0;4>b;b++)s.h[m][b]^=s.a[4*h+b][m]}function MM(s,h){for(var m=0;4>m;m++)for(var b=0;4>b;b++)s.h[m][b]=h[s.h[m][b]]}function sW(s){for(var h=1;4>h;h++)for(var m=0;4>m;m++)s.s[h][m]=s.h[h][m];for(h=1;4>h;h++)for(m=0;4>m;m++)s.h[h][m]=s.s[h][(m+h)%F0]}function oW(s){for(var h=1;4>h;h++)for(var m=0;4>m;m++)s.s[h][(m+h)%F0]=s.h[h][m];for(h=1;4>h;h++)for(m=0;4>m;m++)s.h[h][m]=s.s[h][m]}function aW(s){s[0]=V0[s[0]],s[1]=V0[s[1]],s[2]=V0[s[2]],s[3]=V0[s[3]]}var V0=[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22],uW=[82,9,106,213,48,54,165,56,191,64,163,158,129,243,215,251,124,227,57,130,155,47,255,135,52,142,67,68,196,222,233,203,84,123,148,50,166,194,35,61,238,76,149,11,66,250,195,78,8,46,161,102,40,217,36,178,118,91,162,73,109,139,209,37,114,248,246,100,134,104,152,22,212,164,92,204,93,101,182,146,108,112,72,80,253,237,185,218,94,21,70,87,167,141,157,132,144,216,171,0,140,188,211,10,247,228,88,5,184,179,69,6,208,44,30,143,202,63,15,2,193,175,189,3,1,19,138,107,58,145,17,65,79,103,220,234,151,242,207,206,240,180,230,115,150,172,116,34,231,173,53,133,226,249,55,232,28,117,223,110,71,241,26,113,29,41,197,137,111,183,98,14,170,24,190,27,252,86,62,75,198,210,121,32,154,219,192,254,120,205,90,244,31,221,168,51,136,7,199,49,177,18,16,89,39,128,236,95,96,81,127,169,25,181,74,13,45,229,122,159,147,201,156,239,160,224,59,77,174,42,245,176,200,235,187,60,131,83,153,97,23,43,4,126,186,119,214,38,225,105,20,99,85,33,12,125],kM=[[0,0,0,0],[1,0,0,0],[2,0,0,0],[4,0,0,0],[8,0,0,0],[16,0,0,0],[32,0,0,0],[64,0,0,0],[128,0,0,0],[27,0,0,0],[54,0,0,0]],RM=[0,2,4,6,8,10,12,14,16,18,20,22,24,26,28,30,32,34,36,38,40,42,44,46,48,50,52,54,56,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,118,120,122,124,126,128,130,132,134,136,138,140,142,144,146,148,150,152,154,156,158,160,162,164,166,168,170,172,174,176,178,180,182,184,186,188,190,192,194,196,198,200,202,204,206,208,210,212,214,216,218,220,222,224,226,228,230,232,234,236,238,240,242,244,246,248,250,252,254,27,25,31,29,19,17,23,21,11,9,15,13,3,1,7,5,59,57,63,61,51,49,55,53,43,41,47,45,35,33,39,37,91,89,95,93,83,81,87,85,75,73,79,77,67,65,71,69,123,121,127,125,115,113,119,117,107,105,111,109,99,97,103,101,155,153,159,157,147,145,151,149,139,137,143,141,131,129,135,133,187,185,191,189,179,177,183,181,171,169,175,173,163,161,167,165,219,217,223,221,211,209,215,213,203,201,207,205,195,193,199,197,251,249,255,253,243,241,247,245,235,233,239,237,227,225,231,229],OM=[0,3,6,5,12,15,10,9,24,27,30,29,20,23,18,17,48,51,54,53,60,63,58,57,40,43,46,45,36,39,34,33,96,99,102,101,108,111,106,105,120,123,126,125,116,119,114,113,80,83,86,85,92,95,90,89,72,75,78,77,68,71,66,65,192,195,198,197,204,207,202,201,216,219,222,221,212,215,210,209,240,243,246,245,252,255,250,249,232,235,238,237,228,231,226,225,160,163,166,165,172,175,170,169,184,187,190,189,180,183,178,177,144,147,150,149,156,159,154,153,136,139,142,141,132,135,130,129,155,152,157,158,151,148,145,146,131,128,133,134,143,140,137,138,171,168,173,174,167,164,161,162,179,176,181,182,191,188,185,186,251,248,253,254,247,244,241,242,227,224,229,230,239,236,233,234,203,200,205,206,199,196,193,194,211,208,213,214,223,220,217,218,91,88,93,94,87,84,81,82,67,64,69,70,79,76,73,74,107,104,109,110,103,100,97,98,115,112,117,118,127,124,121,122,59,56,61,62,55,52,49,50,35,32,37,38,47,44,41,42,11,8,13,14,7,4,1,2,19,16,21,22,31,28,25,26],PM=[0,9,18,27,36,45,54,63,72,65,90,83,108,101,126,119,144,153,130,139,180,189,166,175,216,209,202,195,252,245,238,231,59,50,41,32,31,22,13,4,115,122,97,104,87,94,69,76,171,162,185,176,143,134,157,148,227,234,241,248,199,206,213,220,118,127,100,109,82,91,64,73,62,55,44,37,26,19,8,1,230,239,244,253,194,203,208,217,174,167,188,181,138,131,152,145,77,68,95,86,105,96,123,114,5,12,23,30,33,40,51,58,221,212,207,198,249,240,235,226,149,156,135,142,177,184,163,170,236,229,254,247,200,193,218,211,164,173,182,191,128,137,146,155,124,117,110,103,88,81,74,67,52,61,38,47,16,25,2,11,215,222,197,204,243,250,225,232,159,150,141,132,187,178,169,160,71,78,85,92,99,106,113,120,15,6,29,20,43,34,57,48,154,147,136,129,190,183,172,165,210,219,192,201,246,255,228,237,10,3,24,17,46,39,60,53,66,75,80,89,102,111,116,125,161,168,179,186,133,140,151,158,233,224,251,242,205,196,223,214,49,56,35,42,21,28,7,14,121,112,107,98,93,84,79,70],LM=[0,11,22,29,44,39,58,49,88,83,78,69,116,127,98,105,176,187,166,173,156,151,138,129,232,227,254,245,196,207,210,217,123,112,109,102,87,92,65,74,35,40,53,62,15,4,25,18,203,192,221,214,231,236,241,250,147,152,133,142,191,180,169,162,246,253,224,235,218,209,204,199,174,165,184,179,130,137,148,159,70,77,80,91,106,97,124,119,30,21,8,3,50,57,36,47,141,134,155,144,161,170,183,188,213,222,195,200,249,242,239,228,61,54,43,32,17,26,7,12,101,110,115,120,73,66,95,84,247,252,225,234,219,208,205,198,175,164,185,178,131,136,149,158,71,76,81,90,107,96,125,118,31,20,9,2,51,56,37,46,140,135,154,145,160,171,182,189,212,223,194,201,248,243,238,229,60,55,42,33,16,27,6,13,100,111,114,121,72,67,94,85,1,10,23,28,45,38,59,48,89,82,79,68,117,126,99,104,177,186,167,172,157,150,139,128,233,226,255,244,197,206,211,216,122,113,108,103,86,93,64,75,34,41,52,63,14,5,24,19,202,193,220,215,230,237,240,251,146,153,132,143,190,181,168,163],FM=[0,13,26,23,52,57,46,35,104,101,114,127,92,81,70,75,208,221,202,199,228,233,254,243,184,181,162,175,140,129,150,155,187,182,161,172,143,130,149,152,211,222,201,196,231,234,253,240,107,102,113,124,95,82,69,72,3,14,25,20,55,58,45,32,109,96,119,122,89,84,67,78,5,8,31,18,49,60,43,38,189,176,167,170,137,132,147,158,213,216,207,194,225,236,251,246,214,219,204,193,226,239,248,245,190,179,164,169,138,135,144,157,6,11,28,17,50,63,40,37,110,99,116,121,90,87,64,77,218,215,192,205,238,227,244,249,178,191,168,165,134,139,156,145,10,7,16,29,62,51,36,41,98,111,120,117,86,91,76,65,97,108,123,118,85,88,79,66,9,4,19,30,61,48,39,42,177,188,171,166,133,136,159,146,217,212,195,206,237,224,247,250,183,186,173,160,131,142,153,148,223,210,197,200,235,230,241,252,103,106,125,112,83,94,73,68,15,2,21,24,59,54,33,44,12,1,22,27,56,53,34,47,100,105,126,115,80,93,74,71,220,209,198,203,232,229,242,255,180,185,174,163,128,141,154,151],UM=[0,14,28,18,56,54,36,42,112,126,108,98,72,70,84,90,224,238,252,242,216,214,196,202,144,158,140,130,168,166,180,186,219,213,199,201,227,237,255,241,171,165,183,185,147,157,143,129,59,53,39,41,3,13,31,17,75,69,87,89,115,125,111,97,173,163,177,191,149,155,137,135,221,211,193,207,229,235,249,247,77,67,81,95,117,123,105,103,61,51,33,47,5,11,25,23,118,120,106,100,78,64,82,92,6,8,26,20,62,48,34,44,150,152,138,132,174,160,178,188,230,232,250,244,222,208,194,204,65,79,93,83,121,119,101,107,49,63,45,35,9,7,21,27,161,175,189,179,153,151,133,139,209,223,205,195,233,231,245,251,154,148,134,136,162,172,190,176,234,228,246,248,210,220,206,192,122,116,102,104,66,76,94,80,10,4,22,24,50,60,46,32,236,226,240,254,212,218,200,198,156,146,128,142,164,170,184,182,12,2,16,30,52,58,40,38,124,114,96,110,68,74,88,86,55,57,43,37,15,1,19,29,71,73,91,85,127,113,99,109,215,217,203,197,239,225,243,253,167,169,187,181,159,145,131,141];function lW(s,h){s=new NM(dW(s));for(var T,m=(h=nW(h)).splice(0,16),b="";m.length;){T=16-m.length;for(var x=0;x<T;x++)m.push(0);for(rW(T=s,m),U0(T,0),m=1;m<T.j;++m){MM(T,V0),sW(T),x=T.h;for(var B=T.s[0],ee=0;4>ee;ee++)B[0]=x[0][ee],B[1]=x[1][ee],B[2]=x[2][ee],B[3]=x[3][ee],x[0][ee]=RM[B[0]]^OM[B[1]]^B[2]^B[3],x[1][ee]=B[0]^RM[B[1]]^OM[B[2]]^B[3],x[2][ee]=B[0]^B[1]^RM[B[2]]^OM[B[3]],x[3][ee]=OM[B[0]]^B[1]^B[2]^RM[B[3]];U0(T,m)}MM(T,V0),sW(T),U0(T,T.j),b+=Pae(iW(T)),m=h.splice(0,16)}return b}function cW(s,h){s=new NM(dW(s));for(var m=[],b=0;b<h.length;b+=2)m.push(parseInt(h.substring(b,b+2),16));var T=m.splice(0,16);for(h="";T.length;){for(rW(b=s,T),U0(b,b.j),T=1;T<b.j;++T){oW(b),MM(b,uW),U0(b,b.j-T);for(var x=b.h,B=b.s[0],ee=0;4>ee;ee++)B[0]=x[0][ee],B[1]=x[1][ee],B[2]=x[2][ee],B[3]=x[3][ee],x[0][ee]=UM[B[0]]^LM[B[1]]^FM[B[2]]^PM[B[3]],x[1][ee]=PM[B[0]]^UM[B[1]]^LM[B[2]]^FM[B[3]],x[2][ee]=FM[B[0]]^PM[B[1]]^UM[B[2]]^LM[B[3]],x[3][ee]=LM[B[0]]^FM[B[1]]^PM[B[2]]^UM[B[3]]}if(oW(b),MM(b,uW),U0(b,0),8192>=(b=iW(b)).length)b=String.fromCharCode.apply(null,b);else{for(T="",x=0;x<b.length;x+=8192)T+=String.fromCharCode.apply(null,WU(b,x,x+8192));b=T}h+=b,T=m.splice(0,16)}return h.replace(/(\x00)+$/,"")}function dW(s){for(var h=32-(s=nW(s.substring(0,32))).length,m=0;m<h;m++)s.push(0);return s}function hW(s){var h=[];return VV(new Lae,s,h),h.join("")}function Lae(){}function VV(s,h,m){if(null==h)m.push("null");else{if("object"==typeof h){if(bt(h)){var b=h;h=b.length,m.push("[");for(var T="",x=0;x<h;x++)m.push(T),VV(s,b[x],m),T=",";return void m.push("]")}if(!(h instanceof String||h instanceof Number||h instanceof Boolean)){for(b in m.push("{"),T="",h)Object.prototype.hasOwnProperty.call(h,b)&&"function"!=typeof(x=h[b])&&(m.push(T),pW(b,m),m.push(":"),VV(s,x,m),T=",");return void m.push("}")}h=h.valueOf()}switch(typeof h){case"string":pW(h,m);break;case"number":m.push(isFinite(h)&&!isNaN(h)?String(h):"null");break;case"boolean":m.push(String(h));break;case"function":m.push("null");break;default:throw Error("Unknown type: "+typeof h)}}}var fW={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},Fae=/\uffff/.test("\uffff")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function pW(s,h){h.push('"',s.replace(Fae,function(m){var b=fW[m];return b||(b="\\u"+(65536|m.charCodeAt(0)).toString(16).substr(1),fW[m]=b),b}),'"')}function cT(s){this.a=s}function VM(){}function BM(s){this.a=s}function jM(s){if(!s.a)return!1;try{return s.a.setItem("__sak","1"),s.a.removeItem("__sak"),!0}catch{return!1}}function BV(){var s=null;try{s=window.localStorage||null}catch{}this.a=s}function jV(){var s=null;try{s=window.sessionStorage||null}catch{}this.a=s}function B0(s,h){this.g=s,this.a=h+"::"}cT.prototype.set=function(s,h){P(h)?this.a.set(s,hW(h)):this.a.ra(s)},cT.prototype.get=function(s){try{var h=this.a.get(s)}catch{return}if(null!==h)try{return JSON.parse(h)}catch{throw"Storage: Invalid value was encountered"}},Yt(VM,J8),VM.prototype.clear=function(){var s=function Eoe(s){if(_t(s))return HC(s);s=NZ(s);var h=[];return function woe(s,h){if(_t(s))try{rl(s,h,void 0)}catch(m){if(m!==D0)throw m}else{s=NZ(s);try{for(;;)h.call(void 0,s.next(),void 0,s)}catch(m){if(m!==D0)throw m}}}(s,function(m){h.push(m)}),h}(this.ha(!0)),h=this;rl(s,function(m){h.ra(m)})},Yt(BM,VM),(n=BM.prototype).set=function(s,h){try{this.a.setItem(s,h)}catch{throw 0==this.a.length?"Storage mechanism: Storage disabled":"Storage mechanism: Quota exceeded"}},n.get=function(s){if(!$(s=this.a.getItem(s))&&null!==s)throw"Storage mechanism: Invalid value was encountered";return s},n.ra=function(s){this.a.removeItem(s)},n.ha=function(s){var h=0,m=this.a,b=new Bm;return b.next=function(){if(h>=m.length)throw D0;var T=m.key(h++);if(s)return T;if(!$(T=m.getItem(T)))throw"Storage mechanism: Invalid value was encountered";return T},b},n.clear=function(){this.a.clear()},n.key=function(s){return this.a.key(s)},Yt(BV,BM),Yt(jV,BM),Yt(B0,VM),B0.prototype.set=function(s,h){this.g.set(this.a+s,h)},B0.prototype.get=function(s){return this.g.get(this.a+s)},B0.prototype.ra=function(s){this.g.ra(this.a+s)},B0.prototype.ha=function(s){var h=this.g.ha(!0),m=this,b=new Bm;return b.next=function(){for(var T=h.next();T.substr(0,m.a.length)!=m.a;)T=h.next();return s?T.substr(m.a.length):m.g.get(T)},b},jM(new BV);var mW=new jV,$V=new cT(jM(mW)?new B0(mW,"firebaseui"):null),HV={name:"pendingEmailCredential",storage:$V},Xm={name:"redirectStatus",storage:$V},dT={name:"redirectUrl",storage:$V},j0={name:"emailForSignIn",storage:new cT(new L0(3600,"/"))},hT={name:"pendingEncryptedCredential",storage:new cT(new L0(3600,"/"))};function $0(s,h){return s.storage.get(h?s.name+":"+h:s.name)}function Ko(s,h){s.storage.a.ra(h?s.name+":"+h:s.name)}function H0(s,h,m){s.storage.set(m?s.name+":"+m:s.name,h)}function _W(s){return $0(dT,s)||null}function gc(s){return eW(s=$0(HV,s)||null)}function mc(s){Ko(HV,s)}function yW(s,h){H0(HV,X8(s),h)}function GV(s){return(s=$0(Xm,s)||null)&&typeof s.tenantId<"u"?new tW(s.tenantId):null}function ZV(){this.W={}}function Hi(s,h,m){if(h.toLowerCase()in s.W)throw Error("Configuration "+h+" has already been defined.");s.W[h.toLowerCase()]=m}function WV(s,h,m){if(!(h.toLowerCase()in s.W))throw Error("Configuration "+h+" is not defined.");s.W[h.toLowerCase()]=m}function qV(s,h){if(!(s=s.get(h)))throw Error("Configuration "+h+" is required.");return s}function zV(){this.g=void 0,this.a={}}function vW(s,h,m,b){for(var T=0;T<h.length;T++){var x=h.charAt(T);s.a[x]||(s.a[x]=new zV),s=s.a[x]}if(b&&void 0!==s.g)throw Error('The collection already contains the key "'+h+'"');s.g=m}function bW(s,h){for(var m in void 0!==s.g&&h.push(s.g),s.a)bW(s.a[m],h)}function wW(s,h,m){for(var b in void 0!==s.g&&m.push(h),s.a)wW(s.a[b],h+b,m)}function EW(s){for(this.a=s,this.g=new zV,s=0;s<this.a.length;s++){var h=this.g.get("+"+this.a[s].b);h?h.push(this.a[s]):this.g.add("+"+this.a[s].b,[this.a[s]])}}function $M(s,h){var m={},b=0;for(void 0!==(s=s.g).g&&(m[b]=s.g);b<h.length;b++){var T=h.charAt(b);if(!(T in s.a))break;void 0!==(s=s.a[T]).g&&(m[b]=s.g)}for(var x in m)if(m.hasOwnProperty(x))return m[x];return[]}function e_(s){for(var h=0;h<So.length;h++)if(So[h].c===s)return So[h];return null}function IW(s){s=s.toUpperCase();for(var h=[],m=0;m<So.length;m++)So[m].f===s&&h.push(So[m]);return h}function CW(s){if(0<s.length&&"+"==s.charAt(0)){s=s.substring(1);for(var h=[],m=0;m<So.length;m++)So[m].b==s&&h.push(So[m]);s=h}else s=IW(s);return s}function TW(s){s.sort(function(h,m){return h.name.localeCompare(m.name,"en")})}ZV.prototype.get=function(s){if(!(s.toLowerCase()in this.W))throw Error("Configuration "+s+" is not defined.");return this.W[s.toLowerCase()]},(n=zV.prototype).set=function(s,h){vW(this,s,h,!1)},n.add=function(s,h){vW(this,s,h,!0)},n.get=function(s){e:{for(var h=this,m=0;m<s.length;m++)if(!(h=h.a[s.charAt(m)])){s=void 0;break e}s=h}return s?s.g:void 0},n.la=function(){var s=[];return bW(this,s),s},n.ja=function(){var s=[];return wW(this,"",s),s},n.clear=function(){this.a={},this.g=void 0};var So=[{name:"Afghanistan",c:"93-AF-0",b:"93",f:"AF"},{name:"\xc5land Islands",c:"358-AX-0",b:"358",f:"AX"},{name:"Albania",c:"355-AL-0",b:"355",f:"AL"},{name:"Algeria",c:"213-DZ-0",b:"213",f:"DZ"},{name:"American Samoa",c:"1-AS-0",b:"1",f:"AS"},{name:"Andorra",c:"376-AD-0",b:"376",f:"AD"},{name:"Angola",c:"244-AO-0",b:"244",f:"AO"},{name:"Anguilla",c:"1-AI-0",b:"1",f:"AI"},{name:"Antigua and Barbuda",c:"1-AG-0",b:"1",f:"AG"},{name:"Argentina",c:"54-AR-0",b:"54",f:"AR"},{name:"Armenia",c:"374-AM-0",b:"374",f:"AM"},{name:"Aruba",c:"297-AW-0",b:"297",f:"AW"},{name:"Ascension Island",c:"247-AC-0",b:"247",f:"AC"},{name:"Australia",c:"61-AU-0",b:"61",f:"AU"},{name:"Austria",c:"43-AT-0",b:"43",f:"AT"},{name:"Azerbaijan",c:"994-AZ-0",b:"994",f:"AZ"},{name:"Bahamas",c:"1-BS-0",b:"1",f:"BS"},{name:"Bahrain",c:"973-BH-0",b:"973",f:"BH"},{name:"Bangladesh",c:"880-BD-0",b:"880",f:"BD"},{name:"Barbados",c:"1-BB-0",b:"1",f:"BB"},{name:"Belarus",c:"375-BY-0",b:"375",f:"BY"},{name:"Belgium",c:"32-BE-0",b:"32",f:"BE"},{name:"Belize",c:"501-BZ-0",b:"501",f:"BZ"},{name:"Benin",c:"229-BJ-0",b:"229",f:"BJ"},{name:"Bermuda",c:"1-BM-0",b:"1",f:"BM"},{name:"Bhutan",c:"975-BT-0",b:"975",f:"BT"},{name:"Bolivia",c:"591-BO-0",b:"591",f:"BO"},{name:"Bosnia and Herzegovina",c:"387-BA-0",b:"387",f:"BA"},{name:"Botswana",c:"267-BW-0",b:"267",f:"BW"},{name:"Brazil",c:"55-BR-0",b:"55",f:"BR"},{name:"British Indian Ocean Territory",c:"246-IO-0",b:"246",f:"IO"},{name:"British Virgin Islands",c:"1-VG-0",b:"1",f:"VG"},{name:"Brunei",c:"673-BN-0",b:"673",f:"BN"},{name:"Bulgaria",c:"359-BG-0",b:"359",f:"BG"},{name:"Burkina Faso",c:"226-BF-0",b:"226",f:"BF"},{name:"Burundi",c:"257-BI-0",b:"257",f:"BI"},{name:"Cambodia",c:"855-KH-0",b:"855",f:"KH"},{name:"Cameroon",c:"237-CM-0",b:"237",f:"CM"},{name:"Canada",c:"1-CA-0",b:"1",f:"CA"},{name:"Cape Verde",c:"238-CV-0",b:"238",f:"CV"},{name:"Caribbean Netherlands",c:"599-BQ-0",b:"599",f:"BQ"},{name:"Cayman Islands",c:"1-KY-0",b:"1",f:"KY"},{name:"Central African Republic",c:"236-CF-0",b:"236",f:"CF"},{name:"Chad",c:"235-TD-0",b:"235",f:"TD"},{name:"Chile",c:"56-CL-0",b:"56",f:"CL"},{name:"China",c:"86-CN-0",b:"86",f:"CN"},{name:"Christmas Island",c:"61-CX-0",b:"61",f:"CX"},{name:"Cocos [Keeling] Islands",c:"61-CC-0",b:"61",f:"CC"},{name:"Colombia",c:"57-CO-0",b:"57",f:"CO"},{name:"Comoros",c:"269-KM-0",b:"269",f:"KM"},{name:"Democratic Republic Congo",c:"243-CD-0",b:"243",f:"CD"},{name:"Republic of Congo",c:"242-CG-0",b:"242",f:"CG"},{name:"Cook Islands",c:"682-CK-0",b:"682",f:"CK"},{name:"Costa Rica",c:"506-CR-0",b:"506",f:"CR"},{name:"C\xf4te d'Ivoire",c:"225-CI-0",b:"225",f:"CI"},{name:"Croatia",c:"385-HR-0",b:"385",f:"HR"},{name:"Cuba",c:"53-CU-0",b:"53",f:"CU"},{name:"Cura\xe7ao",c:"599-CW-0",b:"599",f:"CW"},{name:"Cyprus",c:"357-CY-0",b:"357",f:"CY"},{name:"Czech Republic",c:"420-CZ-0",b:"420",f:"CZ"},{name:"Denmark",c:"45-DK-0",b:"45",f:"DK"},{name:"Djibouti",c:"253-DJ-0",b:"253",f:"DJ"},{name:"Dominica",c:"1-DM-0",b:"1",f:"DM"},{name:"Dominican Republic",c:"1-DO-0",b:"1",f:"DO"},{name:"East Timor",c:"670-TL-0",b:"670",f:"TL"},{name:"Ecuador",c:"593-EC-0",b:"593",f:"EC"},{name:"Egypt",c:"20-EG-0",b:"20",f:"EG"},{name:"El Salvador",c:"503-SV-0",b:"503",f:"SV"},{name:"Equatorial Guinea",c:"240-GQ-0",b:"240",f:"GQ"},{name:"Eritrea",c:"291-ER-0",b:"291",f:"ER"},{name:"Estonia",c:"372-EE-0",b:"372",f:"EE"},{name:"Ethiopia",c:"251-ET-0",b:"251",f:"ET"},{name:"Falkland Islands [Islas Malvinas]",c:"500-FK-0",b:"500",f:"FK"},{name:"Faroe Islands",c:"298-FO-0",b:"298",f:"FO"},{name:"Fiji",c:"679-FJ-0",b:"679",f:"FJ"},{name:"Finland",c:"358-FI-0",b:"358",f:"FI"},{name:"France",c:"33-FR-0",b:"33",f:"FR"},{name:"French Guiana",c:"594-GF-0",b:"594",f:"GF"},{name:"French Polynesia",c:"689-PF-0",b:"689",f:"PF"},{name:"Gabon",c:"241-GA-0",b:"241",f:"GA"},{name:"Gambia",c:"220-GM-0",b:"220",f:"GM"},{name:"Georgia",c:"995-GE-0",b:"995",f:"GE"},{name:"Germany",c:"49-DE-0",b:"49",f:"DE"},{name:"Ghana",c:"233-GH-0",b:"233",f:"GH"},{name:"Gibraltar",c:"350-GI-0",b:"350",f:"GI"},{name:"Greece",c:"30-GR-0",b:"30",f:"GR"},{name:"Greenland",c:"299-GL-0",b:"299",f:"GL"},{name:"Grenada",c:"1-GD-0",b:"1",f:"GD"},{name:"Guadeloupe",c:"590-GP-0",b:"590",f:"GP"},{name:"Guam",c:"1-GU-0",b:"1",f:"GU"},{name:"Guatemala",c:"502-GT-0",b:"502",f:"GT"},{name:"Guernsey",c:"44-GG-0",b:"44",f:"GG"},{name:"Guinea Conakry",c:"224-GN-0",b:"224",f:"GN"},{name:"Guinea-Bissau",c:"245-GW-0",b:"245",f:"GW"},{name:"Guyana",c:"592-GY-0",b:"592",f:"GY"},{name:"Haiti",c:"509-HT-0",b:"509",f:"HT"},{name:"Heard Island and McDonald Islands",c:"672-HM-0",b:"672",f:"HM"},{name:"Honduras",c:"504-HN-0",b:"504",f:"HN"},{name:"Hong Kong",c:"852-HK-0",b:"852",f:"HK"},{name:"Hungary",c:"36-HU-0",b:"36",f:"HU"},{name:"Iceland",c:"354-IS-0",b:"354",f:"IS"},{name:"India",c:"91-IN-0",b:"91",f:"IN"},{name:"Indonesia",c:"62-ID-0",b:"62",f:"ID"},{name:"Iran",c:"98-IR-0",b:"98",f:"IR"},{name:"Iraq",c:"964-IQ-0",b:"964",f:"IQ"},{name:"Ireland",c:"353-IE-0",b:"353",f:"IE"},{name:"Isle of Man",c:"44-IM-0",b:"44",f:"IM"},{name:"Israel",c:"972-IL-0",b:"972",f:"IL"},{name:"Italy",c:"39-IT-0",b:"39",f:"IT"},{name:"Jamaica",c:"1-JM-0",b:"1",f:"JM"},{name:"Japan",c:"81-JP-0",b:"81",f:"JP"},{name:"Jersey",c:"44-JE-0",b:"44",f:"JE"},{name:"Jordan",c:"962-JO-0",b:"962",f:"JO"},{name:"Kazakhstan",c:"7-KZ-0",b:"7",f:"KZ"},{name:"Kenya",c:"254-KE-0",b:"254",f:"KE"},{name:"Kiribati",c:"686-KI-0",b:"686",f:"KI"},{name:"Kosovo",c:"377-XK-0",b:"377",f:"XK"},{name:"Kosovo",c:"381-XK-0",b:"381",f:"XK"},{name:"Kosovo",c:"386-XK-0",b:"386",f:"XK"},{name:"Kuwait",c:"965-KW-0",b:"965",f:"KW"},{name:"Kyrgyzstan",c:"996-KG-0",b:"996",f:"KG"},{name:"Laos",c:"856-LA-0",b:"856",f:"LA"},{name:"Latvia",c:"371-LV-0",b:"371",f:"LV"},{name:"Lebanon",c:"961-LB-0",b:"961",f:"LB"},{name:"Lesotho",c:"266-LS-0",b:"266",f:"LS"},{name:"Liberia",c:"231-LR-0",b:"231",f:"LR"},{name:"Libya",c:"218-LY-0",b:"218",f:"LY"},{name:"Liechtenstein",c:"423-LI-0",b:"423",f:"LI"},{name:"Lithuania",c:"370-LT-0",b:"370",f:"LT"},{name:"Luxembourg",c:"352-LU-0",b:"352",f:"LU"},{name:"Macau",c:"853-MO-0",b:"853",f:"MO"},{name:"Macedonia",c:"389-MK-0",b:"389",f:"MK"},{name:"Madagascar",c:"261-MG-0",b:"261",f:"MG"},{name:"Malawi",c:"265-MW-0",b:"265",f:"MW"},{name:"Malaysia",c:"60-MY-0",b:"60",f:"MY"},{name:"Maldives",c:"960-MV-0",b:"960",f:"MV"},{name:"Mali",c:"223-ML-0",b:"223",f:"ML"},{name:"Malta",c:"356-MT-0",b:"356",f:"MT"},{name:"Marshall Islands",c:"692-MH-0",b:"692",f:"MH"},{name:"Martinique",c:"596-MQ-0",b:"596",f:"MQ"},{name:"Mauritania",c:"222-MR-0",b:"222",f:"MR"},{name:"Mauritius",c:"230-MU-0",b:"230",f:"MU"},{name:"Mayotte",c:"262-YT-0",b:"262",f:"YT"},{name:"Mexico",c:"52-MX-0",b:"52",f:"MX"},{name:"Micronesia",c:"691-FM-0",b:"691",f:"FM"},{name:"Moldova",c:"373-MD-0",b:"373",f:"MD"},{name:"Monaco",c:"377-MC-0",b:"377",f:"MC"},{name:"Mongolia",c:"976-MN-0",b:"976",f:"MN"},{name:"Montenegro",c:"382-ME-0",b:"382",f:"ME"},{name:"Montserrat",c:"1-MS-0",b:"1",f:"MS"},{name:"Morocco",c:"212-MA-0",b:"212",f:"MA"},{name:"Mozambique",c:"258-MZ-0",b:"258",f:"MZ"},{name:"Myanmar [Burma]",c:"95-MM-0",b:"95",f:"MM"},{name:"Namibia",c:"264-NA-0",b:"264",f:"NA"},{name:"Nauru",c:"674-NR-0",b:"674",f:"NR"},{name:"Nepal",c:"977-NP-0",b:"977",f:"NP"},{name:"Netherlands",c:"31-NL-0",b:"31",f:"NL"},{name:"New Caledonia",c:"687-NC-0",b:"687",f:"NC"},{name:"New Zealand",c:"64-NZ-0",b:"64",f:"NZ"},{name:"Nicaragua",c:"505-NI-0",b:"505",f:"NI"},{name:"Niger",c:"227-NE-0",b:"227",f:"NE"},{name:"Nigeria",c:"234-NG-0",b:"234",f:"NG"},{name:"Niue",c:"683-NU-0",b:"683",f:"NU"},{name:"Norfolk Island",c:"672-NF-0",b:"672",f:"NF"},{name:"North Korea",c:"850-KP-0",b:"850",f:"KP"},{name:"Northern Mariana Islands",c:"1-MP-0",b:"1",f:"MP"},{name:"Norway",c:"47-NO-0",b:"47",f:"NO"},{name:"Oman",c:"968-OM-0",b:"968",f:"OM"},{name:"Pakistan",c:"92-PK-0",b:"92",f:"PK"},{name:"Palau",c:"680-PW-0",b:"680",f:"PW"},{name:"Palestinian Territories",c:"970-PS-0",b:"970",f:"PS"},{name:"Panama",c:"507-PA-0",b:"507",f:"PA"},{name:"Papua New Guinea",c:"675-PG-0",b:"675",f:"PG"},{name:"Paraguay",c:"595-PY-0",b:"595",f:"PY"},{name:"Peru",c:"51-PE-0",b:"51",f:"PE"},{name:"Philippines",c:"63-PH-0",b:"63",f:"PH"},{name:"Poland",c:"48-PL-0",b:"48",f:"PL"},{name:"Portugal",c:"351-PT-0",b:"351",f:"PT"},{name:"Puerto Rico",c:"1-PR-0",b:"1",f:"PR"},{name:"Qatar",c:"974-QA-0",b:"974",f:"QA"},{name:"R\xe9union",c:"262-RE-0",b:"262",f:"RE"},{name:"Romania",c:"40-RO-0",b:"40",f:"RO"},{name:"Russia",c:"7-RU-0",b:"7",f:"RU"},{name:"Rwanda",c:"250-RW-0",b:"250",f:"RW"},{name:"Saint Barth\xe9lemy",c:"590-BL-0",b:"590",f:"BL"},{name:"Saint Helena",c:"290-SH-0",b:"290",f:"SH"},{name:"St. Kitts",c:"1-KN-0",b:"1",f:"KN"},{name:"St. Lucia",c:"1-LC-0",b:"1",f:"LC"},{name:"Saint Martin",c:"590-MF-0",b:"590",f:"MF"},{name:"Saint Pierre and Miquelon",c:"508-PM-0",b:"508",f:"PM"},{name:"St. Vincent",c:"1-VC-0",b:"1",f:"VC"},{name:"Samoa",c:"685-WS-0",b:"685",f:"WS"},{name:"San Marino",c:"378-SM-0",b:"378",f:"SM"},{name:"S\xe3o Tom\xe9 and Pr\xedncipe",c:"239-ST-0",b:"239",f:"ST"},{name:"Saudi Arabia",c:"966-SA-0",b:"966",f:"SA"},{name:"Senegal",c:"221-SN-0",b:"221",f:"SN"},{name:"Serbia",c:"381-RS-0",b:"381",f:"RS"},{name:"Seychelles",c:"248-SC-0",b:"248",f:"SC"},{name:"Sierra Leone",c:"232-SL-0",b:"232",f:"SL"},{name:"Singapore",c:"65-SG-0",b:"65",f:"SG"},{name:"Sint Maarten",c:"1-SX-0",b:"1",f:"SX"},{name:"Slovakia",c:"421-SK-0",b:"421",f:"SK"},{name:"Slovenia",c:"386-SI-0",b:"386",f:"SI"},{name:"Solomon Islands",c:"677-SB-0",b:"677",f:"SB"},{name:"Somalia",c:"252-SO-0",b:"252",f:"SO"},{name:"South Africa",c:"27-ZA-0",b:"27",f:"ZA"},{name:"South Georgia and the South Sandwich Islands",c:"500-GS-0",b:"500",f:"GS"},{name:"South Korea",c:"82-KR-0",b:"82",f:"KR"},{name:"South Sudan",c:"211-SS-0",b:"211",f:"SS"},{name:"Spain",c:"34-ES-0",b:"34",f:"ES"},{name:"Sri Lanka",c:"94-LK-0",b:"94",f:"LK"},{name:"Sudan",c:"249-SD-0",b:"249",f:"SD"},{name:"Suriname",c:"597-SR-0",b:"597",f:"SR"},{name:"Svalbard and Jan Mayen",c:"47-SJ-0",b:"47",f:"SJ"},{name:"Swaziland",c:"268-SZ-0",b:"268",f:"SZ"},{name:"Sweden",c:"46-SE-0",b:"46",f:"SE"},{name:"Switzerland",c:"41-CH-0",b:"41",f:"CH"},{name:"Syria",c:"963-SY-0",b:"963",f:"SY"},{name:"Taiwan",c:"886-TW-0",b:"886",f:"TW"},{name:"Tajikistan",c:"992-TJ-0",b:"992",f:"TJ"},{name:"Tanzania",c:"255-TZ-0",b:"255",f:"TZ"},{name:"Thailand",c:"66-TH-0",b:"66",f:"TH"},{name:"Togo",c:"228-TG-0",b:"228",f:"TG"},{name:"Tokelau",c:"690-TK-0",b:"690",f:"TK"},{name:"Tonga",c:"676-TO-0",b:"676",f:"TO"},{name:"Trinidad/Tobago",c:"1-TT-0",b:"1",f:"TT"},{name:"Tunisia",c:"216-TN-0",b:"216",f:"TN"},{name:"Turkey",c:"90-TR-0",b:"90",f:"TR"},{name:"Turkmenistan",c:"993-TM-0",b:"993",f:"TM"},{name:"Turks and Caicos Islands",c:"1-TC-0",b:"1",f:"TC"},{name:"Tuvalu",c:"688-TV-0",b:"688",f:"TV"},{name:"U.S. Virgin Islands",c:"1-VI-0",b:"1",f:"VI"},{name:"Uganda",c:"256-UG-0",b:"256",f:"UG"},{name:"Ukraine",c:"380-UA-0",b:"380",f:"UA"},{name:"United Arab Emirates",c:"971-AE-0",b:"971",f:"AE"},{name:"United Kingdom",c:"44-GB-0",b:"44",f:"GB"},{name:"United States",c:"1-US-0",b:"1",f:"US"},{name:"Uruguay",c:"598-UY-0",b:"598",f:"UY"},{name:"Uzbekistan",c:"998-UZ-0",b:"998",f:"UZ"},{name:"Vanuatu",c:"678-VU-0",b:"678",f:"VU"},{name:"Vatican City",c:"379-VA-0",b:"379",f:"VA"},{name:"Venezuela",c:"58-VE-0",b:"58",f:"VE"},{name:"Vietnam",c:"84-VN-0",b:"84",f:"VN"},{name:"Wallis and Futuna",c:"681-WF-0",b:"681",f:"WF"},{name:"Western Sahara",c:"212-EH-0",b:"212",f:"EH"},{name:"Yemen",c:"967-YE-0",b:"967",f:"YE"},{name:"Zambia",c:"260-ZM-0",b:"260",f:"ZM"},{name:"Zimbabwe",c:"263-ZW-0",b:"263",f:"ZW"}];TW(So);var fT=new EW(So);function AW(s,h){this.a=s,this.Aa=h}function DW(s){s=Co(s);var h=$M(fT,s);return 0<h.length?new AW("1"==h[0].b?"1-US-0":h[0].c,Co(s.substr(h[0].b.length+1))):null}function KV(s){var h=e_(s.a);if(!h)throw Error("Country ID "+s.a+" not found.");return"+"+h.b+s.Aa}function SW(s,h){for(var m=0;m<s.length;m++)if(!Hs(xW,s[m])&&(null!==G0&&s[m]in G0||Hs(h,s[m])))return s[m];return null}var xW=["emailLink","password","phone"],G0={"facebook.com":"FacebookAuthProvider","github.com":"GithubAuthProvider","google.com":"GoogleAuthProvider",password:"EmailAuthProvider","twitter.com":"TwitterAuthProvider",phone:"PhoneAuthProvider"};function $ae(){this.a=new ZV,Hi(this.a,"autoUpgradeAnonymousUsers"),Hi(this.a,"callbacks"),Hi(this.a,"credentialHelper",ZM),Hi(this.a,"immediateFederatedRedirect",!1),Hi(this.a,"popupMode",!1),Hi(this.a,"privacyPolicyUrl"),Hi(this.a,"queryParameterForSignInSuccessUrl","signInSuccessUrl"),Hi(this.a,"queryParameterForWidgetMode","mode"),Hi(this.a,"signInFlow"),Hi(this.a,"signInOptions"),Hi(this.a,"signInSuccessUrl"),Hi(this.a,"siteName"),Hi(this.a,"tosUrl"),Hi(this.a,"widgetUrl"),Hi(this.a,"adminRestrictedOperation")}function HM(s){var h=!!s.a.get("autoUpgradeAnonymousUsers");return h&&!VW(s)&&Ca('Missing "signInFailure" callback: "signInFailure" callback needs to be provided when "autoUpgradeAnonymousUsers" is set to true.',void 0),h}function GM(s){s=s.a.get("signInOptions")||[];for(var h=[],m=0;m<s.length;m++){var b=s[m];(b=yt(b)?b:{provider:b}).provider&&h.push(b)}return h}function Ta(s,h){s=GM(s);for(var m=0;m<s.length;m++)if(s[m].provider===h)return s[m];return null}function Z0(s){return GM(s).map(function(h){return h.provider})}function pT(s,h){s=NW(s);for(var m=0;m<s.length;m++)if(s[m].providerId===h)return s[m];return null}function NW(s){return GM(s).map(function(h){if(G0[h.provider]||Hs(Jae,h.provider)){for(var m in h={providerId:h.provider,S:h.providerName||null,V:h.fullLabel||null,ta:h.buttonColor||null,za:h.iconUrl?up(aM(h.iconUrl)).toString():null})null===h[m]&&delete h[m];return h}return{providerId:h.provider,S:h.providerName||null,V:h.fullLabel||null,ta:h.buttonColor||null,za:h.iconUrl?up(aM(h.iconUrl)).toString():null,Ob:h.loginHintKey||null}})}function MW(s){var m,h=Ta(s,$t.Z.auth.GoogleAuthProvider.PROVIDER_ID);if(m=h&&h.clientId){e:{if("http:"===(window.location&&window.location.protocol)||"https:"===(window.location&&window.location.protocol))for(b in s=s.a.get("credentialHelper"),e3)if(e3[b]===s){var b=e3[b];break e}b=ZM}m=b===XV}return m&&h.clientId||null}function kW(s){return!!((s=Ta(s,$t.Z.auth.EmailAuthProvider.PROVIDER_ID))&&s.disableSignUp&&s.disableSignUp.status)}function t_(s){return!(!(s=s.a.get("adminRestrictedOperation")||null)||!s.status)}function RW(s,h){return s=(s=Ta(s,h))&&s.scopes,Array.isArray(s)?s:[]}function OW(s,h){return yt(s=(s=Ta(s,h))&&s.customParameters)?(s=A0(s),h===$t.Z.auth.GoogleAuthProvider.PROVIDER_ID&&delete s.login_hint,h===$t.Z.auth.GithubAuthProvider.PROVIDER_ID&&delete s.login,s):null}function YV(s){if(!(s=Ta(s,$t.Z.auth.PhoneAuthProvider.PROVIDER_ID)))return null;var h=s.whitelistedCountries,m=s.blacklistedCountries;if(typeof h<"u"&&(!Array.isArray(h)||0==h.length))throw Error("WhitelistedCountries must be a non-empty array.");if(typeof m<"u"&&!Array.isArray(m))throw Error("BlacklistedCountries must be an array.");if(h&&m)throw Error("Both whitelistedCountries and blacklistedCountries are provided.");if(!h&&!m)return So;if(s=[],h){m={};for(var b=0;b<h.length;b++)for(var T=CW(h[b]),x=0;x<T.length;x++)m[T[x].c]=T[x];for(var B in m)m.hasOwnProperty(B)&&s.push(m[B])}else{for(B={},h=0;h<m.length;h++)for(T=CW(m[h]),b=0;b<T.length;b++)B[T[b].c]=T[b];for(T=0;T<So.length;T++)null!==B&&So[T].c in B||s.push(So[T])}return s}function PW(s){return qV(s.a,"queryParameterForWidgetMode")}function Gi(s){var h=s.a.get("tosUrl")||null;if(s=s.a.get("privacyPolicyUrl")||null,h&&!s&&gp("Privacy Policy URL is missing, the link will not be displayed."),h&&s){if("function"==typeof h)return h;if("string"==typeof h)return function(){P0(h)}}return null}function Zi(s){var h=s.a.get("tosUrl")||null,m=s.a.get("privacyPolicyUrl")||null;if(m&&!h&&gp("Term of Service URL is missing, the link will not be displayed."),h&&m){if("function"==typeof m)return m;if("string"==typeof m)return function(){P0(m)}}return null}function LW(s){return!((s=Ta(s,$t.Z.auth.EmailAuthProvider.PROVIDER_ID))&&typeof s.requireDisplayName<"u"&&!s.requireDisplayName)}function W0(s){return!(!(s=Ta(s,$t.Z.auth.EmailAuthProvider.PROVIDER_ID))||s.signInMethod!==$t.Z.auth.EmailAuthProvider.EMAIL_LINK_SIGN_IN_METHOD)}function QV(s){var h=!!s.a.get("immediateFederatedRedirect"),m=Z0(s);return s=FW(s),h&&1==m.length&&!Hs(xW,m[0])&&s==WM}function FW(s){for(var h in s=s.a.get("signInFlow"),t3)if(t3[h]==s)return t3[h];return WM}function JV(s){return gT(s).signInSuccess||null}function UW(s){return gT(s).signInSuccessWithAuthResult||null}function VW(s){return gT(s).signInFailure||null}function gT(s){return s.a.get("callbacks")||{}}var mT,q0,r3,BW,XV="googleyolo",ZM="none",e3={nc:XV,NONE:ZM},WM="redirect",t3={qc:"popup",rc:WM},n3={mc:"callback",RECOVER_EMAIL:"recoverEmail",sc:"resetPassword",REVERT_SECOND_FACTOR_ADDITION:"revertSecondFactorAddition",tc:"select",uc:"signIn",VERIFY_AND_CHANGE_EMAIL:"verifyAndChangeEmail",VERIFY_EMAIL:"verifyEmail"},Jae=["anonymous"],Xae=["sitekey","tabindex","callback","expired-callback"],gr={};function Vt(s,h,m,b){gr[s].apply(null,Array.prototype.slice.call(arguments,1))}function jW(s){return s.classList?s.classList:$(s=s.className)&&s.match(/\S+/g)||[]}function _T(s,h){return s.classList?s.classList.contains(h):Hs(jW(s),h)}function _c(s,h){s.classList?s.classList.add(h):_T(s,h)||(s.className+=0<s.className.length?" "+h:h)}function yc(s,h){s.classList?s.classList.remove(h):_T(s,h)&&(s.className=np(jW(s),function(m){return m!=h}).join(" "))}function Ds(s){var h=s.type;switch($(h)&&h.toLowerCase()){case"checkbox":case"radio":return s.checked?s.value:null;case"select-one":return 0<=(h=s.selectedIndex)?s.options[h].value:null;case"select-multiple":h=[];for(var m,b=0;m=s.options[b];b++)m.selected&&h.push(m.value);return h.length?h:null;default:return null!=s.value?s.value:null}}function $W(s,h){var m=s.type;switch($(m)&&m.toLowerCase()){case"checkbox":case"radio":s.checked=h;break;case"select-one":if(s.selectedIndex=-1,$(h))for(var b=0;m=s.options[b];b++)if(m.value==h){m.selected=!0;break}break;case"select-multiple":for($(h)&&(h=[h]),b=0;m=s.options[b];b++)if(m.selected=!1,h)for(var T,x=0;T=h[x];x++)m.value==T&&(m.selected=!0);break;default:s.value=h??""}}function HW(s,h,m,b,T,x){if(To&&!Gm("525"))return!0;if(ap&&T)return yT(s);if(T&&!b)return!1;if(!il&&("number"==typeof h&&(h=i3(h)),(!m||ap)&&(17==h||18==h||ap&&91==h)||ap&&16==h&&(b||x)))return!1;if((To||op)&&b&&m)switch(s){case 220:case 219:case 221:case 192:case 186:case 189:case 187:case 188:case 190:case 191:case 192:case 222:return!1}if(xi&&b&&h==s)return!1;switch(s){case 13:return!(il&&(x||T||m&&b));case 27:return!(To||op||il)}return(!il||!(b||T||x))&&yT(s)}function yT(s){if(48<=s&&57>=s||96<=s&&106>=s||65<=s&&90>=s||(To||op)&&0==s)return!0;switch(s){case 32:case 43:case 63:case 64:case 107:case 109:case 110:case 111:case 186:case 59:case 189:case 187:case 61:case 188:case 190:case 191:case 192:case 222:case 219:case 220:case 221:case 163:return!0;case 173:return il;default:return!1}}function i3(s){return il?s=function tue(s){switch(s){case 61:return 187;case 59:return 186;case 173:return 189;case 224:return 91;case 0:return 224;default:return s}}(s):ap&&To&&93===s&&(s=91),s}function z0(s){ns.call(this),this.a=s,sl(s,"keydown",this.g,!1,this),sl(s,"click",this.h,!1,this)}function GW(s,h){var m=new WW(h);if(fp(s,m)){m=new ZW(h);try{fp(s,m)}finally{h.stopPropagation()}}}function ZW(s){Do.call(this,s.a),this.type="action"}function WW(s){Do.call(this,s.a),this.type="beforeaction"}function K0(s){ns.call(this),this.a=s,s=xi?"focusout":"blur",this.g=sl(this.a,xi?"focusin":"focus",this,!xi),this.h=sl(this.a,s,this,!xi)}function qM(s,h){ns.call(this),this.g=s||1,this.a=h||M,this.h=tn(this.gc,this),this.j=Io()}function zM(s){s.Ka=!1,s.aa&&(s.a.clearTimeout(s.aa),s.aa=null)}function Y0(s){zm.call(this),this.g=s,this.a={}}Yt(z0,ns),z0.prototype.g=function(s){(13==s.keyCode||To&&3==s.keyCode)&&GW(this,s)},z0.prototype.h=function(s){GW(this,s)},z0.prototype.o=function(){z0.K.o.call(this),Km(this.a,"keydown",this.g,!1,this),Km(this.a,"click",this.h,!1,this),delete this.a},Yt(ZW,Do),Yt(WW,Do),Yt(K0,ns),K0.prototype.handleEvent=function(s){var h=new Do(s.a);h.type="focusin"==s.type||"focus"==s.type?"focusin":"focusout",fp(this,h)},K0.prototype.o=function(){K0.K.o.call(this),hp(this.g),hp(this.h),delete this.a},Yt(qM,ns),(n=qM.prototype).Ka=!1,n.aa=null,n.gc=function(){if(this.Ka){var s=Io()-this.j;0<s&&s<.8*this.g?this.aa=this.a.setTimeout(this.h,this.g-s):(this.aa&&(this.a.clearTimeout(this.aa),this.aa=null),fp(this,"tick"),this.Ka&&(zM(this),this.start()))}},n.start=function(){this.Ka=!0,this.aa||(this.aa=this.a.setTimeout(this.h,this.g),this.j=Io())},n.o=function(){qM.K.o.call(this),zM(this),delete this.a},Yt(Y0,zm);var qW=[];function Q0(s,h,m,b){bt(m)||(m&&(qW[0]=m.toString()),m=qW);for(var T=0;T<m.length;T++){var x=sl(h,m[T],b||s.handleEvent,!1,s.g||s);if(!x)break;s.a[x.key]=x}}function zW(s){GC(s.a,function(h,m){this.a.hasOwnProperty(m)&&hp(h)},s),s.a={}}function vT(s){ns.call(this),this.a=null,this.g=s,s=xi||op||To&&!Gm("531")&&"TEXTAREA"==s.tagName,this.h=new Y0(this),Q0(this.h,this.g,s?["keydown","paste","cut","drop","input"]:"input",this)}function s3(s){null!=s.a&&(M.clearTimeout(s.a),s.a=null)}function KW(s){return(s=new Do(s.a)).type="input",s}function bT(s,h){ns.call(this),s&&(this.Oa&&eq(this),this.qa=s,this.Na=sl(this.qa,"keypress",this,h),this.Ya=sl(this.qa,"keydown",this.Jb,h,this),this.Oa=sl(this.qa,"keyup",this.Kb,h,this))}Y0.prototype.o=function(){Y0.K.o.call(this),zW(this)},Y0.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Yt(vT,ns),vT.prototype.handleEvent=function(s){if("input"==s.type)xi&&Gm(10)&&0==s.keyCode&&0==s.j||(s3(this),fp(this,KW(s)));else if("keydown"!=s.type||function eue(s){if(s.altKey&&!s.ctrlKey||s.metaKey||112<=s.keyCode&&123>=s.keyCode)return!1;if(yT(s.keyCode))return!0;switch(s.keyCode){case 18:case 20:case 93:case 17:case 40:case 35:case 27:case 36:case 45:case 37:case 224:case 91:case 144:case 12:case 34:case 33:case 19:case 255:case 44:case 39:case 145:case 16:case 38:case 252:case 224:case 92:return!1;case 0:return!il;default:return 166>s.keyCode||183<s.keyCode}}(s)){var h="keydown"==s.type?this.g.value:null;xi&&229==s.keyCode&&(h=null);var m=KW(s);s3(this),this.a=function nue(s,h){if(ft(s))h&&(s=tn(s,h));else{if(!s||"function"!=typeof s.handleEvent)throw Error("Invalid listener argument");s=tn(s.handleEvent,s)}return 2147483647<Number(0)?-1:M.setTimeout(s,0)}(function(){this.a=null,this.g.value!=h&&fp(this,m)},this)}},vT.prototype.o=function(){vT.K.o.call(this),this.h.m(),s3(this),delete this.g},Yt(bT,ns),(n=bT.prototype).qa=null,n.Na=null,n.Ya=null,n.Oa=null,n.R=-1,n.X=-1,n.Ua=!1;var YW={3:13,12:144,63232:38,63233:40,63234:37,63235:39,63236:112,63237:113,63238:114,63239:115,63240:116,63241:117,63242:118,63243:119,63244:120,63245:121,63246:122,63247:123,63248:44,63272:46,63273:36,63275:35,63276:33,63277:34,63289:144,63302:45},QW={Up:38,Down:40,Left:37,Right:39,Enter:13,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,"U+007F":46,Home:36,End:35,PageUp:33,PageDown:34,Insert:45},JW=!To||Gm("525"),XW=ap&&il;function eq(s){s.Na&&(hp(s.Na),hp(s.Ya),hp(s.Oa),s.Na=null,s.Ya=null,s.Oa=null),s.qa=null,s.R=-1,s.X=-1}function tq(s,h,m,b){Do.call(this,b),this.type="key",this.keyCode=s,this.j=h,this.repeat=m}function J0(s,h,m,b){this.top=s,this.right=h,this.bottom=m,this.left=b}function KM(s,h){var m=QC(s);return m.defaultView&&m.defaultView.getComputedStyle&&(s=m.defaultView.getComputedStyle(s,null))&&(s[h]||s.getPropertyValue(h))||""}function nq(s){try{var h=s.getBoundingClientRect()}catch{return{left:0,top:0,right:0,bottom:0}}return xi&&s.ownerDocument.body&&(h.left-=(s=s.ownerDocument).documentElement.clientLeft+s.body.clientLeft,h.top-=s.documentElement.clientTop+s.body.clientTop),h}function rq(s){var h=QC(s),m=new cp(0,0),b=h?QC(h):document;return s==(b=!xi||9<=Number(KC)||"CSS1Compat"==lM(b).a.compatMode?b.documentElement:b.body)||(s=nq(s),h=cM(b=lM(h).a),b=b.parentWindow||b.defaultView,h=xi&&Gm("10")&&b.pageYOffset!=h.scrollTop?new cp(h.scrollLeft,h.scrollTop):new cp(b.pageXOffset||h.scrollLeft,b.pageYOffset||h.scrollTop),m.a=s.left+h.a,m.g=s.top+h.g),m}(n=bT.prototype).Jb=function(s){(To||op)&&(17==this.R&&!s.ctrlKey||18==this.R&&!s.altKey||ap&&91==this.R&&!s.metaKey)&&(this.X=this.R=-1),-1==this.R&&(s.ctrlKey&&17!=s.keyCode?this.R=17:s.altKey&&18!=s.keyCode?this.R=18:s.metaKey&&91!=s.keyCode&&(this.R=91)),JW&&!HW(s.keyCode,this.R,s.shiftKey,s.ctrlKey,s.altKey,s.metaKey)?this.handleEvent(s):(this.X=i3(s.keyCode),XW&&(this.Ua=s.altKey))},n.Kb=function(s){this.X=this.R=-1,this.Ua=s.altKey},n.handleEvent=function(s){var h=s.a,m=h.altKey;if(xi&&"keypress"==s.type)var b=this.X,T=13!=b&&27!=b?h.keyCode:0;else(To||op)&&"keypress"==s.type?(b=this.X,T=0<=h.charCode&&63232>h.charCode&&yT(b)?h.charCode:0):jZ&&!To?T=yT(b=this.X)?h.keyCode:0:("keypress"==s.type?(XW&&(m=this.Ua),h.keyCode==h.charCode?32>h.keyCode?(b=h.keyCode,T=0):(b=this.X,T=h.charCode):(b=h.keyCode||this.X,T=h.charCode||0)):(b=h.keyCode||this.X,T=h.charCode||0),ap&&63==T&&224==b&&(b=191));var x=b=i3(b);b?63232<=b&&b in YW?x=YW[b]:25==b&&s.shiftKey&&(x=9):h.keyIdentifier&&h.keyIdentifier in QW&&(x=QW[h.keyIdentifier]),il&&JW&&"keypress"==s.type&&!HW(x,this.R,s.shiftKey,s.ctrlKey,m,s.metaKey)||(s=x==this.R,this.R=x,(h=new tq(x,T,s,h)).altKey=m,fp(this,h))},n.N=function(){return this.qa},n.o=function(){bT.K.o.call(this),eq(this)},Yt(tq,Do),J0.prototype.toString=function(){return"("+this.top+"t, "+this.right+"r, "+this.bottom+"b, "+this.left+"l)"},J0.prototype.ceil=function(){return this.top=Math.ceil(this.top),this.right=Math.ceil(this.right),this.bottom=Math.ceil(this.bottom),this.left=Math.ceil(this.left),this},J0.prototype.floor=function(){return this.top=Math.floor(this.top),this.right=Math.floor(this.right),this.bottom=Math.floor(this.bottom),this.left=Math.floor(this.left),this},J0.prototype.round=function(){return this.top=Math.round(this.top),this.right=Math.round(this.right),this.bottom=Math.round(this.bottom),this.left=Math.round(this.left),this};var iq={thin:2,medium:4,thick:6};function YM(s,h){if("none"==(s.currentStyle?s.currentStyle[h+"Style"]:null))return 0;var m=s.currentStyle?s.currentStyle[h+"Width"]:null;if(m in iq)s=iq[m];else if(/^\d+px?$/.test(m))s=parseInt(m,10);else{h=s.style.left;var b=s.runtimeStyle.left;s.runtimeStyle.left=s.currentStyle.left,s.style.left=m,m=s.style.pixelLeft,s.style.left=h,s.runtimeStyle.left=b,s=+m}return s}function o3(){}function n_(s){ns.call(this),this.s=s||lM(),this.cb=null,this.na=!1,this.g=null,this.L=void 0,this.oa=this.Ea=this.Y=null}function Xn(s,h){return s.g?oV(h,s.g||s.s.a):null}function wT(s){return s.L||(s.L=new Y0(s)),s.L}function a3(s,h){s.Ea&&rl(s.Ea,h,void 0)}function ki(s,h){var m=t8(s,"firebaseui-textfield");h?(yc(s,"firebaseui-input-invalid"),_c(s,"firebaseui-input"),m&&yc(m,"firebaseui-textfield-invalid")):(yc(s,"firebaseui-input"),_c(s,"firebaseui-input-invalid"),m&&_c(m,"firebaseui-textfield-invalid"))}function X0(s,h,m){eT(s,hs(tT,h=new vT(h))),Q0(wT(s),h,"input",m)}function ET(s,h,m){eT(s,hs(tT,h=new bT(h))),Q0(wT(s),h,"key",function(b){13==b.keyCode&&(b.stopPropagation(),b.preventDefault(),m(b))})}function gi(s,h,m){eT(s,hs(tT,h=new z0(h))),Q0(wT(s),h,"action",function(b){b.stopPropagation(),b.preventDefault(),m(b)})}function Aa(s){_c(s,"firebaseui-hidden")}function Ss(s,h){h&&aV(s,h),yc(s,"firebaseui-hidden")}function eb(s){return!_T(s,"firebaseui-hidden")&&"none"!=s.style.display}function tb(s){var m=(s=s||{}).disabled,b='<div class="firebaseui-textfield mdl-textfield mdl-js-textfield mdl-textfield--floating-label"><label class="mdl-textfield__label firebaseui-label" for="ui-sign-in-email-input">';return b=s.wc?b+"Enter new email address":b+"Email",b+='</label><input type="email" name="email" id="ui-sign-in-email-input" autocomplete="username" class="mdl-textfield__input firebaseui-input firebaseui-id-email" value="'+Ao(s.email??"")+'"'+(m?"disabled":"")+'></div><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-id-email-error"></p></div>',kt(b)}function Yo(s){var h='<button type="submit" class="firebaseui-id-submit firebaseui-button mdl-button mdl-js-button mdl-button--raised mdl-button--colored">';return h=(s=(s=s||{}).label)?h+pn(s):h+"Next",kt(h+"</button>")}function u3(){var s=""+Yo({label:Ni("Sign In")});return kt(s)}function sq(){var s=""+Yo({label:Ni("Save")});return kt(s)}function ol(){var s=""+Yo({label:Ni("Continue")});return kt(s)}function oq(s){var h='<div class="firebaseui-new-password-component"><div class="firebaseui-textfield mdl-textfield mdl-js-textfield mdl-textfield--floating-label"><label class="mdl-textfield__label firebaseui-label" for="ui-sign-in-new-password-input">';return h=(s=(s=s||{}).label)?h+pn(s):h+"Choose password",kt(h+'</label><input type="password" name="newPassword" id="ui-sign-in-new-password-input" autocomplete="new-password" class="mdl-textfield__input firebaseui-input firebaseui-id-new-password"></div><a href="javascript:void(0)" class="firebaseui-input-floating-button firebaseui-id-password-toggle firebaseui-input-toggle-on firebaseui-input-toggle-blur"></a><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-id-new-password-error"></p></div></div>')}function aq(){var h='<div class="firebaseui-textfield mdl-textfield mdl-js-textfield mdl-textfield--floating-label"><label class="mdl-textfield__label firebaseui-label" for="ui-sign-in-password-input">';return kt((h={}.current?h+"Current password":h+"Password")+'</label><input type="password" name="password" id="ui-sign-in-password-input" autocomplete="current-password" class="mdl-textfield__input firebaseui-input firebaseui-id-password"></div><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-id-password-error"></p></div>')}function uq(){return kt('<a class="firebaseui-link firebaseui-id-secondary-link" href="javascript:void(0)">Trouble signing in?</a>')}function Da(s){var h='<button class="firebaseui-id-secondary-link firebaseui-button mdl-button mdl-js-button mdl-button--primary">';return h=(s=(s=s||{}).label)?h+pn(s):h+"Cancel",kt(h+"</button>")}function Gs(s){var h="";return s.F&&s.D&&(h+='<ul class="firebaseui-tos-list firebaseui-tos"><li class="firebaseui-inline-list-item"><a href="javascript:void(0)" class="firebaseui-link firebaseui-tos-link" target="_blank">Terms of Service</a></li><li class="firebaseui-inline-list-item"><a href="javascript:void(0)" class="firebaseui-link firebaseui-pp-link" target="_blank">Privacy Policy</a></li></ul>'),kt(h)}function nb(s){var h="";return s.F&&s.D&&(h+='<p class="firebaseui-tos firebaseui-tospp-full-message">By continuing, you are indicating that you accept our <a href="javascript:void(0)" class="firebaseui-link firebaseui-tos-link" target="_blank">Terms of Service</a> and <a href="javascript:void(0)" class="firebaseui-link firebaseui-pp-link" target="_blank">Privacy Policy</a>.</p>'),kt(h)}function lq(s){return s='<div class="firebaseui-info-bar firebaseui-id-info-bar"><p class="firebaseui-info-bar-message">'+pn(s.message)+'&nbsp;&nbsp;<a href="javascript:void(0)" class="firebaseui-link firebaseui-id-dismiss-info-bar">Dismiss</a></p></div>',kt(s)}function cq(s){var h=s.content;return kt('<dialog class="mdl-dialog firebaseui-dialog firebaseui-id-dialog'+((s=s.Ab)?" "+Ao(s):"")+'">'+pn(h)+"</dialog>")}function dq(s){var h=s.message;return kt(cq({content:i8('<div class="firebaseui-dialog-icon-wrapper"><div class="'+Ao(s.Ma)+' firebaseui-dialog-icon"></div></div><div class="firebaseui-progress-dialog-message">'+pn(h)+"</div>")}))}function hq(s){for(var h='<div class="firebaseui-list-box-actions">',m=(s=s.items).length,b=0;b<m;b++){var T=s[b];h+='<button type="button" data-listboxid="'+Ao(T.id)+'" class="mdl-button firebaseui-id-list-box-dialog-button firebaseui-list-box-dialog-button">'+(T.Ma?'<div class="firebaseui-list-box-icon-wrapper"><div class="firebaseui-list-box-icon '+Ao(T.Ma)+'"></div></div>':"")+'<div class="firebaseui-list-box-label-wrapper">'+pn(T.label)+"</div></button>"}return h=""+cq({Ab:Ni("firebaseui-list-box-dialog"),content:i8(h+"</div>")}),kt(h)}function QM(s){return kt((s=s||{}).tb?'<div class="mdl-spinner mdl-spinner--single-color mdl-js-spinner is-active firebaseui-busy-indicator firebaseui-id-busy-indicator"></div>':'<div class="mdl-progress mdl-js-progress mdl-progress__indeterminate firebaseui-busy-indicator firebaseui-id-busy-indicator"></div>')}function mp(s,h){return or((s=(s=s||{}).ga).S?s.S:h.hb[s.providerId]?""+h.hb[s.providerId]:s.providerId&&0==s.providerId.indexOf("saml.")||s.providerId&&0==s.providerId.indexOf("oidc.")?s.providerId.substring(5):""+s.providerId)}function l3(s){fq(s,"upgradeElement")}function c3(s){fq(s,"downgradeElements")}lt(o3),o3.prototype.a=0,Yt(n_,ns),(n=n_.prototype).Lb=o3.Xa(),n.N=function(){return this.g},n.Za=function(s){if(this.Y&&this.Y!=s)throw Error("Method not supported");n_.K.Za.call(this,s)},n.kb=function(){this.g=this.s.a.createElement("DIV")},n.render=function(s){if(this.na)throw Error("Component already rendered");this.g||this.kb(),s?s.insertBefore(this.g,null):this.s.a.body.appendChild(this.g),this.Y&&!this.Y.na||this.v()},n.v=function(){this.na=!0,a3(this,function(s){!s.na&&s.N()&&s.v()})},n.ya=function(){a3(this,function(s){s.na&&s.ya()}),this.L&&zW(this.L),this.na=!1},n.o=function(){this.na&&this.ya(),this.L&&(this.L.m(),delete this.L),a3(this,function(s){s.m()}),this.g&&Wm(this.g),this.Y=this.g=this.oa=this.Ea=null,n_.K.o.call(this)},n.removeChild=function(s,h){if(s){var m=$(s)?s:s.cb||(s.cb=":"+(s.Lb.a++).toString(36));if(s=this.oa&&m&&(null!==(s=this.oa)&&m in s?s[m]:void 0)||null,m&&s){var b=this.oa;if(m in b&&delete b[m],fc(this.Ea,s),h&&(s.ya(),s.g&&Wm(s.g)),null==(h=s))throw Error("Unable to set parent component");h.Y=null,n_.K.Za.call(h,null)}}if(!s)throw Error("Child is not in parent component");return s},lq.a="firebaseui.auth.soy2.element.infoBar",dq.a="firebaseui.auth.soy2.element.progressDialog",hq.a="firebaseui.auth.soy2.element.listBoxDialog",QM.a="firebaseui.auth.soy2.element.busyIndicator";var oue=["mdl-js-textfield","mdl-js-progress","mdl-js-spinner","mdl-js-button"];function fq(s,h){s&&window.componentHandler&&window.componentHandler[h]&&oue.forEach(function(m){_T(s,m)&&window.componentHandler[h](s),rl(sV(m,s),function(b){window.componentHandler[h](b)})})}function pq(s,h,m){if(JM.call(this),document.body.appendChild(s),s.showModal||window.dialogPolyfill.registerDialog(s),s.showModal(),l3(s),h&&gi(this,s,function(x){var B=s.getBoundingClientRect();(x.clientX<B.left||B.left+B.width<x.clientX||x.clientY<B.top||B.top+B.height<x.clientY)&&JM.call(this)}),!m){var b=this.N().parentElement||this.N().parentNode;if(b){var T=this;this.da=function(){if(s.open){var x=s.getBoundingClientRect().height,B=b.getBoundingClientRect().height,ee=b.getBoundingClientRect().top-document.body.getBoundingClientRect().top,Le=b.getBoundingClientRect().left-document.body.getBoundingClientRect().left,ct=s.getBoundingClientRect().width,Gt=b.getBoundingClientRect().width;s.style.top=(ee+(B-x)/2).toString()+"px",s.style.left=(x=Le+(Gt-ct)/2).toString()+"px",s.style.right=(document.body.getBoundingClientRect().width-x-ct).toString()+"px"}else window.removeEventListener("resize",T.da)},this.da(),window.addEventListener("resize",this.da,!1)}}}function JM(){var s=d3.call(this);s&&(c3(s),s.open&&s.close(),Wm(s),this.da&&window.removeEventListener("resize",this.da))}function d3(){return oV("firebaseui-id-dialog")}function gq(){Wm(mq.call(this))}function mq(){return Xn(this,"firebaseui-id-info-bar")}function _q(){return Xn(this,"firebaseui-id-dismiss-info-bar")}var aue={xa:{"google.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg","github.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/github.svg","facebook.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/facebook.svg","twitter.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/twitter.svg",password:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/mail.svg",phone:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/phone.svg",anonymous:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/anonymous.png","microsoft.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/microsoft.svg","yahoo.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/yahoo.svg","apple.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/apple.png",saml:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/saml.svg",oidc:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/oidc.svg"},wa:{"google.com":"#ffffff","github.com":"#333333","facebook.com":"#3b5998","twitter.com":"#55acee",password:"#db4437",phone:"#02bd7e",anonymous:"#f4b400","microsoft.com":"#2F2F2F","yahoo.com":"#720E9E","apple.com":"#000000",saml:"#007bff",oidc:"#007bff"},hb:{"google.com":"Google","github.com":"GitHub","facebook.com":"Facebook","twitter.com":"Twitter",password:"Password",phone:"Phone",anonymous:"Guest","microsoft.com":"Microsoft","yahoo.com":"Yahoo","apple.com":"Apple"}};function h3(s,h,m){for(var b in Gd.call(this,s,h),m)this[b]=m[b]}function Qe(s,h,m,b,T){n_.call(this,m),this.fb=s,this.eb=h,this.Fa=!1,this.Ga=b||null,this.A=this.ca=null,this.Z=A0(aue),Vm(this.Z,T||{})}function ci(s){return s.N().parentElement||s.N().parentNode}function IT(s,h,m){ET(s,h,function(){m.focus()})}function rb(s,h,m){ET(s,h,function(){m()})}function yq(s,h,m){h=(s=s||{}).Va;var b=s.ia;return s='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-sign-in"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in with email</h1></div><div class="firebaseui-card-content"><div class="firebaseui-relative-wrapper">'+tb(s)+'</div></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+(h?Da(null):"")+Yo(null)+'</div></div><div class="firebaseui-card-footer">'+(b?nb(m):Gs(m))+"</div></form></div>",kt(s)}function vq(s,h,m){return h=(s=s||{}).ia,s='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-sign-in"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content">'+tb(s)+aq()+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-links">'+uq()+'</div><div class="firebaseui-form-actions">'+u3()+'</div></div><div class="firebaseui-card-footer">'+(h?nb(m):Gs(m))+"</div></form></div>",kt(s)}function bq(s,h,m){var b=(s=s||{}).Tb;h=s.Ta;var T=s.ia,x='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-sign-up"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Create account</h1></div><div class="firebaseui-card-content">'+tb(s);return b?(s='<div class="firebaseui-textfield mdl-textfield mdl-js-textfield mdl-textfield--floating-label"><label class="mdl-textfield__label firebaseui-label" for="ui-sign-in-name-input">Branding display name</label><input type="text" name="name" id="ui-sign-in-name-input" autocomplete="name" class="mdl-textfield__input firebaseui-input firebaseui-id-name" value="'+Ao((s=(s=s||{}).name)??"")+'"></div><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-id-name-error"></p></div>',s=kt(s)):s="",m=x+s+oq(null)+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+(h?Da(null):"")+sq()+'</div></div><div class="firebaseui-card-footer">'+(T?nb(m):Gs(m))+"</div></form></div>",kt(m)}function wq(s,h,m){return h=(s=s||{}).Ta,s='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-recovery"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Recover password</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Get instructions sent to this email that explain how to reset your password</p>'+tb(s)+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+(h?Da(null):"")+Yo({label:Ni("Send")})+'</div></div><div class="firebaseui-card-footer">'+Gs(m)+"</div></form></div>",kt(s)}function Eq(s,h,m){h=s.G;var b="";return b+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-recovery-email-sent"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Check your email</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+(s="Follow the instructions sent to <strong>"+pn(s.email)+"</strong> to recover your password")+'</p></div><div class="firebaseui-card-actions">',h&&(b+='<div class="firebaseui-form-actions">'+Yo({label:Ni("Done")})+"</div>"),b+='</div><div class="firebaseui-card-footer">'+Gs(m)+"</div></div>",kt(b)}function Iq(s,h,m){return kt('<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-callback"><div class="firebaseui-callback-indicator-container">'+QM(null)+"</div></div>")}function Cq(s,h,m){return kt('<div class="firebaseui-container firebaseui-id-page-spinner">'+QM({tb:!0})+"</div>")}function Tq(){return kt('<div class="firebaseui-container firebaseui-id-page-blank firebaseui-use-spinner"></div>')}function Aq(s,h,m){return h="",h+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-link-sign-in-sent"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign-in email sent</h1></div><div class="firebaseui-card-content"><div class="firebaseui-email-sent"></div><p class="firebaseui-text">'+(s="A sign-in email with additional instructions was sent to <strong>"+pn(s.email)+"</strong>. Check your email to complete sign-in.")+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-links">'+kt('<a class="firebaseui-link firebaseui-id-trouble-getting-email-link" href="javascript:void(0)">Trouble getting email?</a>')+'</div><div class="firebaseui-form-actions">'+Da({label:Ni("Back")})+'</div></div><div class="firebaseui-card-footer">'+Gs(m)+"</div></form></div>",kt(h)}function Dq(s,h,m){return s='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-not-received"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Trouble getting email?</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Try these common fixes:<ul><li>Check if the email was marked as spam or filtered.</li><li>Check your internet connection.</li><li>Check that you did not misspell your email.</li><li>Check that your inbox space is not running out or other inbox settings related issues.</li></ul></p><p class="firebaseui-text">If the steps above didn\'t work, you can resend the email. Note that this will deactivate the link in the older email.</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-links">'+kt('<a class="firebaseui-link firebaseui-id-resend-email-link" href="javascript:void(0)">Resend</a>')+'</div><div class="firebaseui-form-actions">'+Da({label:Ni("Back")})+'</div></div><div class="firebaseui-card-footer">'+Gs(m)+"</div></form></div>",kt(s)}function Sq(s,h,m){return s='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-link-sign-in-confirmation"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Confirm email</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Confirm your email to complete sign in</p><div class="firebaseui-relative-wrapper">'+tb(s)+'</div></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+Da(null)+Yo(null)+'</div></div><div class="firebaseui-card-footer">'+Gs(m)+"</div></form></div>",kt(s)}function xq(){var s='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-different-device-error"><div class="firebaseui-card-header"><h1 class="firebaseui-title">New device or browser detected</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Try opening the link using the same device or browser where you started the sign-in process.</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+Da({label:Ni("Dismiss")})+"</div></div></div>";return kt(s)}function Nq(){var s='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-anonymous-user-mismatch"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Session ended</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">The session associated with this sign-in request has either expired or was cleared.</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+Da({label:Ni("Dismiss")})+"</div></div></div>";return kt(s)}function Mq(s,h,m){return h="",h+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-linking"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><h2 class="firebaseui-subtitle">You already have an account</h2><p class="firebaseui-text">'+(s="You\u2019ve already used <strong>"+pn(s.email)+"</strong> to sign in. Enter your password for that account.")+"</p>"+aq()+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-links">'+uq()+'</div><div class="firebaseui-form-actions">'+u3()+'</div></div><div class="firebaseui-card-footer">'+Gs(m)+"</div></form></div>",kt(h)}function kq(s,h,m){var b=s.email;return h="",s=Ni(s=""+mp(s,m)),h+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-link-sign-in-linking"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><h2 class="firebaseui-subtitle">You already have an account</h2><p class="firebaseui-text firebaseui-text-justify">'+(b="You\u2019ve already used <strong>"+pn(b)+"</strong>. You can connect your <strong>"+pn(s)+"</strong> account with <strong>"+pn(b)+"</strong> by signing in with email link below.")+'<p class="firebaseui-text firebaseui-text-justify">'+(s="For this flow to successfully connect your "+pn(s)+" account with this email, you have to open the link on the same device or browser.")+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+u3()+'</div></div><div class="firebaseui-card-footer">'+Gs(m)+"</div></form></div>",kt(h)}function Rq(s,h,m){h="";var b=""+mp(s,m);return h+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-link-sign-in-linking-different-device"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text firebaseui-text-justify">'+(s="You originally intended to connect <strong>"+pn(b=Ni(b))+"</strong> to your email account but have opened the link on a different device where you are not signed in.")+'</p><p class="firebaseui-text firebaseui-text-justify">'+(b="If you still want to connect your <strong>"+pn(b)+"</strong> account, open the link on the same device where you started sign-in. Otherwise, tap Continue to sign-in on this device.")+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+ol()+'</div></div><div class="firebaseui-card-footer">'+Gs(m)+"</div></form></div>",kt(h)}function Oq(s,h,m){var b=s.email;return h="",s=Ni(s=""+mp(s,m)),h+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-federated-linking"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><h2 class="firebaseui-subtitle">You already have an account</h2><p class="firebaseui-text">'+(b="You\u2019ve already used <strong>"+pn(b)+"</strong>. Sign in with "+pn(s)+" to continue.")+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+Yo({label:Ni("Sign in with "+s)})+'</div></div><div class="firebaseui-card-footer">'+Gs(m)+"</div></form></div>",kt(h)}function Pq(s,h,m){var b=(s=s||{}).kc;h=s.yb,s=s.Eb;var T='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-unauthorized-user"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Not Authorized</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">';return T+=b?b="<strong>"+pn(b)+"</strong> is not authorized to view the requested page.":"User is not authorized to view the requested page.",T+="</p>",h&&(T+='<p class="firebaseui-text firebaseui-id-unauthorized-user-admin-email">'+(h="Please contact <strong>"+pn(h)+"</strong> for authorization.")+"</p>"),T+='</div><div class="firebaseui-card-actions"><div class="firebaseui-form-links">',s&&(T+='<a class="firebaseui-link firebaseui-id-unauthorized-user-help-link" href="javascript:void(0)" target="_blank">Learn More</a>'),T+='</div><div class="firebaseui-form-actions">'+Da({label:Ni("Back")})+'</div></div><div class="firebaseui-card-footer">'+Gs(m)+"</div></form></div>",kt(T)}function Lq(s,h,m){return h="",h+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-unsupported-provider"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+(s="To continue sign in with <strong>"+pn(s.email)+"</strong> on this device, you have to recover the password.")+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+Da(null)+Yo({label:Ni("Recover password")})+'</div></div><div class="firebaseui-card-footer">'+Gs(m)+"</div></form></div>",kt(h)}function Fq(s){var h="";return h+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-reset"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Reset your password</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">for <strong>'+pn(s.email)+"</strong></p>"+oq(function Yoe(s){function h(){}var m={label:Ni("New password")};for(var b in h.prototype=s,s=new h,m)s[b]=m[b];return s}(s))+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+sq()+"</div></div></form></div>",kt(h)}function Uq(s){return s='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-reset-success"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Password changed</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">You can now sign in with your new password</p></div><div class="firebaseui-card-actions">'+((s=s||{}).G?'<div class="firebaseui-form-actions">'+ol()+"</div>":"")+"</div></div>",kt(s)}function Vq(s){return s='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-reset-failure"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Try resetting your password again</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Your request to reset your password has expired or the link has already been used</p></div><div class="firebaseui-card-actions">'+((s=s||{}).G?'<div class="firebaseui-form-actions">'+ol()+"</div>":"")+"</div></div>",kt(s)}function Bq(s){var h=s.G,m="";return m+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-change-revoke-success"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Updated email address</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+(s="Your sign-in email address has been changed back to <strong>"+pn(s.email)+"</strong>.")+'</p><p class="firebaseui-text">If you didn\u2019t ask to change your sign-in email, it\u2019s possible someone is trying to access your account and you should <a class="firebaseui-link firebaseui-id-reset-password-link" href="javascript:void(0)">change your password right away</a>.</p></div><div class="firebaseui-card-actions">'+(h?'<div class="firebaseui-form-actions">'+ol()+"</div>":"")+"</div></form></div>",kt(m)}function jq(s){return s='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-change-revoke-failure"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Unable to update your email address</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">There was a problem changing your sign-in email back.</p><p class="firebaseui-text">If you try again and still can\u2019t reset your email, try asking your administrator for help.</p></div><div class="firebaseui-card-actions">'+((s=s||{}).G?'<div class="firebaseui-form-actions">'+ol()+"</div>":"")+"</div></div>",kt(s)}function $q(s){return s='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-verification-success"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Your email has been verified</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">You can now sign in with your new account</p></div><div class="firebaseui-card-actions">'+((s=s||{}).G?'<div class="firebaseui-form-actions">'+ol()+"</div>":"")+"</div></div>",kt(s)}function Hq(s){return s='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-verification-failure"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Try verifying your email again</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Your request to verify your email has expired or the link has already been used</p></div><div class="firebaseui-card-actions">'+((s=s||{}).G?'<div class="firebaseui-form-actions">'+ol()+"</div>":"")+"</div></div>",kt(s)}function Gq(s){var h=s.G,m="";return m+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-verify-and-change-email-success"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Your email has been verified and changed</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+(s="You can now sign in with your new email <strong>"+pn(s.email)+"</strong>.")+'</p></div><div class="firebaseui-card-actions">'+(h?'<div class="firebaseui-form-actions">'+ol()+"</div>":"")+"</div></div>",kt(m)}function Zq(s){return s='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-verify-and-change-email-failure"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Try updating your email again</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Your request to verify and update your email has expired or the link has already been used.</p></div><div class="firebaseui-card-actions">'+((s=s||{}).G?'<div class="firebaseui-form-actions">'+ol()+"</div>":"")+"</div></div>",kt(s)}function Wq(s){var h=s.factorId,m=s.phoneNumber;s=s.G;var b='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-revert-second-factor-addition-success"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Removed second factor</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">';return b+="phone"===h?h="The <strong>"+pn(h)+" "+pn(m)+"</strong> was removed as a second authentication step.":"The device or app was removed as a second authentication step.",b+='</p><p class="firebaseui-text">If you don\'t recognize this device, someone might be trying to access your account. Consider <a class="firebaseui-link firebaseui-id-reset-password-link" href="javascript:void(0)">changing your password right away</a>.</p></div><div class="firebaseui-card-actions">'+(s?'<div class="firebaseui-form-actions">'+ol()+"</div>":"")+"</div></form></div>",kt(b)}function qq(s){return s='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-revert-second-factor-addition-failure"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Couldn\'t remove your second factor</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Something went wrong removing your second factor.</p><p class="firebaseui-text">Try removing it again. If that doesn\'t work, contact support for assistance.</p></div><div class="firebaseui-card-actions">'+((s=s||{}).G?'<div class="firebaseui-form-actions">'+ol()+"</div>":"")+"</div></div>",kt(s)}function zq(s){var h=s.zb;return s='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-recoverable-error"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Error encountered</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+pn(s.errorMessage)+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">',h&&(s+=Yo({label:Ni("Retry")})),kt(s+"</div></div></div>")}function Kq(s){return s='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-unrecoverable-error"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Error encountered</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+pn(s.errorMessage)+"</p></div></div>",kt(s)}function Yq(s,h,m){var b=s.Qb;return h="",h+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-mismatch"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><h2 class="firebaseui-subtitle">'+(s="Continue with "+pn(s.jc)+"?")+'</h2><p class="firebaseui-text">'+(b="You originally wanted to sign in with "+pn(b))+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+Da(null)+Yo({label:Ni("Continue")})+'</div></div><div class="firebaseui-card-footer">'+Gs(m)+"</div></form></div>",kt(h)}function Qq(s,h,m){var b='<div class="firebaseui-container firebaseui-page-provider-sign-in firebaseui-id-page-provider-sign-in firebaseui-use-spinner"><div class="firebaseui-card-content"><form onsubmit="return false;"><ul class="firebaseui-idp-list">';h=(s=s.Sb).length;for(var T=0;T<h;T++){var x={ga:s[T]},B=m,ee=(x=x||{}).ga,Le=x,ct="";switch((Le=Le||{}).ga.providerId){case"google.com":ct+="firebaseui-idp-google";break;case"github.com":ct+="firebaseui-idp-github";break;case"facebook.com":ct+="firebaseui-idp-facebook";break;case"twitter.com":ct+="firebaseui-idp-twitter";break;case"phone":ct+="firebaseui-idp-phone";break;case"anonymous":ct+="firebaseui-idp-anonymous";break;case"password":ct+="firebaseui-idp-password";break;default:ct+="firebaseui-idp-generic"}Le=(Le='<button class="firebaseui-idp-button mdl-button mdl-js-button mdl-button--raised '+Ao(or(ct))+' firebaseui-id-idp-button" data-provider-id="'+Ao(ee.providerId)+'" style="background-color:')+Ao(s8(or((ct=(ct=(ct=x)||{}).ga).ta?ct.ta:B.wa[ct.providerId]?""+B.wa[ct.providerId]:0==ct.providerId.indexOf("saml.")?""+B.wa.saml:0==ct.providerId.indexOf("oidc.")?""+B.wa.oidc:""+B.wa.password)))+'"><span class="firebaseui-idp-icon-wrapper"><img class="firebaseui-idp-icon" alt="" src="';var Gt=x;ct=B,ct=Koe((Gt=(Gt=Gt||{}).ga).za?qm(Gt.za):ct.xa[Gt.providerId]?qm(ct.xa[Gt.providerId]):0==Gt.providerId.indexOf("saml.")?qm(ct.xa.saml):0==Gt.providerId.indexOf("oidc.")?qm(ct.xa.oidc):qm(ct.xa.password)),Le=Le+Ao(qm(ct))+'"></span>',"password"==ee.providerId?(Le+='<span class="firebaseui-idp-text firebaseui-idp-text-long">',Le+=ee.V?pn(ee.V):ee.S?x="Sign in with "+pn(mp(x,B)):"Sign in with email",Le+='</span><span class="firebaseui-idp-text firebaseui-idp-text-short">',Le=ee.S?Le+pn(ee.S):Le+"Email",Le+="</span>"):"phone"==ee.providerId?(Le+='<span class="firebaseui-idp-text firebaseui-idp-text-long">',Le+=ee.V?pn(ee.V):ee.S?x="Sign in with "+pn(mp(x,B)):"Sign in with phone",Le+='</span><span class="firebaseui-idp-text firebaseui-idp-text-short">',Le=ee.S?Le+pn(ee.S):Le+"Phone",Le+="</span>"):"anonymous"==ee.providerId?(Le+='<span class="firebaseui-idp-text firebaseui-idp-text-long">',Le+=ee.V?pn(ee.V):ee.S?x="Sign in with "+pn(mp(x,B)):"Continue as guest",Le+='</span><span class="firebaseui-idp-text firebaseui-idp-text-short">',Le=ee.S?Le+pn(ee.S):Le+"Guest",Le+="</span>"):(Le+='<span class="firebaseui-idp-text firebaseui-idp-text-long">',Le+=ee.V?pn(ee.V):ct="Sign in with "+pn(mp(x,B)),Le+='</span><span class="firebaseui-idp-text firebaseui-idp-text-short">'+pn(ee.S?ee.S:mp(x,B))+"</span>"),b+='<li class="firebaseui-list-item">'+(ee=kt(Le+"</button>"))+"</li>"}return b+='</ul></form></div><div class="firebaseui-card-footer firebaseui-provider-sign-in-footer">'+nb(m)+"</div></div>",kt(b)}function Jq(s,h,m){var x,b=(s=s||{}).Gb,T=s.Va;return h=s.ia,s='<div class="firebaseui-phone-number"><button class="firebaseui-id-country-selector firebaseui-country-selector mdl-button mdl-js-button"><span class="firebaseui-flag firebaseui-country-selector-flag firebaseui-id-country-selector-flag"></span><span class="firebaseui-id-country-selector-code"></span></button><div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label firebaseui-textfield firebaseui-phone-input-wrapper"><label class="mdl-textfield__label firebaseui-label" for="ui-sign-in-phone-number-input">Phone number</label><input type="tel" name="phoneNumber" id="ui-sign-in-phone-number-input" class="mdl-textfield__input firebaseui-input firebaseui-id-phone-number" value="'+Ao((s=(s=s||{}).Aa)??"")+'"></div></div><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-phone-number-error firebaseui-id-phone-number-error"></p></div>',x=(s='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-phone-sign-in-start"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Enter your phone number</h1></div><div class="firebaseui-card-content"><div class="firebaseui-relative-wrapper">'+kt(s))+(x=b?kt('<div class="firebaseui-recaptcha-wrapper"><div class="firebaseui-recaptcha-container"></div><div class="firebaseui-error-wrapper firebaseui-recaptcha-error-wrapper"><p class="firebaseui-error firebaseui-hidden firebaseui-id-recaptcha-error"></p></div></div>'):"")+'</div></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+(T?Da(null):"")+Yo({label:Ni("Verify")})+'</div></div><div class="firebaseui-card-footer">',h?(h='<p class="firebaseui-tos firebaseui-phone-tos">',m=kt((h=m.F&&m.D?h+'By tapping Verify, you are indicating that you accept our <a href="javascript:void(0)" class="firebaseui-link firebaseui-tos-link" target="_blank">Terms of Service</a> and <a href="javascript:void(0)" class="firebaseui-link firebaseui-pp-link" target="_blank">Privacy Policy</a>. An SMS may be sent. Message &amp; data rates may apply.':h+"By tapping Verify, an SMS may be sent. Message &amp; data rates may apply.")+"</p>")):m=kt('<p class="firebaseui-tos firebaseui-phone-sms-notice">By tapping Verify, an SMS may be sent. Message &amp; data rates may apply.</p>')+Gs(m),kt(x+m+"</div></form></div>")}function Xq(s,h,m){var b="";return s='Enter the 6-digit code we sent to <a class="firebaseui-link firebaseui-change-phone-number-link firebaseui-id-change-phone-number-link" href="javascript:void(0)">&lrm;'+pn(h=(s=s||{}).phoneNumber)+"</a>",pn(h),h=b,m='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-phone-sign-in-finish"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Verify your phone number</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+s+"</p>"+(b=kt('<div class="firebaseui-textfield mdl-textfield mdl-js-textfield mdl-textfield--floating-label"><label class="mdl-textfield__label firebaseui-label" for="ui-sign-in-phone-confirmation-code-input">6-digit code</label><input type="number" name="phoneConfirmationCode" id="ui-sign-in-phone-confirmation-code-input" class="mdl-textfield__input firebaseui-input firebaseui-id-phone-confirmation-code"></div><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-id-phone-confirmation-code-error"></p></div>'))+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+Da(null)+Yo({label:Ni("Continue")})+'</div></div><div class="firebaseui-card-footer">'+Gs(m)+"</div></form>",s=kt('<div class="firebaseui-resend-container"><span class="firebaseui-id-resend-countdown"></span><a href="javascript:void(0)" class="firebaseui-id-resend-link firebaseui-hidden firebaseui-link">Resend</a></div>'),kt(h+(m+s+"</div>"))}function e7(){return kt('<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-sign-out"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign Out</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">You are now successfully signed out.</p></div></div>')}function t7(s,h,m){var b='<div class="firebaseui-container firebaseui-page-select-tenant firebaseui-id-page-select-tenant"><div class="firebaseui-card-content"><form onsubmit="return false;"><ul class="firebaseui-tenant-list">';h=(s=s.ec).length;for(var T=0;T<h;T++){var x=s[T],B="",ee=pn(x.displayName),Le=x.tenantId?x.tenantId:"top-level-project";B+='<button class="firebaseui-tenant-button mdl-button mdl-js-button mdl-button--raised firebaseui-tenant-selection-'+Ao(Le=Ni(Le))+' firebaseui-id-tenant-selection-button"'+(x.tenantId?'data-tenant-id="'+Ao(x.tenantId)+'"':"")+'style="background-color:'+Ao(s8(x.ta))+'"><span class="firebaseui-idp-icon-wrapper"><img class="firebaseui-idp-icon" alt="" src="'+Ao(qm(x.za))+'"></span><span class="firebaseui-idp-text firebaseui-idp-text-long">',B+=x.V?pn(x.V):x="Sign in to "+pn(x.displayName),b+='<li class="firebaseui-list-item">'+(B=kt(B+'</span><span class="firebaseui-idp-text firebaseui-idp-text-short">'+ee+"</span></button>"))+"</li>"}return b+='</ul></form></div><div class="firebaseui-card-footer firebaseui-provider-sign-in-footer">'+nb(m)+"</div></div>",kt(b)}function n7(s,h,m){return s='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-provider-match-by-email"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><div class="firebaseui-relative-wrapper">'+tb(null)+'</div></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+Yo(null)+'</div></div><div class="firebaseui-card-footer">'+nb(m)+"</div></form></div>",kt(s)}function fs(){return Xn(this,"firebaseui-id-submit")}function is(){return Xn(this,"firebaseui-id-secondary-link")}function xs(s,h){gi(this,fs.call(this),function(b){s(b)});var m=is.call(this);m&&h&&gi(this,m,function(b){h(b)})}function XM(){return Xn(this,"firebaseui-id-password")}function ek(){return Xn(this,"firebaseui-id-password-error")}function r7(){var s=XM.call(this),h=ek.call(this);X0(this,s,function(){eb(h)&&(ki(s,!0),Aa(h))})}function i7(){var s=XM.call(this),h=ek.call(this);return Ds(s)?(ki(s,!0),Aa(h),h=!0):(ki(s,!1),Ss(h,or("Enter your password").toString()),h=!1),h?Ds(s):null}function ib(s,h,m,b,T,x){Qe.call(this,Mq,{email:s},x,"passwordLinking",{F:b,D:T}),this.w=h,this.H=m}Yt(h3,Gd),Yt(Qe,n_),(n=Qe.prototype).kb=function(){var s=JC(this.fb,this.eb,this.Z,this.s);l3(s),this.g=s},n.v=function(){if(Qe.K.v.call(this),v8(ci(this),new h3("pageEnter",ci(this),{pageId:this.Ga})),this.bb()&&this.Z.F){var s=this.Z.F;gi(this,this.bb(),function(){s()})}if(this.ab()&&this.Z.D){var h=this.Z.D;gi(this,this.ab(),function(){h()})}},n.ya=function(){v8(ci(this),new h3("pageExit",ci(this),{pageId:this.Ga})),Qe.K.ya.call(this)},n.o=function(){window.clearTimeout(this.ca),this.eb=this.fb=this.ca=null,this.Fa=!1,this.A=null,c3(this.N()),Qe.K.o.call(this)},n.I=function(s,h,m,b){function T(){if(x.T)return null;x.Fa=!1,window.clearTimeout(x.ca),x.ca=null,x.A&&(c3(x.A),Wm(x.A),x.A=null)}var x=this;return x.Fa?null:(function uue(s){s.Fa=!0;var h=_T(s.N(),"firebaseui-use-spinner");s.ca=window.setTimeout(function(){s.N()&&null===s.A&&(s.A=JC(QM,{tb:h},null,s.s),s.N().appendChild(s.A),l3(s.A))},500)}(x),s.apply(null,h).then(m,b).then(T,T))},kn(Qe.prototype,{a:function(s){gq.call(this);var h=JC(lq,{message:s},null,this.s);this.N().appendChild(h),gi(this,_q.call(this),function(){Wm(h)})},yc:gq,Ac:mq,zc:_q,$:function(s,h){s=JC(dq,{Ma:s,message:h},null,this.s),pq.call(this,s)},h:JM,Cb:d3,Cc:function(){return Xn(this,"firebaseui-tos")},bb:function(){return Xn(this,"firebaseui-tos-link")},ab:function(){return Xn(this,"firebaseui-pp-link")},Dc:function(){return Xn(this,"firebaseui-tos-list")}}),yq.a="firebaseui.auth.soy2.page.signIn",vq.a="firebaseui.auth.soy2.page.passwordSignIn",bq.a="firebaseui.auth.soy2.page.passwordSignUp",wq.a="firebaseui.auth.soy2.page.passwordRecovery",Eq.a="firebaseui.auth.soy2.page.passwordRecoveryEmailSent",Iq.a="firebaseui.auth.soy2.page.callback",Cq.a="firebaseui.auth.soy2.page.spinner",Tq.a="firebaseui.auth.soy2.page.blank",Aq.a="firebaseui.auth.soy2.page.emailLinkSignInSent",Dq.a="firebaseui.auth.soy2.page.emailNotReceived",Sq.a="firebaseui.auth.soy2.page.emailLinkSignInConfirmation",xq.a="firebaseui.auth.soy2.page.differentDeviceError",Nq.a="firebaseui.auth.soy2.page.anonymousUserMismatch",Mq.a="firebaseui.auth.soy2.page.passwordLinking",kq.a="firebaseui.auth.soy2.page.emailLinkSignInLinking",Rq.a="firebaseui.auth.soy2.page.emailLinkSignInLinkingDifferentDevice",Oq.a="firebaseui.auth.soy2.page.federatedLinking",Pq.a="firebaseui.auth.soy2.page.unauthorizedUser",Lq.a="firebaseui.auth.soy2.page.unsupportedProvider",Fq.a="firebaseui.auth.soy2.page.passwordReset",Uq.a="firebaseui.auth.soy2.page.passwordResetSuccess",Vq.a="firebaseui.auth.soy2.page.passwordResetFailure",Bq.a="firebaseui.auth.soy2.page.emailChangeRevokeSuccess",jq.a="firebaseui.auth.soy2.page.emailChangeRevokeFailure",$q.a="firebaseui.auth.soy2.page.emailVerificationSuccess",Hq.a="firebaseui.auth.soy2.page.emailVerificationFailure",Gq.a="firebaseui.auth.soy2.page.verifyAndChangeEmailSuccess",Zq.a="firebaseui.auth.soy2.page.verifyAndChangeEmailFailure",Wq.a="firebaseui.auth.soy2.page.revertSecondFactorAdditionSuccess",qq.a="firebaseui.auth.soy2.page.revertSecondFactorAdditionFailure",zq.a="firebaseui.auth.soy2.page.recoverableError",Kq.a="firebaseui.auth.soy2.page.unrecoverableError",Yq.a="firebaseui.auth.soy2.page.emailMismatch",Qq.a="firebaseui.auth.soy2.page.providerSignIn",Jq.a="firebaseui.auth.soy2.page.phoneSignInStart",Xq.a="firebaseui.auth.soy2.page.phoneSignInFinish",e7.a="firebaseui.auth.soy2.page.signOut",t7.a="firebaseui.auth.soy2.page.selectTenant",n7.a="firebaseui.auth.soy2.page.providerMatchByEmail",p(ib,Qe),ib.prototype.v=function(){this.P(),this.M(this.w,this.H),rb(this,this.i(),this.w),this.i().focus(),Qe.prototype.v.call(this)},ib.prototype.o=function(){this.w=null,Qe.prototype.o.call(this)},ib.prototype.j=function(){return Ds(Xn(this,"firebaseui-id-email"))},kn(ib.prototype,{i:XM,B:ek,P:r7,u:i7,ea:fs,ba:is,M:xs});var lue=/^[+a-zA-Z0-9_.!#$%&'*\/=?^`{|}~-]+@([a-zA-Z0-9-]+\.)+[a-zA-Z0-9]{2,63}$/;function qd(){return Xn(this,"firebaseui-id-email")}function _p(){return Xn(this,"firebaseui-id-email-error")}function sb(s){var h=qd.call(this),m=_p.call(this);X0(this,h,function(){eb(m)&&(ki(h,!0),Aa(m))}),s&&ET(this,h,function(){s()})}function ob(){return Co(Ds(qd.call(this))||"")}function ab(){var s=qd.call(this),h=_p.call(this),m=Ds(s)||"";return m?lue.test(m)?(ki(s,!0),Aa(h),h=!0):(ki(s,!1),Ss(h,or("That email address isn't correct").toString()),h=!1):(ki(s,!1),Ss(h,or("Enter your email address to continue").toString()),h=!1),h?Co(Ds(s)):null}function CT(s,h,m,b,T,x,B){Qe.call(this,vq,{email:m,ia:!!x},B,"passwordSignIn",{F:b,D:T}),this.w=s,this.H=h}function yr(s,h,m,b,T,x){Qe.call(this,s,h,b,T||"notice",x),this.i=m||null}function tk(s,h,m,b,T){yr.call(this,Eq,{email:s,G:!!h},h,T,"passwordRecoveryEmailSent",{F:m,D:b})}function s7(s,h){yr.call(this,$q,{G:!!s},s,h,"emailVerificationSuccess")}function o7(s,h){yr.call(this,Hq,{G:!!s},s,h,"emailVerificationFailure")}function a7(s,h,m){yr.call(this,Gq,{email:s,G:!!h},h,m,"verifyAndChangeEmailSuccess")}function u7(s,h){yr.call(this,Zq,{G:!!s},s,h,"verifyAndChangeEmailFailure")}function l7(s,h){yr.call(this,qq,{G:!!s},s,h,"revertSecondFactorAdditionFailure")}function c7(s){yr.call(this,e7,void 0,void 0,s,"signOut")}function d7(s,h){yr.call(this,Uq,{G:!!s},s,h,"passwordResetSuccess")}function h7(s,h){yr.call(this,Vq,{G:!!s},s,h,"passwordResetFailure")}function f7(s,h){yr.call(this,jq,{G:!!s},s,h,"emailChangeRevokeFailure")}function p7(s,h,m){yr.call(this,zq,{errorMessage:s,zb:!!h},h,m,"recoverableError")}function g7(s,h){yr.call(this,Kq,{errorMessage:s},void 0,h,"unrecoverableError")}function TT(s){if("auth/invalid-credential"===s.code&&s.message&&-1!==s.message.indexOf("error=consent_required"))return{code:"auth/user-cancelled"};if(s.message&&-1!==s.message.indexOf("HTTP Cloud Function returned an error:")){var h=JSON.parse(s.message.substring(s.message.indexOf("{"),s.message.lastIndexOf("}")+1));return{code:s.code,message:h&&h.error&&h.error.message||s.message}}return s}function zd(s,h,m,b){function T(B){if(!B.name||"cancel"!=B.name){e:{var ee=B.message;try{var Le=((JSON.parse(ee).error||{}).message||"").toLowerCase().match(/invalid.+(access|id)_token/);if(Le&&Le.length){var ct=!0;break e}}catch{}ct=!1}if(ct)B=ci(h),h.m(),Vr(s,B,void 0,or("Your sign-in session has expired. Please try again.").toString());else{if(ct=B&&B.message||"",B.code){if("auth/email-already-in-use"==B.code||"auth/credential-already-in-use"==B.code)return;ct=Ar(B)}h.a(ct)}}}if(F7(s),b)return m7(s,m),Mi();if(!m.credential)throw Error("No credential found!");if(!qn(s).currentUser&&!m.user)throw Error("User not logged in.");try{var x=function jue(s,h){return er(s),Kd(s,function(m){if(s.j&&!s.j.isAnonymous&&HM(tt(s))&&!qn(s).currentUser)return yp(s).then(function(){return"password"==h.credential.providerId&&(h.credential=null),h});if(m)return yp(s).then(function(){return m.linkWithCredential(h.credential)}).then(function(b){return h.user=b.user,h.credential=b.credential,h.operationType=b.operationType,h.additionalUserInfo=b.additionalUserInfo,h},function(b){if(b&&"auth/email-already-in-use"==b.code&&b.email&&b.credential)throw b;return vp(s,b,h.credential)});if(!h.user)throw Error('Internal error: An incompatible or outdated version of "firebase.js" may be used.');return yp(s).then(function(){return al(s).updateCurrentUser(h.user)}).then(function(){return h.user=al(s).currentUser,h.operationType="signIn",h.credential&&h.credential.providerId&&"password"==h.credential.providerId&&(h.credential=null),h})})}(s,m)}catch(B){return Ca(B.code||B.message,B),h.a(B.code||B.message),Mi()}return m=x.then(function(B){m7(s,B)},T).then(void 0,T),Nn(s,x),Mi(m)}function m7(s,h){if(!h.user)throw Error("No user found");var m=UW(tt(s));if(JV(tt(s))&&m&&gp("Both signInSuccess and signInSuccessWithAuthResult callbacks are provided. Only signInSuccessWithAuthResult callback will be invoked."),m){m=UW(tt(s));var b=_W(cn(s))||void 0;Ko(dT,cn(s));var T=!1;F8()?((!m||m(h,b))&&(T=!0,k0(window.opener.location,nk(s,b))),m||window.close()):(!m||m(h,b))&&(T=!0,k0(window.location,nk(s,b))),T||s.reset()}else{m=h.user,h=h.credential,b=JV(tt(s)),T=_W(cn(s))||void 0,Ko(dT,cn(s));var x=!1;F8()?((!b||b(m,h,T))&&(x=!0,k0(window.opener.location,nk(s,T))),b||window.close()):(!b||b(m,h,T))&&(x=!0,k0(window.location,nk(s,T))),x||s.reset()}}function nk(s,h){if(!(s=h||tt(s).a.get("signInSuccessUrl")))throw Error("No redirect URL has been found. You must either specify a signInSuccessUrl in the configuration, pass in a redirect URL to the widget URL, or return false from the callback.");return s}function Ar(s){var h={code:s.code},m="";switch((h=h||{}).code){case"auth/email-already-in-use":m+="The email address is already used by another account";break;case"auth/requires-recent-login":case"auth/user-token-expired":m+=function c8(){return or("Please login again to perform this operation")}();break;case"auth/too-many-requests":m+="You have entered an incorrect password too many times. Please try again in a few minutes.";break;case"auth/user-cancelled":m+="Please authorize the required permissions to sign in to the application";break;case"auth/user-not-found":m+="That email address doesn't match an existing account";break;case"auth/weak-password":m+="Strong passwords have at least 6 characters and a mix of letters and numbers";break;case"auth/wrong-password":m+="The email and password you entered don't match";break;case"auth/network-request-failed":m+="A network error has occurred";break;case"auth/invalid-phone-number":m+=dV();break;case"auth/invalid-verification-code":m+=or("Wrong code. Try again.");break;case"auth/code-expired":m+="This code is no longer valid";break;case"auth/expired-action-code":m+="This code has expired.";break;case"auth/invalid-action-code":m+="The action code is invalid. This can happen if the code is malformed, expired, or has already been used."}if(h=or(m).toString())return h;try{return JSON.parse(s.message),Ca("Internal error: "+s.message,void 0),a8().toString()}catch{return s.message}}function AT(s,h,m,b){function T(){(function Uae(s,h){H0(Xm,{tenantId:s.a},h)})(new tW(s.h.tenantId||null),cn(s)),Nn(s,h.I(tn(s.dc,s),[Le],function(){if("file:"===(window.location&&window.location.protocol))return Nn(s,k7(s).then(function(ct){h.m(),Ko(Xm,cn(s)),Vt("callback",s,ee,Mi(ct))},x))},B))}function x(ct){if(Ko(Xm,cn(s)),!ct.name||"cancel"!=ct.name)switch(ct=TT(ct),ct.code){case"auth/popup-blocked":T();break;case"auth/popup-closed-by-user":case"auth/cancelled-popup-request":case"auth/credential-already-in-use":break;case"auth/network-request-failed":case"auth/too-many-requests":case"auth/user-cancelled":h.a(Ar(ct));break;case"auth/admin-restricted-operation":h.m(),t_(tt(s))?Vt("handleUnauthorizedUser",s,ee,null,m):Vt("callback",s,ee,R0(ct));break;default:h.m(),Vt("callback",s,ee,R0(ct))}}function B(ct){Ko(Xm,cn(s)),ct.name&&"cancel"==ct.name||(Ca("signInWithRedirect: "+ct.code,void 0),ct=Ar(ct),"blank"==h.Ga&&QV(tt(s))?(h.m(),Vt("providerSignIn",s,ee,ct)):h.a(ct))}var ee=ci(h),Le=function cue(s,h,m){var b=G0[h]&&$t.Z.auth[G0[h]]?new $t.Z.auth[G0[h]]:0==h.indexOf("saml.")?new $t.Z.auth.SAMLAuthProvider(h):new $t.Z.auth.OAuthProvider(h);if(!b)throw Error("Invalid Firebase Auth provider!");var T=RW(tt(s),h);if(b.addScope)for(var x=0;x<T.length;x++)b.addScope(T[x]);return T=OW(tt(s),h)||{},m&&(s=h==$t.Z.auth.GoogleAuthProvider.PROVIDER_ID?"login_hint":h==$t.Z.auth.GithubAuthProvider.PROVIDER_ID?"login":(s=pT(tt(s),h))&&s.Ob)&&(T[s]=m),b.setCustomParameters&&b.setCustomParameters(T),b}(s,m,b);FW(tt(s))==WM?T():Nn(s,function Bue(s,h){return er(s),Kd(s,function(m){return m&&!gc(cn(s))?m.linkWithPopup(h).then(function(b){return b},function(b){if(b&&"auth/email-already-in-use"==b.code&&b.email&&b.credential)throw b;return vp(s,b)}):qn(s).signInWithPopup(h)})}(s,Le).then(function(ct){h.m(),Vt("callback",s,ee,Mi(ct))},x))}function rk(s){return 1==(s=Z0(tt(s))).length&&s[0]==$t.Z.auth.EmailAuthProvider.PROVIDER_ID}function _7(s){return 1==(s=Z0(tt(s))).length&&s[0]==$t.Z.auth.PhoneAuthProvider.PROVIDER_ID}function Vr(s,h,m,b){rk(s)?b?Vt("signIn",s,h,m,b):p3(s,h,m):s&&_7(s)&&!b?Vt("phoneSignInStart",s,h):s&&QV(tt(s))&&!b?Vt("federatedRedirect",s,h,m):Vt("providerSignIn",s,h,b,m)}function y7(s,h,m,b){var T=ci(h);Nn(s,h.I(tn(qn(s).fetchSignInMethodsForEmail,qn(s)),[m],function(x){h.m(),v7(s,T,x,m,b)},function(x){x=Ar(x),h.a(x)}))}function v7(s,h,m,b,T,x){m.length||W0(tt(s))&&!W0(tt(s))?Hs(m,$t.Z.auth.EmailAuthProvider.EMAIL_PASSWORD_SIGN_IN_METHOD)?Vt("passwordSignIn",s,h,b,x):1==m.length&&m[0]===$t.Z.auth.EmailAuthProvider.EMAIL_LINK_SIGN_IN_METHOD?W0(tt(s))?Vt("sendEmailLinkForSignIn",s,h,b,function(){Vt("signIn",s,h)}):Vt("unsupportedProvider",s,h,b):(m=SW(m,Z0(tt(s))))?(yW(new UV(b),cn(s)),Vt("federatedSignIn",s,h,b,m,T)):Vt("unsupportedProvider",s,h,b):kW(tt(s))?Vt("handleUnauthorizedUser",s,h,b,$t.Z.auth.EmailAuthProvider.PROVIDER_ID):W0(tt(s))?Vt("sendEmailLinkForSignIn",s,h,b,function(){Vt("signIn",s,h)}):Vt("passwordSignUp",s,h,b,void 0,void 0,x)}function f3(s,h,m,b,T,x){var B=ci(h);Nn(s,h.I(tn(s.Ib,s),[m,x],function(){h.m(),Vt("emailLinkSignInSent",s,B,m,b,x)},T))}function p3(s,h,m){m?Vt("prefilledEmailSignIn",s,h,m):Vt("signIn",s,h)}function DT(){return sM(Wd(),"oobCode")}function g3(){var s=sM(Wd(),"continueUrl");return s?function(){k0(window.location,s)}:null}function ST(s,h){Qe.call(this,Nq,void 0,h,"anonymousUserMismatch"),this.i=s}function ik(s){Qe.call(this,Iq,void 0,s,"callback")}function b7(s,h,m){if(m.user){var b={user:m.user,credential:m.credential,operationType:m.operationType,additionalUserInfo:m.additionalUserInfo},T=gc(cn(s)),x=T&&T.g;if(x&&!function gue(s,h){if(h==s.email)return!0;if(s.providerData)for(var m=0;m<s.providerData.length;m++)if(h==s.providerData[m].email)return!0;return!1}(m.user,x))!function pue(s,h,m){var b=ci(h);Nn(s,yp(s).then(function(){h.m(),Vt("emailMismatch",s,b,m)},function(T){T.name&&"cancel"==T.name||(T=Ar(T.code),h.a(T))}))}(s,h,b);else{var B=T&&T.a;B?Nn(s,m.user.linkWithCredential(B).then(function(ee){w7(s,h,b={user:ee.user,credential:B,operationType:ee.operationType,additionalUserInfo:ee.additionalUserInfo})},function(ee){sk(s,h,ee)})):w7(s,h,b)}}else m=ci(h),h.m(),mc(cn(s)),Vr(s,m)}function w7(s,h,m){mc(cn(s)),zd(s,h,m)}function sk(s,h,m){var b=ci(h);mc(cn(s)),m=Ar(m),h.m(),Vr(s,b,void 0,m)}function E7(s,h,m,b){var T=ci(h);Nn(s,qn(s).fetchSignInMethodsForEmail(m).then(function(x){h.m(),x.length?Hs(x,$t.Z.auth.EmailAuthProvider.EMAIL_PASSWORD_SIGN_IN_METHOD)?Vt("passwordLinking",s,T,m):1==x.length&&x[0]===$t.Z.auth.EmailAuthProvider.EMAIL_LINK_SIGN_IN_METHOD?Vt("emailLinkSignInLinking",s,T,m):(x=SW(x,Z0(tt(s))))?Vt("federatedLinking",s,T,m,x,b):(mc(cn(s)),Vt("unsupportedProvider",s,T,m)):(mc(cn(s)),Vt("passwordRecovery",s,T,m,!1,u8().toString()))},function(x){sk(s,h,x)}))}function xT(s,h){Qe.call(this,xq,void 0,h,"differentDeviceError"),this.i=s}function NT(s,h,m,b){Qe.call(this,Bq,{email:s,G:!!m},b,"emailChangeRevoke"),this.l=h,this.i=m||null}function MT(){return Xn(this,"firebaseui-id-new-password")}function ok(){return Xn(this,"firebaseui-id-password-toggle")}function mue(){this.Ra=!this.Ra;var s=ok.call(this),h=MT.call(this);this.Ra?(h.type="text",_c(s,"firebaseui-input-toggle-off"),yc(s,"firebaseui-input-toggle-on")):(h.type="password",_c(s,"firebaseui-input-toggle-on"),yc(s,"firebaseui-input-toggle-off")),h.focus()}function ak(){return Xn(this,"firebaseui-id-new-password-error")}function I7(){this.Ra=!1;var s=MT.call(this);s.type="password";var h=ak.call(this);X0(this,s,function(){eb(h)&&(ki(s,!0),Aa(h))});var m=ok.call(this);_c(m,"firebaseui-input-toggle-on"),yc(m,"firebaseui-input-toggle-off"),function iue(s,h,m){eT(s,hs(tT,h=new K0(h))),Q0(wT(s),h,"focusin",m)}(this,s,function(){_c(m,"firebaseui-input-toggle-focus"),yc(m,"firebaseui-input-toggle-blur")}),function sue(s,h,m){eT(s,hs(tT,h=new K0(h))),Q0(wT(s),h,"focusout",m)}(this,s,function(){_c(m,"firebaseui-input-toggle-blur"),yc(m,"firebaseui-input-toggle-focus")}),gi(this,m,tn(mue,this))}function C7(){var s=MT.call(this),h=ak.call(this);return Ds(s)?(ki(s,!0),Aa(h),h=!0):(ki(s,!1),Ss(h,or("Enter your password").toString()),h=!1),h?Ds(s):null}function kT(s,h,m){Qe.call(this,Fq,{email:s},m,"passwordReset"),this.l=h}function RT(s,h,m,b,T){Qe.call(this,Wq,{factorId:s,phoneNumber:m||null,G:!!b},T,"revertSecondFactorAdditionSuccess"),this.l=h,this.i=b||null}function T7(s,h,m,b){"auth/weak-password"==(b&&b.code)?(s=Ar(b),ki(m.i(),!1),Ss(m.w(),s),m.i().focus()):(m&&m.m(),(m=new h7).render(h),Ln(s,m))}function uk(s,h){try{var m="number"==typeof s.selectionStart}catch{m=!1}m?(s.selectionStart=h,s.selectionEnd=h):xi&&!Gm("9")&&("textarea"==s.type&&(h=s.value.substring(0,h).replace(/(\r\n|\r|\n)/g,"\n").length),(s=s.createTextRange()).collapse(!0),s.move("character",h),s.select())}function OT(s,h,m,b,T,x){Qe.call(this,Sq,{email:m},x,"emailLinkSignInConfirmation",{F:b,D:T}),this.l=s,this.u=h}function PT(s,h,m,b,T){Qe.call(this,Rq,{ga:s},T,"emailLinkSignInLinkingDifferentDevice",{F:m,D:b}),this.i=h}function lk(s){Qe.call(this,Tq,void 0,s,"blank")}function m3(s,h,m,b,T){var x=new lk,B=new Hm(m),ee=B.a.a.get(ts.$a)||"",Le=B.a.a.get(ts.Sa)||"",ct="1"===B.a.a.get(ts.Qa),Gt=LZ(B),vr=B.a.a.get(ts.PROVIDER_ID)||null;B=B.a.a.get(ts.vb)||null,U7(s,B);var ll=!$0(j0,cn(s)),H7=b||function Vae(s,h){var m=null;if(h=$0(j0,h))try{var b=cW(s,h),T=JSON.parse(b);m=T&&T.email||null}catch{}return m}(Le,cn(s)),zT=(b=function Bae(s,h){var m=null;if(h=$0(hT,h))try{var b=cW(s,h);m=JSON.parse(b)}catch{}return eW(m||null)}(Le,cn(s)))&&b.a;vr&&zT&&zT.providerId!==vr&&(zT=null),x.render(h),Ln(s,x),Nn(s,x.I(function(){var cu=Mi(null);cu=Gt&&ll||ll&&ct?R0(Error("anonymous-user-not-found")):function Fue(s,h){var m=LZ(new Hm(h));return m?(h=new rs(function(b,T){var x=al(s).onAuthStateChanged(function(B){x(),B&&B.isAnonymous&&B.uid===m?b(B):T(B&&B.isAnonymous&&B.uid!==m?Error("anonymous-user-mismatch"):Error("anonymous-user-not-found"))});Nn(s,x)}),Nn(s,h),h):Mi(null)}(s,m).then(function(D3){if(vr&&!zT)throw Error("pending-credential-not-found");return D3});var KT=null;return cu.then(function(D3){return KT=D3,T?null:qn(s).checkActionCode(ee)}).then(function(){return KT})},[],function(cu){H7?function wue(s,h,m,b,T,x){var B=ci(h);h.$("mdl-spinner mdl-spinner--single-color mdl-js-spinner is-active firebaseui-progress-dialog-loading-icon",or("Signing in...").toString());var ee=null;T=(x?function Uue(s,h,m,b,T){er(s);var x=T||null,B=$t.Z.auth.EmailAuthProvider.credentialWithLink(m,b);return m=x?qn(s).signInWithEmailLink(m,b).then(function(ee){return ee.user.linkWithCredential(x)}).then(function(){return yp(s)}).then(function(){return vp(s,{code:"auth/email-already-in-use"},x)}):qn(s).fetchSignInMethodsForEmail(m).then(function(ee){return ee.length?vp(s,{code:"auth/email-already-in-use"},B):h.linkWithCredential(B)}),Nn(s,m),m}(s,x,m,b,T):function Vue(s,h,m,b){er(s);var x,T=b||null;return h=qn(s).signInWithEmailLink(h,m).then(function(B){if(x={user:B.user,credential:null,operationType:B.operationType,additionalUserInfo:B.additionalUserInfo},T)return B.user.linkWithCredential(T).then(function(ee){x={user:ee.user,credential:T,operationType:x.operationType,additionalUserInfo:ee.additionalUserInfo}})}).then(function(){yp(s)}).then(function(){return al(s).updateCurrentUser(x.user)}).then(function(){return x.user=al(s).currentUser,x}),Nn(s,h),h}(s,m,b,T)).then(function(Le){Ko(hT,cn(s)),Ko(j0,cn(s)),h.h(),h.$("firebaseui-icon-done",or("Signed in!").toString()),ee=setTimeout(function(){h.h(),zd(s,h,Le,!0)},1e3),Nn(s,function(){h&&(h.h(),h.m()),clearTimeout(ee)})},function(Le){if(h.h(),h.m(),!Le.name||"cancel"!=Le.name){var ct=Ar(Le=TT(Le));"auth/email-already-in-use"==Le.code||"auth/credential-already-in-use"==Le.code?(Ko(hT,cn(s)),Ko(j0,cn(s))):"auth/invalid-email"==Le.code?(ct=or("The email provided does not match the current sign-in session.").toString(),Vt("emailLinkConfirmation",s,B,b,A7,null,ct)):Vr(s,B,m,ct)}}),Nn(s,T)}(s,x,H7,m,zT,cu):ct?(x.m(),Vt("differentDeviceError",s,h)):(x.m(),Vt("emailLinkConfirmation",s,h,m,A7))},function(cu){var KT=void 0;if(!cu||!cu.name||"cancel"!=cu.name)switch(x.m(),cu&&cu.message){case"anonymous-user-not-found":Vt("differentDeviceError",s,h);break;case"anonymous-user-mismatch":Vt("anonymousUserMismatch",s,h);break;case"pending-credential-not-found":Vt("emailLinkNewDeviceLinking",s,h,m,bue);break;default:cu&&(KT=Ar(cu)),Vr(s,h,void 0,KT)}}))}function A7(s,h,m,b){m3(s,h,b,m,!0)}function bue(s,h,m){m3(s,h,m)}function LT(s,h,m,b,T,x){Qe.call(this,kq,{email:s,ga:h},x,"emailLinkSignInLinking",{F:b,D:T}),this.i=m}function FT(s,h,m,b,T,x){Qe.call(this,Aq,{email:s},x,"emailLinkSignInSent",{F:b,D:T}),this.u=h,this.i=m}function UT(s,h,m,b,T,x,B){Qe.call(this,Yq,{jc:s,Qb:h},B,"emailMismatch",{F:T,D:x}),this.l=m,this.i=b}function ub(s,h,m,b,T){Qe.call(this,Dq,void 0,T,"emailNotReceived",{F:m,D:b}),this.l=s,this.i=h}function lb(s,h,m,b,T,x){Qe.call(this,Oq,{email:s,ga:h},x,"federatedLinking",{F:b,D:T}),this.i=m}function VT(s,h,m,b,T,x){Qe.call(this,wq,{email:m,Ta:!!h},x,"passwordRecovery",{F:b,D:T}),this.l=s,this.u=h}function _3(){return Xn(this,"firebaseui-id-name")}function y3(){return Xn(this,"firebaseui-id-name-error")}function BT(s,h,m,b,T,x,B,ee,Le){Qe.call(this,bq,{email:b,Tb:s,name:T,Ta:!!m,ia:!!ee},Le,"passwordSignUp",{F:x,D:B}),this.w=h,this.H=m,this.B=s}function v3(){return Xn(this,"firebaseui-id-phone-confirmation-code")}function D7(){return Xn(this,"firebaseui-id-phone-confirmation-code-error")}function S7(){return Xn(this,"firebaseui-id-resend-countdown")}function cb(s,h,m,b,T,x,B,ee,Le){Qe.call(this,Xq,{phoneNumber:T},Le,"phoneSignInFinish",{F:B,D:ee}),this.jb=x,this.i=new qM(1e3),this.B=x,this.P=s,this.l=h,this.H=m,this.M=b}p(CT,Qe),CT.prototype.v=function(){this.P(),this.ea(),this.ba(this.w,this.H),IT(this,this.l(),this.i()),rb(this,this.i(),this.w),Ds(this.l())?this.i().focus():this.l().focus(),Qe.prototype.v.call(this)},CT.prototype.o=function(){this.H=this.w=null,Qe.prototype.o.call(this)},kn(CT.prototype,{l:qd,U:_p,P:sb,M:ob,j:ab,i:XM,B:ek,ea:r7,u:i7,ua:fs,pa:is,ba:xs}),Yt(yr,Qe),yr.prototype.v=function(){this.i&&(this.u(this.i),this.l().focus()),yr.K.v.call(this)},yr.prototype.o=function(){this.i=null,yr.K.o.call(this)},kn(yr.prototype,{l:fs,w:is,u:xs}),Yt(tk,yr),Yt(s7,yr),Yt(o7,yr),Yt(a7,yr),Yt(u7,yr),Yt(l7,yr),Yt(c7,yr),Yt(d7,yr),Yt(h7,yr),Yt(f7,yr),Yt(p7,yr),Yt(g7,yr),p(ST,Qe),ST.prototype.v=function(){var s=this;gi(this,this.l(),function(){s.i()}),this.l().focus(),Qe.prototype.v.call(this)},ST.prototype.o=function(){this.i=null,Qe.prototype.o.call(this)},kn(ST.prototype,{l:is}),gr.anonymousUserMismatch=function(s,h){var m=new ST(function(){m.m(),Vr(s,h)});m.render(h),Ln(s,m)},p(ik,Qe),ik.prototype.I=function(s,h,m,b){return s.apply(null,h).then(m,b)},gr.callback=function(s,h,m){var b=new ik;b.render(h),Ln(s,b),m=m||k7(s),Nn(s,m.then(function(T){b7(s,b,T)},function(T){if((T=TT(T))&&("auth/account-exists-with-different-credential"==T.code||"auth/email-already-in-use"==T.code)&&T.email&&T.credential)yW(new UV(T.email,T.credential),cn(s)),E7(s,b,T.email);else if(T&&"auth/user-cancelled"==T.code){var x=gc(cn(s)),B=Ar(T);x&&x.a?E7(s,b,x.g,B):x?y7(s,b,x.g,B):sk(s,b,T)}else T&&"auth/credential-already-in-use"==T.code||(T&&"auth/operation-not-supported-in-this-environment"==T.code&&rk(s)?b7(s,b,{user:null,credential:null}):T&&"auth/admin-restricted-operation"==T.code&&t_(tt(s))?(b.m(),mc(cn(s)),Vt("handleUnauthorizedUser",s,h,null,null)):sk(s,b,T))}))},p(xT,Qe),xT.prototype.v=function(){var s=this;gi(this,this.l(),function(){s.i()}),this.l().focus(),Qe.prototype.v.call(this)},xT.prototype.o=function(){this.i=null,Qe.prototype.o.call(this)},kn(xT.prototype,{l:is}),gr.differentDeviceError=function(s,h){var m=new xT(function(){m.m(),Vr(s,h)});m.render(h),Ln(s,m)},p(NT,Qe),NT.prototype.v=function(){var s=this;gi(this,Xn(this,"firebaseui-id-reset-password-link"),function(){s.l()}),this.i&&(this.w(this.i),this.u().focus()),Qe.prototype.v.call(this)},NT.prototype.o=function(){this.l=this.i=null,Qe.prototype.o.call(this)},kn(NT.prototype,{u:fs,B:is,w:xs}),p(kT,Qe),kT.prototype.v=function(){this.H(),this.B(this.l),rb(this,this.i(),this.l),this.i().focus(),Qe.prototype.v.call(this)},kT.prototype.o=function(){this.l=null,Qe.prototype.o.call(this)},kn(kT.prototype,{i:MT,w:ak,M:ok,H:I7,u:C7,U:fs,P:is,B:xs}),p(RT,Qe),RT.prototype.v=function(){var s=this;gi(this,Xn(this,"firebaseui-id-reset-password-link"),function(){s.l()}),this.i&&(this.w(this.i),this.u().focus()),Qe.prototype.v.call(this)},RT.prototype.o=function(){this.l=this.i=null,Qe.prototype.o.call(this)},kn(RT.prototype,{u:fs,B:is,w:xs}),gr.passwordReset=function(s,h,m,b){Nn(s,qn(s).verifyPasswordResetCode(m).then(function(T){var x=new kT(T,function(){!function _ue(s,h,m,b,T){var x=m.u();x&&Nn(s,m.I(tn(qn(s).confirmPasswordReset,qn(s)),[b,x],function(){m.m();var B=new d7(T);B.render(h),Ln(s,B)},function(B){T7(s,h,m,B)}))}(s,h,x,m,b)});x.render(h),Ln(s,x)},function(){T7(s,h)}))},gr.emailChangeRevocation=function(s,h,m){var b=null;Nn(s,qn(s).checkActionCode(m).then(function(T){return b=T.data.email,qn(s).applyActionCode(m)}).then(function(){!function yue(s,h,m){var b=new NT(m,function(){Nn(s,b.I(tn(qn(s).sendPasswordResetEmail,qn(s)),[m],function(){b.m(),(b=new tk(m,void 0,Gi(tt(s)),Zi(tt(s)))).render(h),Ln(s,b)},function(){b.a(o8().toString())}))});b.render(h),Ln(s,b)}(s,h,b)},function(){var T=new f7;T.render(h),Ln(s,T)}))},gr.emailVerification=function(s,h,m,b){Nn(s,qn(s).applyActionCode(m).then(function(){var T=new s7(b);T.render(h),Ln(s,T)},function(){var T=new o7;T.render(h),Ln(s,T)}))},gr.revertSecondFactorAddition=function(s,h,m){var b=null,T=null;Nn(s,qn(s).checkActionCode(m).then(function(x){return b=x.data.email,T=x.data.multiFactorInfo,qn(s).applyActionCode(m)}).then(function(){!function vue(s,h,m,b){var T=new RT(b.factorId,function(){T.I(tn(qn(s).sendPasswordResetEmail,qn(s)),[m],function(){T.m(),(T=new tk(m,void 0,Gi(tt(s)),Zi(tt(s)))).render(h),Ln(s,T)},function(){T.a(o8().toString())})},b.phoneNumber);T.render(h),Ln(s,T)}(s,h,b,T)},function(){var x=new l7;x.render(h),Ln(s,x)}))},gr.verifyAndChangeEmail=function(s,h,m,b){var T=null;Nn(s,qn(s).checkActionCode(m).then(function(x){return T=x.data.email,qn(s).applyActionCode(m)}).then(function(){var x=new a7(T,b);x.render(h),Ln(s,x)},function(){var x=new u7;x.render(h),Ln(s,x)}))},p(OT,Qe),OT.prototype.v=function(){this.w(this.l),this.B(this.l,this.u),this.i().focus(),uk(this.i(),(this.i().value||"").length),Qe.prototype.v.call(this)},OT.prototype.o=function(){this.u=this.l=null,Qe.prototype.o.call(this)},kn(OT.prototype,{i:qd,M:_p,w:sb,H:ob,j:ab,U:fs,P:is,B:xs}),gr.emailLinkConfirmation=function(s,h,m,b,T,x){var B=new OT(function(){var ee=B.j();ee?(B.m(),b(s,h,ee,m)):B.i().focus()},function(){B.m(),Vr(s,h,T||void 0)},T||void 0,Gi(tt(s)),Zi(tt(s)));B.render(h),Ln(s,B),x&&B.a(x)},p(PT,Qe),PT.prototype.v=function(){this.u(this.i),this.l().focus(),Qe.prototype.v.call(this)},PT.prototype.o=function(){this.i=null,Qe.prototype.o.call(this)},kn(PT.prototype,{l:fs,u:xs}),gr.emailLinkNewDeviceLinking=function(s,h,m,b){var T=new Hm(m);if(m=T.a.a.get(ts.PROVIDER_ID)||null,FZ(T,null),m){var x=new PT(pT(tt(s),m),function(){x.m(),b(s,h,T.toString())},Gi(tt(s)),Zi(tt(s)));x.render(h),Ln(s,x)}else Vr(s,h)},p(lk,Qe),gr.emailLinkSignInCallback=m3,p(LT,Qe),LT.prototype.v=function(){this.u(this.i),this.l().focus(),Qe.prototype.v.call(this)},LT.prototype.o=function(){this.i=null,Qe.prototype.o.call(this)},kn(LT.prototype,{l:fs,u:xs}),gr.emailLinkSignInLinking=function(s,h,m){var b=gc(cn(s));if(mc(cn(s)),b){var T=b.a.providerId,x=new LT(m,pT(tt(s),T),function(){!function Eue(s,h,m,b){var T=ci(h);f3(s,h,m,function(){Vr(s,T,m)},function(x){if(!x.name||"cancel"!=x.name){var B=Ar(x);x&&"auth/network-request-failed"==x.code?h.a(B):(h.m(),Vr(s,T,m,B))}},b)}(s,x,m,b)},Gi(tt(s)),Zi(tt(s)));x.render(h),Ln(s,x)}else Vr(s,h)},p(FT,Qe),FT.prototype.v=function(){var s=this;gi(this,this.l(),function(){s.i()}),gi(this,Xn(this,"firebaseui-id-trouble-getting-email-link"),function(){s.u()}),this.l().focus(),Qe.prototype.v.call(this)},FT.prototype.o=function(){this.i=this.u=null,Qe.prototype.o.call(this)},kn(FT.prototype,{l:is}),gr.emailLinkSignInSent=function(s,h,m,b,T){var x=new FT(m,function(){x.m(),Vt("emailNotReceived",s,h,m,b,T)},function(){x.m(),b()},Gi(tt(s)),Zi(tt(s)));x.render(h),Ln(s,x)},p(UT,Qe),UT.prototype.v=function(){this.w(this.l,this.i),this.u().focus(),Qe.prototype.v.call(this)},UT.prototype.o=function(){this.i=null,Qe.prototype.o.call(this)},kn(UT.prototype,{u:fs,B:is,w:xs}),gr.emailMismatch=function(s,h,m){var b=gc(cn(s));if(b){var T=new UT(m.user.email,b.g,function(){var x=T;mc(cn(s)),zd(s,x,m)},function(){var x=m.credential.providerId,B=ci(T);T.m(),Vt(b.a?"federatedLinking":"federatedSignIn",s,B,b.g,x)},Gi(tt(s)),Zi(tt(s)));T.render(h),Ln(s,T)}else Vr(s,h)},p(ub,Qe),ub.prototype.v=function(){var s=this;gi(this,this.u(),function(){s.i()}),gi(this,this.Da(),function(){s.l()}),this.u().focus(),Qe.prototype.v.call(this)},ub.prototype.Da=function(){return Xn(this,"firebaseui-id-resend-email-link")},ub.prototype.o=function(){this.i=this.l=null,Qe.prototype.o.call(this)},kn(ub.prototype,{u:is}),gr.emailNotReceived=function(s,h,m,b,T){var x=new ub(function(){f3(s,x,m,b,function(B){B=Ar(B),x.a(B)},T)},function(){x.m(),Vr(s,h,m)},Gi(tt(s)),Zi(tt(s)));x.render(h),Ln(s,x)},p(lb,Qe),lb.prototype.v=function(){this.u(this.i),this.l().focus(),Qe.prototype.v.call(this)},lb.prototype.o=function(){this.i=null,Qe.prototype.o.call(this)},kn(lb.prototype,{l:fs,u:xs}),gr.federatedLinking=function(s,h,m,b,T){var x=gc(cn(s));if(x&&x.a){var B=new lb(m,pT(tt(s),b),function(){AT(s,B,b,m)},Gi(tt(s)),Zi(tt(s)));B.render(h),Ln(s,B),T&&B.a(T)}else Vr(s,h)},gr.federatedRedirect=function(s,h,m){var b=new lk;b.render(h),Ln(s,b),AT(s,b,h=Z0(tt(s))[0],m)},gr.federatedSignIn=function(s,h,m,b,T){var x=new lb(m,pT(tt(s),b),function(){AT(s,x,b,m)},Gi(tt(s)),Zi(tt(s)));x.render(h),Ln(s,x),T&&x.a(T)},gr.passwordLinking=function(s,h,m){var b=gc(cn(s));mc(cn(s));var T=b&&b.a;if(T){var x=new ib(m,function(){!function Iue(s,h,m,b){var T=h.u();T?Nn(s,h.I(tn(s.Xb,s),[m,T],function(x){return x=x.user.linkWithCredential(b).then(function(B){return zd(s,h,{user:B.user,credential:b,operationType:B.operationType,additionalUserInfo:B.additionalUserInfo})}),Nn(s,x),x},function(x){if(!x.name||"cancel"!=x.name)switch(x.code){case"auth/wrong-password":ki(h.i(),!1),Ss(h.B(),Ar(x));break;case"auth/too-many-requests":h.a(Ar(x));break;default:Ca("signInWithEmailAndPassword: "+x.message,void 0),h.a(Ar(x))}})):h.i().focus()}(s,x,m,T)},function(){x.m(),Vt("passwordRecovery",s,h,m)},Gi(tt(s)),Zi(tt(s)));x.render(h),Ln(s,x)}else Vr(s,h)},p(VT,Qe),VT.prototype.v=function(){this.B(),this.H(this.l,this.u),Ds(this.i())||this.i().focus(),rb(this,this.i(),this.l),Qe.prototype.v.call(this)},VT.prototype.o=function(){this.u=this.l=null,Qe.prototype.o.call(this)},kn(VT.prototype,{i:qd,w:_p,B:sb,M:ob,j:ab,U:fs,P:is,H:xs}),gr.passwordRecovery=function(s,h,m,b,T){var x=new VT(function(){!function Cue(s,h){var m=h.j();if(m){var b=ci(h);Nn(s,h.I(tn(qn(s).sendPasswordResetEmail,qn(s)),[m],function(){h.m();var T=new tk(m,function(){T.m(),Vr(s,b)},Gi(tt(s)),Zi(tt(s)));T.render(b),Ln(s,T)},function(T){ki(h.i(),!1),Ss(h.w(),Ar(T))}))}else h.i().focus()}(s,x)},b?void 0:function(){x.m(),Vr(s,h)},m,Gi(tt(s)),Zi(tt(s)));x.render(h),Ln(s,x),T&&x.a(T)},gr.passwordSignIn=function(s,h,m,b){var T=new CT(function(){!function fue(s,h){var m=h.j(),b=h.u();if(m)if(b){var T=$t.Z.auth.EmailAuthProvider.credential(m,b);Nn(s,h.I(tn(s.bc,s),[m,b],function(x){return zd(s,h,{user:x.user,credential:T,operationType:x.operationType,additionalUserInfo:x.additionalUserInfo})},function(x){if(!x.name||"cancel"!=x.name)switch(x.code){case"auth/email-already-in-use":break;case"auth/email-exists":ki(h.l(),!1),Ss(h.U(),Ar(x));break;case"auth/too-many-requests":case"auth/wrong-password":ki(h.i(),!1),Ss(h.B(),Ar(x));break;default:Ca("verifyPassword: "+x.message,void 0),h.a(Ar(x))}}))}else h.i().focus();else h.l().focus()}(s,T)},function(){var x=T.M();T.m(),Vt("passwordRecovery",s,h,x)},m,Gi(tt(s)),Zi(tt(s)),b);T.render(h),Ln(s,T)},p(BT,Qe),BT.prototype.v=function(){this.ea(),this.B&&this.Ja(),this.ua(),this.pa(this.w,this.H),this.B?(IT(this,this.i(),this.u()),IT(this,this.u(),this.l())):IT(this,this.i(),this.l()),this.w&&rb(this,this.l(),this.w),Ds(this.i())?this.B&&!Ds(this.u())?this.u().focus():this.l().focus():this.i().focus(),Qe.prototype.v.call(this)},BT.prototype.o=function(){this.H=this.w=null,Qe.prototype.o.call(this)},kn(BT.prototype,{i:qd,U:_p,ea:sb,jb:ob,j:ab,u:_3,Bc:y3,Ja:function(){var s=_3.call(this),h=y3.call(this);X0(this,s,function(){eb(h)&&(ki(s,!0),Aa(h))})},M:function(){var s=_3.call(this),h=y3.call(this),m=Ds(s);return ki(s,m=!/^[\s\xa0]*$/.test(null==m?"":String(m))),m?(Aa(h),h=!0):(Ss(h,or("Enter your account name").toString()),h=!1),h?Co(Ds(s)):null},l:MT,ba:ak,lb:ok,ua:I7,P:C7,Nb:fs,Mb:is,pa:xs}),gr.passwordSignUp=function(s,h,m,b,T,x){var ee=new BT(LW(tt(s)),function(){!function Tue(s,h){var m=LW(tt(s)),b=h.j(),T=null;m&&(T=h.M());var x=h.P();if(b){if(m){if(!T)return void h.u().focus();T=pc(T)}if(x){var B=$t.Z.auth.EmailAuthProvider.credential(b,x);Nn(s,h.I(tn(s.Yb,s),[b,x],function(ee){var Le={user:ee.user,credential:B,operationType:ee.operationType,additionalUserInfo:ee.additionalUserInfo};return m?(ee=ee.user.updateProfile({displayName:T}).then(function(){return zd(s,h,Le)}),Nn(s,ee),ee):zd(s,h,Le)},function(ee){if(!ee.name||"cancel"!=ee.name){var Le=TT(ee);switch(ee=Ar(Le),Le.code){case"auth/email-already-in-use":return function Aue(s,h,m,b){function T(){var B=Ar(b);ki(h.i(),!1),Ss(h.U(),B),h.i().focus()}var x=qn(s).fetchSignInMethodsForEmail(m).then(function(B){B.length?T():(B=ci(h),h.m(),Vt("passwordRecovery",s,B,m,!1,u8().toString()))},function(){T()});return Nn(s,x),x}(s,h,b,Le);case"auth/too-many-requests":ee=or("Too many account requests are coming from your IP address. Try again in a few minutes.").toString();case"auth/operation-not-allowed":case"auth/weak-password":ki(h.l(),!1),Ss(h.ba(),ee);break;case"auth/admin-restricted-operation":t_(tt(s))?(ee=ci(h),h.m(),Vt("handleUnauthorizedUser",s,ee,b,$t.Z.auth.EmailAuthProvider.PROVIDER_ID)):h.a(ee);break;default:Ca(Le="setAccountInfo: "+hW(Le),void 0),h.a(ee)}}}))}else h.l().focus()}else h.i().focus()}(s,ee)},T?void 0:function B(){ee.m(),Vr(s,h)},m,b,Gi(tt(s)),Zi(tt(s)),x);ee.render(h),Ln(s,ee)},p(cb,Qe),cb.prototype.v=function(){var s=this;this.U(this.jb),sl(this.i,"tick",this.w,!1,this),this.i.start(),gi(this,Xn(this,"firebaseui-id-change-phone-number-link"),function(){s.P()}),gi(this,this.Da(),function(){s.M()}),this.Ja(this.l),this.ea(this.l,this.H),this.u().focus(),Qe.prototype.v.call(this)},cb.prototype.o=function(){this.M=this.H=this.l=this.P=null,zM(this.i),Km(this.i,"tick",this.w),this.i=null,Qe.prototype.o.call(this)},cb.prototype.w=function(){--this.B,0<this.B?this.U(this.B):(zM(this.i),Km(this.i,"tick",this.w),this.ua(),this.lb())},kn(cb.prototype,{u:v3,pa:D7,Ja:function(s){var h=v3.call(this),m=D7.call(this);X0(this,h,function(){eb(m)&&(ki(h,!0),Aa(m))}),s&&ET(this,h,function(){s()})},ba:function(){var s=Co(Ds(v3.call(this))||"");return/^\d{6}$/.test(s)?s:null},Fb:S7,U:function(s){aV(S7.call(this),or("Resend code in "+(9<s?"0:":"0:0")+s).toString())},ua:function(){Aa(this.Fb())},Da:function(){return Xn(this,"firebaseui-id-resend-link")},lb:function(){Ss(this.Da())},Nb:fs,Mb:is,ea:xs}),gr.phoneSignInFinish=function(s,h,m,b,T,x){var B=new cb(function(){B.m(),Vt("phoneSignInStart",s,h,m)},function(){!function Due(s,h,m,b){function T(B){h.u().focus(),ki(h.u(),!1),Ss(h.pa(),B)}var x=h.ba();x?(h.$("mdl-spinner mdl-spinner--single-color mdl-js-spinner is-active firebaseui-progress-dialog-loading-icon",or("Verifying...").toString()),Nn(s,h.I(tn(b.confirm,b),[x],function(B){h.h(),h.$("firebaseui-icon-done",or("Verified!").toString());var ee=setTimeout(function(){h.h(),h.m();var Le={user:al(s).currentUser,credential:null,operationType:B.operationType,additionalUserInfo:B.additionalUserInfo};zd(s,h,Le,!0)},1e3);Nn(s,function(){h&&h.h(),clearTimeout(ee)})},function(B){if(B.name&&"cancel"==B.name)h.h();else{var ee=TT(B);switch(B=Ar(ee),ee.code){case"auth/credential-already-in-use":h.h();break;case"auth/code-expired":ee=ci(h),h.h(),h.m(),Vt("phoneSignInStart",s,ee,m,B);break;case"auth/missing-verification-code":case"auth/invalid-verification-code":h.h(),T(B);break;default:h.h(),h.a(B)}}}))):T(or("Wrong code. Try again.").toString())}(s,B,m,T)},function(){B.m(),Vr(s,h)},function(){B.m(),Vt("phoneSignInStart",s,h,m)},KV(m),b,Gi(tt(s)),Zi(tt(s)));B.render(h),Ln(s,B),x&&B.a(x)};var Sue=!(xi||Wn("Safari")&&!(BZ()||Wn("Coast")||Wn("Opera")||Wn("Edge")||Wn("Firefox")||Wn("FxiOS")||Wn("Silk")||Wn("Android")));function ck(s,h){return/-[a-z]/.test(h)?null:Sue&&s.dataset?!Wn("Android")||BZ()||Wn("Firefox")||Wn("FxiOS")||Wn("Opera")||Wn("Silk")||h in s.dataset?void 0===(s=s.dataset[h])?null:s:null:s.getAttribute("data-"+String(h).replace(/([A-Z])/g,"-$1").toLowerCase())}function xue(s,h,m){var b=this;s=JC(hq,{items:s},null,this.s),pq.call(this,s,!0,!0),m&&(m=function Nue(s,h){s=(s||document).getElementsByTagName("BUTTON");for(var m=0;m<s.length;m++)if(ck(s[m],"listboxid")===h)return s[m];return null}(s,m))&&(m.focus(),function rue(s,h){var m=(h=h||cM(document))||cM(document),b=rq(s),T=rq(m);if(!xi||9<=Number(KC)){B=KM(m,"borderLeftWidth");var x=KM(m,"borderRightWidth");ee=KM(m,"borderTopWidth"),Le=KM(m,"borderBottomWidth"),x=new J0(parseFloat(ee),parseFloat(x),parseFloat(Le),parseFloat(B))}else{var B=YM(m,"borderLeft");x=YM(m,"borderRight");var ee=YM(m,"borderTop"),Le=YM(m,"borderBottom");x=new J0(ee,x,Le,B)}m==cM(document)?(B=b.a-m.scrollLeft,b=b.g-m.scrollTop,!xi||10<=Number(KC)||(B+=x.left,b+=x.top)):(B=b.a-T.a-x.left,b=b.g-T.g-x.top),T=s.offsetWidth,x=s.offsetHeight,ee=To&&!T&&!x,s=P(T)&&!ee||!s.getBoundingClientRect?new iV(T,x):new iV((s=nq(s)).right-s.left,s.bottom-s.top),T=m.clientHeight-s.height,x=m.scrollLeft,ee=m.scrollTop,m=new cp(x+=Math.min(B,Math.max(B-(m.clientWidth-s.width),0)),ee+=Math.min(b,Math.max(b-T,0))),h.scrollLeft=m.a,h.scrollTop=m.g}(m,s)),gi(this,s,function(T){(T=(T=t8(T.target,"firebaseui-id-list-box-dialog-button"))&&ck(T,"listboxid"))&&(JM.call(b),h(T))})}function r_(){return Xn(this,"firebaseui-id-phone-number")}function x7(){return Xn(this,"firebaseui-id-country-selector")}function b3(){return Xn(this,"firebaseui-id-phone-number-error")}function Mue(s,h){var T,m=s.a,b=w3("1-US-0",m);if(!(T=h&&w3(h,m)?h:b?"1-US-0":0<m.length?m[0].c:null))throw Error("No available default country");dk.call(this,T,s)}function w3(s,h){return!(!(s=e_(s))||!Hs(h,s))}function E3(s){return"firebaseui-flag-"+s.f}function Rue(s){var h=this;xue.call(this,function kue(s){return s.map(function(h){return{id:h.c,Ma:"firebaseui-flag "+E3(h),label:h.name+" \u200e+"+h.b}})}(s.a),function(m){dk.call(h,m,s,!0),h.O().focus()},this.Ba)}function dk(s,h,m){var b=e_(s);b&&(m&&(h=$M(h,m=Co(Ds(r_.call(this))||""))).length&&h[0].b!=b.b&&(m="+"+b.b+m.substr(h[0].b.length+1),$W(r_.call(this),m)),h=e_(this.Ba),this.Ba=s,s=Xn(this,"firebaseui-id-country-selector-flag"),h&&yc(s,E3(h)),_c(s,E3(b)),aV(Xn(this,"firebaseui-id-country-selector-code"),"\u200e+"+b.b))}function jT(s,h,m,b,T,x,B,ee,Le,ct){Qe.call(this,Jq,{Gb:h,Aa:Le||null,Va:!!m,ia:!!x},ct,"phoneSignInStart",{F:b,D:T}),this.H=ee||null,this.M=h,this.l=s,this.w=m||null,this.pa=B||null}function N7(s,h,m,b){try{var T=h.U(r3)}catch{return}T?mT?(h.$("mdl-spinner mdl-spinner--single-color mdl-js-spinner is-active firebaseui-progress-dialog-loading-icon",or("Verifying...").toString()),Nn(s,h.I(tn(s.cc,s),[KV(T),m],function(x){var B=ci(h);h.$("firebaseui-icon-done",or("Code sent!").toString());var ee=setTimeout(function(){h.h(),h.m(),Vt("phoneSignInFinish",s,B,T,15,x)},1e3);Nn(s,function(){h&&h.h(),clearTimeout(ee)})},function(x){if(h.h(),!x.name||"cancel"!=x.name){grecaptcha.reset(BW),mT=null;var B=x&&x.message||"";if(x.code)switch(x.code){case"auth/too-many-requests":B=or("This phone number has been used too many times").toString();break;case"auth/invalid-phone-number":case"auth/missing-phone-number":return h.O().focus(),void Ss(h.B(),dV().toString());case"auth/admin-restricted-operation":if(t_(tt(s)))return x=ci(h),h.m(),void Vt("handleUnauthorizedUser",s,x,KV(T),$t.Z.auth.PhoneAuthProvider.PROVIDER_ID);B=Ar(x);break;default:B=Ar(x)}h.a(B)}}))):q0?Ss(h.u(),or("Solve the reCAPTCHA").toString()):!q0&&b&&h.i().click():(h.O().focus(),Ss(h.B(),dV().toString()))}function $T(s,h,m,b,T){Qe.call(this,Qq,{Sb:h},T,"providerSignIn",{F:m,D:b}),this.i=s}function HT(s,h,m,b,T,x,B){Qe.call(this,yq,{email:m,Va:!!h,ia:!!x},B,"signIn",{F:b,D:T}),this.i=s,this.u=h}function GT(s,h,m,b,T,x,B){Qe.call(this,Pq,{kc:s,yb:m,Eb:!!b},B,"unauthorizedUser",{F:T,D:x}),this.l=h,this.i=b}function ZT(s,h,m,b,T,x){Qe.call(this,Lq,{email:s},x,"unsupportedProvider",{F:b,D:T}),this.l=h,this.i=m}function vc(s,h){this.$=!1;var m=I3(h);if(WT[m])throw Error('An AuthUI instance already exists for the key "'+m+'"');WT[m]=this,this.a=s,this.u=null,this.Y=!1,M7(this.a),this.h=$t.Z.initializeApp({apiKey:s.app.options.apiKey,authDomain:s.app.options.authDomain},s.app.name+"-firebaseui-temp").auth(),(s=s.emulatorConfig)&&this.h.useEmulator(s.protocol+"://"+s.host+(null===(m=s.port)?"":":"+m),s.options),M7(this.h),this.h.setPersistence&&this.h.setPersistence($t.Z.auth.Auth.Persistence.SESSION),this.oa=h,this.ca=new $ae,this.g=this.T=this.i=this.J=this.O=null,this.s=[],this.Z=!1,this.l=SV.Xa(),this.j=this.C=null,this.da=this.A=!1}function M7(s){s&&s.INTERNAL&&s.INTERNAL.logFramework&&s.INTERNAL.logFramework("FirebaseUI-web")}p(jT,Qe),jT.prototype.v=function(){this.ea(this.pa,this.H),this.P(this.l,this.w||void 0),this.M||IT(this,this.O(),this.i()),rb(this,this.i(),this.l),this.O().focus(),uk(this.O(),(this.O().value||"").length),Qe.prototype.v.call(this)},jT.prototype.o=function(){this.w=this.l=null,Qe.prototype.o.call(this)},kn(jT.prototype,{Cb:d3,O:r_,B:b3,ea:function(s,h,m){var b=this,T=r_.call(this),x=x7.call(this),B=b3.call(this),ee=s||fT,Le=ee.a;if(0==Le.length)throw Error("No available countries provided.");Mue.call(b,ee,h),gi(this,x,function(){Rue.call(b,ee)}),X0(this,T,function(){eb(B)&&(ki(T,!0),Aa(B));var ct=Co(Ds(T)||""),Gt=e_(this.Ba),vr=$M(ee,ct);ct=w3("1-US-0",Le),vr.length&&vr[0].b!=Gt.b&&dk.call(b,"1"==(Gt=vr[0]).b&&ct?"1-US-0":Gt.c,ee)}),m&&ET(this,T,function(){m()})},U:function(s){var h=Co(Ds(r_.call(this))||""),m=(s=s||fT).a,b=$M(fT,h);if(b.length&&!Hs(m,b[0]))throw $W(r_.call(this)),r_.call(this).focus(),Ss(b3.call(this),or("The country code provided is not supported.").toString()),Error("The country code provided is not supported.");return m=e_(this.Ba),b.length&&b[0].b!=m.b&&dk.call(this,b[0].c,s),b.length&&(h=h.substr(b[0].b.length+1)),h?new AW(this.Ba,h):null},Ja:x7,ba:function(){return Xn(this,"firebaseui-recaptcha-container")},u:function(){return Xn(this,"firebaseui-id-recaptcha-error")},i:fs,ua:is,P:xs}),gr.phoneSignInStart=function(s,h,m,b){var T=function Hae(s){var h=null;if(GM(s).forEach(function(b){b.provider==$t.Z.auth.PhoneAuthProvider.PROVIDER_ID&&yt(b.recaptchaParameters)&&!Array.isArray(b.recaptchaParameters)&&(h=A0(b.recaptchaParameters))}),h){var m=[];Xae.forEach(function(b){typeof h[b]<"u"&&(m.push(b),delete h[b])}),m.length&&gp('The following provided "recaptchaParameters" keys are not allowed: '+m.join(", "))}return h}(tt(s))||{};mT=null,q0=!(T&&"invisible"===T.size);var x=_7(s),B=function Kae(s){var h=(s=Ta(s,$t.Z.auth.PhoneAuthProvider.PROVIDER_ID))&&s.defaultCountry||null;h=h&&IW(h);var m=null;return s&&"string"==typeof s.loginHint&&(m=DW(s.loginHint)),h&&h[0]||m&&e_(m.a)||null}(tt(s)),ee=x?function zae(s){var h=null;return(s=Ta(s,$t.Z.auth.PhoneAuthProvider.PROVIDER_ID))&&"string"==typeof s.loginHint&&(h=DW(s.loginHint)),s&&s.defaultNationalNumber||h&&h.Aa||null}(tt(s)):null;B=m&&m.a||B&&B.c||null,m=m&&m.Aa||ee,(ee=YV(tt(s)))&&TW(ee),r3=ee?new EW(YV(tt(s))):fT;var Le=new jT(function(Gt){N7(s,Le,ct,!(!Gt||!Gt.keyCode))},q0,x?null:function(){ct.clear(),Le.m(),Vr(s,h)},Gi(tt(s)),Zi(tt(s)),x,r3,B,m);Le.render(h),Ln(s,Le),b&&Le.a(b),T.callback=function(Gt){Le.u()&&Aa(Le.u()),mT=Gt,q0||N7(s,Le,ct)},T["expired-callback"]=function(){mT=null};var ct=new $t.Z.auth.RecaptchaVerifier(q0?Le.ba():Le.i(),T,al(s).app);Nn(s,Le.I(tn(ct.render,ct),[],function(Gt){BW=Gt},function(Gt){Gt.name&&"cancel"==Gt.name||(Gt=Ar(Gt),Le.m(),Vr(s,h,void 0,Gt))}))},gr.prefilledEmailSignIn=function(s,h,m){var b=new lk;b.render(h),Ln(s,b),Nn(s,b.I(tn(qn(s).fetchSignInMethodsForEmail,qn(s)),[m],function(T){b.m();var x=!(!rk(s)||!R7(s));v7(s,h,T,m,void 0,x)},function(T){T=Ar(T),b.m(),Vt("signIn",s,h,m,T)}))},p($T,Qe),$T.prototype.v=function(){this.l(this.i),Qe.prototype.v.call(this)},$T.prototype.o=function(){this.i=null,Qe.prototype.o.call(this)},kn($T.prototype,{l:function(s){function h(B){s(B)}for(var m=this.g?sV("firebaseui-id-idp-button",this.g||this.s.a):[],b=0;b<m.length;b++){var T=m[b];gi(this,T,hs(h,ck(T,"providerId")))}}}),gr.providerSignIn=function(s,h,m,b){var T=new $T(function(x){x==$t.Z.auth.EmailAuthProvider.PROVIDER_ID?(T.m(),p3(s,h,b)):x==$t.Z.auth.PhoneAuthProvider.PROVIDER_ID?(T.m(),Vt("phoneSignInStart",s,h)):"anonymous"==x?function due(s,h){Nn(s,h.I(tn(s.$b,s),[],function(m){return h.m(),zd(s,h,m,!0)},function(m){m.name&&"cancel"==m.name||(Ca("ContinueAsGuest: "+m.code,void 0),m=Ar(m),h.a(m))}))}(s,T):AT(s,T,x,b),er(s),s.l.cancel()},NW(tt(s)),Gi(tt(s)),Zi(tt(s)));T.render(h),Ln(s,T),m&&T.a(m),function Lue(s){er(s);try{$8(s.l,MW(tt(s)),function Oue(s){var h;return er(s),(h=s.Z)||(h=!(!(s=OW(s=tt(s),$t.Z.auth.GoogleAuthProvider.PROVIDER_ID))||"select_account"!==s.prompt)),h}(s)).then(function(h){return!!s.g&&function hue(s,h,m){if(m&&m.credential&&m.clientId===MW(tt(s))){if(RW(tt(s),$t.Z.auth.GoogleAuthProvider.PROVIDER_ID).length){try{var T=JSON.parse(atob(m.credential.split(".")[1])).email}catch{}return AT(s,h,$t.Z.auth.GoogleAuthProvider.PROVIDER_ID,T),Mi(!0)}return function b(x){var B=!1;return x=h.I(tn(s.ac,s),[x],function(ee){var Le=ci(h);h.m(),Vt("callback",s,Le,Mi(ee)),B=!0},function(ee){if(!(ee.name&&"cancel"==ee.name||ee&&"auth/credential-already-in-use"==ee.code))if(ee&&"auth/email-already-in-use"==ee.code&&ee.email&&ee.credential){var Le=ci(h);h.m(),Vt("callback",s,Le,R0(ee))}else ee&&"auth/admin-restricted-operation"==ee.code&&t_(tt(s))?(ee=ci(h),h.m(),Vt("handleUnauthorizedUser",s,ee,null,$t.Z.auth.GoogleAuthProvider.PROVIDER_ID)):(ee=Ar(ee),h.a(ee))}),Nn(s,x),x.then(function(){return B},function(){return!1})}($t.Z.auth.GoogleAuthProvider.credential(m.credential))}return m&&h.a(or("The selected credential for the authentication provider is not supported!").toString()),Mi(!1)}(s,s.g,h)})}catch{}}(s)},gr.sendEmailLinkForSignIn=function(s,h,m,b){var T=new ik;T.render(h),Ln(s,T),f3(s,T,m,b,function(x){T.m(),x&&"auth/admin-restricted-operation"==x.code&&t_(tt(s))?Vt("handleUnauthorizedUser",s,h,m,$t.Z.auth.EmailAuthProvider.PROVIDER_ID):(x=Ar(x),Vt("signIn",s,h,m,x))})},p(HT,Qe),HT.prototype.v=function(){this.w(this.i),this.B(this.i,this.u||void 0),this.l().focus(),uk(this.l(),(this.l().value||"").length),Qe.prototype.v.call(this)},HT.prototype.o=function(){this.u=this.i=null,Qe.prototype.o.call(this)},kn(HT.prototype,{l:qd,M:_p,w:sb,H:ob,j:ab,U:fs,P:is,B:xs}),gr.signIn=function(s,h,m,b){var T=rk(s),x=new HT(function(){var B=x,ee=B.j()||"";ee&&y7(s,B,ee)},T?null:function(){x.m(),Vr(s,h,m)},m,Gi(tt(s)),Zi(tt(s)),T);x.render(h),Ln(s,x),b&&x.a(b)},p(GT,Qe),GT.prototype.v=function(){var s=this,h=Xn(this,"firebaseui-id-unauthorized-user-help-link");this.i&&h&&gi(this,h,function(){s.i()}),gi(this,this.u(),function(){s.l()}),this.u().focus(),Qe.prototype.v.call(this)},GT.prototype.o=function(){this.i=this.l=null,Qe.prototype.o.call(this)},kn(GT.prototype,{u:is}),gr.handleUnauthorizedUser=function(s,h,m,b){function T(){Vr(s,h)}b===$t.Z.auth.EmailAuthProvider.PROVIDER_ID?T=function(){p3(s,h)}:b===$t.Z.auth.PhoneAuthProvider.PROVIDER_ID&&(T=function(){Vt("phoneSignInStart",s,h)});var x=null,B=null;b===$t.Z.auth.EmailAuthProvider.PROVIDER_ID&&kW(tt(s))?(x=function Wae(s){return(s=Ta(s,$t.Z.auth.EmailAuthProvider.PROVIDER_ID))&&s.disableSignUp&&s.disableSignUp.adminEmail||null}(tt(s)),B=function qae(s){if((s=Ta(s,$t.Z.auth.EmailAuthProvider.PROVIDER_ID))&&s.disableSignUp){var h=s.disableSignUp.helpLink||null;if(h&&"string"==typeof h)return function(){P0(h)}}return null}(tt(s))):t_(tt(s))&&(x=function Gae(s){return(s=s.a.get("adminRestrictedOperation"))&&s.adminEmail?s.adminEmail:null}(tt(s)),B=function Zae(s){if(s=s.a.get("adminRestrictedOperation")||null){var h=s.helpLink||null;if(h&&"string"==typeof h)return function(){P0(h)}}return null}(tt(s)));var ee=new GT(m,function(){ee.m(),T()},x,B,Gi(tt(s)),Zi(tt(s)));ee.render(h),Ln(s,ee)},p(ZT,Qe),ZT.prototype.v=function(){this.w(this.l,this.i),this.u().focus(),Qe.prototype.v.call(this)},ZT.prototype.o=function(){this.i=this.l=null,Qe.prototype.o.call(this)},kn(ZT.prototype,{u:fs,B:is,w:xs}),gr.unsupportedProvider=function(s,h,m){var b=new ZT(m,function(){b.m(),Vt("passwordRecovery",s,h,m)},function(){b.m(),Vr(s,h,m)},Gi(tt(s)),Zi(tt(s)));b.render(h),Ln(s,b)};var WT={};function I3(s){return s||"[DEFAULT]"}function k7(s){return er(s),s.i||(s.i=Kd(s,function(h){return h&&!gc(cn(s))?Mi(al(s).getRedirectResult().then(function(m){return m},function(m){if(m&&"auth/email-already-in-use"==m.code&&m.email&&m.credential)throw m;return vp(s,m)})):Mi(qn(s).getRedirectResult().then(function(m){return HM(tt(s))&&!m.user&&s.j&&!s.j.isAnonymous?al(s).getRedirectResult():m}))})),s.i}function Ln(s,h){er(s),s.g=h}var db=null;function qn(s){return er(s),s.h}function al(s){return er(s),s.a}function cn(s){return er(s),s.oa}function R7(s){return er(s),s.O?s.O.emailHint:void 0}function O7(s){return"signIn"===((s=new Hm(s)).a.a.get(ts.ub)||null)&&!!s.a.a.get(ts.$a)}function P7(s,h,m,b){er(s),typeof s.a.languageCode<"u"&&(s.u=s.a.languageCode);var T="en".replace(/_/g,"-");s.a.languageCode=T,s.h.languageCode=T,s.Y=!0,typeof s.a.tenantId<"u"&&(s.h.tenantId=s.a.tenantId),s.ib(m),s.O=b||null;var x=M.document;s.C?s.C.then(function(){"complete"==x.readyState?hk(s,h):rT(window,"load",function(){hk(s,h)})}):"complete"==x.readyState?hk(s,h):rT(window,"load",function(){hk(s,h)})}function hk(s,h){var m=wM(h,"Could not find the FirebaseUI widget element on the page.");if(m.setAttribute("lang","en".replace(/_/g,"-")),db){var b=db;er(b),gc(cn(b))&&gp("UI Widget is already rendered on the page and is pending some user interaction. Only one widget instance can be rendered per page. The previous instance has been automatically reset."),db.reset()}if(db=s,s.T=m,function Pue(s,h){s.L=null,s.J=new vM(h),s.J.register(),sl(s.J,"pageEnter",function(m){if(s.L!=(m=m&&m.pageId)){var b=tt(s);(b=gT(b).uiChanged||null)&&b(s.L,m),s.L=m}})}(s,m),jM(new BV)&&jM(new jV)){h=wM(h,"Could not find the FirebaseUI widget element on the page."),m=(m=sM(m=Wd(),b=qV(tt(s).a,"queryParameterForSignInSuccessUrl")))?up(aM(m)).toString():null;e:{b=Wd();var T=PW(tt(s));for(x in b=sM(b,T)||"",n3)if(n3[x].toLowerCase()==b.toLowerCase()){var x=n3[x];break e}x="callback"}switch(x){case"callback":m&&(x=cn(s),H0(dT,m,x)),s.nb()?Vt("callback",s,h):Vr(s,h,R7(s));break;case"resetPassword":Vt("passwordReset",s,h,DT(),g3());break;case"recoverEmail":Vt("emailChangeRevocation",s,h,DT());break;case"revertSecondFactorAddition":Vt("revertSecondFactorAddition",s,h,DT());break;case"verifyEmail":Vt("emailVerification",s,h,DT(),g3());break;case"verifyAndChangeEmail":Vt("verifyAndChangeEmail",s,h,DT(),g3());break;case"signIn":Vt("emailLinkSignInCallback",s,h,Wd()),V7();break;case"select":m&&(x=cn(s),H0(dT,m,x)),Vr(s,h);break;default:throw Error("Unhandled widget operation.")}(h=gT(h=tt(s)).uiShown||null)&&h()}else h=wM(h,"Could not find the FirebaseUI widget element on the page."),(x=new g7(or("The browser you are using does not support Web Storage. Please try again in a different browser.").toString())).render(h),Ln(s,x);h=s.g&&"blank"==s.g.Ga&&QV(tt(s)),GV(cn(s))&&!h&&(U7(s,(h=GV(cn(s))).a),Ko(Xm,cn(s)))}function Kd(s,h){if(s.A)return h(L7(s));if(Nn(s,function(){s.A=!1}),HM(tt(s))){var m=new rs(function(b){Nn(s,s.a.onAuthStateChanged(function(T){s.j=T,s.A||(s.A=!0,b(h(L7(s))))}))});return Nn(s,m),m}return s.A=!0,h(null)}function L7(s){return er(s),HM(tt(s))&&s.j&&s.j.isAnonymous?s.j:null}function Nn(s,h){if(er(s),h){s.s.push(h);var m=function(){!function $C(s,h){!function I0(s,h){for(var m=$(s)?s.split(""):s,b=s.length-1;0<=b;--b)b in m&&h.call(void 0,m[b],b,s)}(s,function(b,T){h.call(void 0,b,T,s)&&rp(s,T)})}(s.s,function(b){return b==h})};"function"!=typeof h&&h.then(m,m)}}function F7(s){typeof s.a.languageCode<"u"&&s.Y&&(s.Y=!1,s.a.languageCode=s.u)}function U7(s,h){s.a.tenantId=h,s.h.tenantId=h}function tt(s){return er(s),s.ca}function er(s){if(s.$)throw Error("AuthUI instance is deleted!")}function V7(){var s=Wd();if(O7(s)){for(var h in s=new Hm(s),ts)ts.hasOwnProperty(h)&&$m(s.a.a,ts[h]);h={state:"signIn",mode:"emailLink",operation:"clear"},M.history&&M.history.replaceState&&M.history.replaceState(h,M.document.title,s.toString())}}function yp(s){return er(s),qn(s).signOut()}function vp(s,h,m){if(er(s),h&&h.code&&("auth/email-already-in-use"==h.code||"auth/credential-already-in-use"==h.code)){var b=VW(tt(s));return Mi().then(function(){return b(new XC("anonymous-upgrade-merge-conflict",null,m||h.credential))}).then(function(){throw s.g&&(s.g.m(),s.g=null),h})}return R0(h)}function qT(s,h,m,b){Qe.call(this,n7,void 0,b,"providerMatchByEmail",{F:h,D:m}),this.i=s}function fk(s,h,m,b,T){Qe.call(this,t7,{ec:h},T,"selectTenant",{F:m,D:b}),this.i=s}function C3(s){Qe.call(this,Cq,void 0,s,"spinner")}function Hue(s){for(var h in this.a=new ZV,Hi(this.a,"authDomain"),Hi(this.a,"displayMode",gk),Hi(this.a,"tenants"),Hi(this.a,"callbacks"),Hi(this.a,"tosUrl"),Hi(this.a,"privacyPolicyUrl"),s)if(s.hasOwnProperty(h))try{WV(this.a,h,s[h])}catch{Ca('Invalid config: "'+h+'"',void 0)}}function pk(s){return s.a.get("callbacks")||{}}function B7(s){var h=s.a.get("tosUrl")||null;if(s=s.a.get("privacyPolicyUrl")||null,h&&!s&&gp("Privacy Policy URL is missing, the link will not be displayed."),h&&s){if("function"==typeof h)return h;if("string"==typeof h)return function(){P0(h)}}return null}function j7(s){var h=s.a.get("tosUrl")||null,m=s.a.get("privacyPolicyUrl")||null;if(m&&!h&&gp("Terms of Service URL is missing, the link will not be displayed."),h&&m){if("function"==typeof m)return m;if("string"==typeof m)return function(){P0(m)}}return null}function T3(s,h){if(!(s=s.a.get("tenants"))||!s.hasOwnProperty(h)&&!s.hasOwnProperty(mk))throw Error("Invalid tenant configuration!")}function $7(s,h,m){if(!(s=s.a.get("tenants")))throw Error("Invalid tenant configuration!");var b=[];if(!(s=s[h]||s[mk]))return Ca("Invalid tenant configuration: "+h+" is not configured!",void 0),b;if(!(h=s.signInOptions))throw Error("Invalid tenant configuration: signInOptions are invalid!");return h.forEach(function(T){if("string"==typeof T)b.push(T);else if("string"==typeof T.provider){var x=T.hd;x&&m?(x instanceof RegExp?x:new RegExp("@"+x.replace(".","\\.")+"$")).test(m)&&b.push(T.provider):b.push(T.provider)}else Ca(T="Invalid tenant configuration: signInOption "+JSON.stringify(T)+" is invalid!",void 0)}),b}(n=vc.prototype).nb=function(){return er(this),!!GV(cn(this))||O7(Wd())},n.start=function(s,h){P7(this,s,h)},n.Db=function(){er(this),this.Z=!0},n.reset=function(){er(this);var s=this;this.T&&this.T.removeAttribute("lang"),this.J&&function pae(s){var h=vV(s.N());Ia[h]&&Ia[h].length&&(function ZU(s,h){e:{for(var m=s.length,b=$(s)?s.split(""):s,T=0;T<m;T++)if(T in b&&h.call(void 0,b[T],T,s)){h=T;break e}h=-1}0<=h&&rp(s,h)}(Ia[h],function(m){return m==s}),Ia[h].length||delete Ia[h])}(this.J),F7(this),this.O=null,V7(),Ko(Xm,cn(this)),er(this),this.l.cancel(),this.i=Mi({user:null,credential:null}),db==this&&(db=null),this.T=null;for(var h=0;h<this.s.length;h++)"function"==typeof this.s[h]?this.s[h]():this.s[h].cancel&&this.s[h].cancel();this.s=[],mc(cn(this)),this.g&&(this.g.m(),this.g=null),this.L=null,this.h&&(this.C=yp(this).then(function(){s.C=null},function(){s.C=null}))},n.ib=function(s){er(this);var m,h=this.ca;for(m in s)try{WV(h.a,m,s[m])}catch{Ca('Invalid config: "'+m+'"',void 0)}Loe&&WV(h.a,"popupMode",!1),YV(h),!this.da&&JV(tt(this))&&(gp("signInSuccess callback is deprecated. Please use signInSuccessWithAuthResult callback instead."),this.da=!0)},n.Wb=function(){er(this);var s=tt(this),h=qV(s.a,"widgetUrl");s=PW(s);for(var T,m=h.search(kZ),b=0,x=[];0<=(T=MZ(h,b,s,m));)x.push(h.substring(b,T)),b=Math.min(h.indexOf("&",T)+1||m,m);x.push(h.substr(b)),h=x.join("").replace(Toe,"$1"),(s+=m="="+encodeURIComponent("select"))?(0>(m=h.indexOf("#"))&&(m=h.length),0>(b=h.indexOf("?"))||b>m?(b=m,T=""):T=h.substring(b+1,m),m=(h=[h.substr(0,b),T,h.substr(m)])[1],h[1]=s?m?m+"&"+s:s:m,m=h[0]+(h[1]?"?"+h[1]:"")+h[2]):m=h,tt(this).a.get("popupMode")?(m=m||"about:blank",(s={width:500,height:600,top:0<(s=(window.screen.availHeight-600)/2)?s:0,left:0<(h=(window.screen.availWidth-500)/2)?h:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1}).target=s.target||m.target||"google_popup",s.width=s.width||690,s.height=s.height||500,(s=L8(m,s))&&s.focus()):k0(window.location,m)},n.Wa=function(){var s=this;return er(this),this.h.app.delete().then(function(){var h=I3(cn(s));delete WT[h],s.reset(),s.$=!0})},n.Ib=function(s,h){er(this);var m=this,b=function wae(){for(var s=32,h=[];0<s;)h.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),s--;return h.join("")}();if(!W0(tt(this)))return R0(Error("Email link sign-in should be enabled to trigger email sending."));var T=function Qae(s){if(W0(s)){var h={url:Wd(),handleCodeInApp:!0};(s=Ta(s,$t.Z.auth.EmailAuthProvider.PROVIDER_ID))&&"function"==typeof s.emailLinkSignIn&&Vm(h,s.emailLinkSignIn()),s=h.url;var m=Wd();m instanceof ip||(m=JU(m)),s instanceof ip||(s=JU(s));var b=m;m=new ip(b);var T=!!s.j;T?KU(m,s.j):T=!!s.A,T?m.A=s.A:T=!!s.h,T?m.h=s.h:T=null!=s.C;var x=s.g;if(T)YU(m,s.C);else if(T=!!s.g)if("/"!=x.charAt(0)&&(b.h&&!b.g?x="/"+x:-1!=(b=m.g.lastIndexOf("/"))&&(x=m.g.substr(0,b+1)+x)),".."==x||"."==x)x="";else if(-1!=x.indexOf("./")||-1!=x.indexOf("/.")){b=0==x.lastIndexOf("/",0),x=x.split("/");for(var B=[],ee=0;ee<x.length;){var Le=x[ee++];"."==Le?b&&ee==x.length&&B.push(""):".."==Le?((1<B.length||1==B.length&&""!=B[0])&&B.pop(),b&&ee==x.length&&B.push("")):(B.push(Le),b=!0)}x=B.join("/")}return T?m.g=x:T=""!==s.a.toString(),T?QU(m,PZ(s.a)):T=!!s.s,T&&(m.s=s.s),h.url=m.toString(),h}return null}(tt(this)),x=new Hm(T.url);return function koe(s,h){h?s.a.a.set(ts.Sa,h):$m(s.a.a,ts.Sa)}(x,b),h&&h.a&&(function jae(s,h,m){H0(hT,lW(s,JSON.stringify(X8(h))),m)}(b,h,cn(this)),FZ(x,h.a.providerId)),function Roe(s,h){null!==h?s.a.a.set(ts.Qa,h?"1":"0"):$m(s.a.a,ts.Qa)}(x,function Yae(s){return!(!(s=Ta(s,$t.Z.auth.EmailAuthProvider.PROVIDER_ID))||!s.forceSameDevice)}(tt(this))),Kd(this,function(B){return B&&((B=B.uid)?x.a.a.set(ts.Pa,B):$m(x.a.a,ts.Pa)),T.url=x.toString(),qn(m).sendSignInLinkToEmail(s,T)}).then(function(){var B=cn(m),ee={};ee.email=s,H0(j0,lW(b,JSON.stringify(ee)),B)},function(B){throw Ko(hT,cn(m)),Ko(j0,cn(m)),B})},n.bc=function(s,h){er(this);var m=this;return qn(this).signInWithEmailAndPassword(s,h).then(function(b){return Kd(m,function(T){return T?yp(m).then(function(){return vp(m,{code:"auth/email-already-in-use"},$t.Z.auth.EmailAuthProvider.credential(s,h))}):b})})},n.Yb=function(s,h){er(this);var m=this;return Kd(this,function(b){if(b){var T=$t.Z.auth.EmailAuthProvider.credential(s,h);return b.linkWithCredential(T)}return qn(m).createUserWithEmailAndPassword(s,h)})},n.ac=function(s){er(this);var h=this;return Kd(this,function(m){return m?m.linkWithCredential(s).then(function(b){return b},function(b){if(b&&"auth/email-already-in-use"==b.code&&b.email&&b.credential)throw b;return vp(h,b,s)}):qn(h).signInWithCredential(s)})},n.dc=function(s){er(this);var h=this,m=this.i;return this.i=null,Kd(this,function(b){return b&&!gc(cn(h))?b.linkWithRedirect(s):qn(h).signInWithRedirect(s)}).then(function(){},function(b){throw h.i=m,b})},n.cc=function(s,h){er(this);var m=this;return Kd(this,function(b){return b?b.linkWithPhoneNumber(s,h).then(function(T){return new NV(T,function(x){if("auth/credential-already-in-use"==x.code)return vp(m,x);throw x})}):al(m).signInWithPhoneNumber(s,h).then(function(T){return new NV(T)})})},n.$b=function(){return er(this),al(this).signInAnonymously()},n.Xb=function(s,h){return er(this),qn(this).signInWithEmailAndPassword(s,h)},p(qT,Qe),qT.prototype.v=function(){this.u(this.i),this.w(this.i),this.l().focus(),uk(this.l(),(this.l().value||"").length),Qe.prototype.v.call(this)},qT.prototype.o=function(){this.i=null,Qe.prototype.o.call(this)},kn(qT.prototype,{l:qd,H:_p,u:sb,B:ob,j:ab,M:fs,w:xs}),p(fk,Qe),fk.prototype.v=function(){(function $ue(s,h){function m(ee){h(ee)}for(var b=s.g?sV("firebaseui-id-tenant-selection-button",s.g||s.s.a):[],T=0;T<b.length;T++){var x=b[T];gi(s,x,hs(m,ck(x,"tenantId")))}})(this,this.i),Qe.prototype.v.call(this)},fk.prototype.o=function(){this.i=null,Qe.prototype.o.call(this)},p(C3,Qe);var que=["immediateFederatedRedirect","privacyPolicyUrl","signInFlow","signInOptions","tosUrl"],gk="optionFirst",A3={pc:gk,oc:"identifierFirst"},mk="*";function ul(s,h){var m=this;this.s=wM(s),this.a={},Object.keys(h).forEach(function(b){m.a[b]=new Hue(h[b])}),this.ob=this.g=this.A=this.h=this.i=this.j=null,Object.defineProperty(this,"languageCode",{get:function(){return this.ob},set:function(b){this.ob=b||null},enumerable:!1})}function bp(s){s.j&&s.j.reset(),s.mb(),s.g&&s.g.m()}(n=ul.prototype).Ub=function(s,h){var m=this;bp(this);var b=s.apiKey;return new rs(function(T,x){if(m.a.hasOwnProperty(b)){var B=pk(m.a[b]).selectTenantUiHidden||null;if(function Gue(s){for(var h in s=s.a.get("displayMode"),A3)if(A3[h]===s)return A3[h];return gk}(m.a[b])===gk){var ee=[];h.forEach(function(Gt){Gt=Gt||"_";var vr=m.a[b].a.get("tenants");if(!vr)throw Error("Invalid tenant configuration!");(vr=vr[Gt]||vr[mk])?Gt={tenantId:"_"!==Gt?Gt:null,V:vr.fullLabel||null,displayName:vr.displayName,za:vr.iconUrl,ta:vr.buttonColor}:(Ca("Invalid tenant configuration: "+Gt+" is not configured!",void 0),Gt=null),Gt&&ee.push(Gt)});var Le=function(Gt){Gt={tenantId:Gt,providerIds:$7(m.a[b],Gt||"_")},T(Gt)};if(1===ee.length)return void Le(ee[0].tenantId);m.g=new fk(function(Gt){bp(m),B&&B(),Le(Gt)},ee,B7(m.a[b]),j7(m.a[b]))}else m.g=new qT(function(){var Gt=m.g.j();if(Gt){for(var vr=0;vr<h.length;vr++){var ll=$7(m.a[b],h[vr]||"_",Gt);if(0!==ll.length)return Gt={tenantId:h[vr],providerIds:ll,email:Gt},bp(m),B&&B(),void T(Gt)}m.g.a(l8({code:"no-matching-tenant-for-email"}).toString())}},B7(m.a[b]),j7(m.a[b]));m.g.render(m.s),(x=pk(m.a[b]).selectTenantUiShown||null)&&x()}else{var ct=Error("Invalid project configuration: API key is invalid!");ct.code="invalid-configuration",m.pb(ct),x(ct)}})},n.Pb=function(s,h){if(!this.a.hasOwnProperty(s))throw Error("Invalid project configuration: API key is invalid!");var m=h||void 0;T3(this.a[s],h||"_");try{this.i=$t.Z.app(m).auth()}catch{var b=this.a[s].a.get("authDomain");if(!b)throw Error("Invalid project configuration: authDomain is required!");(s=$t.Z.initializeApp({apiKey:s,authDomain:b},m)).auth().tenantId=h,this.i=s.auth()}return this.i},n.Zb=function(s,h){var m=this;return new rs(function(b,T){function x(vr,ll){m.j=new vc(s),P7(m.j,m.s,vr,ll)}var B=s.app.options.apiKey;m.a.hasOwnProperty(B)||T(Error("Invalid project configuration: API key is invalid!"));var ee=function Zue(s,h,m){return s=function Wue(s,h){var m=que,b=void 0===b?{}:b;return T3(s,h),function Eae(s,h,m){return m=void 0===m?{}:m,Object.keys(s).filter(function(b){return h.includes(b)}).reduce(function(b,T){return b[T]=s[T],b},m)}((s=s.a.get("tenants"))[h]||s[mk],m,b)}(s,h),(h=s.signInOptions)&&m&&(h=h.filter(function(b){return m.includes("string"==typeof b?b:b.provider)}),s.signInOptions=h),s}(m.a[B],s.tenantId||"_",h&&h.providerIds);bp(m),T={signInSuccessWithAuthResult:function(vr){return b(vr),!1}};var Gt,Le=pk(m.a[B]).signInUiShown||null,ct=!1;T.uiChanged=function(vr,ll){null===vr&&"callback"===ll?((vr=oV("firebaseui-id-page-callback",m.s))&&Aa(vr),m.h=new C3,m.h.render(m.s)):ct||null===vr&&"spinner"===ll||"blank"===ll||(m.h&&(m.h.m(),m.h=null),ct=!0,Le&&Le(s.tenantId))},ee.callbacks=T,ee.credentialHelper="none",h&&h.email&&(Gt={emailHint:h.email}),m.j?m.j.Wa().then(function(){x(ee,Gt)}):x(ee,Gt)})},n.reset=function(){var s=this;return Mi().then(function(){s.j&&s.j.Wa()}).then(function(){s.j=null,bp(s)})},n.Vb=function(){var s=this;this.h||this.A||(this.A=window.setTimeout(function(){bp(s),s.h=new C3,s.g=s.h,s.h.render(s.s),s.A=null},500))},n.mb=function(){window.clearTimeout(this.A),this.A=null,this.h&&(this.h.m(),this.h=null)},n.Bb=function(){return bp(this),this.g=new c7,this.g.render(this.s),Mi()},n.pb=function(s){var b,h=this,m=l8({code:s.code}).toString()||s.message;bp(this),s.retry&&"function"==typeof s.retry&&(b=function(){h.reset(),s.retry()}),this.g=new p7(m,b),this.g.render(this.s)},n.Rb=function(s){var h=this;return Mi().then(function(){var m=h.i&&h.i.app.options.apiKey;if(!h.a.hasOwnProperty(m))throw Error("Invalid project configuration: API key is invalid!");if(T3(h.a[m],s.tenantId||"_"),!h.i.currentUser||h.i.currentUser.uid!==s.uid)throw Error("The user being processed does not match the signed in user!");return(m=pk(h.a[m]).beforeSignInSuccess||null)?m(s):s}).then(function(m){if(m.uid!==s.uid)throw Error("User with mismatching UID returned.");return m})},lr("firebaseui.auth.FirebaseUiHandler",ul),lr("firebaseui.auth.FirebaseUiHandler.prototype.selectTenant",ul.prototype.Ub),lr("firebaseui.auth.FirebaseUiHandler.prototype.getAuth",ul.prototype.Pb),lr("firebaseui.auth.FirebaseUiHandler.prototype.startSignIn",ul.prototype.Zb),lr("firebaseui.auth.FirebaseUiHandler.prototype.reset",ul.prototype.reset),lr("firebaseui.auth.FirebaseUiHandler.prototype.showProgressBar",ul.prototype.Vb),lr("firebaseui.auth.FirebaseUiHandler.prototype.hideProgressBar",ul.prototype.mb),lr("firebaseui.auth.FirebaseUiHandler.prototype.completeSignOut",ul.prototype.Bb),lr("firebaseui.auth.FirebaseUiHandler.prototype.handleError",ul.prototype.pb),lr("firebaseui.auth.FirebaseUiHandler.prototype.processUser",ul.prototype.Rb),lr("firebaseui.auth.AuthUI",vc),lr("firebaseui.auth.AuthUI.getInstance",function(s){return s=I3(s),WT[s]?WT[s]:null}),lr("firebaseui.auth.AuthUI.prototype.disableAutoSignIn",vc.prototype.Db),lr("firebaseui.auth.AuthUI.prototype.start",vc.prototype.start),lr("firebaseui.auth.AuthUI.prototype.setConfig",vc.prototype.ib),lr("firebaseui.auth.AuthUI.prototype.signIn",vc.prototype.Wb),lr("firebaseui.auth.AuthUI.prototype.reset",vc.prototype.reset),lr("firebaseui.auth.AuthUI.prototype.delete",vc.prototype.Wa),lr("firebaseui.auth.AuthUI.prototype.isPendingRedirect",vc.prototype.nb),lr("firebaseui.auth.AuthUIError",XC),lr("firebaseui.auth.AuthUIError.prototype.toJSON",XC.prototype.toJSON),lr("firebaseui.auth.CredentialHelper.GOOGLE_YOLO",XV),lr("firebaseui.auth.CredentialHelper.NONE",ZM),lr("firebaseui.auth.AnonymousAuthProvider.PROVIDER_ID","anonymous"),rs.prototype.catch=rs.prototype.Ca,rs.prototype.finally=rs.prototype.fc}).apply(typeof global<"u"?global:typeof self<"u"?self:window)}.apply(typeof global<"u"?global:typeof self<"u"?self:window),typeof window<"u"&&(window.dialogPolyfill=Nee());var Mee=firebaseui.auth;let Z5=(()=>{class n{constructor(t,r,i,u){const d=(0,Tr.on)(t,u,r),p=i;if(!window.firebaseUiInstance){const v=d.auth();if(p){const I=p[0].startsWith("http")?p[0]:`http://${p.join(":")}`;v.useEmulator(I)}window.firebaseUiInstance=new Mee.AuthUI(v)}this.firebaseUiInstance=window.firebaseUiInstance}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Tr.Dh),l.LFG(Tr.xv,8),l.LFG(Mg,8),l.LFG(l.R0b))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),kee=(()=>{class n{constructor(t,r,i,u,d){this.angularFireAuth=t,this._firebaseUiConfig=r,this._firebaseUiConfig_Feature=i,this.ngZone=u,this.firebaseUIService=d,this.signInSuccessWithAuthResultCallback=new l.vpe,this.signInFailureCallback=new l.vpe,this.uiShownCallback=new l.vpe}get firebaseUiConfig(){return{...this._firebaseUiConfig,...this._firebaseUiConfig_Feature}}ngOnInit(){this.subscription=this.angularFireAuth.authState.subscribe(t=>{if(t&&t.isAnonymous||!t){if(0===this.firebaseUiConfig.signInOptions.length)throw new Error("There must be at least one AuthProvider.");this.firebaseUIPopup()}})}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}getUIAuthConfig(){return this.firebaseUiConfig.callbacks||(this._firebaseUiConfig[n.COMPUTED_CALLBACKS]=!0,this._firebaseUiConfig.callbacks=this.getCallbacks()),this.firebaseUiConfig}firebaseUIPopup(){const t=this.firebaseUIService.firebaseUiInstance,r=this.getUIAuthConfig();let i=!1;r[n.COMPUTED_CALLBACKS]&&(i=!0,delete r[n.COMPUTED_CALLBACKS]),t.start("#firebaseui-auth-container",r),i&&(this._firebaseUiConfig.callbacks=null)}getCallbacks(){return{signInSuccessWithAuthResult:(u,d)=>(this.ngZone.run(()=>{this.signInSuccessWithAuthResultCallback.emit({authResult:u,redirectUrl:d})}),this.firebaseUiConfig.signInSuccessUrl),signInFailure:u=>(this.ngZone.run(()=>{this.signInFailureCallback.emit({code:u.code,credential:u.credential})}),Promise.reject()),uiShown:()=>{this.ngZone.run(()=>{this.uiShownCallback.emit()})}}}}return n.COMPUTED_CALLBACKS="COMPUTED_CALLBACKS",n.\u0275fac=function(t){return new(t||n)(l.Y36(to),l.Y36("firebaseUIAuthConfig"),l.Y36("firebaseUIAuthConfigFeature"),l.Y36(l.R0b),l.Y36(Z5))},n.\u0275cmp=l.Xpm({type:n,selectors:[["firebase-ui"]],outputs:{signInSuccessWithAuthResultCallback:"signInSuccessWithAuthResult",signInFailureCallback:"signInFailure",uiShownCallback:"uiShown"},decls:1,vars:0,consts:[["id","firebaseui-auth-container"]],template:function(t,r){1&t&&l._UZ(0,"div",0)},encapsulation:2}),n})();const W5=$t.Z;let Ree=(()=>{class n{static forRoot(t){return{ngModule:n,providers:[{provide:"firebaseUIAuthConfig",useValue:t},{provide:"firebaseUIAuthConfigFeature",useValue:{}}]}}static forFeature(t){return{ngModule:n,providers:[{provide:"firebaseUIAuthConfigFeature",useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[Z5],imports:[pl]}),n})();const Oee={signInOptions:[W5.auth.EmailAuthProvider.PROVIDER_ID,W5.auth.GoogleAuthProvider.PROVIDER_ID]},rU_firebase={projectId:"tello-track",appId:"1:215364647602:web:eb0eab241cfbcd1cb227ab",storageBucket:"tello-track.appspot.com",apiKey:"AIzaSyBIUFBOANI009sHojDBqjXRQAwTONXnshg",authDomain:"tello-track.firebaseapp.com",messagingSenderId:"215364647602",measurementId:"G-5CNBLWHE1R"},iU=(0,St.U)(n=>!!n);let Pee=(()=>{class n{constructor(t,r){this.router=t,this.auth=r,this.canActivate=(i,u)=>{const d=i.data.authGuardPipe||(()=>iU);return this.auth.user.pipe(xl(1),d(i,u),(0,St.U)(p=>"boolean"==typeof p?p:Array.isArray(p)?this.router.createUrlTree(p):this.router.parseUrl(p)))}}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Ii),l.LFG(to))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();const bN=n=>({canActivate:[Pee],data:{authGuardPipe:n}}),Vee=ir(n=>n?n.getIdTokenResult(!0):Tt(null)),q5=(0,Po.z)(Vee,(0,St.U)(n=>n?n.claims:null)),sU=bN(()=>(0,Po.z)(q5,(0,St.U)(n=>null===n?["login"]:"paid"===n.stripeRole||["payment"]))),Bee=bN(()=>(0,Po.z)(q5,(0,St.U)(n=>null===n?["login"]:"paid"!==n.stripeRole||["dashboard"]))),z5=(bN(()=>(n=>(0,Po.z)(iU,(0,St.U)(e=>e||n)))(["login"])),bN(()=>(n=>(0,Po.z)(iU,(0,St.U)(e=>e&&n||!0)))(["dashboard"])));function jee(n,e){if(1&n){const t=l.EpF();l.ynx(0),l.TgZ(1,"li",7)(2,"a",8),l._uU(3),l.qZA()(),l.TgZ(4,"li",9)(5,"a",10),l.NdJ("click",function(){l.CHM(t);const i=l.oxw(2);return l.KtG(i.logout())}),l._uU(6,"Logout"),l.qZA()(),l.BQk()}if(2&n){const t=e.ngIf;l.xp6(3),l.Oqu(t.displayName)}}function $ee(n,e){1&n&&(l.ynx(0),l.TgZ(1,"li",9)(2,"a",11),l._uU(3,"Login"),l.qZA()(),l.BQk())}function Hee(n,e){if(1&n&&(l.TgZ(0,"nav",2)(1,"div",3)(2,"a",4),l._uU(3,"Tellotrack"),l.qZA(),l.TgZ(4,"ul",5),l.YNc(5,jee,7,1,"ng-container",6),l.ALo(6,"async"),l.YNc(7,$ee,4,0,"ng-container",6),l.ALo(8,"async"),l.qZA()()()),2&n){const t=l.oxw();l.xp6(5),l.Q6J("ngIf",l.lcZ(6,2,t.firebase_auth.user)),l.xp6(2),l.Q6J("ngIf",null==l.lcZ(8,4,t.firebase_auth.user))}}class wN{constructor(e,t){this.firebase_auth=e,this.router=t,this.title="Tellotrack",this.hide_nav=!0}toggleNavBar(e){this.hide_nav=!!e.constructor.hide_nav}logout(){var e=this;return(0,Re.Z)(function*(){yield e.firebase_auth.signOut(),e.router.navigate([""])})()}static#e=this.\u0275fac=function(t){return new(t||wN)(l.Y36(to),l.Y36(Ii))};static#t=this.\u0275cmp=l.Xpm({type:wN,selectors:[["app-root"]],decls:2,vars:1,consts:[["class","navbar navbar-dark bg-primary navbar-expand",4,"ngIf"],[3,"activate"],[1,"navbar","navbar-dark","bg-primary","navbar-expand"],[1,"container"],["routerLink","/",1,"navbar-brand"],[1,"navbar-nav"],[4,"ngIf"],[1,"nav-item","me-3"],["routerLink","/settings",1,"nav-link"],[1,"nav-item"],["href","javascript:void(0);",1,"nav-link",3,"click"],["routerLink","/login",1,"nav-link"]],template:function(t,r){1&t&&(l.YNc(0,Hee,9,6,"nav",0),l.TgZ(1,"router-outlet",1),l.NdJ("activate",function(u){return r.toggleNavBar(u)}),l.qZA()),2&t&&l.Q6J("ngIf",!r.hide_nav)},dependencies:[ss,xA,nd,ps]})}class EN{static#e=this.\u0275fac=function(t){return new(t||EN)};static#t=this.\u0275cmp=l.Xpm({type:EN,selectors:[["app-landing"]],decls:83,vars:0,consts:[[1,"container"],[1,"row","my-5"],[1,"col-6"],[1,"display-5","fw-bold","mb-4",2,"margin-top","100px"],[1,"fs-4"],["routerLink","/login",1,"btn","btn-primary","btn-lg","mt-3"],["id","mockup-screenshot"],["src","assets/laptop_screenshot.png"],[1,"row",2,"margin-top","100px"],[1,"col-4"],[1,"feature-box"],[1,"bi","bi-share-fill"],[1,"h5","mt-4"],[1,"mt-3"],[1,"bi","bi-list-check"],[1,"bi","bi-sliders2-vertical"],[1,"container","mb-5"],["data-bs-ride","carousel","id","screenshot-carousel",1,"carousel","slide","carousel-dark"],[1,"carousel-indicators"],["type","button","data-bs-target","#screenshot-carousel","data-bs-slide-to","0","aria-current","true","aria-label","Slide 1",1,"active"],["type","button","data-bs-target","#screenshot-carousel","data-bs-slide-to","1","aria-label","Slide 2"],["type","button","data-bs-target","#screenshot-carousel","data-bs-slide-to","2","aria-label","Slide 3"],[1,"carousel-inner"],[1,"carousel-item","active"],["src","assets/screenshot1.png"],[1,"carousel-item"],["src","assets/screenshot2.png"],["src","assets/screenshot3.png"],[2,"text-align","center"],[1,"fs-4","mt-5",2,"text-align","center"],[1,"lead","mt-5",2,"text-align","center"],["href","mailto:sales@tellotrack.com"],[1,"container-fluid","bg-primary",2,"margin-top","100px","padding","75px","padding-bottom","0","text-align","center","clip-path","ellipse(120vw 100vw at 50vw 100vw)"],[1,"text-light","fs-1",2,"text-align","center","width","100%"],["routerLink","/login",1,"btn","btn-success","btn-lg",2,"display","inline-block","font-size","16pt","border-radius","100vw","padding","15px 30px","margin-top","75px","margin-bottom","75px"],[1,"bg-dark","text-light"],[1,"pt-2","pb-2",2,"text-align","center"],["routerLink","/terms",1,"link-light"],["routerLink","/privacy",1,"link-light"],["href","mailto:help@tellotrack.com",1,"link-light"]],template:function(t,r){1&t&&(l.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3),l._uU(4,"Keep Customers Up to Date"),l.qZA(),l.TgZ(5,"p",4),l._uU(6,"Let your users track the status of the work you're doing for them."),l.qZA(),l.TgZ(7,"a",5),l._uU(8,"Get Started"),l.qZA()(),l.TgZ(9,"div",2)(10,"div",6),l._UZ(11,"img",7),l.qZA()()()(),l.TgZ(12,"div",0)(13,"div",8)(14,"div",9)(15,"div",10)(16,"h2"),l._UZ(17,"i",11),l.qZA(),l.TgZ(18,"p",12),l._uU(19,"Custom Tracking Links"),l.qZA(),l.TgZ(20,"p",13),l._uU(21,"Send your customers convenient links to keep track of progress."),l.qZA()()(),l.TgZ(22,"div",9)(23,"div",10)(24,"h2"),l._UZ(25,"i",14),l.qZA(),l.TgZ(26,"p",12),l._uU(27,"Create Your Own Flows"),l.qZA(),l.TgZ(28,"p",13),l._uU(29,"Make templates for each type of order you want to track. Easily create new orders based on them."),l.qZA()()(),l.TgZ(30,"div",9)(31,"div",10)(32,"h2"),l._UZ(33,"i",15),l.qZA(),l.TgZ(34,"p",12),l._uU(35,"Manage With Ease"),l.qZA(),l.TgZ(36,"p",13),l._uU(37,"Search, sort, and filter your orders with our convenient dashboard tools."),l.qZA()()()()(),l.TgZ(38,"div",16)(39,"div",8)(40,"div",2)(41,"div",17)(42,"div",18),l._UZ(43,"button",19)(44,"button",20)(45,"button",21),l.qZA(),l.TgZ(46,"div",22)(47,"div",23),l._UZ(48,"img",24),l.qZA(),l.TgZ(49,"div",25),l._UZ(50,"img",26),l.qZA(),l.TgZ(51,"div",25),l._UZ(52,"img",27),l.qZA()()()(),l.TgZ(53,"div",2)(54,"h2",28),l._uU(55,"Pricing"),l.qZA(),l.TgZ(56,"div",29),l._uU(57,"Tellotrack is now just "),l.TgZ(58,"b"),l._uU(59,"$2.49/month"),l.qZA(),l._uU(60," per account"),l.qZA(),l.TgZ(61,"div",29),l._uU(62,"Pay safely with Stripe"),l.qZA(),l.TgZ(63,"div",30),l._uU(64,"Email us at "),l.TgZ(65,"a",31),l._uU(66,"sales@tellotrack.com"),l.qZA(),l._uU(67," to talk about Enterprise pricing."),l.qZA()()()(),l.TgZ(68,"div",32)(69,"div",33),l._uU(70,"Improve Your Customer Service Today"),l.qZA(),l.TgZ(71,"a",34),l._uU(72,"Sign Up"),l.qZA()(),l.TgZ(73,"footer",35)(74,"div",36)(75,"a",37),l._uU(76,"Terms and Conditions"),l.qZA(),l._uU(77," \xb7 "),l.TgZ(78,"a",38),l._uU(79,"Privacy Policy"),l.qZA(),l._uU(80," \xb7 "),l.TgZ(81,"a",39),l._uU(82,"help@tellotrack.com"),l.qZA()()())},dependencies:[nd]})}class IN{constructor(e,t,r){this.firebase_auth=e,this.router=t,this.db=r}handle_login(e){var t=this;return(0,Re.Z)(function*(){let r=e.authResult;if(r.user){if(r.additionalUserInfo?.isNewUser){let i={display_name:r.user.displayName||"Company Name"};r.user.photoURL&&(i.logo_url=r.user.photoURL),yield t.db.object(`branding/${r.user.uid}`).set(i)}t.router.navigate(["dashboard"])}})()}static#e=this.\u0275fac=function(t){return new(t||IN)(l.Y36(to),l.Y36(Ii),l.Y36(Dv))};static#t=this.\u0275cmp=l.Xpm({type:IN,selectors:[["app-login"]],decls:4,vars:0,consts:[[1,"container"],[1,"mb-5",2,"text-align","center","margin-top","20%"],[3,"signInSuccessWithAuthResult"]],template:function(t,r){1&t&&(l.TgZ(0,"div",0)(1,"h1",1),l._uU(2,"Login to Tellotrack"),l.qZA(),l.TgZ(3,"firebase-ui",2),l.NdJ("signInSuccessWithAuthResult",function(u){return r.handle_login(u)}),l.qZA()())},dependencies:[kee]})}var Gee=V(930);function oU(n,e){const t="object"==typeof e;return new Promise((r,i)=>{const u=new Gee.Hp({next:d=>{r(d),u.unsubscribe()},error:i,complete:()=>{t?r(e.defaultValue):i(new Su)}});n.subscribe(u)})}var wo="top",ba="bottom",wa="right",Eo="left",CN="auto",o0=[wo,ba,wa,Eo],Sm="start",a0="end",K5="clippingParents",aU="viewport",u0="popper",Y5="reference",uU=o0.reduce(function(n,e){return n.concat([e+"-"+Sm,e+"-"+a0])},[]),lU=[].concat(o0,[CN]).reduce(function(n,e){return n.concat([e,e+"-"+Sm,e+"-"+a0])},[]),Q5="beforeRead",J5="read",X5="afterRead",eG="beforeMain",tG="main",nG="afterMain",rG="beforeWrite",iG="write",sG="afterWrite",oG=[Q5,J5,X5,eG,tG,nG,rG,iG,sG];function lc(n){return n?(n.nodeName||"").toLowerCase():null}function ou(n){if(null==n)return window;if("[object Window]"!==n.toString()){var e=n.ownerDocument;return e&&e.defaultView||window}return n}function xm(n){return n instanceof ou(n).Element||n instanceof Element}function au(n){return n instanceof ou(n).HTMLElement||n instanceof HTMLElement}function cU(n){return!(typeof ShadowRoot>"u")&&(n instanceof ou(n).ShadowRoot||n instanceof ShadowRoot)}const dU={name:"applyStyles",enabled:!0,phase:"write",fn:function Zee(n){var e=n.state;Object.keys(e.elements).forEach(function(t){var r=e.styles[t]||{},i=e.attributes[t]||{},u=e.elements[t];!au(u)||!lc(u)||(Object.assign(u.style,r),Object.keys(i).forEach(function(d){var p=i[d];!1===p?u.removeAttribute(d):u.setAttribute(d,!0===p?"":p)}))})},effect:function Wee(n){var e=n.state,t={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,t.popper),e.styles=t,e.elements.arrow&&Object.assign(e.elements.arrow.style,t.arrow),function(){Object.keys(e.elements).forEach(function(r){var i=e.elements[r],u=e.attributes[r]||{},p=Object.keys(e.styles.hasOwnProperty(r)?e.styles[r]:t[r]).reduce(function(v,I){return v[I]="",v},{});!au(i)||!lc(i)||(Object.assign(i.style,p),Object.keys(u).forEach(function(v){i.removeAttribute(v)}))})}},requires:["computeStyles"]};function cc(n){return n.split("-")[0]}var Nm=Math.max,TN=Math.min,l0=Math.round;function hU(){var n=navigator.userAgentData;return null!=n&&n.brands?n.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function aG(){return!/^((?!chrome|android).)*safari/i.test(hU())}function c0(n,e,t){void 0===e&&(e=!1),void 0===t&&(t=!1);var r=n.getBoundingClientRect(),i=1,u=1;e&&au(n)&&(i=n.offsetWidth>0&&l0(r.width)/n.offsetWidth||1,u=n.offsetHeight>0&&l0(r.height)/n.offsetHeight||1);var p=(xm(n)?ou(n):window).visualViewport,v=!aG()&&t,I=(r.left+(v&&p?p.offsetLeft:0))/i,S=(r.top+(v&&p?p.offsetTop:0))/u,M=r.width/i,P=r.height/u;return{width:M,height:P,top:S,right:I+M,bottom:S+P,left:I,x:I,y:S}}function fU(n){var e=c0(n),t=n.offsetWidth,r=n.offsetHeight;return Math.abs(e.width-t)<=1&&(t=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:n.offsetLeft,y:n.offsetTop,width:t,height:r}}function uG(n,e){var t=e.getRootNode&&e.getRootNode();if(n.contains(e))return!0;if(t&&cU(t)){var r=e;do{if(r&&n.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function Fd(n){return ou(n).getComputedStyle(n)}function qee(n){return["table","td","th"].indexOf(lc(n))>=0}function zf(n){return((xm(n)?n.ownerDocument:n.document)||window.document).documentElement}function AN(n){return"html"===lc(n)?n:n.assignedSlot||n.parentNode||(cU(n)?n.host:null)||zf(n)}function lG(n){return au(n)&&"fixed"!==Fd(n).position?n.offsetParent:null}function kC(n){for(var e=ou(n),t=lG(n);t&&qee(t)&&"static"===Fd(t).position;)t=lG(t);return t&&("html"===lc(t)||"body"===lc(t)&&"static"===Fd(t).position)?e:t||function zee(n){var e=/firefox/i.test(hU());if(/Trident/i.test(hU())&&au(n)&&"fixed"===Fd(n).position)return null;var i=AN(n);for(cU(i)&&(i=i.host);au(i)&&["html","body"].indexOf(lc(i))<0;){var u=Fd(i);if("none"!==u.transform||"none"!==u.perspective||"paint"===u.contain||-1!==["transform","perspective"].indexOf(u.willChange)||e&&"filter"===u.willChange||e&&u.filter&&"none"!==u.filter)return i;i=i.parentNode}return null}(n)||e}function pU(n){return["top","bottom"].indexOf(n)>=0?"x":"y"}function RC(n,e,t){return Nm(n,TN(e,t))}function dG(n){return Object.assign({},{top:0,right:0,bottom:0,left:0},n)}function hG(n,e){return e.reduce(function(t,r){return t[r]=n,t},{})}const fG={name:"arrow",enabled:!0,phase:"main",fn:function Qee(n){var e,t=n.state,r=n.name,i=n.options,u=t.elements.arrow,d=t.modifiersData.popperOffsets,p=cc(t.placement),v=pU(p),S=[Eo,wa].indexOf(p)>=0?"height":"width";if(u&&d){var M=function(e,t){return dG("number"!=typeof(e="function"==typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e)?e:hG(e,o0))}(i.padding,t),P=fU(u),$="y"===v?wo:Eo,Q="y"===v?ba:wa,le=t.rects.reference[S]+t.rects.reference[v]-d[v]-t.rects.popper[S],ye=d[v]-t.rects.reference[v],lt=kC(u),dt=lt?"y"===v?lt.clientHeight||0:lt.clientWidth||0:0,yt=dt/2-P[S]/2+(le/2-ye/2),fn=RC(M[$],yt,dt-P[S]-M[Q]);t.modifiersData[r]=((e={})[v]=fn,e.centerOffset=fn-yt,e)}},effect:function Jee(n){var e=n.state,r=n.options.element,i=void 0===r?"[data-popper-arrow]":r;null!=i&&("string"==typeof i&&!(i=e.elements.popper.querySelector(i))||!uG(e.elements.popper,i)||(e.elements.arrow=i))},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function d0(n){return n.split("-")[1]}var Xee={top:"auto",right:"auto",bottom:"auto",left:"auto"};function pG(n){var e,t=n.popper,r=n.popperRect,i=n.placement,u=n.variation,d=n.offsets,p=n.position,v=n.gpuAcceleration,I=n.adaptive,S=n.roundOffsets,M=n.isFixed,P=d.x,$=void 0===P?0:P,Q=d.y,le=void 0===Q?0:Q,ye="function"==typeof S?S({x:$,y:le}):{x:$,y:le};$=ye.x,le=ye.y;var lt=d.hasOwnProperty("x"),dt=d.hasOwnProperty("y"),bt=Eo,_t=wo,ft=window;if(I){var yt=kC(t),fn="clientHeight",Mr="clientWidth";yt===ou(t)&&"static"!==Fd(yt=zf(t)).position&&"absolute"===p&&(fn="scrollHeight",Mr="scrollWidth"),(i===wo||(i===Eo||i===wa)&&u===a0)&&(_t=ba,le-=(M&&yt===ft&&ft.visualViewport?ft.visualViewport.height:yt[fn])-r.height,le*=v?1:-1),i!==Eo&&(i!==wo&&i!==ba||u!==a0)||(bt=wa,$-=(M&&yt===ft&&ft.visualViewport?ft.visualViewport.width:yt[Mr])-r.width,$*=v?1:-1)}var kn,tn=Object.assign({position:p},I&&Xee),hs=!0===S?function ete(n){var t=n.y,i=window.devicePixelRatio||1;return{x:l0(n.x*i)/i||0,y:l0(t*i)/i||0}}({x:$,y:le}):{x:$,y:le};return $=hs.x,le=hs.y,Object.assign({},tn,v?((kn={})[_t]=dt?"0":"",kn[bt]=lt?"0":"",kn.transform=(ft.devicePixelRatio||1)<=1?"translate("+$+"px, "+le+"px)":"translate3d("+$+"px, "+le+"px, 0)",kn):((e={})[_t]=dt?le+"px":"",e[bt]=lt?$+"px":"",e.transform="",e))}const gU={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function tte(n){var e=n.state,t=n.options,r=t.gpuAcceleration,i=void 0===r||r,u=t.adaptive,d=void 0===u||u,p=t.roundOffsets,v=void 0===p||p,S={placement:cc(e.placement),variation:d0(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:"fixed"===e.options.strategy};null!=e.modifiersData.popperOffsets&&(e.styles.popper=Object.assign({},e.styles.popper,pG(Object.assign({},S,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:d,roundOffsets:v})))),null!=e.modifiersData.arrow&&(e.styles.arrow=Object.assign({},e.styles.arrow,pG(Object.assign({},S,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:v})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})},data:{}};var DN={passive:!0};const mU={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function nte(n){var e=n.state,t=n.instance,r=n.options,i=r.scroll,u=void 0===i||i,d=r.resize,p=void 0===d||d,v=ou(e.elements.popper),I=[].concat(e.scrollParents.reference,e.scrollParents.popper);return u&&I.forEach(function(S){S.addEventListener("scroll",t.update,DN)}),p&&v.addEventListener("resize",t.update,DN),function(){u&&I.forEach(function(S){S.removeEventListener("scroll",t.update,DN)}),p&&v.removeEventListener("resize",t.update,DN)}},data:{}};var rte={left:"right",right:"left",bottom:"top",top:"bottom"};function SN(n){return n.replace(/left|right|bottom|top/g,function(e){return rte[e]})}var ite={start:"end",end:"start"};function gG(n){return n.replace(/start|end/g,function(e){return ite[e]})}function _U(n){var e=ou(n);return{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function yU(n){return c0(zf(n)).left+_U(n).scrollLeft}function vU(n){var e=Fd(n);return/auto|scroll|overlay|hidden/.test(e.overflow+e.overflowY+e.overflowX)}function mG(n){return["html","body","#document"].indexOf(lc(n))>=0?n.ownerDocument.body:au(n)&&vU(n)?n:mG(AN(n))}function OC(n,e){var t;void 0===e&&(e=[]);var r=mG(n),i=r===(null==(t=n.ownerDocument)?void 0:t.body),u=ou(r),d=i?[u].concat(u.visualViewport||[],vU(r)?r:[]):r,p=e.concat(d);return i?p:p.concat(OC(AN(d)))}function bU(n){return Object.assign({},n,{left:n.x,top:n.y,right:n.x+n.width,bottom:n.y+n.height})}function _G(n,e,t){return e===aU?bU(function ste(n,e){var t=ou(n),r=zf(n),i=t.visualViewport,u=r.clientWidth,d=r.clientHeight,p=0,v=0;if(i){u=i.width,d=i.height;var I=aG();(I||!I&&"fixed"===e)&&(p=i.offsetLeft,v=i.offsetTop)}return{width:u,height:d,x:p+yU(n),y:v}}(n,t)):xm(e)?function ate(n,e){var t=c0(n,!1,"fixed"===e);return t.top=t.top+n.clientTop,t.left=t.left+n.clientLeft,t.bottom=t.top+n.clientHeight,t.right=t.left+n.clientWidth,t.width=n.clientWidth,t.height=n.clientHeight,t.x=t.left,t.y=t.top,t}(e,t):bU(function ote(n){var e,t=zf(n),r=_U(n),i=null==(e=n.ownerDocument)?void 0:e.body,u=Nm(t.scrollWidth,t.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),d=Nm(t.scrollHeight,t.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),p=-r.scrollLeft+yU(n),v=-r.scrollTop;return"rtl"===Fd(i||t).direction&&(p+=Nm(t.clientWidth,i?i.clientWidth:0)-u),{width:u,height:d,x:p,y:v}}(zf(n)))}function yG(n){var v,e=n.reference,t=n.element,r=n.placement,i=r?cc(r):null,u=r?d0(r):null,d=e.x+e.width/2-t.width/2,p=e.y+e.height/2-t.height/2;switch(i){case wo:v={x:d,y:e.y-t.height};break;case ba:v={x:d,y:e.y+e.height};break;case wa:v={x:e.x+e.width,y:p};break;case Eo:v={x:e.x-t.width,y:p};break;default:v={x:e.x,y:e.y}}var I=i?pU(i):null;if(null!=I){var S="y"===I?"height":"width";switch(u){case Sm:v[I]=v[I]-(e[S]/2-t[S]/2);break;case a0:v[I]=v[I]+(e[S]/2-t[S]/2)}}return v}function h0(n,e){void 0===e&&(e={});var r=e.placement,i=void 0===r?n.placement:r,u=e.strategy,d=void 0===u?n.strategy:u,p=e.boundary,v=void 0===p?K5:p,I=e.rootBoundary,S=void 0===I?aU:I,M=e.elementContext,P=void 0===M?u0:M,$=e.altBoundary,Q=void 0!==$&&$,le=e.padding,ye=void 0===le?0:le,lt=dG("number"!=typeof ye?ye:hG(ye,o0)),bt=n.rects.popper,_t=n.elements[Q?P===u0?Y5:u0:P],ft=function lte(n,e,t,r){var i="clippingParents"===e?function ute(n){var e=OC(AN(n)),r=["absolute","fixed"].indexOf(Fd(n).position)>=0&&au(n)?kC(n):n;return xm(r)?e.filter(function(i){return xm(i)&&uG(i,r)&&"body"!==lc(i)}):[]}(n):[].concat(e),u=[].concat(i,[t]),p=u.reduce(function(v,I){var S=_G(n,I,r);return v.top=Nm(S.top,v.top),v.right=TN(S.right,v.right),v.bottom=TN(S.bottom,v.bottom),v.left=Nm(S.left,v.left),v},_G(n,u[0],r));return p.width=p.right-p.left,p.height=p.bottom-p.top,p.x=p.left,p.y=p.top,p}(xm(_t)?_t:_t.contextElement||zf(n.elements.popper),v,S,d),yt=c0(n.elements.reference),fn=yG({reference:yt,element:bt,strategy:"absolute",placement:i}),Mr=bU(Object.assign({},bt,fn)),ji=P===u0?Mr:yt,$i={top:ft.top-ji.top+lt.top,bottom:ji.bottom-ft.bottom+lt.bottom,left:ft.left-ji.left+lt.left,right:ji.right-ft.right+lt.right},tn=n.modifiersData.offset;if(P===u0&&tn){var hs=tn[i];Object.keys($i).forEach(function(kn){var Io=[wa,ba].indexOf(kn)>=0?1:-1,lr=[wo,ba].indexOf(kn)>=0?"y":"x";$i[kn]+=hs[lr]*Io})}return $i}const vG={name:"flip",enabled:!0,phase:"main",fn:function hte(n){var e=n.state,t=n.options,r=n.name;if(!e.modifiersData[r]._skip){for(var i=t.mainAxis,u=void 0===i||i,d=t.altAxis,p=void 0===d||d,v=t.fallbackPlacements,I=t.padding,S=t.boundary,M=t.rootBoundary,P=t.altBoundary,$=t.flipVariations,Q=void 0===$||$,le=t.allowedAutoPlacements,ye=e.options.placement,lt=cc(ye),bt=v||(lt!==ye&&Q?function dte(n){if(cc(n)===CN)return[];var e=SN(n);return[gG(n),e,gG(e)]}(ye):[SN(ye)]),_t=[ye].concat(bt).reduce(function(np,hc){return np.concat(cc(hc)===CN?function cte(n,e){void 0===e&&(e={});var i=e.boundary,u=e.rootBoundary,d=e.padding,p=e.flipVariations,v=e.allowedAutoPlacements,I=void 0===v?lU:v,S=d0(e.placement),M=S?p?uU:uU.filter(function(Q){return d0(Q)===S}):o0,P=M.filter(function(Q){return I.indexOf(Q)>=0});0===P.length&&(P=M);var $=P.reduce(function(Q,le){return Q[le]=h0(n,{placement:le,boundary:i,rootBoundary:u,padding:d})[cc(le)],Q},{});return Object.keys($).sort(function(Q,le){return $[Q]-$[le]})}(e,{placement:hc,boundary:S,rootBoundary:M,padding:I,flipVariations:Q,allowedAutoPlacements:le}):hc)},[]),ft=e.rects.reference,yt=e.rects.popper,fn=new Map,Mr=!0,ji=_t[0],$i=0;$i<_t.length;$i++){var tn=_t[$i],hs=cc(tn),kn=d0(tn)===Sm,Io=[wo,ba].indexOf(hs)>=0,lr=Io?"width":"height",Yt=h0(e,{placement:tn,boundary:S,rootBoundary:M,altBoundary:P,padding:I}),ni=Io?kn?wa:Eo:kn?ba:wo;ft[lr]>yt[lr]&&(ni=SN(ni));var Fm=SN(ni),nl=[];if(u&&nl.push(Yt[hs]<=0),p&&nl.push(Yt[ni]<=0,Yt[Fm]<=0),nl.every(function(np){return np})){ji=tn,Mr=!1;break}fn.set(tn,nl)}if(Mr)for(var E0=function(hc){var Um=_t.find(function(Hs){var fc=fn.get(Hs);if(fc)return fc.slice(0,hc).every(function(rp){return rp})});if(Um)return ji=Um,"break"},rl=Q?3:1;rl>0&&"break"!==E0(rl);rl--);e.placement!==ji&&(e.modifiersData[r]._skip=!0,e.placement=ji,e.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function bG(n,e,t){return void 0===t&&(t={x:0,y:0}),{top:n.top-e.height-t.y,right:n.right-e.width+t.x,bottom:n.bottom-e.height+t.y,left:n.left-e.width-t.x}}function wG(n){return[wo,wa,ba,Eo].some(function(e){return n[e]>=0})}const EG={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function fte(n){var e=n.state,t=n.name,r=e.rects.reference,i=e.rects.popper,u=e.modifiersData.preventOverflow,d=h0(e,{elementContext:"reference"}),p=h0(e,{altBoundary:!0}),v=bG(d,r),I=bG(p,i,u),S=wG(v),M=wG(I);e.modifiersData[t]={referenceClippingOffsets:v,popperEscapeOffsets:I,isReferenceHidden:S,hasPopperEscaped:M},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":S,"data-popper-escaped":M})}},IG={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function gte(n){var e=n.state,r=n.name,i=n.options.offset,u=void 0===i?[0,0]:i,d=lU.reduce(function(S,M){return S[M]=function pte(n,e,t){var r=cc(n),i=[Eo,wo].indexOf(r)>=0?-1:1,u="function"==typeof t?t(Object.assign({},e,{placement:n})):t,d=u[0],p=u[1];return d=d||0,p=(p||0)*i,[Eo,wa].indexOf(r)>=0?{x:p,y:d}:{x:d,y:p}}(M,e.rects,u),S},{}),p=d[e.placement],I=p.y;null!=e.modifiersData.popperOffsets&&(e.modifiersData.popperOffsets.x+=p.x,e.modifiersData.popperOffsets.y+=I),e.modifiersData[r]=d}},wU={name:"popperOffsets",enabled:!0,phase:"read",fn:function mte(n){var e=n.state;e.modifiersData[n.name]=yG({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})},data:{}},CG={name:"preventOverflow",enabled:!0,phase:"main",fn:function yte(n){var e=n.state,t=n.options,r=n.name,i=t.mainAxis,u=void 0===i||i,d=t.altAxis,p=void 0!==d&&d,P=t.tether,$=void 0===P||P,Q=t.tetherOffset,le=void 0===Q?0:Q,ye=h0(e,{boundary:t.boundary,rootBoundary:t.rootBoundary,padding:t.padding,altBoundary:t.altBoundary}),lt=cc(e.placement),dt=d0(e.placement),bt=!dt,_t=pU(lt),ft=function _te(n){return"x"===n?"y":"x"}(_t),yt=e.modifiersData.popperOffsets,fn=e.rects.reference,Mr=e.rects.popper,ji="function"==typeof le?le(Object.assign({},e.rects,{placement:e.placement})):le,$i="number"==typeof ji?{mainAxis:ji,altAxis:ji}:Object.assign({mainAxis:0,altAxis:0},ji),tn=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,hs={x:0,y:0};if(yt){if(u){var kn,Io="y"===_t?wo:Eo,lr="y"===_t?ba:wa,Yt="y"===_t?"height":"width",ni=yt[_t],Fm=ni+ye[Io],nl=ni-ye[lr],zo=$?-Mr[Yt]/2:0,E0=dt===Sm?fn[Yt]:Mr[Yt],rl=dt===Sm?-Mr[Yt]:-fn[Yt],I0=e.elements.arrow,np=$&&I0?fU(I0):{width:0,height:0},hc=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},Um=hc[Io],Hs=hc[lr],fc=RC(0,fn[Yt],np[Yt]),rp=bt?fn[Yt]/2-zo-fc-Um-$i.mainAxis:E0-fc-Um-$i.mainAxis,ZU=bt?-fn[Yt]/2+zo+fc+Hs+$i.mainAxis:rl+fc+Hs+$i.mainAxis,$C=e.elements.arrow&&kC(e.elements.arrow),HC=null!=(kn=tn?.[_t])?kn:0,Co=ni+ZU-HC,eM=RC($?TN(Fm,ni+rp-HC-($C?"y"===_t?$C.clientTop||0:$C.clientLeft||0:0)):Fm,ni,$?Nm(nl,Co):nl);yt[_t]=eM,hs[_t]=eM-ni}if(p){var tM,Hd=yt[ft],C0="y"===ft?"height":"width",nM=Hd+ye["x"===_t?wo:Eo],T0=Hd-ye["x"===_t?ba:wa],pc=-1!==[wo,Eo].indexOf(lt),GC=null!=(tM=tn?.[ft])?tM:0,A0=pc?nM:Hd-fn[C0]-Mr[C0]-GC+$i.altAxis,ZC=pc?Hd+fn[C0]+Mr[C0]-GC-$i.altAxis:T0,Vm=$&&pc?function Kee(n,e,t){var r=RC(n,e,t);return r>t?t:r}(A0,Hd,ZC):RC($?A0:nM,Hd,$?ZC:T0);yt[ft]=Vm,hs[ft]=Vm-Hd}e.modifiersData[r]=hs}},requiresIfExists:["offset"]};function Ete(n,e,t){void 0===t&&(t=!1);var r=au(e),i=au(e)&&function wte(n){var e=n.getBoundingClientRect(),t=l0(e.width)/n.offsetWidth||1,r=l0(e.height)/n.offsetHeight||1;return 1!==t||1!==r}(e),u=zf(e),d=c0(n,i,t),p={scrollLeft:0,scrollTop:0},v={x:0,y:0};return(r||!r&&!t)&&(("body"!==lc(e)||vU(u))&&(p=function bte(n){return n!==ou(n)&&au(n)?function vte(n){return{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}}(n):_U(n)}(e)),au(e)?((v=c0(e,!0)).x+=e.clientLeft,v.y+=e.clientTop):u&&(v.x=yU(u))),{x:d.left+p.scrollLeft-v.x,y:d.top+p.scrollTop-v.y,width:d.width,height:d.height}}function Ite(n){var e=new Map,t=new Set,r=[];function i(u){t.add(u.name),[].concat(u.requires||[],u.requiresIfExists||[]).forEach(function(p){if(!t.has(p)){var v=e.get(p);v&&i(v)}}),r.push(u)}return n.forEach(function(u){e.set(u.name,u)}),n.forEach(function(u){t.has(u.name)||i(u)}),r}function Tte(n){var e;return function(){return e||(e=new Promise(function(t){Promise.resolve().then(function(){e=void 0,t(n())})})),e}}var TG={placement:"bottom",modifiers:[],strategy:"absolute"};function AG(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return!e.some(function(r){return!(r&&"function"==typeof r.getBoundingClientRect)})}function xN(n){void 0===n&&(n={});var t=n.defaultModifiers,r=void 0===t?[]:t,i=n.defaultOptions,u=void 0===i?TG:i;return function(p,v,I){void 0===I&&(I=u);var S={placement:"bottom",orderedModifiers:[],options:Object.assign({},TG,u),modifiersData:{},elements:{reference:p,popper:v},attributes:{},styles:{}},M=[],P=!1,$={state:S,setOptions:function(lt){var dt="function"==typeof lt?lt(S.options):lt;le(),S.options=Object.assign({},u,S.options,dt),S.scrollParents={reference:xm(p)?OC(p):p.contextElement?OC(p.contextElement):[],popper:OC(v)};var bt=function Cte(n){var e=Ite(n);return oG.reduce(function(t,r){return t.concat(e.filter(function(i){return i.phase===r}))},[])}(function Ate(n){var e=n.reduce(function(t,r){var i=t[r.name];return t[r.name]=i?Object.assign({},i,r,{options:Object.assign({},i.options,r.options),data:Object.assign({},i.data,r.data)}):r,t},{});return Object.keys(e).map(function(t){return e[t]})}([].concat(r,S.options.modifiers)));return S.orderedModifiers=bt.filter(function(tn){return tn.enabled}),function Q(){S.orderedModifiers.forEach(function(ye){var dt=ye.options,_t=ye.effect;if("function"==typeof _t){var ft=_t({state:S,name:ye.name,instance:$,options:void 0===dt?{}:dt});M.push(ft||function(){})}})}(),$.update()},forceUpdate:function(){if(!P){var lt=S.elements,dt=lt.reference,bt=lt.popper;if(AG(dt,bt)){S.rects={reference:Ete(dt,kC(bt),"fixed"===S.options.strategy),popper:fU(bt)},S.reset=!1,S.placement=S.options.placement,S.orderedModifiers.forEach(function(tn){return S.modifiersData[tn.name]=Object.assign({},tn.data)});for(var ft=0;ft<S.orderedModifiers.length;ft++)if(!0!==S.reset){var yt=S.orderedModifiers[ft],fn=yt.fn,Mr=yt.options;"function"==typeof fn&&(S=fn({state:S,options:void 0===Mr?{}:Mr,name:yt.name,instance:$})||S)}else S.reset=!1,ft=-1}}},update:Tte(function(){return new Promise(function(ye){$.forceUpdate(),ye(S)})}),destroy:function(){le(),P=!0}};if(!AG(p,v))return $;function le(){M.forEach(function(ye){return ye()}),M=[]}return $.setOptions(I).then(function(ye){!P&&I.onFirstUpdate&&I.onFirstUpdate(ye)}),$}}var Dte=xN(),EU=xN({defaultModifiers:[mU,wU,gU,dU,IG,vG,CG,fG,EG]}),Nte=xN({defaultModifiers:[mU,wU,gU,dU]});const IU="transitionend",Rte=n=>null==n?`${n}`:Object.prototype.toString.call(n).match(/\s([a-z]+)/i)[1].toLowerCase(),DG=n=>{let e=n.getAttribute("data-bs-target");if(!e||"#"===e){let t=n.getAttribute("href");if(!t||!t.includes("#")&&!t.startsWith("."))return null;t.includes("#")&&!t.startsWith("#")&&(t=`#${t.split("#")[1]}`),e=t&&"#"!==t?t.trim():null}return e},SG=n=>{const e=DG(n);return e&&document.querySelector(e)?e:null},Ud=n=>{const e=DG(n);return e?document.querySelector(e):null},xG=n=>{n.dispatchEvent(new Event(IU))},Vd=n=>!(!n||"object"!=typeof n)&&(typeof n.jquery<"u"&&(n=n[0]),typeof n.nodeType<"u"),Kf=n=>Vd(n)?n.jquery?n[0]:n:"string"==typeof n&&n.length>0?document.querySelector(n):null,f0=n=>{if(!Vd(n)||0===n.getClientRects().length)return!1;const e="visible"===getComputedStyle(n).getPropertyValue("visibility"),t=n.closest("details:not([open])");if(!t)return e;if(t!==n){const r=n.closest("summary");if(r&&r.parentNode!==t||null===r)return!1}return e},Yf=n=>!(n&&n.nodeType===Node.ELEMENT_NODE&&!n.classList.contains("disabled"))||(typeof n.disabled<"u"?n.disabled:n.hasAttribute("disabled")&&"false"!==n.getAttribute("disabled")),NG=n=>{if(!document.documentElement.attachShadow)return null;if("function"==typeof n.getRootNode){const e=n.getRootNode();return e instanceof ShadowRoot?e:null}return n instanceof ShadowRoot?n:n.parentNode?NG(n.parentNode):null},NN=()=>{},MG=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,CU=[],uu=()=>"rtl"===document.documentElement.dir,lu=n=>{(n=>{"loading"===document.readyState?(CU.length||document.addEventListener("DOMContentLoaded",()=>{for(const e of CU)e()}),CU.push(n)):n()})(()=>{const e=MG();if(e){const t=n.NAME,r=e.fn[t];e.fn[t]=n.jQueryInterface,e.fn[t].Constructor=n,e.fn[t].noConflict=()=>(e.fn[t]=r,n.jQueryInterface)}})},Bd=n=>{"function"==typeof n&&n()},kG=(n,e,t=!0)=>{if(!t)return void Bd(n);const i=(n=>{if(!n)return 0;let{transitionDuration:e,transitionDelay:t}=window.getComputedStyle(n);const r=Number.parseFloat(e),i=Number.parseFloat(t);return r||i?(e=e.split(",")[0],t=t.split(",")[0],1e3*(Number.parseFloat(e)+Number.parseFloat(t))):0})(e)+5;let u=!1;const d=({target:p})=>{p===e&&(u=!0,e.removeEventListener(IU,d),Bd(n))};e.addEventListener(IU,d),setTimeout(()=>{u||xG(e)},i)},TU=(n,e,t,r)=>{const i=n.length;let u=n.indexOf(e);return-1===u?!t&&r?n[i-1]:n[0]:(u+=t?1:-1,r&&(u=(u+i)%i),n[Math.max(0,Math.min(u,i-1))])},Fte=/[^.]*(?=\..*)\.|.*/,Ute=/\..*/,Vte=/::\d+$/,AU={};let RG=1;const OG={mouseenter:"mouseover",mouseleave:"mouseout"},Bte=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function PG(n,e){return e&&`${e}::${RG++}`||n.uidEvent||RG++}function LG(n){const e=PG(n);return n.uidEvent=e,AU[e]=AU[e]||{},AU[e]}function FG(n,e,t=null){return Object.values(n).find(r=>r.callable===e&&r.delegationSelector===t)}function UG(n,e,t){const r="string"==typeof e,i=r?t:e||t;let u=BG(n);return Bte.has(u)||(u=n),[r,i,u]}function VG(n,e,t,r,i){if("string"!=typeof e||!n)return;let[u,d,p]=UG(e,t,r);var Q;e in OG&&(Q=d,d=function(le){if(!le.relatedTarget||le.relatedTarget!==le.delegateTarget&&!le.delegateTarget.contains(le.relatedTarget))return Q.call(this,le)});const v=LG(n),I=v[p]||(v[p]={}),S=FG(I,d,u?t:null);if(S)return void(S.oneOff=S.oneOff&&i);const M=PG(d,e.replace(Fte,"")),P=u?function $te(n,e,t){return function r(i){const u=n.querySelectorAll(e);for(let{target:d}=i;d&&d!==this;d=d.parentNode)for(const p of u)if(p===d)return SU(i,{delegateTarget:d}),r.oneOff&&ot.off(n,i.type,e,t),t.apply(d,[i])}}(n,t,d):function jte(n,e){return function t(r){return SU(r,{delegateTarget:n}),t.oneOff&&ot.off(n,r.type,e),e.apply(n,[r])}}(n,d);P.delegationSelector=u?t:null,P.callable=d,P.oneOff=i,P.uidEvent=M,I[M]=P,n.addEventListener(p,P,u)}function DU(n,e,t,r,i){const u=FG(e[t],r,i);!u||(n.removeEventListener(t,u,Boolean(i)),delete e[t][u.uidEvent])}function Hte(n,e,t,r){const i=e[t]||{};for(const u of Object.keys(i))if(u.includes(r)){const d=i[u];DU(n,e,t,d.callable,d.delegationSelector)}}function BG(n){return n=n.replace(Ute,""),OG[n]||n}const ot={on(n,e,t,r){VG(n,e,t,r,!1)},one(n,e,t,r){VG(n,e,t,r,!0)},off(n,e,t,r){if("string"!=typeof e||!n)return;const[i,u,d]=UG(e,t,r),p=d!==e,v=LG(n),I=v[d]||{},S=e.startsWith(".");if(typeof u<"u"){if(!Object.keys(I).length)return;DU(n,v,d,u,i?t:null)}else{if(S)for(const M of Object.keys(v))Hte(n,v,M,e.slice(1));for(const M of Object.keys(I)){const P=M.replace(Vte,"");if(!p||e.includes(P)){const $=I[M];DU(n,v,d,$.callable,$.delegationSelector)}}}},trigger(n,e,t){if("string"!=typeof e||!n)return null;const r=MG();let d=null,p=!0,v=!0,I=!1;e!==BG(e)&&r&&(d=r.Event(e,t),r(n).trigger(d),p=!d.isPropagationStopped(),v=!d.isImmediatePropagationStopped(),I=d.isDefaultPrevented());let S=new Event(e,{bubbles:p,cancelable:!0});return S=SU(S,t),I&&S.preventDefault(),v&&n.dispatchEvent(S),S.defaultPrevented&&d&&d.preventDefault(),S}};function SU(n,e){for(const[t,r]of Object.entries(e||{}))try{n[t]=r}catch{Object.defineProperty(n,t,{configurable:!0,get:()=>r})}return n}const Qf=new Map,xU={set(n,e,t){Qf.has(n)||Qf.set(n,new Map);const r=Qf.get(n);r.has(e)||0===r.size?r.set(e,t):console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(r.keys())[0]}.`)},get:(n,e)=>Qf.has(n)&&Qf.get(n).get(e)||null,remove(n,e){if(!Qf.has(n))return;const t=Qf.get(n);t.delete(e),0===t.size&&Qf.delete(n)}};function jG(n){if("true"===n)return!0;if("false"===n)return!1;if(n===Number(n).toString())return Number(n);if(""===n||"null"===n)return null;if("string"!=typeof n)return n;try{return JSON.parse(decodeURIComponent(n))}catch{return n}}function NU(n){return n.replace(/[A-Z]/g,e=>`-${e.toLowerCase()}`)}const jd={setDataAttribute(n,e,t){n.setAttribute(`data-bs-${NU(e)}`,t)},removeDataAttribute(n,e){n.removeAttribute(`data-bs-${NU(e)}`)},getDataAttributes(n){if(!n)return{};const e={},t=Object.keys(n.dataset).filter(r=>r.startsWith("bs")&&!r.startsWith("bsConfig"));for(const r of t){let i=r.replace(/^bs/,"");i=i.charAt(0).toLowerCase()+i.slice(1,i.length),e[i]=jG(n.dataset[r])}return e},getDataAttribute:(n,e)=>jG(n.getAttribute(`data-bs-${NU(e)}`))};class LC{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(e){return e=this._mergeConfigObj(e),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}_configAfterMerge(e){return e}_mergeConfigObj(e,t){const r=Vd(t)?jd.getDataAttribute(t,"config"):{};return{...this.constructor.Default,..."object"==typeof r?r:{},...Vd(t)?jd.getDataAttributes(t):{},..."object"==typeof e?e:{}}}_typeCheckConfig(e,t=this.constructor.DefaultType){for(const r of Object.keys(t)){const i=t[r],u=e[r],d=Vd(u)?"element":Rte(u);if(!new RegExp(i).test(d))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${r}" provided type "${d}" but expected type "${i}".`)}}}class Xu extends LC{constructor(e,t){super(),(e=Kf(e))&&(this._element=e,this._config=this._getConfig(t),xU.set(this._element,this.constructor.DATA_KEY,this))}dispose(){xU.remove(this._element,this.constructor.DATA_KEY),ot.off(this._element,this.constructor.EVENT_KEY);for(const e of Object.getOwnPropertyNames(this))this[e]=null}_queueCallback(e,t,r=!0){kG(e,t,r)}_getConfig(e){return e=this._mergeConfigObj(e,this._element),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}static getInstance(e){return xU.get(Kf(e),this.DATA_KEY)}static getOrCreateInstance(e,t={}){return this.getInstance(e)||new this(e,"object"==typeof t?t:null)}static get VERSION(){return"5.2.3"}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(e){return`${e}${this.EVENT_KEY}`}}const MN=(n,e="hide")=>{const r=n.NAME;ot.on(document,`click.dismiss${n.EVENT_KEY}`,`[data-bs-dismiss="${r}"]`,function(i){if(["A","AREA"].includes(this.tagName)&&i.preventDefault(),Yf(this))return;const u=Ud(this)||this.closest(`.${r}`);n.getOrCreateInstance(u)[e]()})},$G=".bs.alert",Wte=`close${$G}`,qte=`closed${$G}`;class kN extends Xu{static get NAME(){return"alert"}close(){if(ot.trigger(this._element,Wte).defaultPrevented)return;this._element.classList.remove("show");const t=this._element.classList.contains("fade");this._queueCallback(()=>this._destroyElement(),this._element,t)}_destroyElement(){this._element.remove(),ot.trigger(this._element,qte),this.dispose()}static jQueryInterface(e){return this.each(function(){const t=kN.getOrCreateInstance(this);if("string"==typeof e){if(void 0===t[e]||e.startsWith("_")||"constructor"===e)throw new TypeError(`No method named "${e}"`);t[e](this)}})}}MN(kN,"close"),lu(kN);const HG='[data-bs-toggle="button"]';class RN extends Xu{static get NAME(){return"button"}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle("active"))}static jQueryInterface(e){return this.each(function(){const t=RN.getOrCreateInstance(this);"toggle"===e&&t[e]()})}}ot.on(document,"click.bs.button.data-api",HG,n=>{n.preventDefault();const e=n.target.closest(HG);RN.getOrCreateInstance(e).toggle()}),lu(RN);const Pn={find:(n,e=document.documentElement)=>[].concat(...Element.prototype.querySelectorAll.call(e,n)),findOne:(n,e=document.documentElement)=>Element.prototype.querySelector.call(e,n),children:(n,e)=>[].concat(...n.children).filter(t=>t.matches(e)),parents(n,e){const t=[];let r=n.parentNode.closest(e);for(;r;)t.push(r),r=r.parentNode.closest(e);return t},prev(n,e){let t=n.previousElementSibling;for(;t;){if(t.matches(e))return[t];t=t.previousElementSibling}return[]},next(n,e){let t=n.nextElementSibling;for(;t;){if(t.matches(e))return[t];t=t.nextElementSibling}return[]},focusableChildren(n){const e=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(t=>`${t}:not([tabindex^="-"])`).join(",");return this.find(e,n).filter(t=>!Yf(t)&&f0(t))}},p0=".bs.swipe",nne=`touchstart${p0}`,rne=`touchmove${p0}`,ine=`touchend${p0}`,sne=`pointerdown${p0}`,one=`pointerup${p0}`,dne={endCallback:null,leftCallback:null,rightCallback:null},hne={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class ON extends LC{constructor(e,t){super(),this._element=e,e&&ON.isSupported()&&(this._config=this._getConfig(t),this._deltaX=0,this._supportPointerEvents=Boolean(window.PointerEvent),this._initEvents())}static get Default(){return dne}static get DefaultType(){return hne}static get NAME(){return"swipe"}dispose(){ot.off(this._element,p0)}_start(e){this._supportPointerEvents?this._eventIsPointerPenTouch(e)&&(this._deltaX=e.clientX):this._deltaX=e.touches[0].clientX}_end(e){this._eventIsPointerPenTouch(e)&&(this._deltaX=e.clientX-this._deltaX),this._handleSwipe(),Bd(this._config.endCallback)}_move(e){this._deltaX=e.touches&&e.touches.length>1?0:e.touches[0].clientX-this._deltaX}_handleSwipe(){const e=Math.abs(this._deltaX);if(e<=40)return;const t=e/this._deltaX;this._deltaX=0,t&&Bd(t>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(ot.on(this._element,sne,e=>this._start(e)),ot.on(this._element,one,e=>this._end(e)),this._element.classList.add("pointer-event")):(ot.on(this._element,nne,e=>this._start(e)),ot.on(this._element,rne,e=>this._move(e)),ot.on(this._element,ine,e=>this._end(e)))}_eventIsPointerPenTouch(e){return this._supportPointerEvents&&("pen"===e.pointerType||"touch"===e.pointerType)}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const Jf=".bs.carousel",GG=".data-api",FC="next",g0="prev",m0="left",PN="right",_ne=`slide${Jf}`,MU=`slid${Jf}`,yne=`keydown${Jf}`,vne=`mouseenter${Jf}`,bne=`mouseleave${Jf}`,wne=`dragstart${Jf}`,Ene=`load${Jf}${GG}`,Ine=`click${Jf}${GG}`,ZG="carousel",LN="active",One={ArrowLeft:PN,ArrowRight:m0},Pne={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},Lne={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class UC extends Xu{constructor(e,t){super(e,t),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=Pn.findOne(".carousel-indicators",this._element),this._addEventListeners(),this._config.ride===ZG&&this.cycle()}static get Default(){return Pne}static get DefaultType(){return Lne}static get NAME(){return"carousel"}next(){this._slide(FC)}nextWhenVisible(){!document.hidden&&f0(this._element)&&this.next()}prev(){this._slide(g0)}pause(){this._isSliding&&xG(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){if(this._config.ride){if(this._isSliding)return void ot.one(this._element,MU,()=>this.cycle());this.cycle()}}to(e){const t=this._getItems();if(e>t.length-1||e<0)return;if(this._isSliding)return void ot.one(this._element,MU,()=>this.to(e));const r=this._getItemIndex(this._getActive());r!==e&&this._slide(e>r?FC:g0,t[e])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(e){return e.defaultInterval=e.interval,e}_addEventListeners(){this._config.keyboard&&ot.on(this._element,yne,e=>this._keydown(e)),"hover"===this._config.pause&&(ot.on(this._element,vne,()=>this.pause()),ot.on(this._element,bne,()=>this._maybeEnableCycle())),this._config.touch&&ON.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const r of Pn.find(".carousel-item img",this._element))ot.on(r,wne,i=>i.preventDefault());this._swipeHelper=new ON(this._element,{leftCallback:()=>this._slide(this._directionToOrder(m0)),rightCallback:()=>this._slide(this._directionToOrder(PN)),endCallback:()=>{"hover"===this._config.pause&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),500+this._config.interval))}})}_keydown(e){if(/input|textarea/i.test(e.target.tagName))return;const t=One[e.key];t&&(e.preventDefault(),this._slide(this._directionToOrder(t)))}_getItemIndex(e){return this._getItems().indexOf(e)}_setActiveIndicatorElement(e){if(!this._indicatorsElement)return;const t=Pn.findOne(".active",this._indicatorsElement);t.classList.remove(LN),t.removeAttribute("aria-current");const r=Pn.findOne(`[data-bs-slide-to="${e}"]`,this._indicatorsElement);r&&(r.classList.add(LN),r.setAttribute("aria-current","true"))}_updateInterval(){const e=this._activeElement||this._getActive();if(!e)return;const t=Number.parseInt(e.getAttribute("data-bs-interval"),10);this._config.interval=t||this._config.defaultInterval}_slide(e,t=null){if(this._isSliding)return;const r=this._getActive(),i=e===FC,u=t||TU(this._getItems(),r,i,this._config.wrap);if(u===r)return;const d=this._getItemIndex(u),p=$=>ot.trigger(this._element,$,{relatedTarget:u,direction:this._orderToDirection(e),from:this._getItemIndex(r),to:d});if(p(_ne).defaultPrevented||!r||!u)return;const I=Boolean(this._interval);this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(d),this._activeElement=u;const S=i?"carousel-item-start":"carousel-item-end",M=i?"carousel-item-next":"carousel-item-prev";u.classList.add(M),r.classList.add(S),u.classList.add(S),this._queueCallback(()=>{u.classList.remove(S,M),u.classList.add(LN),r.classList.remove(LN,M,S),this._isSliding=!1,p(MU)},r,this._isAnimated()),I&&this.cycle()}_isAnimated(){return this._element.classList.contains("slide")}_getActive(){return Pn.findOne(".active.carousel-item",this._element)}_getItems(){return Pn.find(".carousel-item",this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(e){return uu()?e===m0?g0:FC:e===m0?FC:g0}_orderToDirection(e){return uu()?e===g0?m0:PN:e===g0?PN:m0}static jQueryInterface(e){return this.each(function(){const t=UC.getOrCreateInstance(this,e);if("number"!=typeof e){if("string"==typeof e){if(void 0===t[e]||e.startsWith("_")||"constructor"===e)throw new TypeError(`No method named "${e}"`);t[e]()}}else t.to(e)})}}ot.on(document,Ine,"[data-bs-slide], [data-bs-slide-to]",function(n){const e=Ud(this);if(!e||!e.classList.contains(ZG))return;n.preventDefault();const t=UC.getOrCreateInstance(e),r=this.getAttribute("data-bs-slide-to");return r?(t.to(r),void t._maybeEnableCycle()):"next"===jd.getDataAttribute(this,"slide")?(t.next(),void t._maybeEnableCycle()):(t.prev(),void t._maybeEnableCycle())}),ot.on(window,Ene,()=>{const n=Pn.find('[data-bs-ride="carousel"]');for(const e of n)UC.getOrCreateInstance(e)}),lu(UC);const VC=".bs.collapse",Vne=`show${VC}`,Bne=`shown${VC}`,jne=`hide${VC}`,$ne=`hidden${VC}`,Hne=`click${VC}.data-api`,kU="show",_0="collapse",FN="collapsing",Zne=`:scope .${_0} .${_0}`,RU='[data-bs-toggle="collapse"]',Yne={parent:null,toggle:!0},Qne={parent:"(null|element)",toggle:"boolean"};class Mm extends Xu{constructor(e,t){super(e,t),this._isTransitioning=!1,this._triggerArray=[];const r=Pn.find(RU);for(const i of r){const u=SG(i),d=Pn.find(u).filter(p=>p===this._element);null!==u&&d.length&&this._triggerArray.push(i)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return Yne}static get DefaultType(){return Qne}static get NAME(){return"collapse"}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let e=[];if(this._config.parent&&(e=this._getFirstLevelChildren(".collapse.show, .collapse.collapsing").filter(p=>p!==this._element).map(p=>Mm.getOrCreateInstance(p,{toggle:!1}))),e.length&&e[0]._isTransitioning||ot.trigger(this._element,Vne).defaultPrevented)return;for(const p of e)p.hide();const r=this._getDimension();this._element.classList.remove(_0),this._element.classList.add(FN),this._element.style[r]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const d=`scroll${r[0].toUpperCase()+r.slice(1)}`;this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(FN),this._element.classList.add(_0,kU),this._element.style[r]="",ot.trigger(this._element,Bne)},this._element,!0),this._element.style[r]=`${this._element[d]}px`}hide(){if(this._isTransitioning||!this._isShown()||ot.trigger(this._element,jne).defaultPrevented)return;const t=this._getDimension();this._element.style[t]=`${this._element.getBoundingClientRect()[t]}px`,this._element.classList.add(FN),this._element.classList.remove(_0,kU);for(const i of this._triggerArray){const u=Ud(i);u&&!this._isShown(u)&&this._addAriaAndCollapsedClass([i],!1)}this._isTransitioning=!0,this._element.style[t]="",this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(FN),this._element.classList.add(_0),ot.trigger(this._element,$ne)},this._element,!0)}_isShown(e=this._element){return e.classList.contains(kU)}_configAfterMerge(e){return e.toggle=Boolean(e.toggle),e.parent=Kf(e.parent),e}_getDimension(){return this._element.classList.contains("collapse-horizontal")?"width":"height"}_initializeChildren(){if(!this._config.parent)return;const e=this._getFirstLevelChildren(RU);for(const t of e){const r=Ud(t);r&&this._addAriaAndCollapsedClass([t],this._isShown(r))}}_getFirstLevelChildren(e){const t=Pn.find(Zne,this._config.parent);return Pn.find(e,this._config.parent).filter(r=>!t.includes(r))}_addAriaAndCollapsedClass(e,t){if(e.length)for(const r of e)r.classList.toggle("collapsed",!t),r.setAttribute("aria-expanded",t)}static jQueryInterface(e){const t={};return"string"==typeof e&&/show|hide/.test(e)&&(t.toggle=!1),this.each(function(){const r=Mm.getOrCreateInstance(this,t);if("string"==typeof e){if(typeof r[e]>"u")throw new TypeError(`No method named "${e}"`);r[e]()}})}}ot.on(document,Hne,RU,function(n){("A"===n.target.tagName||n.delegateTarget&&"A"===n.delegateTarget.tagName)&&n.preventDefault();const e=SG(this),t=Pn.find(e);for(const r of t)Mm.getOrCreateInstance(r,{toggle:!1}).toggle()}),lu(Mm);const zG="dropdown",km=".bs.dropdown",OU=".data-api",Xne="ArrowUp",YG="ArrowDown",tre=`hide${km}`,nre=`hidden${km}`,rre=`show${km}`,ire=`shown${km}`,QG=`click${km}${OU}`,JG=`keydown${km}${OU}`,sre=`keyup${km}${OU}`,y0="show",Rm='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',dre=`${Rm}.show`,UN=".dropdown-menu",gre=uu()?"top-end":"top-start",mre=uu()?"top-start":"top-end",_re=uu()?"bottom-end":"bottom-start",yre=uu()?"bottom-start":"bottom-end",vre=uu()?"left-start":"right-start",bre=uu()?"right-start":"left-start",Ire={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},Cre={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class dc extends Xu{constructor(e,t){super(e,t),this._popper=null,this._parent=this._element.parentNode,this._menu=Pn.next(this._element,UN)[0]||Pn.prev(this._element,UN)[0]||Pn.findOne(UN,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return Ire}static get DefaultType(){return Cre}static get NAME(){return zG}toggle(){return this._isShown()?this.hide():this.show()}show(){if(Yf(this._element)||this._isShown())return;const e={relatedTarget:this._element};if(!ot.trigger(this._element,rre,e).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(".navbar-nav"))for(const r of[].concat(...document.body.children))ot.on(r,"mouseover",NN);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(y0),this._element.classList.add(y0),ot.trigger(this._element,ire,e)}}hide(){!Yf(this._element)&&this._isShown()&&this._completeHide({relatedTarget:this._element})}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(e){if(!ot.trigger(this._element,tre,e).defaultPrevented){if("ontouchstart"in document.documentElement)for(const r of[].concat(...document.body.children))ot.off(r,"mouseover",NN);this._popper&&this._popper.destroy(),this._menu.classList.remove(y0),this._element.classList.remove(y0),this._element.setAttribute("aria-expanded","false"),jd.removeDataAttribute(this._menu,"popper"),ot.trigger(this._element,nre,e)}}_getConfig(e){if("object"==typeof(e=super._getConfig(e)).reference&&!Vd(e.reference)&&"function"!=typeof e.reference.getBoundingClientRect)throw new TypeError(`${zG.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return e}_createPopper(){if(typeof O>"u")throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let e=this._element;"parent"===this._config.reference?e=this._parent:Vd(this._config.reference)?e=Kf(this._config.reference):"object"==typeof this._config.reference&&(e=this._config.reference);const t=this._getPopperConfig();this._popper=EU(e,this._menu,t)}_isShown(){return this._menu.classList.contains(y0)}_getPlacement(){const e=this._parent;if(e.classList.contains("dropend"))return vre;if(e.classList.contains("dropstart"))return bre;if(e.classList.contains("dropup-center"))return"top";if(e.classList.contains("dropdown-center"))return"bottom";const t="end"===getComputedStyle(this._menu).getPropertyValue("--bs-position").trim();return e.classList.contains("dropup")?t?mre:gre:t?yre:_re}_detectNavbar(){return null!==this._element.closest(".navbar")}_getOffset(){const{offset:e}=this._config;return"string"==typeof e?e.split(",").map(t=>Number.parseInt(t,10)):"function"==typeof e?t=>e(t,this._element):e}_getPopperConfig(){const e={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||"static"===this._config.display)&&(jd.setDataAttribute(this._menu,"popper","static"),e.modifiers=[{name:"applyStyles",enabled:!1}]),{...e,..."function"==typeof this._config.popperConfig?this._config.popperConfig(e):this._config.popperConfig}}_selectMenuItem({key:e,target:t}){const r=Pn.find(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",this._menu).filter(i=>f0(i));!r.length||TU(r,t,e===YG,!r.includes(t)).focus()}static jQueryInterface(e){return this.each(function(){const t=dc.getOrCreateInstance(this,e);if("string"==typeof e){if(typeof t[e]>"u")throw new TypeError(`No method named "${e}"`);t[e]()}})}static clearMenus(e){if(2===e.button||"keyup"===e.type&&"Tab"!==e.key)return;const t=Pn.find(dre);for(const r of t){const i=dc.getInstance(r);if(!i||!1===i._config.autoClose)continue;const u=e.composedPath(),d=u.includes(i._menu);if(u.includes(i._element)||"inside"===i._config.autoClose&&!d||"outside"===i._config.autoClose&&d||i._menu.contains(e.target)&&("keyup"===e.type&&"Tab"===e.key||/input|select|option|textarea|form/i.test(e.target.tagName)))continue;const p={relatedTarget:i._element};"click"===e.type&&(p.clickEvent=e),i._completeHide(p)}}static dataApiKeydownHandler(e){const t=/input|textarea/i.test(e.target.tagName),r="Escape"===e.key,i=[Xne,YG].includes(e.key);if(!i&&!r||t&&!r)return;e.preventDefault();const u=this.matches(Rm)?this:Pn.prev(this,Rm)[0]||Pn.next(this,Rm)[0]||Pn.findOne(Rm,e.delegateTarget.parentNode),d=dc.getOrCreateInstance(u);if(i)return e.stopPropagation(),d.show(),void d._selectMenuItem(e);d._isShown()&&(e.stopPropagation(),d.hide(),u.focus())}}ot.on(document,JG,Rm,dc.dataApiKeydownHandler),ot.on(document,JG,UN,dc.dataApiKeydownHandler),ot.on(document,QG,dc.clearMenus),ot.on(document,sre,dc.clearMenus),ot.on(document,QG,Rm,function(n){n.preventDefault(),dc.getOrCreateInstance(this).toggle()}),lu(dc);const XG=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",eZ=".sticky-top",VN="padding-right",tZ="margin-right";class PU{constructor(){this._element=document.body}getWidth(){const e=document.documentElement.clientWidth;return Math.abs(window.innerWidth-e)}hide(){const e=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,VN,t=>t+e),this._setElementAttributes(XG,VN,t=>t+e),this._setElementAttributes(eZ,tZ,t=>t-e)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,VN),this._resetElementAttributes(XG,VN),this._resetElementAttributes(eZ,tZ)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(e,t,r){const i=this.getWidth();this._applyManipulationCallback(e,d=>{if(d!==this._element&&window.innerWidth>d.clientWidth+i)return;this._saveInitialAttribute(d,t);const p=window.getComputedStyle(d).getPropertyValue(t);d.style.setProperty(t,`${r(Number.parseFloat(p))}px`)})}_saveInitialAttribute(e,t){const r=e.style.getPropertyValue(t);r&&jd.setDataAttribute(e,t,r)}_resetElementAttributes(e,t){this._applyManipulationCallback(e,i=>{const u=jd.getDataAttribute(i,t);null!==u?(jd.removeDataAttribute(i,t),i.style.setProperty(t,u)):i.style.removeProperty(t)})}_applyManipulationCallback(e,t){if(Vd(e))t(e);else for(const r of Pn.find(e,this._element))t(r)}}const nZ="backdrop",iZ=`mousedown.bs.${nZ}`,Are={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},Dre={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class sZ extends LC{constructor(e){super(),this._config=this._getConfig(e),this._isAppended=!1,this._element=null}static get Default(){return Are}static get DefaultType(){return Dre}static get NAME(){return nZ}show(e){if(!this._config.isVisible)return void Bd(e);this._append();this._getElement().classList.add("show"),this._emulateAnimation(()=>{Bd(e)})}hide(e){this._config.isVisible?(this._getElement().classList.remove("show"),this._emulateAnimation(()=>{this.dispose(),Bd(e)})):Bd(e)}dispose(){!this._isAppended||(ot.off(this._element,iZ),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const e=document.createElement("div");e.className=this._config.className,this._config.isAnimated&&e.classList.add("fade"),this._element=e}return this._element}_configAfterMerge(e){return e.rootElement=Kf(e.rootElement),e}_append(){if(this._isAppended)return;const e=this._getElement();this._config.rootElement.append(e),ot.on(e,iZ,()=>{Bd(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(e){kG(e,this._getElement(),this._config.isAnimated)}}const BN=".bs.focustrap",xre=`focusin${BN}`,Nre=`keydown.tab${BN}`,oZ="backward",Rre={autofocus:!0,trapElement:null},Ore={autofocus:"boolean",trapElement:"element"};class aZ extends LC{constructor(e){super(),this._config=this._getConfig(e),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return Rre}static get DefaultType(){return Ore}static get NAME(){return"focustrap"}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),ot.off(document,BN),ot.on(document,xre,e=>this._handleFocusin(e)),ot.on(document,Nre,e=>this._handleKeydown(e)),this._isActive=!0)}deactivate(){!this._isActive||(this._isActive=!1,ot.off(document,BN))}_handleFocusin(e){const{trapElement:t}=this._config;if(e.target===document||e.target===t||t.contains(e.target))return;const r=Pn.focusableChildren(t);0===r.length?t.focus():this._lastTabNavDirection===oZ?r[r.length-1].focus():r[0].focus()}_handleKeydown(e){"Tab"===e.key&&(this._lastTabNavDirection=e.shiftKey?oZ:"forward")}}const el=".bs.modal",Ure=`hide${el}`,Vre=`hidePrevented${el}`,uZ=`hidden${el}`,lZ=`show${el}`,Bre=`shown${el}`,jre=`resize${el}`,$re=`click.dismiss${el}`,Hre=`mousedown.dismiss${el}`,Gre=`keydown.dismiss${el}`,Zre=`click${el}.data-api`,cZ="modal-open",LU="modal-static",Qre={backdrop:!0,focus:!0,keyboard:!0},Jre={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class Xf extends Xu{constructor(e,t){super(e,t),this._dialog=Pn.findOne(".modal-dialog",this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new PU,this._addEventListeners()}static get Default(){return Qre}static get DefaultType(){return Jre}static get NAME(){return"modal"}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){this._isShown||this._isTransitioning||ot.trigger(this._element,lZ,{relatedTarget:e}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(cZ),this._adjustDialog(),this._backdrop.show(()=>this._showElement(e)))}hide(){!this._isShown||this._isTransitioning||ot.trigger(this._element,Ure).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove("show"),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated()))}dispose(){for(const e of[window,this._dialog])ot.off(e,el);this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new sZ({isVisible:Boolean(this._config.backdrop),isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new aZ({trapElement:this._element})}_showElement(e){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const t=Pn.findOne(".modal-body",this._dialog);t&&(t.scrollTop=0),this._element.classList.add("show"),this._queueCallback(()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,ot.trigger(this._element,Bre,{relatedTarget:e})},this._dialog,this._isAnimated())}_addEventListeners(){ot.on(this._element,Gre,e=>{if("Escape"===e.key){if(this._config.keyboard)return e.preventDefault(),void this.hide();this._triggerBackdropTransition()}}),ot.on(window,jre,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),ot.on(this._element,Hre,e=>{ot.one(this._element,$re,t=>{if(this._element===e.target&&this._element===t.target){if("static"===this._config.backdrop)return void this._triggerBackdropTransition();this._config.backdrop&&this.hide()}})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(cZ),this._resetAdjustments(),this._scrollBar.reset(),ot.trigger(this._element,uZ)})}_isAnimated(){return this._element.classList.contains("fade")}_triggerBackdropTransition(){if(ot.trigger(this._element,Vre).defaultPrevented)return;const t=this._element.scrollHeight>document.documentElement.clientHeight,r=this._element.style.overflowY;"hidden"===r||this._element.classList.contains(LU)||(t||(this._element.style.overflowY="hidden"),this._element.classList.add(LU),this._queueCallback(()=>{this._element.classList.remove(LU),this._queueCallback(()=>{this._element.style.overflowY=r},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const e=this._element.scrollHeight>document.documentElement.clientHeight,t=this._scrollBar.getWidth(),r=t>0;if(r&&!e){const i=uu()?"paddingLeft":"paddingRight";this._element.style[i]=`${t}px`}if(!r&&e){const i=uu()?"paddingRight":"paddingLeft";this._element.style[i]=`${t}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(e,t){return this.each(function(){const r=Xf.getOrCreateInstance(this,e);if("string"==typeof e){if(typeof r[e]>"u")throw new TypeError(`No method named "${e}"`);r[e](t)}})}}ot.on(document,Zre,'[data-bs-toggle="modal"]',function(n){const e=Ud(this);["A","AREA"].includes(this.tagName)&&n.preventDefault(),ot.one(e,lZ,i=>{i.defaultPrevented||ot.one(e,uZ,()=>{f0(this)&&this.focus()})});const t=Pn.findOne(".modal.show");t&&Xf.getInstance(t).hide(),Xf.getOrCreateInstance(e).toggle(this)}),MN(Xf),lu(Xf);const $d=".bs.offcanvas",hZ=".data-api",eie=`load${$d}${hZ}`,pZ="showing",mZ=".offcanvas.show",rie=`show${$d}`,iie=`shown${$d}`,sie=`hide${$d}`,_Z=`hidePrevented${$d}`,yZ=`hidden${$d}`,oie=`resize${$d}`,aie=`click${$d}${hZ}`,uie=`keydown.dismiss${$d}`,cie={backdrop:!0,keyboard:!0,scroll:!1},die={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class ep extends Xu{constructor(e,t){super(e,t),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return cie}static get DefaultType(){return die}static get NAME(){return"offcanvas"}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){this._isShown||ot.trigger(this._element,rie,{relatedTarget:e}).defaultPrevented||(this._isShown=!0,this._backdrop.show(),this._config.scroll||(new PU).hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(pZ),this._queueCallback(()=>{(!this._config.scroll||this._config.backdrop)&&this._focustrap.activate(),this._element.classList.add("show"),this._element.classList.remove(pZ),ot.trigger(this._element,iie,{relatedTarget:e})},this._element,!0))}hide(){this._isShown&&!ot.trigger(this._element,sie).defaultPrevented&&(this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add("hiding"),this._backdrop.hide(),this._queueCallback(()=>{this._element.classList.remove("show","hiding"),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||(new PU).reset(),ot.trigger(this._element,yZ)},this._element,!0))}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const t=Boolean(this._config.backdrop);return new sZ({className:"offcanvas-backdrop",isVisible:t,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:t?()=>{"static"!==this._config.backdrop?this.hide():ot.trigger(this._element,_Z)}:null})}_initializeFocusTrap(){return new aZ({trapElement:this._element})}_addEventListeners(){ot.on(this._element,uie,e=>{if("Escape"===e.key){if(!this._config.keyboard)return void ot.trigger(this._element,_Z);this.hide()}})}static jQueryInterface(e){return this.each(function(){const t=ep.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===t[e]||e.startsWith("_")||"constructor"===e)throw new TypeError(`No method named "${e}"`);t[e](this)}})}}ot.on(document,aie,'[data-bs-toggle="offcanvas"]',function(n){const e=Ud(this);if(["A","AREA"].includes(this.tagName)&&n.preventDefault(),Yf(this))return;ot.one(e,yZ,()=>{f0(this)&&this.focus()});const t=Pn.findOne(mZ);t&&t!==e&&ep.getInstance(t).hide(),ep.getOrCreateInstance(e).toggle(this)}),ot.on(window,eie,()=>{for(const n of Pn.find(mZ))ep.getOrCreateInstance(n).show()}),ot.on(window,oie,()=>{for(const n of Pn.find("[aria-modal][class*=show][class*=offcanvas-]"))"fixed"!==getComputedStyle(n).position&&ep.getOrCreateInstance(n).hide()}),MN(ep),lu(ep);const hie=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),pie=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^#&/:?]*(?:[#/?]|$))/i,gie=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[\d+/a-z]+=*$/i,mie=(n,e)=>{const t=n.nodeName.toLowerCase();return e.includes(t)?!hie.has(t)||Boolean(pie.test(n.nodeValue)||gie.test(n.nodeValue)):e.filter(r=>r instanceof RegExp).some(r=>r.test(t))},vZ={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},vie={allowList:vZ,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},bie={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},wie={entry:"(string|element|function|null)",selector:"(string|element)"};class Eie extends LC{constructor(e){super(),this._config=this._getConfig(e)}static get Default(){return vie}static get DefaultType(){return bie}static get NAME(){return"TemplateFactory"}getContent(){return Object.values(this._config.content).map(e=>this._resolvePossibleFunction(e)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(e){return this._checkContent(e),this._config.content={...this._config.content,...e},this}toHtml(){const e=document.createElement("div");e.innerHTML=this._maybeSanitize(this._config.template);for(const[i,u]of Object.entries(this._config.content))this._setContent(e,u,i);const t=e.children[0],r=this._resolvePossibleFunction(this._config.extraClass);return r&&t.classList.add(...r.split(" ")),t}_typeCheckConfig(e){super._typeCheckConfig(e),this._checkContent(e.content)}_checkContent(e){for(const[t,r]of Object.entries(e))super._typeCheckConfig({selector:t,entry:r},wie)}_setContent(e,t,r){const i=Pn.findOne(r,e);if(i){if(!(t=this._resolvePossibleFunction(t)))return void i.remove();if(Vd(t))return void this._putElementInTemplate(Kf(t),i);if(this._config.html)return void(i.innerHTML=this._maybeSanitize(t));i.textContent=t}}_maybeSanitize(e){return this._config.sanitize?function _ie(n,e,t){if(!n.length)return n;if(t&&"function"==typeof t)return t(n);const i=(new window.DOMParser).parseFromString(n,"text/html"),u=[].concat(...i.body.querySelectorAll("*"));for(const d of u){const p=d.nodeName.toLowerCase();if(!Object.keys(e).includes(p)){d.remove();continue}const v=[].concat(...d.attributes),I=[].concat(e["*"]||[],e[p]||[]);for(const S of v)mie(S,I)||d.removeAttribute(S.nodeName)}return i.body.innerHTML}(e,this._config.allowList,this._config.sanitizeFn):e}_resolvePossibleFunction(e){return"function"==typeof e?e(this):e}_putElementInTemplate(e,t){if(this._config.html)return t.innerHTML="",void t.append(e);t.textContent=e.textContent}}const Cie=new Set(["sanitize","allowList","sanitizeFn"]),FU="fade",jN="show",wZ="hide.bs.modal",BC="hover",UU="focus",Vie={AUTO:"auto",TOP:"top",RIGHT:uu()?"left":"right",BOTTOM:"bottom",LEFT:uu()?"right":"left"},Bie={allowList:vZ,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,0],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},jie={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class Om extends Xu{constructor(e,t){if(typeof O>"u")throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(e,t),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return Bie}static get DefaultType(){return jie}static get NAME(){return"tooltip"}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){if(this._isEnabled){if(this._activeTrigger.click=!this._activeTrigger.click,this._isShown())return void this._leave();this._enter()}}dispose(){clearTimeout(this._timeout),ot.off(this._element.closest(".modal"),wZ,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if("none"===this._element.style.display)throw new Error("Please use show on visible elements");if(!this._isWithContent()||!this._isEnabled)return;const e=ot.trigger(this._element,this.constructor.eventName("show")),r=(NG(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(e.defaultPrevented||!r)return;this._disposePopper();const i=this._getTipElement();this._element.setAttribute("aria-describedby",i.getAttribute("id"));const{container:u}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(u.append(i),ot.trigger(this._element,this.constructor.eventName("inserted"))),this._popper=this._createPopper(i),i.classList.add(jN),"ontouchstart"in document.documentElement)for(const p of[].concat(...document.body.children))ot.on(p,"mouseover",NN);this._queueCallback(()=>{ot.trigger(this._element,this.constructor.eventName("shown")),!1===this._isHovered&&this._leave(),this._isHovered=!1},this.tip,this._isAnimated())}hide(){if(this._isShown()&&!ot.trigger(this._element,this.constructor.eventName("hide")).defaultPrevented){if(this._getTipElement().classList.remove(jN),"ontouchstart"in document.documentElement)for(const i of[].concat(...document.body.children))ot.off(i,"mouseover",NN);this._activeTrigger.click=!1,this._activeTrigger[UU]=!1,this._activeTrigger[BC]=!1,this._isHovered=null,this._queueCallback(()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),ot.trigger(this._element,this.constructor.eventName("hidden")))},this.tip,this._isAnimated())}}update(){this._popper&&this._popper.update()}_isWithContent(){return Boolean(this._getTitle())}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(e){const t=this._getTemplateFactory(e).toHtml();if(!t)return null;t.classList.remove(FU,jN),t.classList.add(`bs-${this.constructor.NAME}-auto`);const r=(n=>{do{n+=Math.floor(1e6*Math.random())}while(document.getElementById(n));return n})(this.constructor.NAME).toString();return t.setAttribute("id",r),this._isAnimated()&&t.classList.add(FU),t}setContent(e){this._newContent=e,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(e){return this._templateFactory?this._templateFactory.changeContent(e):this._templateFactory=new Eie({...this._config,content:e,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{".tooltip-inner":this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(e){return this.constructor.getOrCreateInstance(e.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(FU)}_isShown(){return this.tip&&this.tip.classList.contains(jN)}_createPopper(e){const t="function"==typeof this._config.placement?this._config.placement.call(this,e,this._element):this._config.placement,r=Vie[t.toUpperCase()];return EU(this._element,e,this._getPopperConfig(r))}_getOffset(){const{offset:e}=this._config;return"string"==typeof e?e.split(",").map(t=>Number.parseInt(t,10)):"function"==typeof e?t=>e(t,this._element):e}_resolvePossibleFunction(e){return"function"==typeof e?e.call(this._element):e}_getPopperConfig(e){const t={placement:e,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:r=>{this._getTipElement().setAttribute("data-popper-placement",r.state.placement)}}]};return{...t,..."function"==typeof this._config.popperConfig?this._config.popperConfig(t):this._config.popperConfig}}_setListeners(){const e=this._config.trigger.split(" ");for(const t of e)if("click"===t)ot.on(this._element,this.constructor.eventName("click"),this._config.selector,r=>{this._initializeOnDelegatedTarget(r).toggle()});else if("manual"!==t){const r=this.constructor.eventName(t===BC?"mouseenter":"focusin"),i=this.constructor.eventName(t===BC?"mouseleave":"focusout");ot.on(this._element,r,this._config.selector,u=>{const d=this._initializeOnDelegatedTarget(u);d._activeTrigger["focusin"===u.type?UU:BC]=!0,d._enter()}),ot.on(this._element,i,this._config.selector,u=>{const d=this._initializeOnDelegatedTarget(u);d._activeTrigger["focusout"===u.type?UU:BC]=d._element.contains(u.relatedTarget),d._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},ot.on(this._element.closest(".modal"),wZ,this._hideModalHandler)}_fixTitle(){const e=this._element.getAttribute("title");!e||(!this._element.getAttribute("aria-label")&&!this._element.textContent.trim()&&this._element.setAttribute("aria-label",e),this._element.setAttribute("data-bs-original-title",e),this._element.removeAttribute("title"))}_enter(){this._isShown()||this._isHovered?this._isHovered=!0:(this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show))}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(e,t){clearTimeout(this._timeout),this._timeout=setTimeout(e,t)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(e){const t=jd.getDataAttributes(this._element);for(const r of Object.keys(t))Cie.has(r)&&delete t[r];return e={...t,..."object"==typeof e&&e?e:{}},e=this._mergeConfigObj(e),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}_configAfterMerge(e){return e.container=!1===e.container?document.body:Kf(e.container),"number"==typeof e.delay&&(e.delay={show:e.delay,hide:e.delay}),"number"==typeof e.title&&(e.title=e.title.toString()),"number"==typeof e.content&&(e.content=e.content.toString()),e}_getDelegateConfig(){const e={};for(const t in this._config)this.constructor.Default[t]!==this._config[t]&&(e[t]=this._config[t]);return e.selector=!1,e.trigger="manual",e}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(e){return this.each(function(){const t=Om.getOrCreateInstance(this,e);if("string"==typeof e){if(typeof t[e]>"u")throw new TypeError(`No method named "${e}"`);t[e]()}})}}lu(Om);const Zie={...Om.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},Wie={...Om.DefaultType,content:"(null|string|element|function)"};class VU extends Om{static get Default(){return Zie}static get DefaultType(){return Wie}static get NAME(){return"popover"}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{".popover-header":this._getTitle(),".popover-body":this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(e){return this.each(function(){const t=VU.getOrCreateInstance(this,e);if("string"==typeof e){if(typeof t[e]>"u")throw new TypeError(`No method named "${e}"`);t[e]()}})}}lu(VU);const BU=".bs.scrollspy",Kie=`activate${BU}`,EZ=`click${BU}`,Yie=`load${BU}.data-api`,v0="active",jU="[href]",IZ=".nav-link",ese=`${IZ}, .nav-item > ${IZ}, .list-group-item`,rse={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},ise={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class $N extends Xu{constructor(e,t){super(e,t),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement="visible"===getComputedStyle(this._element).overflowY?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return rse}static get DefaultType(){return ise}static get NAME(){return"scrollspy"}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const e of this._observableSections.values())this._observer.observe(e)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(e){return e.target=Kf(e.target)||document.body,e.rootMargin=e.offset?`${e.offset}px 0px -30%`:e.rootMargin,"string"==typeof e.threshold&&(e.threshold=e.threshold.split(",").map(t=>Number.parseFloat(t))),e}_maybeEnableSmoothScroll(){!this._config.smoothScroll||(ot.off(this._config.target,EZ),ot.on(this._config.target,EZ,jU,e=>{const t=this._observableSections.get(e.target.hash);if(t){e.preventDefault();const r=this._rootElement||window,i=t.offsetTop-this._element.offsetTop;if(r.scrollTo)return void r.scrollTo({top:i,behavior:"smooth"});r.scrollTop=i}}))}_getNewObserver(){return new IntersectionObserver(t=>this._observerCallback(t),{root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin})}_observerCallback(e){const t=d=>this._targetLinks.get(`#${d.target.id}`),r=d=>{this._previousScrollData.visibleEntryTop=d.target.offsetTop,this._process(t(d))},i=(this._rootElement||document.documentElement).scrollTop,u=i>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=i;for(const d of e){if(!d.isIntersecting){this._activeTarget=null,this._clearActiveClass(t(d));continue}const p=d.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(u&&p){if(r(d),!i)return}else!u&&!p&&r(d)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const e=Pn.find(jU,this._config.target);for(const t of e){if(!t.hash||Yf(t))continue;const r=Pn.findOne(t.hash,this._element);f0(r)&&(this._targetLinks.set(t.hash,t),this._observableSections.set(t.hash,r))}}_process(e){this._activeTarget!==e&&(this._clearActiveClass(this._config.target),this._activeTarget=e,e.classList.add(v0),this._activateParents(e),ot.trigger(this._element,Kie,{relatedTarget:e}))}_activateParents(e){if(e.classList.contains("dropdown-item"))Pn.findOne(".dropdown-toggle",e.closest(".dropdown")).classList.add(v0);else for(const t of Pn.parents(e,".nav, .list-group"))for(const r of Pn.prev(t,ese))r.classList.add(v0)}_clearActiveClass(e){e.classList.remove(v0);const t=Pn.find(`${jU}.${v0}`,e);for(const r of t)r.classList.remove(v0)}static jQueryInterface(e){return this.each(function(){const t=$N.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===t[e]||e.startsWith("_")||"constructor"===e)throw new TypeError(`No method named "${e}"`);t[e]()}})}}ot.on(window,Yie,()=>{for(const n of Pn.find('[data-bs-spy="scroll"]'))$N.getOrCreateInstance(n)}),lu($N);const Pm=".bs.tab",ose=`hide${Pm}`,ase=`hidden${Pm}`,use=`show${Pm}`,lse=`shown${Pm}`,cse=`click${Pm}`,dse=`keydown${Pm}`,hse=`load${Pm}`,fse="ArrowLeft",CZ="ArrowRight",pse="ArrowUp",TZ="ArrowDown",Lm="active",$U="show",HU=":not(.dropdown-toggle)",DZ='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',GU=`.nav-link${HU}, .list-group-item${HU}, [role="tab"]${HU}, ${DZ}`,wse=`.${Lm}[data-bs-toggle="tab"], .${Lm}[data-bs-toggle="pill"], .${Lm}[data-bs-toggle="list"]`;class b0 extends Xu{constructor(e){super(e),this._parent=this._element.closest('.list-group, .nav, [role="tablist"]'),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),ot.on(this._element,dse,t=>this._keydown(t)))}static get NAME(){return"tab"}show(){const e=this._element;if(this._elemIsActive(e))return;const t=this._getActiveElem(),r=t?ot.trigger(t,ose,{relatedTarget:e}):null;ot.trigger(e,use,{relatedTarget:t}).defaultPrevented||r&&r.defaultPrevented||(this._deactivate(t,e),this._activate(e,t))}_activate(e,t){e&&(e.classList.add(Lm),this._activate(Ud(e)),this._queueCallback(()=>{"tab"===e.getAttribute("role")?(e.removeAttribute("tabindex"),e.setAttribute("aria-selected",!0),this._toggleDropDown(e,!0),ot.trigger(e,lse,{relatedTarget:t})):e.classList.add($U)},e,e.classList.contains("fade")))}_deactivate(e,t){e&&(e.classList.remove(Lm),e.blur(),this._deactivate(Ud(e)),this._queueCallback(()=>{"tab"===e.getAttribute("role")?(e.setAttribute("aria-selected",!1),e.setAttribute("tabindex","-1"),this._toggleDropDown(e,!1),ot.trigger(e,ase,{relatedTarget:t})):e.classList.remove($U)},e,e.classList.contains("fade")))}_keydown(e){if(![fse,CZ,pse,TZ].includes(e.key))return;e.stopPropagation(),e.preventDefault();const t=[CZ,TZ].includes(e.key),r=TU(this._getChildren().filter(i=>!Yf(i)),e.target,t,!0);r&&(r.focus({preventScroll:!0}),b0.getOrCreateInstance(r).show())}_getChildren(){return Pn.find(GU,this._parent)}_getActiveElem(){return this._getChildren().find(e=>this._elemIsActive(e))||null}_setInitialAttributes(e,t){this._setAttributeIfNotExists(e,"role","tablist");for(const r of t)this._setInitialAttributesOnChild(r)}_setInitialAttributesOnChild(e){e=this._getInnerElement(e);const t=this._elemIsActive(e),r=this._getOuterElement(e);e.setAttribute("aria-selected",t),r!==e&&this._setAttributeIfNotExists(r,"role","presentation"),t||e.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(e,"role","tab"),this._setInitialAttributesOnTargetPanel(e)}_setInitialAttributesOnTargetPanel(e){const t=Ud(e);!t||(this._setAttributeIfNotExists(t,"role","tabpanel"),e.id&&this._setAttributeIfNotExists(t,"aria-labelledby",`#${e.id}`))}_toggleDropDown(e,t){const r=this._getOuterElement(e);if(!r.classList.contains("dropdown"))return;const i=(u,d)=>{const p=Pn.findOne(u,r);p&&p.classList.toggle(d,t)};i(".dropdown-toggle",Lm),i(".dropdown-menu",$U),r.setAttribute("aria-expanded",t)}_setAttributeIfNotExists(e,t,r){e.hasAttribute(t)||e.setAttribute(t,r)}_elemIsActive(e){return e.classList.contains(Lm)}_getInnerElement(e){return e.matches(GU)?e:Pn.findOne(GU,e)}_getOuterElement(e){return e.closest(".nav-item, .list-group-item")||e}static jQueryInterface(e){return this.each(function(){const t=b0.getOrCreateInstance(this);if("string"==typeof e){if(void 0===t[e]||e.startsWith("_")||"constructor"===e)throw new TypeError(`No method named "${e}"`);t[e]()}})}}ot.on(document,cse,DZ,function(n){["A","AREA"].includes(this.tagName)&&n.preventDefault(),!Yf(this)&&b0.getOrCreateInstance(this).show()}),ot.on(window,hse,()=>{for(const n of Pn.find(wse))b0.getOrCreateInstance(n)}),lu(b0);const tp=".bs.toast",Ise=`mouseover${tp}`,Cse=`mouseout${tp}`,Tse=`focusin${tp}`,Ase=`focusout${tp}`,Dse=`hide${tp}`,Sse=`hidden${tp}`,xse=`show${tp}`,Nse=`shown${tp}`,HN="show",GN="showing",kse={animation:"boolean",autohide:"boolean",delay:"number"},Rse={animation:!0,autohide:!0,delay:5e3};class ZN extends Xu{constructor(e,t){super(e,t),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return Rse}static get DefaultType(){return kse}static get NAME(){return"toast"}show(){ot.trigger(this._element,xse).defaultPrevented||(this._clearTimeout(),this._config.animation&&this._element.classList.add("fade"),this._element.classList.remove("hide"),this._element.classList.add(HN,GN),this._queueCallback(()=>{this._element.classList.remove(GN),ot.trigger(this._element,Nse),this._maybeScheduleHide()},this._element,this._config.animation))}hide(){this.isShown()&&!ot.trigger(this._element,Dse).defaultPrevented&&(this._element.classList.add(GN),this._queueCallback(()=>{this._element.classList.add("hide"),this._element.classList.remove(GN,HN),ot.trigger(this._element,Sse)},this._element,this._config.animation))}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(HN),super.dispose()}isShown(){return this._element.classList.contains(HN)}_maybeScheduleHide(){!this._config.autohide||this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay))}_onInteraction(e,t){switch(e.type){case"mouseover":case"mouseout":this._hasMouseInteraction=t;break;case"focusin":case"focusout":this._hasKeyboardInteraction=t}if(t)return void this._clearTimeout();const r=e.relatedTarget;this._element===r||this._element.contains(r)||this._maybeScheduleHide()}_setListeners(){ot.on(this._element,Ise,e=>this._onInteraction(e,!0)),ot.on(this._element,Cse,e=>this._onInteraction(e,!1)),ot.on(this._element,Tse,e=>this._onInteraction(e,!0)),ot.on(this._element,Ase,e=>this._onInteraction(e,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(e){return this.each(function(){const t=ZN.getOrCreateInstance(this,e);if("string"==typeof e){if(typeof t[e]>"u")throw new TypeError(`No method named "${e}"`);t[e](this)}})}}function Ose(n,e){if(1&n&&(l.TgZ(0,"option",42),l._uU(1),l.qZA()),2&n){const t=e.$implicit;l.Q6J("value",t.value.name),l.xp6(1),l.Oqu(t.value.name)}}function Pse(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"tr",43)(1,"td"),l._uU(2),l.qZA(),l.TgZ(3,"td"),l._uU(4),l.ALo(5,"date"),l.qZA(),l.TgZ(6,"td"),l._uU(7),l.qZA(),l.TgZ(8,"td"),l._uU(9),l.qZA(),l.TgZ(10,"td"),l._uU(11),l.qZA(),l.TgZ(12,"td"),l._uU(13),l.ALo(14,"date"),l.qZA(),l.TgZ(15,"a",44),l.NdJ("click",function(){const u=l.CHM(t).$implicit,d=l.oxw();return l.KtG(d.view_order(u.key))}),l.qZA()()}if(2&n){const t=e.$implicit;l.xp6(2),l.Oqu(t.value.info),l.xp6(2),l.Oqu(l.xi3(5,6,t.value.created_ts,"short")),l.xp6(3),l.Oqu(t.value.customer_name),l.xp6(2),l.Oqu(t.value.pathway),l.xp6(2),l.Oqu(t.value.checkpoints[t.value.reached_idx].name),l.xp6(2),l.Oqu(l.xi3(14,9,t.value.checkpoints[t.value.reached_idx].reached_ts,"short"))}}function Lse(n,e){if(1&n&&(l.TgZ(0,"option",42),l._uU(1),l.qZA()),2&n){const t=e.$implicit;l.Q6J("value",t.key),l.xp6(1),l.Oqu(t.value.name)}}function Fse(n,e){1&n&&(l.TgZ(0,"div",45)(1,"span",46),l._uU(2,"Loading..."),l.qZA()())}function Use(n,e){1&n&&(l.ynx(0),l._uU(1," (Finished)"),l.BQk())}function Vse(n,e){if(1&n&&(l.TgZ(0,"p",62),l._uU(1),l.qZA()),2&n){const t=l.oxw(2).$implicit;l.xp6(1),l.hij(" ",t.desc," ")}}function Bse(n,e){if(1&n&&(l.TgZ(0,"p",62),l._uU(1),l.qZA()),2&n){const t=l.oxw(2).$implicit;l.xp6(1),l.hij(" ",t.extra_info," ")}}function jse(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div",55)(1,"h2",56)(2,"button",57),l.NdJ("click",function(i){l.CHM(t);const u=l.oxw().index,d=l.oxw(2);return l.KtG(d.toggle_order_modal_accordian("#collapse"+u,i.currentTarget))}),l.TgZ(3,"span"),l._uU(4),l.qZA(),l.TgZ(5,"span",58),l._uU(6),l.ALo(7,"date"),l.qZA()()(),l.TgZ(8,"div",59)(9,"div",60),l.YNc(10,Vse,2,1,"p",61),l.YNc(11,Bse,2,1,"p",61),l.qZA()()()}if(2&n){const t=l.oxw(),r=t.$implicit,i=t.index;l.xp6(4),l.Oqu(r.name),l.xp6(2),l.hij(" ",l.xi3(7,5,r.reached_ts,"short")," "),l.xp6(2),l.MGl("id","collapse",i,""),l.xp6(2),l.Q6J("ngIf",r.desc),l.xp6(1),l.Q6J("ngIf",r.extra_info)}}function $se(n,e){if(1&n&&(l.ynx(0),l.YNc(1,jse,12,8,"div",54),l.BQk()),2&n){const t=e.index,r=l.oxw().ngIf;l.xp6(1),l.Q6J("ngIf",t<=r.reached_idx)}}function Hse(n,e){if(1&n){const t=l.EpF();l.ynx(0),l.TgZ(1,"h2",63),l._uU(2),l.qZA(),l._UZ(3,"textarea",64),l.TgZ(4,"button",65),l.NdJ("click",function(){l.CHM(t);const i=l.oxw(2);return l.KtG(i.complete_checkpoint())}),l._uU(5,"Complete"),l.qZA(),l.BQk()}if(2&n){const t=l.oxw().ngIf,r=l.oxw();l.xp6(2),l.hij('Mark Stage "',t.checkpoints[t.reached_idx+1].name,'" as Completed:'),l.xp6(1),l.Q6J("formControl",r.viewOrderExtraInfo)}}function Gse(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div",22)(1,"div",23)(2,"h5",24),l._uU(3),l.qZA(),l._UZ(4,"button",47),l.qZA(),l.TgZ(5,"div",27)(6,"p"),l._uU(7),l.qZA(),l.TgZ(8,"p"),l._uU(9),l.ALo(10,"date"),l.qZA(),l._UZ(11,"br"),l.TgZ(12,"h2",48),l._uU(13,"Progress"),l.YNc(14,Use,2,0,"ng-container",49),l._uU(15,":"),l.qZA(),l.TgZ(16,"div",50),l.YNc(17,$se,2,1,"ng-container",51),l.qZA(),l.YNc(18,Hse,6,2,"ng-container",49),l.qZA(),l.TgZ(19,"div",36)(20,"button",52),l.NdJ("click",function(){l.CHM(t);const i=l.oxw();return l.KtG(i.copy_permalink(i.current_order))}),l._UZ(21,"i",53),l._uU(22," Copy Link"),l.qZA(),l.TgZ(23,"button",37),l._uU(24,"Close"),l.qZA()()()}if(2&n){const t=e.ngIf;l.xp6(3),l.AsE("View Order: ",t.info," (",t.pathway,")"),l.xp6(4),l.hij("Customer Name: ",t.customer_name,""),l.xp6(2),l.hij("Created: ",l.xi3(10,7,t.created_ts,"medium"),""),l.xp6(5),l.Q6J("ngIf",t.done),l.xp6(3),l.Q6J("ngForOf",t.checkpoints),l.xp6(1),l.Q6J("ngIf",!t.done)}}MN(ZN),lu(ZN);const Zse=function(){return{}};var tl=(()=>(function(n){n[n.ID=0]="ID",n[n.CREATED=1]="CREATED",n[n.NAME=2]="NAME",n[n.TEMPLATE=3]="TEMPLATE",n[n.STAGE=4]="STAGE",n[n.UPDATED=5]="UPDATED"}(tl||(tl={})),tl))();function w0(n,e,t){return n<e!==t?-1:n>e!==t?1:0}class WN{constructor(e,t,r){this.fb=e,this.auth=t,this.db=r,this.all_pathways=Tt({}),this.all_orders=Tt({}),this.order_form=this.fb.group({pathway:[""],customer_name:[""],order_info:[""]}),this.order_create_loading=!1,this.current_order=null,this.viewOrderExtraInfo=new gg(""),this.SORTS=tl,this.cur_sort_field=tl.UPDATED,this.cur_sort_asc=!1,this.pathway_filter_model="",this.text_filter_model="",this.uncompleted_filter_model=!1}ngOnInit(){var e=this;return(0,Re.Z)(function*(){let t=(yield e.auth.currentUser)?.uid;null!=t&&(e.all_pathways=e.db.list(`pathways/${t}`).snapshotChanges().pipe((0,St.U)(r=>Object.fromEntries(r.map(i=>[i.payload.key,i.payload.val()])))),e.all_orders=e.db.list(`orders/${t}`).snapshotChanges().pipe((0,St.U)(r=>Object.fromEntries(r.map(i=>[i.payload.key,i.payload.val()])))),console.log(t),new Xf("#view-order-modal"))})()}create_order(){var e=this;return(0,Re.Z)(function*(){if(e.order_create_loading)return;e.order_form.disable(),e.order_create_loading=!0;let t=new Promise(u=>setTimeout(u,1e3)),r=e.create_order_actual(),i=(yield Promise.all([t,r]))[1];document.getElementById("order-create-close")?.click(),e.order_form.reset(),e.order_form.enable(),e.order_create_loading=!1,i&&e.view_order(i)})()}create_order_actual(){var e=this;return(0,Re.Z)(function*(){let t=+new Date,r=e.order_form.value,i=(yield oU(e.all_pathways))[r.pathway],u={customer_name:r.customer_name,info:r.order_info,pathway:i.name,created_ts:t,done:!1,reached_idx:0,checkpoints:i.checkpoints};u.checkpoints[0].reached_ts=t;let d=(yield e.auth.currentUser)?.uid;return null==d?null:(yield e.db.list(`orders/${d}`).push(u)).key})()}view_order(e){this.current_order=e,Xf.getInstance("#view-order-modal")?.show()}toggle_order_modal_accordian(e,t){Mm.getOrCreateInstance(e).toggle(),t.classList.toggle("collapsed")}complete_checkpoint(){var e=this;return(0,Re.Z)(function*(){let t=e.current_order,r=(yield oU(e.all_orders))[t],i=+new Date;r.reached_idx++,r.checkpoints[r.reached_idx].reached_ts=i,e.viewOrderExtraInfo.value&&(r.checkpoints[r.reached_idx].extra_info=e.viewOrderExtraInfo.value),e.viewOrderExtraInfo.reset(),r.reached_idx==r.checkpoints.length-1&&(r.done=!0);let u=(yield e.auth.currentUser)?.uid;null!=u&&(yield e.db.object(`orders/${u}/${t}`).set(r))})()}copy_permalink(e){var t=this;return(0,Re.Z)(function*(){console.log(e);let r=(yield t.auth.currentUser)?.uid;if(null==r)return;let i=new URL(`/track/${r}/${e}`,document.location.href)+"";yield navigator.clipboard.writeText(i)})()}toggle_sort(e){e==this.cur_sort_field?this.cur_sort_asc=!this.cur_sort_asc:(this.cur_sort_field=e,this.cur_sort_asc=!0)}keyEvent(e){return"K"!==e.key&&"k"!=e.key||!e.ctrlKey||(document.getElementById("filter-textbox")?.focus(),e.stopPropagation(),!1)}do_filter(e){if(null===e)return[];let r=Object.entries(e).map(function(i){return{key:i[0],value:i[1]}}).filter(i=>{let u=i.value;if(this.uncompleted_filter_model&&u.reached_idx==u.checkpoints.length-1||this.pathway_filter_model&&u.pathway!=this.pathway_filter_model)return!1;let d=this.text_filter_model.trim();return!(d&&!u.customer_name.includes(d)&&!u.info.includes(d)&&!u.checkpoints[u.reached_idx].name.includes(d))});return this.cur_sort_field==tl.ID?r.sort((i,u)=>w0(i.value.info,u.value.info,!this.cur_sort_asc)):this.cur_sort_field==tl.CREATED?r.sort((i,u)=>w0(i.value.created_ts,u.value.created_ts,!this.cur_sort_asc)):this.cur_sort_field==tl.NAME?r.sort((i,u)=>w0(i.value.customer_name,u.value.customer_name,!this.cur_sort_asc)):this.cur_sort_field==tl.TEMPLATE?r.sort((i,u)=>w0(i.value.pathway,u.value.pathway,!this.cur_sort_asc)):this.cur_sort_field==tl.STAGE?r.sort((i,u)=>w0(i.value.checkpoints[i.value.reached_idx].name,u.value.checkpoints[u.value.reached_idx].name,!this.cur_sort_asc)):this.cur_sort_field==tl.UPDATED?r.sort((i,u)=>w0(i.value.checkpoints[i.value.reached_idx].reached_ts,u.value.checkpoints[u.value.reached_idx].reached_ts,!this.cur_sort_asc)):r}static#e=this.\u0275fac=function(t){return new(t||WN)(l.Y36($l),l.Y36(to),l.Y36(Dv))};static#t=this.\u0275cmp=l.Xpm({type:WN,selectors:[["app-dashboard"]],hostBindings:function(t,r){1&t&&l.NdJ("keydown",function(u){return r.keyEvent(u)},!1,l.Jf7)},decls:81,vars:34,consts:[[1,"container"],[1,"mt-5"],[2,"width","100%"],["routerLink","/new-template",1,"btn","btn-success","ms-3",2,"float","right"],[1,"bi","bi-plus-lg"],["type","button","id","temptemp","data-bs-toggle","modal","data-bs-target","#new-order-modal",1,"btn","btn-success","ms-3",2,"float","right"],[1,"mt-5","mb-3"],[1,"mb-3"],[1,"input-group",2,"display","inline-flex"],[1,"input-group-text"],[1,"bi","bi-funnel-fill","me-2"],["id","filter-textbox","placeholder","Search (Ctrl-K)",1,"form-control",2,"flex","10",3,"ngModel","ngModelChange"],["type","checkbox","value","","id","filtercheck",1,"form-check-input","me-2","mt-0",3,"ngModel","ngModelChange"],["for","filtercheck"],[1,"form-select",2,"flex","3",3,"ngModel","ngModelChange"],["value",""],[3,"value",4,"ngFor","ngForOf"],[1,"table","table-hover",2,"font-size","14pt"],[3,"click"],["style","position: relative;",4,"ngFor","ngForOf"],["id","new-order-modal","tabindex","-1",1,"modal","modal-lg"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close","id","order-create-close",1,"btn-close"],["ngNativeValidate","",3,"formGroup","ngSubmit"],[1,"modal-body"],["for","order-pathway",1,"col-form-label"],["formControlName","pathway","required","",1,"form-select"],["value","","hidden",""],["for","customer-name",1,"col-form-label"],["formControlName","customer_name","id","customer-name","required","",1,"form-control"],["for","order-info",1,"col-form-label"],["formControlName","order_info","id","order-info","required","",1,"form-control"],[1,"form-text"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],["type","submit",1,"btn","btn-primary"],["class","spinner-border spinner-border-sm ms-2","role","status",4,"ngIf"],["id","view-order-modal","tabindex","-1",1,"modal","modal-lg"],["class","modal-content",4,"ngIf"],[3,"value"],[2,"position","relative"],["href","javascript:void(0);",1,"stretched-link",2,"padding","0",3,"click"],["role","status",1,"spinner-border","spinner-border-sm","ms-2"],[1,"visually-hidden"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"fs-5"],[4,"ngIf"],["id","order-accordion",1,"accordion"],[4,"ngFor","ngForOf"],["type","button",1,"btn","btn-primary",3,"click"],[1,"bi","bi-clipboard2-fill"],["class","accordion-item",4,"ngIf"],[1,"accordion-item"],[1,"accordion-header"],["type","button",1,"accordion-button","collapsed",2,"display","grid","grid-template-columns","1fr max-content max-content","align-items","center","grid-gap","10px",3,"click"],[2,"padding-right","20px"],[1,"accordion-collapse","collapse",3,"id"],[1,"accordion-body"],["class","desc-prespace",4,"ngIf"],[1,"desc-prespace"],[1,"fs-5","mt-5"],["placeholder","Extra Info (Optional)",1,"form-control",3,"formControl"],["type","button",1,"btn","btn-success","mt-2",3,"click"]],template:function(t,r){1&t&&(l.TgZ(0,"div",0)(1,"h1",1),l._uU(2,"Dashboard"),l.qZA(),l.TgZ(3,"div",2)(4,"a",3),l._UZ(5,"i",4),l._uU(6," New Template"),l.qZA(),l.TgZ(7,"button",5),l._UZ(8,"i",4),l._uU(9," Create Order"),l.qZA()(),l.TgZ(10,"h2",6),l._uU(11,"Orders:"),l.qZA(),l.TgZ(12,"div",7)(13,"div",8)(14,"div",9),l._UZ(15,"i",10),l._uU(16," Filter: "),l.qZA(),l.TgZ(17,"input",11),l.NdJ("ngModelChange",function(u){return r.text_filter_model=u}),l.qZA(),l.TgZ(18,"div",9)(19,"input",12),l.NdJ("ngModelChange",function(u){return r.uncompleted_filter_model=u}),l.qZA(),l.TgZ(20,"label",13),l._uU(21,"Only Uncompleted Orders"),l.qZA()(),l.TgZ(22,"select",14),l.NdJ("ngModelChange",function(u){return r.pathway_filter_model=u}),l.TgZ(23,"option",15),l._uU(24,"No Template Filter..."),l.qZA(),l.YNc(25,Ose,2,2,"option",16),l.ALo(26,"keyvalue"),l.ALo(27,"async"),l.qZA()()(),l.TgZ(28,"table",17)(29,"thead")(30,"tr")(31,"th",18),l.NdJ("click",function(){return r.toggle_sort(r.SORTS.ID)}),l._uU(32," ID "),l.qZA(),l.TgZ(33,"th",18),l.NdJ("click",function(){return r.toggle_sort(r.SORTS.CREATED)}),l._uU(34," Created "),l.qZA(),l.TgZ(35,"th",18),l.NdJ("click",function(){return r.toggle_sort(r.SORTS.NAME)}),l._uU(36," Customer Name "),l.qZA(),l.TgZ(37,"th",18),l.NdJ("click",function(){return r.toggle_sort(r.SORTS.TEMPLATE)}),l._uU(38," Template "),l.qZA(),l.TgZ(39,"th",18),l.NdJ("click",function(){return r.toggle_sort(r.SORTS.STAGE)}),l._uU(40," Current Stage "),l.qZA(),l.TgZ(41,"th",18),l.NdJ("click",function(){return r.toggle_sort(r.SORTS.UPDATED)}),l._uU(42," Last Updated "),l.qZA()()(),l.TgZ(43,"tbody"),l.YNc(44,Pse,16,12,"tr",19),l.ALo(45,"async"),l.qZA()()(),l.TgZ(46,"div",20)(47,"div",21)(48,"div",22)(49,"div",23)(50,"h5",24),l._uU(51,"Create Order"),l.qZA(),l._UZ(52,"button",25),l.qZA(),l.TgZ(53,"form",26),l.NdJ("ngSubmit",function(){return r.create_order()}),l.TgZ(54,"div",27)(55,"label",28),l._uU(56,"Template:"),l.qZA(),l.TgZ(57,"select",29)(58,"option",30),l._uU(59,"Select Template"),l.qZA(),l.YNc(60,Lse,2,2,"option",16),l.ALo(61,"keyvalue"),l.ALo(62,"async"),l.qZA(),l.TgZ(63,"label",31),l._uU(64,"Customer Name:"),l.qZA(),l._UZ(65,"input",32),l.TgZ(66,"label",33),l._uU(67,"Order ID:"),l.qZA(),l._UZ(68,"input",34),l.TgZ(69,"div",35),l._uU(70,"This should be an order number or identifier so you can identify which order is which. You can also use the corresponding order number from your POS, etc."),l.qZA()(),l.TgZ(71,"div",36)(72,"button",37),l._uU(73,"Cancel"),l.qZA(),l.TgZ(74,"button",38),l._uU(75," Create "),l.YNc(76,Fse,3,0,"div",39),l.qZA()()()()()(),l.TgZ(77,"div",40)(78,"div",21),l.YNc(79,Gse,25,10,"div",41),l.ALo(80,"async"),l.qZA()()),2&t&&(l.xp6(17),l.Q6J("ngModel",r.text_filter_model),l.xp6(2),l.Q6J("ngModel",r.uncompleted_filter_model),l.xp6(3),l.Q6J("ngModel",r.pathway_filter_model),l.xp6(3),l.Q6J("ngForOf",l.lcZ(26,21,l.lcZ(27,23,r.all_pathways))),l.xp6(6),l.Tol((r.cur_sort_field==r.SORTS.ID?r.cur_sort_asc?"up":"down":"")+" sortable-header"),l.xp6(2),l.Tol((r.cur_sort_field==r.SORTS.CREATED?r.cur_sort_asc?"up":"down":"")+" sortable-header"),l.xp6(2),l.Tol((r.cur_sort_field==r.SORTS.NAME?r.cur_sort_asc?"up":"down":"")+" sortable-header"),l.xp6(2),l.Tol((r.cur_sort_field==r.SORTS.TEMPLATE?r.cur_sort_asc?"up":"down":"")+" sortable-header"),l.xp6(2),l.Tol((r.cur_sort_field==r.SORTS.STAGE?r.cur_sort_asc?"up":"down":"")+" sortable-header"),l.xp6(2),l.Tol((r.cur_sort_field==r.SORTS.UPDATED?r.cur_sort_asc?"up":"down":"")+" sortable-header"),l.xp6(3),l.Q6J("ngForOf",r.do_filter(l.lcZ(45,25,r.all_orders))),l.xp6(9),l.Q6J("formGroup",r.order_form),l.xp6(7),l.Q6J("ngForOf",l.lcZ(61,27,l.lcZ(62,29,r.all_pathways))),l.xp6(16),l.Q6J("ngIf",r.order_create_loading),l.xp6(3),l.Q6J("ngIf",r.current_order&&(l.lcZ(80,31,r.all_orders)||l.DdM(33,Zse))[r.current_order]))},dependencies:[Dr,ss,nd,vg,Bw,Ll,ry,Dy,cg,cy,Qh,Iy,Kh,Ty,Gh,ps,Ra,pu]})}function Wse(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"button",19),l.NdJ("click",function(){l.CHM(t);const i=l.oxw().index,u=l.oxw();return l.KtG(u.delete_checkpoint(i))}),l.qZA()}}function qse(n,e){if(1&n){const t=l.EpF();l.ynx(0),l.TgZ(1,"div",10),l.NdJ("dragstart",function(){const u=l.CHM(t).index,d=l.oxw();return l.KtG(d.onDragStart(u))})("dragenter",function(){const u=l.CHM(t).index,d=l.oxw();return l.KtG(d.onDragEnter(u))})("dragend",function(){l.CHM(t);const i=l.oxw();return l.KtG(i.onDragEnd())}),l.TgZ(2,"span",11),l.NdJ("mousedown",function(){const u=l.CHM(t).index,d=l.oxw();return l.KtG(d.onHandlePressed(u))})("mouseup",function(){l.CHM(t);const i=l.oxw();return l.KtG(i.onHandleReleased())}),l._UZ(3,"i",12),l.qZA(),l.TgZ(4,"div",13)(5,"label",14),l._uU(6,"Stage Name"),l.qZA(),l.YNc(7,Wse,1,0,"button",15),l._UZ(8,"input",16),l.TgZ(9,"label",17),l._uU(10,"Stage Description (Optional)"),l.qZA(),l._UZ(11,"textarea",18),l.qZA()(),l.BQk()}if(2&n){const t=e.index,r=l.oxw();l.xp6(1),l.ekj("dragging",t===r.draggingIndex),l.Q6J("formGroupName",t)("draggable",t===r.preDragIndex),l.xp6(4),l.s9C("for","checkname"+t),l.xp6(2),l.Q6J("ngIf",r.checkpoints.controls.length>2),l.xp6(1),l.s9C("id","checkname"+t),l.xp6(1),l.s9C("for","desc"+t),l.xp6(2),l.s9C("id","desc"+t)}}class qN{constructor(e,t,r,i){this.fb=e,this.auth=t,this.db=r,this.router=i,this.form=this.fb.group({name:[""],checkpoints:this.fb.array([this.new_checkpoint(),this.new_checkpoint()])}),this.is_submitting=!1,this.preDragIndex=-1,this.draggingIndex=-1}get checkpoints(){return this.form.controls.checkpoints}new_checkpoint(){return this.fb.group({name:[""],desc:[""]})}add_checkpoint(){this.checkpoints.push(this.new_checkpoint())}delete_checkpoint(e){this.checkpoints.removeAt(e)}onHandlePressed(e){this.preDragIndex=e}onHandleReleased(){this.preDragIndex=-1}onDragStart(e){this.draggingIndex=e}onDragEnter(e){if(this.draggingIndex!==e&&-1!==this.draggingIndex){const t=this.checkpoints.at(this.draggingIndex);this.checkpoints.removeAt(this.draggingIndex),this.checkpoints.insert(e,t),this.draggingIndex=e}}onDragEnd(){this.draggingIndex=-1,this.preDragIndex=-1}submit(){var e=this;return(0,Re.Z)(function*(){e.is_submitting=!0;let t=e.form.value,r=(yield e.auth.currentUser)?.uid;null!=r&&(yield e.db.list(`pathways/${r}`).push(t),yield e.router.navigate(["dashboard"]))})()}static#e=this.\u0275fac=function(t){return new(t||qN)(l.Y36($l),l.Y36(to),l.Y36(Dv),l.Y36(Ii))};static#t=this.\u0275cmp=l.Xpm({type:qN,selectors:[["app-new-pathway"]],decls:15,vars:3,consts:[[1,"container"],[1,"mt-5"],["ngNativeValidate","",3,"formGroup","ngSubmit"],["for","pathname",1,"form-label","mt-5"],["id","pathname","formControlName","name","placeholder","Template Name","required","",1,"form-control"],[1,"mt-5","mb-3"],["formArrayName","checkpoints"],[4,"ngFor","ngForOf"],["type","button",1,"btn","btn-success","mb-5",3,"click"],["type","submit",1,"btn","btn-primary",2,"float","right",3,"disabled"],[1,"card","mb-5","draggable",3,"formGroupName","draggable","dragstart","dragenter","dragend"],[1,"drag-handle",3,"mousedown","mouseup"],[1,"text-muted","bi","bi-grip-vertical"],[1,"card-body"],[1,"form-label",3,"for"],["type","button","class","btn-close btn-close-red","style","float:right;",3,"click",4,"ngIf"],["formControlName","name","placeholder","Stage Name","required","",1,"form-control",3,"id"],[1,"form-label","mt-3",3,"for"],["formControlName","desc","placeholder","Stage Description",1,"form-control",3,"id"],["type","button",1,"btn-close","btn-close-red",2,"float","right",3,"click"]],template:function(t,r){1&t&&(l.TgZ(0,"div",0)(1,"h1",1),l._uU(2,"Make New Template"),l.qZA(),l.TgZ(3,"form",2),l.NdJ("ngSubmit",function(){return r.submit()}),l.TgZ(4,"label",3),l._uU(5,"Name"),l.qZA(),l._UZ(6,"input",4),l.TgZ(7,"h4",5),l._uU(8," Stages: "),l.qZA(),l.ynx(9,6),l.YNc(10,qse,12,9,"ng-container",7),l.BQk(),l.TgZ(11,"button",8),l.NdJ("click",function(){return r.add_checkpoint()}),l._uU(12,"Add Additional Stage"),l.qZA(),l.TgZ(13,"button",9),l._uU(14,"Submit"),l.qZA()()()),2&t&&(l.xp6(3),l.Q6J("formGroup",r.form),l.xp6(7),l.Q6J("ngForOf",r.checkpoints.controls),l.xp6(3),l.Q6J("disabled",r.is_submitting))},dependencies:[Dr,ss,Ll,cg,cy,Qh,Kh,Ty,yg,Cy]})}class zN{static#e=this.\u0275fac=function(t){return new(t||zN)};static#t=this.\u0275cmp=l.Xpm({type:zN,selectors:[["app-page-not-found"]],decls:5,vars:0,consts:[[1,"container"],[1,"mt-5"],[1,"lead","mt-4"]],template:function(t,r){1&t&&(l.TgZ(0,"div",0)(1,"h2",1),l._uU(2,"Page Not Found"),l.qZA(),l.TgZ(3,"p",2),l._uU(4,"Sorry, we don't know that url."),l.qZA()())}})}const zse=["checkpointCircle"];function Kse(n,e){if(1&n&&(l.TgZ(0,"span",15),l._uU(1),l.qZA()),2&n){const t=e.ngIf;l.xp6(1),l.Oqu(t.display_name)}}function Yse(n,e){if(1&n&&(l.TgZ(0,"p",19),l._uU(1),l.qZA()),2&n){const t=l.oxw().ngIf;l.xp6(1),l.Oqu(t.desc)}}function Qse(n,e){if(1&n&&(l.TgZ(0,"p",19),l._uU(1),l.qZA()),2&n){const t=l.oxw().ngIf;l.xp6(1),l.Oqu(t.extra_info)}}function Jse(n,e){if(1&n&&(l.TgZ(0,"div",16)(1,"h3",17),l._uU(2),l.qZA(),l.TgZ(3,"p"),l._uU(4),l.ALo(5,"date"),l.qZA(),l.YNc(6,Yse,2,1,"p",18),l.YNc(7,Qse,2,1,"p",18),l.qZA()),2&n){const t=e.ngIf;l.xp6(2),l.hij("Status: ",t.name,""),l.xp6(2),l.hij("At ",l.xi3(5,4,t.reached_ts,"short"),""),l.xp6(2),l.Q6J("ngIf",t.desc),l.xp6(1),l.Q6J("ngIf",t.extra_info)}}const Xse=function(n,e){return{"checkpoint-circle":!0,current:n,reached:e}};function eoe(n,e){if(1&n&&(l.ynx(0),l._UZ(1,"div",20,21),l.ALo(3,"date"),l.BQk()),2&n){const t=e.$implicit,r=e.index,i=l.oxw().ngIf;l.xp6(1),l.zWS("data-bs-title","<p class='lead'>",t.name,"</p>",t.reached_ts?"Reached: "+l.xi3(3,3,t.reached_ts,"short"):"(pending)",""),l.Q6J("ngClass",l.WLB(6,Xse,r==i.reached_idx,r<=i.reached_idx))}}function toe(n,e){if(1&n&&(l.TgZ(0,"p",19),l._uU(1),l.qZA()),2&n){const t=l.oxw(2).$implicit;l.xp6(1),l.hij(" ",t.desc," ")}}function noe(n,e){if(1&n&&(l.TgZ(0,"p",19),l._uU(1),l.qZA()),2&n){const t=l.oxw(2).$implicit;l.xp6(1),l.hij(" ",t.extra_info," ")}}function roe(n,e){if(1&n&&(l.TgZ(0,"div",27)(1,"div",28),l.YNc(2,toe,2,1,"p",18),l.YNc(3,noe,2,1,"p",18),l.qZA()()),2&n){const t=l.oxw(),i=t.$implicit;l.MGl("id","collapse",t.index,""),l.xp6(2),l.Q6J("ngIf",i.desc),l.xp6(1),l.Q6J("ngIf",i.extra_info)}}function ioe(n,e){if(1&n){const t=l.EpF();l.ynx(0),l.TgZ(1,"div",22)(2,"h2",23)(3,"button",24),l.NdJ("click",function(i){const d=l.CHM(t).index,p=l.oxw(2);return l.KtG(p.toggle_order_modal_accordian("#collapse"+d,i.currentTarget))}),l.TgZ(4,"span"),l._uU(5),l.qZA(),l.TgZ(6,"span",25),l._uU(7),l.ALo(8,"date"),l.qZA()()(),l.YNc(9,roe,4,3,"div",26),l.qZA(),l.BQk()}if(2&n){const t=e.$implicit,r=e.index,i=l.oxw().ngIf;l.xp6(3),l.Q6J("disabled",r>i.reached_idx),l.xp6(2),l.Oqu(t.name),l.xp6(2),l.hij(" ",l.xi3(8,4,t.reached_ts,"short")," "),l.xp6(2),l.Q6J("ngIf",r<=i.reached_idx)}}function soe(n,e){if(1&n&&(l.TgZ(0,"div",5)(1,"h1",6),l._uU(2),l.TgZ(3,"span",7),l._uU(4),l.qZA(),l.YNc(5,Kse,2,1,"span",8),l.ALo(6,"async"),l.qZA(),l.TgZ(7,"h3",9)(8,"span"),l._uU(9),l.qZA(),l.TgZ(10,"span",10),l._uU(11),l.ALo(12,"date"),l.qZA()(),l.YNc(13,Jse,8,7,"div",11),l.TgZ(14,"div",12),l.YNc(15,eoe,4,9,"ng-container",13),l.qZA(),l.TgZ(16,"h4",6),l._uU(17,"History:"),l.qZA(),l.TgZ(18,"div",14),l.YNc(19,ioe,10,7,"ng-container",13),l.qZA()()),2&n){const t=e.ngIf,r=l.oxw();l.xp6(2),l.hij(" Track ",t.pathway," "),l.xp6(2),l.hij("(",t.info,")"),l.xp6(1),l.Q6J("ngIf",l.lcZ(6,8,r.branding_obv)),l.xp6(4),l.hij("For ",t.customer_name,""),l.xp6(2),l.hij("Created: ",l.xi3(12,10,t.created_ts,"short"),""),l.xp6(2),l.Q6J("ngIf",t.checkpoints[t.reached_idx]),l.xp6(2),l.Q6J("ngForOf",t.checkpoints),l.xp6(4),l.Q6J("ngForOf",t.checkpoints)}}class KN{constructor(e,t,r){this.db=e,this.route=t,this.router=r,this.order_obv=Tt(null),this.branding_obv=Tt(null)}static#e=this.hide_nav=!0;ngOnInit(){var e=this;return(0,Re.Z)(function*(){const t=e.route.snapshot.params.uid,r=e.route.snapshot.params.oid;t&&r?(e.order_obv=e.db.object(`orders/${t}/${r}`).valueChanges(),e.branding_obv=e.db.object(`branding/${t}`).valueChanges(),(yield oU(e.order_obv))||(yield e.router.navigate(["404"]))):yield e.router.navigate(["404"])})()}ngAfterViewInit(){let e=()=>{[...document.querySelectorAll('[data-bs-toggle="tooltip"]')].map(i=>Om.getOrCreateInstance(i))};e(),this.checkpoint_circle_refs.changes.subscribe(e)}toggle_order_modal_accordian(e,t){Mm.getOrCreateInstance(e).toggle(),t.classList.toggle("collapsed")}static#t=this.\u0275fac=function(t){return new(t||KN)(l.Y36(Dv),l.Y36(Ga),l.Y36(Ii))};static#n=this.\u0275cmp=l.Xpm({type:KN,selectors:[["app-track"]],viewQuery:function(t,r){if(1&t&&l.Gf(zse,5),2&t){let i;l.iGM(i=l.CRH())&&(r.checkpoint_circle_refs=i)}},decls:8,vars:3,consts:[["class","container",4,"ngIf"],[2,"flex","1"],[1,"bg-dark","text-light"],[1,"pt-2","pb-2",2,"text-align","center"],["routerLink","/",1,"text-light"],[1,"container"],[1,"mt-5"],[1,"text-muted","ms-3"],["class","h2","style","float: right;",4,"ngIf"],[1,"text-med","mt-4"],[1,"fs-5",2,"float","right"],["style","text-align: center;","class","lead",4,"ngIf"],[1,"mt-5","progress-container"],[4,"ngFor","ngForOf"],["id","order-accordion",1,"accordion","mt-3"],[1,"h2",2,"float","right"],[1,"lead",2,"text-align","center"],[1,"mt-5","mb-3",2,"text-align","center"],["class","desc-prespace",4,"ngIf"],[1,"desc-prespace"],["data-bs-toggle","tooltip","data-bs-placement","top","data-bs-custom-class","checkpoint-tooltip","data-bs-html","true",3,"ngClass"],["checkpointCircle",""],[1,"accordion-item"],[1,"accordion-header"],["type","button",1,"accordion-button","collapsed",2,"display","grid","grid-template-columns","1fr max-content max-content","align-items","center","grid-gap","10px",3,"disabled","click"],[2,"padding-right","20px"],["class","accordion-collapse collapse",3,"id",4,"ngIf"],[1,"accordion-collapse","collapse",3,"id"],[1,"accordion-body"]],template:function(t,r){1&t&&(l.YNc(0,soe,20,13,"div",0),l.ALo(1,"async"),l._UZ(2,"div",1),l.TgZ(3,"footer",2)(4,"div",3),l._uU(5," Powered by "),l.TgZ(6,"a",4),l._uU(7,"Tellotrack"),l.qZA()()()),2&t&&l.Q6J("ngIf",l.lcZ(1,1,r.order_obv))},dependencies:[Dt,Dr,ss,nd,ps,Ra]})}var ooe=V(8247);function aoe(n,e){if(1&n&&(l.TgZ(0,"div",12)(1,"span",5),l._uU(2,"Sign-In Method:"),l.qZA(),l._uU(3),l.qZA()),2&n){const t=e.ngIf,r=l.oxw(2);l.xp6(3),l.hij("",r.SigninMethodTable[t[0].providerId]," ")}}function uoe(n,e){if(1&n&&(l.TgZ(0,"div",12)(1,"label",13),l._uU(2,"Email:"),l.qZA(),l._UZ(3,"input",14),l.qZA()),2&n){const t=l.oxw().ngIf;l.xp6(3),l.s9C("value",t.email)}}function loe(n,e){1&n&&(l.TgZ(0,"div",15)(1,"span",16),l._uU(2,"Loading..."),l.qZA()())}function coe(n,e){1&n&&(l.TgZ(0,"div",21)(1,"span",16),l._uU(2,"Loading..."),l.qZA()())}function doe(n,e){if(1&n&&(l.ynx(0),l._uU(1," Send Reset Password Email "),l.YNc(2,coe,3,0,"div",20),l.BQk()),2&n){const t=l.oxw(3);l.xp6(2),l.Q6J("ngIf",t.reset_email_loading)}}function hoe(n,e){1&n&&(l.ynx(0),l._uU(1,"Reset Password Email Sent"),l.BQk())}function foe(n,e){if(1&n){const t=l.EpF();l.ynx(0),l._UZ(1,"hr"),l.TgZ(2,"h2",17),l._uU(3,"Security"),l.qZA(),l.TgZ(4,"div",18)(5,"button",19),l.NdJ("click",function(){l.CHM(t);const i=l.oxw(2);return l.KtG(i.send_reset_email())}),l.YNc(6,doe,3,1,"ng-container",0),l.YNc(7,hoe,2,0,"ng-container",0),l.qZA()(),l.BQk()}if(2&n){const t=l.oxw(2);l.xp6(5),l.Q6J("disabled",t.reset_email_sent||t.reset_email_loading),l.xp6(1),l.Q6J("ngIf",!t.reset_email_sent),l.xp6(1),l.Q6J("ngIf",t.reset_email_sent)}}const poe=function(){return{standalone:!0}},xZ=function(){return[null]};function goe(n,e){if(1&n){const t=l.EpF();l.ynx(0),l.TgZ(1,"div",1)(2,"h1",2),l._uU(3,"Account Settings"),l.qZA(),l.YNc(4,aoe,4,1,"div",3),l.YNc(5,uoe,4,1,"div",3),l.TgZ(6,"div",4)(7,"span",5),l._uU(8,"Manage Subscription:"),l.qZA(),l.TgZ(9,"button",6),l.NdJ("click",function(){l.CHM(t);const i=l.oxw();return l.KtG(i.open_stripe_portal())}),l._uU(10," Open Stripe Portal "),l.YNc(11,loe,3,0,"div",7),l.qZA()(),l._UZ(12,"hr"),l.TgZ(13,"h2",2),l._uU(14,"Branding"),l.qZA(),l.TgZ(15,"div",4)(16,"form",8),l.NdJ("ngSubmit",function(){const u=l.CHM(t).ngIf,d=l.oxw();return l.KtG(d.update_display_name(u))}),l.TgZ(17,"label",9),l._uU(18,"Display Name:"),l.qZA(),l.TgZ(19,"input",10),l.NdJ("ngModelChange",function(i){l.CHM(t);const u=l.oxw();return l.KtG(u.display_name_input=i)}),l.qZA(),l.TgZ(20,"button",11),l._uU(21,"Save"),l.qZA()()(),l.YNc(22,foe,8,3,"ng-container",0),l.qZA(),l.BQk()}if(2&n){const t=e.ngIf,r=l.oxw();l.xp6(4),l.Q6J("ngIf",t.providerData),l.xp6(1),l.Q6J("ngIf",t.email),l.xp6(4),l.Q6J("disabled",r.is_portal_loading),l.xp6(2),l.Q6J("ngIf",r.is_portal_loading),l.xp6(8),l.Q6J("ngModelOptions",l.DdM(8,poe))("ngModel",r.display_name_input),l.xp6(1),l.Q6J("disabled",!(r.display_name_input&&r.display_name_input!=t.displayName)),l.xp6(2),l.Q6J("ngIf",t.email&&"password"===(null==(t.providerData||l.DdM(9,xZ))[0]?null:(t.providerData||l.DdM(10,xZ))[0].providerId))}}class YN{constructor(e,t,r){this.firebase_auth=e,this.db=t,this.fns=r,this.SigninMethodTable={password:"Email and Password","google.com":"Google"},this.is_portal_loading=!1,this.reset_email_sent=!1,this.reset_email_loading=!1}ngOnInit(){this.firebase_auth.user.subscribe(e=>{this.display_name_input=e?.displayName})}update_display_name(e){var t=this;return(0,Re.Z)(function*(){let r=(0,ooe.af)(e,{displayName:t.display_name_input}),i=t.db.object(`branding/${e.uid}`).update({display_name:t.display_name_input});yield Promise.all([r,i])})()}open_stripe_portal(){var e=this;return(0,Re.Z)(function*(){e.is_portal_loading=!0;const r=yield e.fns.httpsCallable("ext-firestore-stripe-payments-createPortalLink")({returnUrl:document.location.href}).toPromise();window.location.assign(r.url)})()}send_reset_email(){var e=this;return(0,Re.Z)(function*(){e.reset_email_loading=!0;let t=(yield e.firebase_auth.currentUser)?.email;t?e.firebase_auth.sendPasswordResetEmail(t).then(()=>{e.reset_email_sent=!0}).catch(r=>{alert(JSON.stringify(r)),e.reset_email_loading=!1}):e.reset_email_loading=!1})()}static#e=this.\u0275fac=function(t){return new(t||YN)(l.Y36(to),l.Y36(Dv),l.Y36(nU))};static#t=this.\u0275cmp=l.Xpm({type:YN,selectors:[["app-settings"]],decls:2,vars:3,consts:[[4,"ngIf"],[1,"container",2,"font-size","16pt"],[1,"mt-5","mb-5"],["class","mb-4",4,"ngIf"],[1,"mb-5"],[1,"me-3"],[1,"btn","btn-success",3,"disabled","click"],["class","spinner-border spinner-border-sm ms-2","style","display: inline-block;","role","status",4,"ngIf"],[3,"ngSubmit"],["for","display-name",1,"form-label","me-3"],["id","display-name",1,"form-control","me-3",2,"width","400px","display","inline-block",3,"ngModelOptions","ngModel","ngModelChange"],["type","submit",1,"btn","btn-primary",3,"disabled"],[1,"mb-4"],["for","user-email",1,"form-label","me-3"],["disabled","","id","user-email",1,"form-control",2,"width","400px","display","inline-block",3,"value"],["role","status",1,"spinner-border","spinner-border-sm","ms-2",2,"display","inline-block"],[1,"visually-hidden"],[1,"mb-5","mt-5"],["id","reset-link",1,"mb-5"],[1,"btn","btn-primary","btn-lg",3,"disabled","click"],["class","spinner-border ms-3","style","display: inline-block; vertical-align: bottom;","role","status",4,"ngIf"],["role","status",1,"spinner-border","ms-3",2,"display","inline-block","vertical-align","bottom"]],template:function(t,r){1&t&&(l.YNc(0,goe,23,11,"ng-container",0),l.ALo(1,"async")),2&t&&l.Q6J("ngIf",l.lcZ(1,1,r.firebase_auth.user))},dependencies:[ss,ld,Ll,cg,cy,Gh,fg,ps]})}function moe(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div",2)(1,"h1",3),l._uU(2,"Account Subscription"),l.qZA(),l.TgZ(3,"h2",4),l._uU(4,"$2.49/month"),l.qZA(),l.TgZ(5,"button",5),l.NdJ("click",function(){l.CHM(t);const i=l.oxw();return l.KtG(i.gotoCheckout())}),l._uU(6," Pay with Stripe "),l.qZA()()}if(2&n){const t=l.oxw();l.xp6(5),l.Q6J("disabled",t.is_loading)}}function _oe(n,e){1&n&&(l.TgZ(0,"div",8)(1,"span",9),l._uU(2,"Loading..."),l.qZA()())}function yoe(n,e){if(1&n&&(l.TgZ(0,"div",6),l.YNc(1,_oe,3,0,"div",7),l.qZA()),2&n){const t=l.oxw();l.xp6(1),l.Q6J("ngIf",t.is_loading)}}class QN{constructor(e,t){this.firebase_auth=e,this.db=t,this.is_loading=!1}ngOnInit(){var e=this;return(0,Re.Z)(function*(){yield(yield e.firebase_auth.currentUser)?.getIdToken(!0);let t=yield(yield e.firebase_auth.currentUser)?.getIdTokenResult();console.log(t)})()}gotoCheckout(){var e=this;return(0,Re.Z)(function*(){let t=(yield e.firebase_auth.currentUser)?.uid;null!=t&&(e.is_loading=!0,(yield e.db.collection("customers").doc(t).collection("checkout_sessions").add({price:"price_1MCp5rD6M2UKk7XjtYLHGsYD",success_url:window.location.origin,cancel_url:window.location.origin})).onSnapshot(i=>{const{error:u,url:d}=i.data()||{};u&&(alert(`An error occured: ${u.message}`),e.is_loading=!1),d&&window.location.assign(d)}))})()}static#e=this.\u0275fac=function(t){return new(t||QN)(l.Y36(to),l.Y36(H5))};static#t=this.\u0275cmp=l.Xpm({type:QN,selectors:[["app-payment"]],decls:2,vars:2,consts:[["class","container",4,"ngIf"],["style","display: flex; justify-content: center;",4,"ngIf"],[1,"container"],[1,"mb-3",2,"text-align","center","margin-top","20%"],[1,"mb-5",2,"text-align","center"],[1,"btn","btn-lg","btn-success",2,"margin","0 auto","display","block",3,"disabled","click"],[2,"display","flex","justify-content","center"],["class","spinner-border text-primary","style","width: 200px; height: 200px; border-width: 15px; margin-top: 30vh;","role","status",4,"ngIf"],["role","status",1,"spinner-border","text-primary",2,"width","200px","height","200px","border-width","15px","margin-top","30vh"],[1,"visually-hidden"]],template:function(t,r){1&t&&(l.YNc(0,moe,7,1,"div",0),l.YNc(1,yoe,2,1,"div",1)),2&t&&(l.Q6J("ngIf",!r.is_loading),l.xp6(1),l.Q6J("ngIf",r.is_loading))},dependencies:[ss]})}function voe(n,e){1&n&&(l.ynx(0),l.TgZ(1,"h1"),l._uU(2,"Privacy Policy"),l.qZA(),l.TgZ(3,"p"),l._uU(4,"Last updated: December 3, 2022"),l.qZA(),l.TgZ(5,"p"),l._uU(6,"This Privacy Policy describes Our policies and procedures on the collection, use and disclosure of Your information when You use the Service and tells You about Your privacy rights and how the law protects You."),l.qZA(),l.TgZ(7,"p"),l._uU(8,"We use Your Personal data to provide and improve the Service. By using the Service, You agree to the collection and use of information in accordance with this Privacy Policy. This Privacy Policy has been created with the help of the "),l.TgZ(9,"a",2),l._uU(10,"TermsFeed Privacy Policy Generator"),l.qZA(),l._uU(11,"."),l.qZA(),l.TgZ(12,"h1"),l._uU(13,"Interpretation and Definitions"),l.qZA(),l.TgZ(14,"h2"),l._uU(15,"Interpretation"),l.qZA(),l.TgZ(16,"p"),l._uU(17,"The words of which the initial letter is capitalized have meanings defined under the following conditions. The following definitions shall have the same meaning regardless of whether they appear in singular or in plural."),l.qZA(),l.TgZ(18,"h2"),l._uU(19,"Definitions"),l.qZA(),l.TgZ(20,"p"),l._uU(21,"For the purposes of this Privacy Policy:"),l.qZA(),l.TgZ(22,"ul")(23,"li")(24,"p")(25,"strong"),l._uU(26,"Account"),l.qZA(),l._uU(27," means a unique account created for You to access our Service or parts of our Service."),l.qZA()(),l.TgZ(28,"li")(29,"p")(30,"strong"),l._uU(31,"Company"),l.qZA(),l._uU(32,' (referred to as either "the Company", "We", "Us" or "Our" in this Agreement) refers to TelloTrack, 514 Metlars Ln, NJ 08854.'),l.qZA()(),l.TgZ(33,"li")(34,"p")(35,"strong"),l._uU(36,"Cookies"),l.qZA(),l._uU(37," are small files that are placed on Your computer, mobile device or any other device by a website, containing the details of Your browsing history on that website among its many uses."),l.qZA()(),l.TgZ(38,"li")(39,"p")(40,"strong"),l._uU(41,"Country"),l.qZA(),l._uU(42," refers to: New Jersey, United States"),l.qZA()(),l.TgZ(43,"li")(44,"p")(45,"strong"),l._uU(46,"Device"),l.qZA(),l._uU(47," means any device that can access the Service such as a computer, a cellphone or a digital tablet."),l.qZA()(),l.TgZ(48,"li")(49,"p")(50,"strong"),l._uU(51,"Personal Data"),l.qZA(),l._uU(52," is any information that relates to an identified or identifiable individual."),l.qZA()(),l.TgZ(53,"li")(54,"p")(55,"strong"),l._uU(56,"Service"),l.qZA(),l._uU(57," refers to the Website."),l.qZA()(),l.TgZ(58,"li")(59,"p")(60,"strong"),l._uU(61,"Service Provider"),l.qZA(),l._uU(62," means any natural or legal person who processes the data on behalf of the Company. It refers to third-party companies or individuals employed by the Company to facilitate the Service, to provide the Service on behalf of the Company, to perform services related to the Service or to assist the Company in analyzing how the Service is used."),l.qZA()(),l.TgZ(63,"li")(64,"p")(65,"strong"),l._uU(66,"Usage Data"),l.qZA(),l._uU(67," refers to data collected automatically, either generated by the use of the Service or from the Service infrastructure itself (for example, the duration of a page visit)."),l.qZA()(),l.TgZ(68,"li")(69,"p")(70,"strong"),l._uU(71,"Website"),l.qZA(),l._uU(72," refers to TelloTrack, accessible from "),l.TgZ(73,"a",3),l._uU(74,"tellotrack.com"),l.qZA()()(),l.TgZ(75,"li")(76,"p")(77,"strong"),l._uU(78,"You"),l.qZA(),l._uU(79," means the individual accessing or using the Service, or the company, or other legal entity on behalf of which such individual is accessing or using the Service, as applicable."),l.qZA()()(),l.TgZ(80,"h1"),l._uU(81,"Collecting and Using Your Personal Data"),l.qZA(),l.TgZ(82,"h2"),l._uU(83,"Types of Data Collected"),l.qZA(),l.TgZ(84,"h3"),l._uU(85,"Personal Data"),l.qZA(),l.TgZ(86,"p"),l._uU(87,"While using Our Service, We may ask You to provide Us with certain personally identifiable information that can be used to contact or identify You. Personally identifiable information may include, but is not limited to:"),l.qZA(),l.TgZ(88,"ul")(89,"li")(90,"p"),l._uU(91,"Email address"),l.qZA()(),l.TgZ(92,"li")(93,"p"),l._uU(94,"First name and last name"),l.qZA()(),l.TgZ(95,"li")(96,"p"),l._uU(97,"Phone number"),l.qZA()(),l.TgZ(98,"li")(99,"p"),l._uU(100,"Address, State, Province, ZIP/Postal code, City"),l.qZA()(),l.TgZ(101,"li")(102,"p"),l._uU(103,"Usage Data"),l.qZA()()(),l.TgZ(104,"h3"),l._uU(105,"Usage Data"),l.qZA(),l.TgZ(106,"p"),l._uU(107,"Usage Data is collected automatically when using the Service."),l.qZA(),l.TgZ(108,"p"),l._uU(109,"Usage Data may include information such as Your Device's Internet Protocol address (e.g. IP address), browser type, browser version, the pages of our Service that You visit, the time and date of Your visit, the time spent on those pages, unique device identifiers and other diagnostic data."),l.qZA(),l.TgZ(110,"p"),l._uU(111,"When You access the Service by or through a mobile device, We may collect certain information automatically, including, but not limited to, the type of mobile device You use, Your mobile device unique ID, the IP address of Your mobile device, Your mobile operating system, the type of mobile Internet browser You use, unique device identifiers and other diagnostic data."),l.qZA(),l.TgZ(112,"p"),l._uU(113,"We may also collect information that Your browser sends whenever You visit our Service or when You access the Service by or through a mobile device."),l.qZA(),l.TgZ(114,"h3"),l._uU(115,"Tracking Technologies and Cookies"),l.qZA(),l.TgZ(116,"p"),l._uU(117,"We use Cookies and similar tracking technologies to track the activity on Our Service and store certain information. Tracking technologies used are beacons, tags, and scripts to collect and track information and to improve and analyze Our Service. The technologies We use may include:"),l.qZA(),l.TgZ(118,"ul")(119,"li")(120,"strong"),l._uU(121,"Cookies or Browser Cookies."),l.qZA(),l._uU(122," A cookie is a small file placed on Your Device. You can instruct Your browser to refuse all Cookies or to indicate when a Cookie is being sent. However, if You do not accept Cookies, You may not be able to use some parts of our Service. Unless you have adjusted Your browser setting so that it will refuse Cookies, our Service may use Cookies."),l.qZA(),l.TgZ(123,"li")(124,"strong"),l._uU(125,"Flash Cookies."),l.qZA(),l._uU(126,' Certain features of our Service may use local stored objects (or Flash Cookies) to collect and store information about Your preferences or Your activity on our Service. Flash Cookies are not managed by the same browser settings as those used for Browser Cookies. For more information on how You can delete Flash Cookies, please read "Where can I change the settings for disabling, or deleting local shared objects?" available at '),l.TgZ(127,"a",4),l._uU(128,"https://helpx.adobe.com/flash-player/kb/disable-local-shared-objects-flash.html#main_Where_can_I_change_the_settings_for_disabling__or_deleting_local_shared_objects_"),l.qZA()(),l.TgZ(129,"li")(130,"strong"),l._uU(131,"Web Beacons."),l.qZA(),l._uU(132," Certain sections of our Service and our emails may contain small electronic files known as web beacons (also referred to as clear gifs, pixel tags, and single-pixel gifs) that permit the Company, for example, to count users who have visited those pages or opened an email and for other related website statistics (for example, recording the popularity of a certain section and verifying system and server integrity)."),l.qZA()(),l.TgZ(133,"p"),l._uU(134,'Cookies can be "Persistent" or "Session" Cookies. Persistent Cookies remain on Your personal computer or mobile device when You go offline, while Session Cookies are deleted as soon as You close Your web browser. You can learn more about cookies on '),l.TgZ(135,"a",5),l._uU(136,"TermsFeed website"),l.qZA(),l._uU(137," article."),l.qZA(),l.TgZ(138,"p"),l._uU(139,"We use both Session and Persistent Cookies for the purposes set out below:"),l.qZA(),l.TgZ(140,"ul")(141,"li")(142,"p")(143,"strong"),l._uU(144,"Necessary / Essential Cookies"),l.qZA()(),l.TgZ(145,"p"),l._uU(146,"Type: Session Cookies"),l.qZA(),l.TgZ(147,"p"),l._uU(148,"Administered by: Us"),l.qZA(),l.TgZ(149,"p"),l._uU(150,"Purpose: These Cookies are essential to provide You with services available through the Website and to enable You to use some of its features. They help to authenticate users and prevent fraudulent use of user accounts. Without these Cookies, the services that You have asked for cannot be provided, and We only use these Cookies to provide You with those services."),l.qZA()(),l.TgZ(151,"li")(152,"p")(153,"strong"),l._uU(154,"Cookies Policy / Notice Acceptance Cookies"),l.qZA()(),l.TgZ(155,"p"),l._uU(156,"Type: Persistent Cookies"),l.qZA(),l.TgZ(157,"p"),l._uU(158,"Administered by: Us"),l.qZA(),l.TgZ(159,"p"),l._uU(160,"Purpose: These Cookies identify if users have accepted the use of cookies on the Website."),l.qZA()(),l.TgZ(161,"li")(162,"p")(163,"strong"),l._uU(164,"Functionality Cookies"),l.qZA()(),l.TgZ(165,"p"),l._uU(166,"Type: Persistent Cookies"),l.qZA(),l.TgZ(167,"p"),l._uU(168,"Administered by: Us"),l.qZA(),l.TgZ(169,"p"),l._uU(170,"Purpose: These Cookies allow us to remember choices You make when You use the Website, such as remembering your login details or language preference. The purpose of these Cookies is to provide You with a more personal experience and to avoid You having to re-enter your preferences every time You use the Website."),l.qZA()()(),l.TgZ(171,"p"),l._uU(172,"For more information about the cookies we use and your choices regarding cookies, please visit our Cookies Policy or the Cookies section of our Privacy Policy."),l.qZA(),l.TgZ(173,"h2"),l._uU(174,"Use of Your Personal Data"),l.qZA(),l.TgZ(175,"p"),l._uU(176,"The Company may use Personal Data for the following purposes:"),l.qZA(),l.TgZ(177,"ul")(178,"li")(179,"p")(180,"strong"),l._uU(181,"To provide and maintain our Service"),l.qZA(),l._uU(182,", including to monitor the usage of our Service."),l.qZA()(),l.TgZ(183,"li")(184,"p")(185,"strong"),l._uU(186,"To manage Your Account:"),l.qZA(),l._uU(187," to manage Your registration as a user of the Service. The Personal Data You provide can give You access to different functionalities of the Service that are available to You as a registered user."),l.qZA()(),l.TgZ(188,"li")(189,"p")(190,"strong"),l._uU(191,"For the performance of a contract:"),l.qZA(),l._uU(192," the development, compliance and undertaking of the purchase contract for the products, items or services You have purchased or of any other contract with Us through the Service."),l.qZA()(),l.TgZ(193,"li")(194,"p")(195,"strong"),l._uU(196,"To contact You:"),l.qZA(),l._uU(197," To contact You by email, telephone calls, SMS, or other equivalent forms of electronic communication, such as a mobile application's push notifications regarding updates or informative communications related to the functionalities, products or contracted services, including the security updates, when necessary or reasonable for their implementation."),l.qZA()(),l.TgZ(198,"li")(199,"p")(200,"strong"),l._uU(201,"To provide You"),l.qZA(),l._uU(202," with news, special offers and general information about other goods, services and events which we offer that are similar to those that you have already purchased or enquired about unless You have opted not to receive such information."),l.qZA()(),l.TgZ(203,"li")(204,"p")(205,"strong"),l._uU(206,"To manage Your requests:"),l.qZA(),l._uU(207," To attend and manage Your requests to Us."),l.qZA()(),l.TgZ(208,"li")(209,"p")(210,"strong"),l._uU(211,"For business transfers:"),l.qZA(),l._uU(212," We may use Your information to evaluate or conduct a merger, divestiture, restructuring, reorganization, dissolution, or other sale or transfer of some or all of Our assets, whether as a going concern or as part of bankruptcy, liquidation, or similar proceeding, in which Personal Data held by Us about our Service users is among the assets transferred."),l.qZA()(),l.TgZ(213,"li")(214,"p")(215,"strong"),l._uU(216,"For other purposes"),l.qZA(),l._uU(217,": We may use Your information for other purposes, such as data analysis, identifying usage trends, determining the effectiveness of our promotional campaigns and to evaluate and improve our Service, products, services, marketing and your experience."),l.qZA()()(),l.TgZ(218,"p"),l._uU(219,"We may share Your personal information in the following situations:"),l.qZA(),l.TgZ(220,"ul")(221,"li")(222,"strong"),l._uU(223,"With Service Providers:"),l.qZA(),l._uU(224," We may share Your personal information with Service Providers to monitor and analyze the use of our Service, to contact You."),l.qZA(),l.TgZ(225,"li")(226,"strong"),l._uU(227,"For business transfers:"),l.qZA(),l._uU(228," We may share or transfer Your personal information in connection with, or during negotiations of, any merger, sale of Company assets, financing, or acquisition of all or a portion of Our business to another company."),l.qZA(),l.TgZ(229,"li")(230,"strong"),l._uU(231,"With Affiliates:"),l.qZA(),l._uU(232," We may share Your information with Our affiliates, in which case we will require those affiliates to honor this Privacy Policy. Affiliates include Our parent company and any other subsidiaries, joint venture partners or other companies that We control or that are under common control with Us."),l.qZA(),l.TgZ(233,"li")(234,"strong"),l._uU(235,"With business partners:"),l.qZA(),l._uU(236," We may share Your information with Our business partners to offer You certain products, services or promotions."),l.qZA(),l.TgZ(237,"li")(238,"strong"),l._uU(239,"With other users:"),l.qZA(),l._uU(240," when You share personal information or otherwise interact in the public areas with other users, such information may be viewed by all users and may be publicly distributed outside."),l.qZA(),l.TgZ(241,"li")(242,"strong"),l._uU(243,"With Your consent"),l.qZA(),l._uU(244,": We may disclose Your personal information for any other purpose with Your consent."),l.qZA()(),l.TgZ(245,"h2"),l._uU(246,"Retention of Your Personal Data"),l.qZA(),l.TgZ(247,"p"),l._uU(248,"The Company will retain Your Personal Data only for as long as is necessary for the purposes set out in this Privacy Policy. We will retain and use Your Personal Data to the extent necessary to comply with our legal obligations (for example, if we are required to retain your data to comply with applicable laws), resolve disputes, and enforce our legal agreements and policies."),l.qZA(),l.TgZ(249,"p"),l._uU(250,"The Company will also retain Usage Data for internal analysis purposes. Usage Data is generally retained for a shorter period of time, except when this data is used to strengthen the security or to improve the functionality of Our Service, or We are legally obligated to retain this data for longer time periods."),l.qZA(),l.TgZ(251,"h2"),l._uU(252,"Transfer of Your Personal Data"),l.qZA(),l.TgZ(253,"p"),l._uU(254,"Your information, including Personal Data, is processed at the Company's operating offices and in any other places where the parties involved in the processing are located. It means that this information may be transferred to \u2014 and maintained on \u2014 computers located outside of Your state, province, country or other governmental jurisdiction where the data protection laws may differ than those from Your jurisdiction."),l.qZA(),l.TgZ(255,"p"),l._uU(256,"Your consent to this Privacy Policy followed by Your submission of such information represents Your agreement to that transfer."),l.qZA(),l.TgZ(257,"p"),l._uU(258,"The Company will take all steps reasonably necessary to ensure that Your data is treated securely and in accordance with this Privacy Policy and no transfer of Your Personal Data will take place to an organization or a country unless there are adequate controls in place including the security of Your data and other personal information."),l.qZA(),l.TgZ(259,"h2"),l._uU(260,"Disclosure of Your Personal Data"),l.qZA(),l.TgZ(261,"h3"),l._uU(262,"Business Transactions"),l.qZA(),l.TgZ(263,"p"),l._uU(264,"If the Company is involved in a merger, acquisition or asset sale, Your Personal Data may be transferred. We will provide notice before Your Personal Data is transferred and becomes subject to a different Privacy Policy."),l.qZA(),l.TgZ(265,"h3"),l._uU(266,"Law enforcement"),l.qZA(),l.TgZ(267,"p"),l._uU(268,"Under certain circumstances, the Company may be required to disclose Your Personal Data if required to do so by law or in response to valid requests by public authorities (e.g. a court or a government agency)."),l.qZA(),l.TgZ(269,"h3"),l._uU(270,"Other legal requirements"),l.qZA(),l.TgZ(271,"p"),l._uU(272,"The Company may disclose Your Personal Data in the good faith belief that such action is necessary to:"),l.qZA(),l.TgZ(273,"ul")(274,"li"),l._uU(275,"Comply with a legal obligation"),l.qZA(),l.TgZ(276,"li"),l._uU(277,"Protect and defend the rights or property of the Company"),l.qZA(),l.TgZ(278,"li"),l._uU(279,"Prevent or investigate possible wrongdoing in connection with the Service"),l.qZA(),l.TgZ(280,"li"),l._uU(281,"Protect the personal safety of Users of the Service or the public"),l.qZA(),l.TgZ(282,"li"),l._uU(283,"Protect against legal liability"),l.qZA()(),l.TgZ(284,"h2"),l._uU(285,"Security of Your Personal Data"),l.qZA(),l.TgZ(286,"p"),l._uU(287,"The security of Your Personal Data is important to Us, but remember that no method of transmission over the Internet, or method of electronic storage is 100% secure. While We strive to use commercially acceptable means to protect Your Personal Data, We cannot guarantee its absolute security."),l.qZA(),l.TgZ(288,"h1"),l._uU(289,"Detailed Information on the Processing of Your Personal Data"),l.qZA(),l.TgZ(290,"p"),l._uU(291,"The Service Providers We use may have access to Your Personal Data. These third-party vendors collect, store, use, process and transfer information about Your activity on Our Service in accordance with their Privacy Policies."),l.qZA(),l.TgZ(292,"h2"),l._uU(293,"Usage, Performance and Miscellaneous"),l.qZA(),l.TgZ(294,"p"),l._uU(295,"We may use third-party Service Providers to provide better improvement of our Service."),l.qZA(),l.TgZ(296,"ul")(297,"li")(298,"p")(299,"strong"),l._uU(300,"Google Analytics, Google Services, and Youtube"),l.qZA()(),l.TgZ(301,"p"),l._uU(302,"Google Analytics is a web analytics service that returns information that tracks web usage. It is operated by Google"),l.qZA(),l.TgZ(303,"p"),l._uU(304,"Youtube is a video service that is operated by Google"),l.qZA(),l.TgZ(305,"p"),l._uU(306,"Google Analytics, Google Services, and Youtube may collect information from You and from Your Device for security purposes."),l.qZA(),l.TgZ(307,"p"),l._uU(308,"The information gathered by Google Analytics is held in accordance with the Privacy Policy of Google: "),l.TgZ(309,"a",6),l._uU(310,"https://www.google.com/intl/en/policies/privacy/"),l.qZA()()(),l.TgZ(311,"li")(312,"p")(313,"strong"),l._uU(314,"Stripe"),l.qZA()(),l.TgZ(315,"p"),l._uU(316,"Stripe is a payment processor. The service is operated by Stripe"),l.qZA(),l.TgZ(317,"p"),l._uU(318,"Stripe may collect information from Your Device and Usage."),l.qZA(),l.TgZ(319,"p"),l._uU(320,"The information gathered by Stripe is held in accordance with its Privacy Policy: "),l.TgZ(321,"a",7),l._uU(322,"https://stripe.com/privacy"),l.qZA()()()(),l.TgZ(323,"h1"),l._uU(324,"Children's Privacy"),l.qZA(),l.TgZ(325,"p"),l._uU(326,"Our Service does not address anyone under the age of 13. We do not knowingly collect personally identifiable information from anyone under the age of 13. If You are a parent or guardian and You are aware that Your child has provided Us with Personal Data, please contact Us. If We become aware that We have collected Personal Data from anyone under the age of 13 without verification of parental consent, We take steps to remove that information from Our servers."),l.qZA(),l.TgZ(327,"p"),l._uU(328,"If We need to rely on consent as a legal basis for processing Your information and Your country requires consent from a parent, We may require Your parent's consent before We collect and use that information."),l.qZA(),l.TgZ(329,"h1"),l._uU(330,"Links to Other Websites"),l.qZA(),l.TgZ(331,"p"),l._uU(332,"Our Service may contain links to other websites that are not operated by Us. If You click on a third party link, You will be directed to that third party's site. We strongly advise You to review the Privacy Policy of every site You visit."),l.qZA(),l.TgZ(333,"p"),l._uU(334,"We have no control over and assume no responsibility for the content, privacy policies or practices of any third party sites or services."),l.qZA(),l.TgZ(335,"h1"),l._uU(336,"Changes to this Privacy Policy"),l.qZA(),l.TgZ(337,"p"),l._uU(338,"We may update Our Privacy Policy from time to time. We will notify You of any changes by posting the new Privacy Policy on this page."),l.qZA(),l.TgZ(339,"p"),l._uU(340,'We will let You know via email and/or a prominent notice on Our Service, prior to the change becoming effective and update the "Last updated" date at the top of this Privacy Policy.'),l.qZA(),l.TgZ(341,"p"),l._uU(342,"You are advised to review this Privacy Policy periodically for any changes. Changes to this Privacy Policy are effective when they are posted on this page."),l.qZA(),l.TgZ(343,"h1"),l._uU(344,"Contact Us"),l.qZA(),l.TgZ(345,"p"),l._uU(346,"If you have any questions about this Privacy Policy, You can contact us:"),l.qZA(),l.TgZ(347,"ul")(348,"li"),l._uU(349,"By email: "),l.TgZ(350,"a",8),l._uU(351,"contact@tellotrack.com"),l.qZA()()(),l.BQk())}function boe(n,e){1&n&&(l.ynx(0),l.TgZ(1,"h1",9),l._uU(2,"Terms and Conditions "),l.qZA(),l.TgZ(3,"p"),l._uU(4,"Last updated: December 3, 2022"),l.qZA(),l.TgZ(5,"p"),l._uU(6,"Please read these terms and conditions carefully before using Our Service."),l.qZA(),l.TgZ(7,"h1",10),l._uU(8,"Interpretation and Definitions "),l.qZA(),l.TgZ(9,"h2",11),l._uU(10,"Interpretation "),l.qZA(),l.TgZ(11,"p"),l._uU(12,"The words of which the initial letter is capitalized have meanings defined under the following conditions. The following definitions shall have the same meaning regardless of whether they appear in singular or in plural."),l.qZA(),l.TgZ(13,"h2",12),l._uU(14,"Definitions "),l.qZA(),l.TgZ(15,"p"),l._uU(16,"For the purposes of these Terms and Conditions:"),l.qZA(),l.TgZ(17,"ul")(18,"li")(19,"p"),l._uU(20,'Affiliate means an entity that controls, is controlled by or is under common control with a party, where "control" means ownership of 50% or more of the shares, equity interest or other securities entitled to vote for election of directors or other managing authority.'),l.qZA()(),l.TgZ(21,"li")(22,"p"),l._uU(23,"Account means a unique account created for You to access our Service or parts of our Service."),l.qZA()(),l.TgZ(24,"li")(25,"p"),l._uU(26,"Country refers to: New Jersey, United States"),l.qZA()(),l.TgZ(27,"li")(28,"p"),l._uU(29,'Company (referred to as either "the Company", "We", "Us" or "Our" in this Agreement) refers to TelloTrack, 514 Metlars Rd, NJ 08854.'),l.qZA()(),l.TgZ(30,"li")(31,"p"),l._uU(32,"Device means any device that can access the Service such as a computer, a cellphone or a digital tablet."),l.qZA()(),l.TgZ(33,"li")(34,"p"),l._uU(35,"Feedback means feedback, innovations or suggestions sent by You regarding the attributes, performance or features of our Service."),l.qZA()(),l.TgZ(36,"li")(37,"p"),l._uU(38,"Orders mean a request by You to purchase Products from Us."),l.qZA()(),l.TgZ(39,"li")(40,"p"),l._uU(41,"Products refer to the products or items offered for sale on the Service."),l.qZA()(),l.TgZ(42,"li")(43,"p"),l._uU(44,"Service refers to the Website."),l.qZA()(),l.TgZ(45,"li")(46,"p"),l._uU(47,'Terms and Conditions (also referred as "Terms") mean these Terms and Conditions that form the entire agreement between You and the Company regarding the use of the Service. This Terms and Conditions agreement has been created with the help of the '),l.TgZ(48,"a",13),l._uU(49,"TermsFeed Terms and Conditions Generator"),l.qZA(),l._uU(50,"."),l.qZA()(),l.TgZ(51,"li")(52,"p"),l._uU(53,"Third-party Social Media Service means any services or content (including data, information, products or services) provided by a third-party that may be displayed, included or made available by the Service."),l.qZA()(),l.TgZ(54,"li")(55,"p"),l._uU(56,"Website refers to TelloTrack.com, accessible from "),l.TgZ(57,"a",14),l._uU(58,"https://www.tellotrack.com"),l.qZA()()(),l.TgZ(59,"li")(60,"p"),l._uU(61,"You means the individual accessing or using the Service, or the company, or other legal entity on behalf of which such individual is accessing or using the Service, as applicable."),l.qZA()()(),l.TgZ(62,"h1",15),l._uU(63,"Payment Terms "),l.qZA(),l.TgZ(64,"ul")(65,"li")(66,"p"),l._uU(67,"TelloTrack uses Stripe, a third-party processing platform, to manage subscriptions. By purchasing a subscription, you will be charged a monthly subscription fee. "),l.qZA()(),l.TgZ(68,"li")(69,"p"),l._uU(70,"Our usage of Stripe is held in accordance with its Privacy Policy and Terms and : "),l.TgZ(71,"a",16),l._uU(72,"https://stripe.com/privacy"),l.qZA(),l._uU(73,"."),l.qZA()(),l.TgZ(74,"li")(75,"p"),l._uU(76,"You may cancel your subscription at any time and will not be charged for subsequent months. Log into your account, click on Account Settings, and open the Stripe Portal link to find subscriptions details and more."),l.qZA()()(),l.TgZ(77,"h1",17),l._uU(78,"Acknowledgment "),l.qZA(),l.TgZ(79,"p"),l._uU(80,"These are the Terms and Conditions governing the use of this Service and the agreement that operates between You and the Company. These Terms and Conditions set out the rights and obligations of all users regarding the use of the Service."),l.qZA(),l.TgZ(81,"p"),l._uU(82,"Your access to and use of the Service is conditioned on Your acceptance of and compliance with these Terms and Conditions. These Terms and Conditions apply to all visitors, users and others who access or use the Service."),l.qZA(),l.TgZ(83,"p"),l._uU(84,"By accessing or using the Service You agree to be bound by these Terms and Conditions. If You disagree with any part of these Terms and Conditions then You may not access the Service."),l.qZA(),l.TgZ(85,"p"),l._uU(86,"You represent that you are over the age of 18. The Company does not permit those under 18 to use the Service."),l.qZA(),l.TgZ(87,"p"),l._uU(88,"Your access to and use of the Service is also conditioned on Your acceptance of and compliance with the Privacy Policy of the Company. Our Privacy Policy describes Our policies and procedures on the collection, use and disclosure of Your personal information when You use the Application or the Website and tells You about Your privacy rights and how the law protects You. Please read Our Privacy Policy carefully before using Our Service."),l.qZA(),l.TgZ(89,"h1",18),l._uU(90,"Links to Other Websites "),l.qZA(),l.TgZ(91,"p"),l._uU(92,"Our Service may contain links to third-party web sites or services that are not owned or controlled by the Company."),l.qZA(),l.TgZ(93,"p"),l._uU(94,"The Company has no control over, and assumes no responsibility for, the content, privacy policies, or practices of any third party web sites or services. You further acknowledge and agree that the Company shall not be responsible or liable, directly or indirectly, for any damage or loss caused or alleged to be caused by or in connection with the use of or reliance on any such content, goods or services available on or through any such web sites or services."),l.qZA(),l.TgZ(95,"p"),l._uU(96,"We strongly advise You to read the terms and conditions and privacy policies of any third-party web sites or services that You visit."),l.qZA(),l.TgZ(97,"h1",19),l._uU(98,"Termination "),l.qZA(),l.TgZ(99,"p"),l._uU(100,"We may terminate or suspend Your access immediately, without prior notice or liability, for any reason whatsoever, including without limitation if You breach these Terms and Conditions."),l.qZA(),l.TgZ(101,"p"),l._uU(102,"Upon termination, Your right to use the Service will cease immediately."),l.qZA(),l.TgZ(103,"h1",20),l._uU(104,"Limitation of Liability "),l.qZA(),l.TgZ(105,"p"),l._uU(106,"Notwithstanding any damages that You might incur, the entire liability of the Company and any of its suppliers under any provision of this Terms and Your exclusive remedy for all of the foregoing shall be limited to the amount actually paid by You through the Service or 100 USD if You haven't purchased anything through the Service."),l.qZA(),l.TgZ(107,"p"),l._uU(108,"To the maximum extent permitted by applicable law, in no event shall the Company or its suppliers be liable for any special, incidental, indirect, or consequential damages whatsoever (including, but not limited to, damages for loss of profits, loss of data or other information, for business interruption, for personal injury, loss of privacy arising out of or in any way related to the use of or inability to use the Service, third-party software and/or third- party hardware used with the Service, or otherwise in connection with any provision of this Terms), even if the Company or any supplier has been advised of the possibility of such damages and even if the remedy fails of its essential purpose."),l.qZA(),l.TgZ(109,"p"),l._uU(110,"Some states do not allow the exclusion of implied warranties or limitation of liability for incidental or consequential damages, which means that some of the above limitations may not apply. In these states, each party's liability will be limited to the greatest extent permitted by law."),l.qZA(),l.TgZ(111,"h1",21),l._uU(112,'"AS IS" and "AS AVAILABLE" Disclaimer '),l.qZA(),l.TgZ(113,"p"),l._uU(114,'The Service is provided to You "AS IS" and "AS AVAILABLE" and with all faults and defects without warranty of any kind. To the maximum extent permitted under applicable law, the Company, on its own behalf and on behalf of its Affiliates and its and their respective licensors and service providers, expressly disclaims all warranties, whether express, implied, statutory or otherwise, with respect to the Service, including all implied warranties of merchantability, fitness for a particular purpose, title and non-infringement, and warranties that may arise out of course of dealing, course of performance, usage or trade practice. Without limitation to the foregoing, the Company provides no warranty or undertaking, and makes no representation of any kind that the Service will meet Your requirements, achieve any intended results, be compatible or work with any other software, applications, systems or services, operate without interruption, meet any performance or reliability standards or be error free or that any errors or defects can or will be corrected.'),l.qZA(),l.TgZ(115,"p"),l._uU(116,"Without limiting the foregoing, neither the Company nor any of the company's provider makes any representation or warranty of any kind, express or implied: (i) as to the operation or availability of the Service, or the information, content, and materials or products included thereon; (ii) that the Service will be uninterrupted or error-free; (iii) as to the accuracy, reliability, or currency of any information or content provided through the Service; or (iv) that the Service, its servers, the content, or e-mails sent from or on behalf of the Company are free of viruses, scripts, trojan horses, worms, malware, timebombs or other harmful components."),l.qZA(),l.TgZ(117,"p"),l._uU(118,"Some jurisdictions do not allow the exclusion of certain types of warranties or limitations on applicable statutory rights of a consumer, so some or all of the above exclusions and limitations may not apply to You. But in such a case the exclusions and limitations set forth in this section shall be applied to the greatest extent enforceable under applicable law."),l.qZA(),l.TgZ(119,"h1",22),l._uU(120,"Governing Law "),l.qZA(),l.TgZ(121,"p"),l._uU(122,"The laws of the Country, excluding its conflicts of law rules, shall govern this Terms and Your use of the Service. Your use of the Application may also be subject to other local, state, national, or international laws."),l.qZA(),l.TgZ(123,"h1",23),l._uU(124,"Disputes Resolution "),l.qZA(),l.TgZ(125,"p"),l._uU(126,"If You have any concern or dispute about the Service, You agree to first try to resolve the dispute informally by contacting the Company."),l.qZA(),l.TgZ(127,"h1",24),l._uU(128,"For European Union (EU) Users "),l.qZA(),l.TgZ(129,"p"),l._uU(130,"If You are a European Union consumer, you will benefit from any mandatory provisions of the law of the country in which you are resident in."),l.qZA(),l.TgZ(131,"h1",25),l._uU(132,"United States Legal Compliance "),l.qZA(),l.TgZ(133,"p"),l._uU(134,'You represent and warrant that (i) You are not located in a country that is subject to the United States government embargo, or that has been designated by the United States government as a "terrorist supporting" country, and (ii) You are not listed on any United States government list of prohibited or restricted parties.'),l.qZA(),l.TgZ(135,"h1",26),l._uU(136,"Severability and Waiver "),l.qZA(),l.TgZ(137,"h2",27),l._uU(138,"Severability "),l.qZA(),l.TgZ(139,"p"),l._uU(140,"If any provision of these Terms is held to be unenforceable or invalid, such provision will be changed and interpreted to accomplish the objectives of such provision to the greatest extent possible under applicable law and the remaining provisions will continue in full force and effect."),l.qZA(),l.TgZ(141,"h2",28),l._uU(142,"Waiver "),l.qZA(),l.TgZ(143,"p"),l._uU(144,"Except as provided herein, the failure to exercise a right or to require performance of an obligation under these Terms shall not affect a party's ability to exercise such right or require such performance at any time thereafter nor shall the waiver of a breach constitute a waiver of any subsequent breach."),l.qZA(),l.TgZ(145,"h1",29),l._uU(146,"Translation Interpretation "),l.qZA(),l.TgZ(147,"p"),l._uU(148,"These Terms and Conditions may have been translated if We have made them available to You on our Service. You agree that the original English text shall prevail in the case of a dispute."),l.qZA(),l.TgZ(149,"h1",30),l._uU(150,"Changes to These Terms and Conditions "),l.qZA(),l.TgZ(151,"p"),l._uU(152,"We reserve the right, at Our sole discretion, to modify or replace these Terms at any time. If a revision is material We will make reasonable efforts to provide at least 30 days' notice prior to any new terms taking effect. What constitutes a material change will be determined at Our sole discretion."),l.qZA(),l.TgZ(153,"p"),l._uU(154,"By continuing to access or use Our Service after those revisions become effective, You agree to be bound by the revised terms. If You do not agree to the new terms, in whole or in part, please stop using the website and the Service."),l.qZA(),l.TgZ(155,"h1",31),l._uU(156,"Contact Us "),l.qZA(),l.TgZ(157,"p"),l._uU(158,"If you have any questions about these Terms and Conditions, You can contact us:"),l.qZA(),l.TgZ(159,"ul")(160,"li"),l._uU(161,"By email: "),l.TgZ(162,"a",8),l._uU(163,"contact@tellotrack.com"),l.qZA()()(),l.BQk())}class jC{constructor(e){this.route=e,this.doc=""}ngOnInit(){this.doc=this.route.snapshot.data.doc}static#e=this.\u0275fac=function(t){return new(t||jC)(l.Y36(Ga))};static#t=this.\u0275cmp=l.Xpm({type:jC,selectors:[["app-legal"]],decls:3,vars:2,consts:[[1,"container","mb-5","mt-5"],[4,"ngIf"],["href","https://www.termsfeed.com/privacy-policy-generator/","target","_blank"],["href","tellotrack.com","rel","external nofollow noopener","target","_blank"],["href","https://helpx.adobe.com/flash-player/kb/disable-local-shared-objects-flash.html#main_Where_can_I_change_the_settings_for_disabling__or_deleting_local_shared_objects_","rel","external nofollow noopener","target","_blank"],["href","https://www.termsfeed.com/blog/cookies/#What_Are_Cookies","target","_blank"],["href","https://www.google.com/intl/en/policies/privacy/","rel","external nofollow noopener","target","_blank"],["href","https://stripe.com/privacy","rel","external nofollow noopener","target","_blank"],["href","mailto:contact@tellotrack.com"],["id","terms-and-conditions-"],["id","interpretation-and-definitions-"],["id","interpretation-"],["id","definitions-"],["href","https://www.termsfeed.com/terms-conditions-generator/"],["href","https://www.tellotrack.com"],["id","payment-terms-"],["href","https://stripe.com/privacy"],["id","acknowledgment-"],["id","links-to-other-websites-"],["id","termination-"],["id","limitation-of-liability-"],["id","-as-is-and-as-available-disclaimer-"],["id","governing-law-"],["id","disputes-resolution-"],["id","for-european-union-eu-users-"],["id","united-states-legal-compliance-"],["id","severability-and-waiver-"],["id","severability-"],["id","waiver-"],["id","translation-interpretation-"],["id","changes-to-these-terms-and-conditions-"],["id","contact-us-"]],template:function(t,r){1&t&&(l.TgZ(0,"div",0),l.YNc(1,voe,352,0,"ng-container",1),l.YNc(2,boe,164,0,"ng-container",1),l.qZA()),2&t&&(l.xp6(1),l.Q6J("ngIf","privacy"==r.doc),l.xp6(1),l.Q6J("ngIf","terms"==r.doc))},dependencies:[ss],styles:["h1[_ngcontent-%COMP%] {\n        margin-bottom: 20px;\n        margin-top: 50px;\n    }\n    h2[_ngcontent-%COMP%] {\n        margin-bottom: 20px;\n    }"]})}class JN{static#e=this.\u0275fac=function(t){return new(t||JN)};static#t=this.\u0275mod=l.oAB({type:JN,bootstrap:[wN]});static#n=this.\u0275inj=l.cJS({providers:[DE,Jy,DE,Jy,{provide:G5,useValue:"us-central1"}],imports:[Il,mD.forRoot([{path:"",title:"Tellotrack",component:EN,...z5},{path:"login",title:"Login",component:IN,...z5},{path:"payment",title:"Payment",component:QN,...Bee},{path:"dashboard",title:"Dashboard",component:WN,...sU},{path:"settings",title:"Account Settings",component:YN,...sU},{path:"new-template",title:"New Template",component:qN,...sU},{path:"track/:uid/:oid",component:KN},{path:"terms",component:jC,data:{doc:"terms"}},{path:"privacy",component:jC,data:{doc:"privacy"}},{path:"404",component:zN},{path:"**",redirectTo:"/404"}],{scrollPositionRestoration:"enabled"}),Tr.hO.initializeApp(rU_firebase),JO,oK,Cee,NO,See,Ree.forRoot(Oee),Kw(()=>qa(rU_firebase)),pB(()=>{const e=new uE("6Ld6Q4ojAAAAAEWOWwA7NP0VGk3yVXtiisevNaLG");return gB(void 0,{provider:e,isTokenAutoRefreshEnabled:!0})}),bg,JD]})}I_().bootstrapModule(JN).catch(n=>console.error(n))},4159:(be,pe,V)=>{var O;!function(){var l=window.CustomEvent;function he(J){for(;J;){if("dialog"===J.localName)return J;J=J.parentElement}return null}function Te(J){J&&J.blur&&J!==document.body&&J.blur()}function xe(J,X){for(var ae=0;ae<J.length;++ae)if(J[ae]===X)return!0;return!1}function Ne(J){return!(!J||!J.hasAttribute("method"))&&"dialog"===J.getAttribute("method").toLowerCase()}function Ee(J){if(this.dialog_=J,this.replacedStyleTop_=!1,this.openAsModal_=!1,J.hasAttribute("role")||J.setAttribute("role","dialog"),J.show=this.show.bind(this),J.showModal=this.showModal.bind(this),J.close=this.close.bind(this),"returnValue"in J||(J.returnValue=""),"MutationObserver"in window)new MutationObserver(this.maybeHideModal.bind(this)).observe(J,{attributes:!0,attributeFilter:["open"]});else{var Fe,ae=!1,De=function(){ae?this.downgradeModal():this.maybeHideModal(),ae=!1}.bind(this),He=function(Ue){if(Ue.target===J){var Be="DOMNodeRemoved";ae|=Ue.type.substr(0,Be.length)===Be,window.clearTimeout(Fe),Fe=window.setTimeout(De,0)}};["DOMAttrModified","DOMNodeRemoved","DOMNodeRemovedFromDocument"].forEach(function(Ue){J.addEventListener(Ue,He)})}Object.defineProperty(J,"open",{set:this.setOpen.bind(this),get:J.hasAttribute.bind(J,"open")}),this.backdrop_=document.createElement("div"),this.backdrop_.className="backdrop",this.backdrop_.addEventListener("click",this.backdropClick_.bind(this))}(!l||"object"==typeof l)&&((l=function(X,ae){ae=ae||{};var De=document.createEvent("CustomEvent");return De.initCustomEvent(X,!!ae.bubbles,!!ae.cancelable,ae.detail||null),De}).prototype=window.Event.prototype),Ee.prototype={get dialog(){return this.dialog_},maybeHideModal:function(){this.dialog_.hasAttribute("open")&&document.body.contains(this.dialog_)||this.downgradeModal()},downgradeModal:function(){!this.openAsModal_||(this.openAsModal_=!1,this.dialog_.style.zIndex="",this.replacedStyleTop_&&(this.dialog_.style.top="",this.replacedStyleTop_=!1),this.backdrop_.parentNode&&this.backdrop_.parentNode.removeChild(this.backdrop_),ge.dm.removeDialog(this))},setOpen:function(J){J?this.dialog_.hasAttribute("open")||this.dialog_.setAttribute("open",""):(this.dialog_.removeAttribute("open"),this.maybeHideModal())},backdropClick_:function(J){if(this.dialog_.hasAttribute("tabindex"))this.dialog_.focus();else{var X=document.createElement("div");this.dialog_.insertBefore(X,this.dialog_.firstChild),X.tabIndex=-1,X.focus(),this.dialog_.removeChild(X)}var ae=document.createEvent("MouseEvents");ae.initMouseEvent(J.type,J.bubbles,J.cancelable,window,J.detail,J.screenX,J.screenY,J.clientX,J.clientY,J.ctrlKey,J.altKey,J.shiftKey,J.metaKey,J.button,J.relatedTarget),this.dialog_.dispatchEvent(ae),J.stopPropagation()},focus_:function(){var J=this.dialog_.querySelector("[autofocus]:not([disabled])");if(!J&&this.dialog_.tabIndex>=0&&(J=this.dialog_),!J){var ae=["button","input","keygen","select","textarea"].map(function(De){return De+":not([disabled])"});ae.push('[tabindex]:not([disabled]):not([tabindex=""])'),J=this.dialog_.querySelector(ae.join(", "))}Te(document.activeElement),J&&J.focus()},updateZIndex:function(J,X){if(J<X)throw new Error("dialogZ should never be < backdropZ");this.dialog_.style.zIndex=J,this.backdrop_.style.zIndex=X},show:function(){this.dialog_.open||(this.setOpen(!0),this.focus_())},showModal:function(){if(this.dialog_.hasAttribute("open"))throw new Error("Failed to execute 'showModal' on dialog: The element is already open, and therefore cannot be opened modally.");if(!document.body.contains(this.dialog_))throw new Error("Failed to execute 'showModal' on dialog: The element is not in a Document.");if(!ge.dm.pushDialog(this))throw new Error("Failed to execute 'showModal' on dialog: There are too many open modal dialogs.");(function G(J){for(;J&&J!==document.body;){var X=window.getComputedStyle(J),ae=function(De,Fe){return!(void 0===X[De]||X[De]===Fe)};if(X.opacity<1||ae("zIndex","auto")||ae("transform","none")||ae("mixBlendMode","normal")||ae("filter","none")||ae("perspective","none")||"isolate"===X.isolation||"fixed"===X.position||"touch"===X.webkitOverflowScrolling)return!0;J=J.parentElement}return!1})(this.dialog_.parentElement)&&console.warn("A dialog is being shown inside a stacking context. This may cause it to be unusable. For more information, see this link: https://github.com/GoogleChrome/dialog-polyfill/#stacking-context"),this.setOpen(!0),this.openAsModal_=!0,ge.needsCentering(this.dialog_)?(ge.reposition(this.dialog_),this.replacedStyleTop_=!0):this.replacedStyleTop_=!1,this.dialog_.parentNode.insertBefore(this.backdrop_,this.dialog_.nextSibling),this.focus_()},close:function(J){if(!this.dialog_.hasAttribute("open"))throw new Error("Failed to execute 'close' on dialog: The element does not have an 'open' attribute, and therefore cannot be closed.");this.setOpen(!1),void 0!==J&&(this.dialog_.returnValue=J);var X=new l("close",{bubbles:!1,cancelable:!1});this.dialog_.dispatchEvent(X)}};var ge={reposition:function(J){var X=document.body.scrollTop||document.documentElement.scrollTop,ae=X+(window.innerHeight-J.offsetHeight)/2;J.style.top=Math.max(X,ae)+"px"},isInlinePositionSetByStylesheet:function(J){for(var X=0;X<document.styleSheets.length;++X){var ae=document.styleSheets[X],De=null;try{De=ae.cssRules}catch{}if(De)for(var Fe=0;Fe<De.length;++Fe){var He=De[Fe],Ue=null;try{Ue=document.querySelectorAll(He.selectorText)}catch{}if(Ue&&xe(Ue,J)){var Be=He.style.getPropertyValue("top"),it=He.style.getPropertyValue("bottom");if(Be&&"auto"!==Be||it&&"auto"!==it)return!0}}}return!1},needsCentering:function(J){return!("absolute"!==window.getComputedStyle(J).position||"auto"!==J.style.top&&""!==J.style.top||"auto"!==J.style.bottom&&""!==J.style.bottom||ge.isInlinePositionSetByStylesheet(J))},forceRegisterDialog:function(J){if((window.HTMLDialogElement||J.showModal)&&console.warn("This browser already supports <dialog>, the polyfill may not work correctly",J),"dialog"!==J.localName)throw new Error("Failed to register dialog: The element is not a dialog.");new Ee(J)},registerDialog:function(J){J.showModal||ge.forceRegisterDialog(J)},DialogManager:function(){this.pendingDialogStack=[];var J=this.checkDOM_.bind(this);this.overlay=document.createElement("div"),this.overlay.className="_dialog_overlay",this.overlay.addEventListener("click",function(X){this.forwardTab_=void 0,X.stopPropagation(),J([])}.bind(this)),this.handleKey_=this.handleKey_.bind(this),this.handleFocus_=this.handleFocus_.bind(this),this.zIndexLow_=1e5,this.zIndexHigh_=100150,this.forwardTab_=void 0,"MutationObserver"in window&&(this.mo_=new MutationObserver(function(X){var ae=[];X.forEach(function(De){for(var He,Fe=0;He=De.removedNodes[Fe];++Fe)He instanceof Element&&("dialog"===He.localName&&ae.push(He),ae=ae.concat(He.querySelectorAll("dialog")))}),ae.length&&J(ae)}))}};if(ge.DialogManager.prototype.blockDocument=function(){document.documentElement.addEventListener("focus",this.handleFocus_,!0),document.addEventListener("keydown",this.handleKey_),this.mo_&&this.mo_.observe(document,{childList:!0,subtree:!0})},ge.DialogManager.prototype.unblockDocument=function(){document.documentElement.removeEventListener("focus",this.handleFocus_,!0),document.removeEventListener("keydown",this.handleKey_),this.mo_&&this.mo_.disconnect()},ge.DialogManager.prototype.updateStacking=function(){for(var ae,J=this.zIndexHigh_,X=0;ae=this.pendingDialogStack[X];++X)ae.updateZIndex(--J,--J),0===X&&(this.overlay.style.zIndex=--J);var De=this.pendingDialogStack[0];De?(De.dialog.parentNode||document.body).appendChild(this.overlay):this.overlay.parentNode&&this.overlay.parentNode.removeChild(this.overlay)},ge.DialogManager.prototype.containedByTopDialog_=function(J){for(;J=he(J);){for(var ae,X=0;ae=this.pendingDialogStack[X];++X)if(ae.dialog===J)return 0===X;J=J.parentElement}return!1},ge.DialogManager.prototype.handleFocus_=function(J){if(!this.containedByTopDialog_(J.target)&&(J.preventDefault(),J.stopPropagation(),Te(J.target),void 0!==this.forwardTab_)){var X=this.pendingDialogStack[0];return X.dialog.compareDocumentPosition(J.target)&Node.DOCUMENT_POSITION_PRECEDING&&(this.forwardTab_?X.focus_():document.documentElement.focus()),!1}},ge.DialogManager.prototype.handleKey_=function(J){if(this.forwardTab_=void 0,27===J.keyCode){J.preventDefault(),J.stopPropagation();var X=new l("cancel",{bubbles:!1,cancelable:!0}),ae=this.pendingDialogStack[0];ae&&ae.dialog.dispatchEvent(X)&&ae.dialog.close()}else 9===J.keyCode&&(this.forwardTab_=!J.shiftKey)},ge.DialogManager.prototype.checkDOM_=function(J){this.pendingDialogStack.slice().forEach(function(ae){-1!==J.indexOf(ae.dialog)?ae.downgradeModal():ae.maybeHideModal()})},ge.DialogManager.prototype.pushDialog=function(J){return!(this.pendingDialogStack.length>=(this.zIndexHigh_-this.zIndexLow_)/2-1||(1===this.pendingDialogStack.unshift(J)&&this.blockDocument(),this.updateStacking(),0))},ge.DialogManager.prototype.removeDialog=function(J){var X=this.pendingDialogStack.indexOf(J);-1!==X&&(this.pendingDialogStack.splice(X,1),0===this.pendingDialogStack.length&&this.unblockDocument(),this.updateStacking())},ge.dm=new ge.DialogManager,ge.formSubmitter=null,ge.useValue=null,void 0===window.HTMLDialogElement){var ne=document.createElement("form");if(ne.setAttribute("method","dialog"),"dialog"!==ne.method){var te=Object.getOwnPropertyDescriptor(HTMLFormElement.prototype,"method");if(te){var ce=te.get;te.get=function(){return Ne(this)?"dialog":ce.call(this)};var Ze=te.set;te.set=function(J){return"string"==typeof J&&"dialog"===J.toLowerCase()?this.setAttribute("method",J):Ze.call(this,J)},Object.defineProperty(HTMLFormElement.prototype,"method",te)}}document.addEventListener("click",function(J){if(ge.formSubmitter=null,ge.useValue=null,!J.defaultPrevented){var X=J.target;if(X&&Ne(X.form)){if(!("submit"===X.type&&["button","input"].indexOf(X.localName)>-1)){if("input"!==X.localName||"image"!==X.type)return;ge.useValue=J.offsetX+","+J.offsetY}!he(X)||(ge.formSubmitter=X)}}},!1);var de=HTMLFormElement.prototype.submit;HTMLFormElement.prototype.submit=function(){if(!Ne(this))return de.call(this);var J=he(this);J&&J.close()},document.addEventListener("submit",function(J){var X=J.target;if(Ne(X)){J.preventDefault();var ae=he(X);if(ae){var De=ge.formSubmitter;De&&De.form===X?ae.close(ge.useValue||De.value):ae.close(),ge.formSubmitter=null}}},!0)}ge.forceRegisterDialog=ge.forceRegisterDialog,ge.registerDialog=ge.registerDialog,"amd"in V.amdD?void 0!==(O=function(){return ge}.call(pe,V,pe,be))&&(be.exports=O):"object"==typeof be.exports?be.exports=ge:window.dialogPolyfill=ge}()},7982:(be,pe,V)=>{"use strict";V.d(pe,{Gb:()=>O.Gb});var O=V(579)},5867:(be,pe,V)=>{"use strict";V.d(pe,{C6:()=>O.getApps,KN:()=>O.registerVersion,Mq:()=>O.getApp,ZF:()=>O.initializeApp});var O=V(9681);(0,O.registerVersion)("firebase","9.14.0","app")},127:(be,pe,V)=>{"use strict";V.d(pe,{Z:()=>O.Z});var O=V(3942);O.Z.registerVersion("firebase","9.14.0","app-compat")},5881:(be,pe,V)=>{"use strict";V.r(pe);var O=V(5861),l=V(3942),G=V(8247),he=V(2090),Ne=(V(9681),V(1877),V(4859));function Ee(){return window}function te(){return(te=(0,O.Z)(function*(U,R,j){var ie;const{BuildInfo:Ce}=Ee();(0,G.ap)(R.sessionId,"AuthEvent did not contain a session ID");const Je=yield ae(R.sessionId),ze={};return(0,G.aq)()?ze.ibi=Ce.packageName:(0,G.ar)()?ze.apn=Ce.packageName:(0,G.as)(U,"operation-not-supported-in-this-environment"),Ce.displayName&&(ze.appDisplayName=Ce.displayName),ze.sessionId=Je,(0,G.at)(U,j,R.type,void 0,null!==(ie=R.eventId)&&void 0!==ie?ie:void 0,ze)})).apply(this,arguments)}function Ze(){return(Ze=(0,O.Z)(function*(U){const{BuildInfo:R}=Ee(),j={};(0,G.aq)()?j.iosBundleId=R.packageName:(0,G.ar)()?j.androidPackageName=R.packageName:(0,G.as)(U,"operation-not-supported-in-this-environment"),yield(0,G.au)(U,j)})).apply(this,arguments)}function J(){return(J=(0,O.Z)(function*(U,R,j){const{cordova:ie}=Ee();let Ce=()=>{};try{yield new Promise((Je,ze)=>{let At=null;function gt(){var Wt;Je();const Zn=null===(Wt=ie.plugins.browsertab)||void 0===Wt?void 0:Wt.close;"function"==typeof Zn&&Zn(),"function"==typeof j?.close&&j.close()}function Jt(){At||(At=window.setTimeout(()=>{ze((0,G.aw)(U,"redirect-cancelled-by-user"))},2e3))}function Jn(){"visible"===document?.visibilityState&&Jt()}R.addPassiveListener(gt),document.addEventListener("resume",Jt,!1),(0,G.ar)()&&document.addEventListener("visibilitychange",Jn,!1),Ce=()=>{R.removePassiveListener(gt),document.removeEventListener("resume",Jt,!1),document.removeEventListener("visibilitychange",Jn,!1),At&&window.clearTimeout(At)}})}finally{Ce()}})).apply(this,arguments)}function ae(U){return De.apply(this,arguments)}function De(){return(De=(0,O.Z)(function*(U){const R=Fe(U),j=yield crypto.subtle.digest("SHA-256",R);return Array.from(new Uint8Array(j)).map(Ce=>Ce.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function Fe(U){if((0,G.ap)(/[0-9a-zA-Z]+/.test(U),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(U);const R=new ArrayBuffer(U.length),j=new Uint8Array(R);for(let ie=0;ie<U.length;ie++)j[ie]=U.charCodeAt(ie);return j}class Ue extends G.ay{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(R=>{this.resolveInialized=R})}addPassiveListener(R){this.passiveListeners.add(R)}removePassiveListener(R){this.passiveListeners.delete(R)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(R){return this.resolveInialized(),this.passiveListeners.forEach(j=>j(R)),super.onEvent(R)}initialized(){var R=this;return(0,O.Z)(function*(){yield R.initPromise})()}}function ue(U){return Me.apply(this,arguments)}function Me(){return(Me=(0,O.Z)(function*(U){const R=yield me()._get(Ie(U));return R&&(yield me()._remove(Ie(U))),R})).apply(this,arguments)}function fe(){const U=[],R="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let j=0;j<20;j++){const ie=Math.floor(Math.random()*R.length);U.push(R.charAt(ie))}return U.join("")}function me(){return(0,G.az)(G.b)}function Ie(U){return(0,G.aA)("authEvent",U.config.apiKey,U.name)}function rt(U){if(!U?.includes("?"))return{};const[R,...j]=U.split("?");return(0,he.zd)(j.join("?"))}const Cn=class In{constructor(){this._redirectPersistence=G.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=G.aB,this._overrideRedirectResult=G.aC}_initialize(R){var j=this;return(0,O.Z)(function*(){const ie=R._key();let Ce=j.eventManagers.get(ie);return Ce||(Ce=new Ue(R),j.eventManagers.set(ie,Ce),j.attachCallbackListeners(R,Ce)),Ce})()}_openPopup(R){(0,G.as)(R,"operation-not-supported-in-this-environment")}_openRedirect(R,j,ie,Ce){var Je=this;return(0,O.Z)(function*(){!function X(U){var R,j,ie,Ce,Je,ze,At,gt,Jt,Jn;const Wt=Ee();(0,G.ax)("function"==typeof(null===(R=Wt?.universalLinks)||void 0===R?void 0:R.subscribe),U,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,G.ax)(typeof(null===(j=Wt?.BuildInfo)||void 0===j?void 0:j.packageName)<"u",U,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,G.ax)("function"==typeof(null===(Je=null===(Ce=null===(ie=Wt?.cordova)||void 0===ie?void 0:ie.plugins)||void 0===Ce?void 0:Ce.browsertab)||void 0===Je?void 0:Je.openUrl),U,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,G.ax)("function"==typeof(null===(gt=null===(At=null===(ze=Wt?.cordova)||void 0===ze?void 0:ze.plugins)||void 0===At?void 0:At.browsertab)||void 0===gt?void 0:gt.isAvailable),U,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,G.ax)("function"==typeof(null===(Jn=null===(Jt=Wt?.cordova)||void 0===Jt?void 0:Jt.InAppBrowser)||void 0===Jn?void 0:Jn.open),U,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(R);const ze=yield Je._initialize(R);yield ze.initialized(),ze.resetRedirect(),(0,G.aD)(),yield Je._originValidation(R);const At=function Be(U,R,j=null){return{type:R,eventId:j,urlResponse:null,sessionId:fe(),postBody:null,tenantId:U.tenantId,error:(0,G.aw)(U,"no-auth-event")}}(R,ie,Ce);yield function it(U,R){return me()._set(Ie(U),R)}(R,At);const gt=yield function ne(U,R,j){return te.apply(this,arguments)}(R,At,j),Jt=yield function de(U){const{cordova:R}=Ee();return new Promise(j=>{R.plugins.browsertab.isAvailable(ie=>{let Ce=null;ie?R.plugins.browsertab.openUrl(U):Ce=R.InAppBrowser.open(U,(0,G.av)()?"_blank":"_system","location=yes"),j(Ce)})})}(gt);return function qe(U,R,j){return J.apply(this,arguments)}(R,ze,Jt)})()}_isIframeWebStorageSupported(R,j){throw new Error("Method not implemented.")}_originValidation(R){const j=R._key();return this.originValidationPromises[j]||(this.originValidationPromises[j]=function ce(U){return Ze.apply(this,arguments)}(R)),this.originValidationPromises[j]}attachCallbackListeners(R,j){const{universalLinks:ie,handleOpenURL:Ce,BuildInfo:Je}=Ee(),ze=setTimeout((0,O.Z)(function*(){yield ue(R),j.onEvent(Ft())}),500),At=function(){var Jn=(0,O.Z)(function*(Wt){clearTimeout(ze);const Zn=yield ue(R);let xo=null;Zn&&Wt?.url&&(xo=function je(U,R){var j,ie;const Ce=function Ae(U){const R=rt(U),j=R.link?decodeURIComponent(R.link):void 0,ie=rt(j).link,Ce=R.deep_link_id?decodeURIComponent(R.deep_link_id):void 0;return rt(Ce).link||Ce||ie||j||U}(R);if(Ce.includes("/__/auth/callback")){const Je=rt(Ce),ze=Je.firebaseError?function Oe(U){try{return JSON.parse(U)}catch{return null}}(decodeURIComponent(Je.firebaseError)):null,At=null===(ie=null===(j=ze?.code)||void 0===j?void 0:j.split("auth/"))||void 0===ie?void 0:ie[1],gt=At?(0,G.aw)(At):null;return gt?{type:U.type,eventId:U.eventId,tenantId:U.tenantId,error:gt,urlResponse:null,sessionId:null,postBody:null}:{type:U.type,eventId:U.eventId,tenantId:U.tenantId,sessionId:U.sessionId,urlResponse:Ce,postBody:null}}return null}(Zn,Wt.url)),j.onEvent(xo||Ft())});return function(Zn){return Jn.apply(this,arguments)}}();typeof ie<"u"&&"function"==typeof ie.subscribe&&ie.subscribe(null,At);const gt=Ce,Jt=`${Je.packageName.toLowerCase()}://`;Ee().handleOpenURL=function(){var Jn=(0,O.Z)(function*(Wt){if(Wt.toLowerCase().startsWith(Jt)&&At({url:Wt}),"function"==typeof gt)try{gt(Wt)}catch(Zn){console.error(Zn)}});return function(Wt){return Jn.apply(this,arguments)}}()}};function Ft(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,G.aw)("no-auth-event")}}function nn(){var U;return(null===(U=self?.location)||void 0===U?void 0:U.protocol)||null}function Fn(U=(0,he.z$)()){return!("file:"!==nn()&&"ionic:"!==nn()&&"capacitor:"!==nn()||!U.toLowerCase().match(/iphone|ipad|ipod|android/))}function Ri(){try{const U=self.localStorage,R=G.aI();if(U)return U.setItem(R,"1"),U.removeItem(R),!function Or(U=(0,he.z$)()){return function mi(){return(0,he.w1)()&&11===document?.documentMode}()||function cr(U=(0,he.z$)()){return/Edge\/\d+/.test(U)}(U)}()||(0,he.hl)()}catch{return ri()&&(0,he.hl)()}return!1}function ri(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function br(){return(function Rt(){return"http:"===nn()||"https:"===nn()}()||(0,he.ru)()||Fn())&&!function Rr(){return(0,he.b$)()||(0,he.UG)()}()&&Ri()&&!ri()}function Br(){return Fn()&&typeof document<"u"}function jr(){return(jr=(0,O.Z)(function*(){return!!Br()&&new Promise(U=>{const R=setTimeout(()=>{U(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(R),U(!0)})})})).apply(this,arguments)}const It={LOCAL:"local",NONE:"none",SESSION:"session"},wr=G.ax,Qr="persistence";function $r(U){return Pr.apply(this,arguments)}function Pr(){return(Pr=(0,O.Z)(function*(U){yield U._initializationPromise;const R=Bn(),j=G.aA(Qr,U.config.apiKey,U.name);R&&R.setItem(j,U._getPersistence())})).apply(this,arguments)}function Bn(){var U;try{return(null===(U=function wn(){return typeof window<"u"?window:null}())||void 0===U?void 0:U.sessionStorage)||null}catch{return null}}const Nt=G.ax;class ht{constructor(){this.browserResolver=G.az(G.k),this.cordovaResolver=G.az(Cn),this.underlyingResolver=null,this._redirectPersistence=G.a,this._completeRedirectFn=G.aB,this._overrideRedirectResult=G.aC}_initialize(R){var j=this;return(0,O.Z)(function*(){return yield j.selectUnderlyingResolver(),j.assertedUnderlyingResolver._initialize(R)})()}_openPopup(R,j,ie,Ce){var Je=this;return(0,O.Z)(function*(){return yield Je.selectUnderlyingResolver(),Je.assertedUnderlyingResolver._openPopup(R,j,ie,Ce)})()}_openRedirect(R,j,ie,Ce){var Je=this;return(0,O.Z)(function*(){return yield Je.selectUnderlyingResolver(),Je.assertedUnderlyingResolver._openRedirect(R,j,ie,Ce)})()}_isIframeWebStorageSupported(R,j){this.assertedUnderlyingResolver._isIframeWebStorageSupported(R,j)}_originValidation(R){return this.assertedUnderlyingResolver._originValidation(R)}get _shouldInitProactively(){return Br()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Nt(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var R=this;return(0,O.Z)(function*(){if(R.underlyingResolver)return;const j=yield function ii(){return jr.apply(this,arguments)}();R.underlyingResolver=j?R.cordovaResolver:R.browserResolver})()}}function Gn(U){return U.unwrap()}function Er(U){return ar(U)}function ar(U){const{_tokenResponse:R}=U instanceof he.ZR?U.customData:U;if(!R)return null;if(!(U instanceof he.ZR)&&"temporaryProof"in R&&"phoneNumber"in R)return G.P.credentialFromResult(U);const j=R.providerId;if(!j||j===G.o.PASSWORD)return null;let ie;switch(j){case G.o.GOOGLE:ie=G.Q;break;case G.o.FACEBOOK:ie=G.N;break;case G.o.GITHUB:ie=G.T;break;case G.o.TWITTER:ie=G.W;break;default:const{oauthIdToken:Ce,oauthAccessToken:Je,oauthTokenSecret:ze,pendingToken:At,nonce:gt}=R;return Je||ze||Ce||At?At?j.startsWith("saml.")?G.aL._create(j,At):G.J._fromParams({providerId:j,signInMethod:j,pendingToken:At,idToken:Ce,accessToken:Je}):new G.U(j).credential({idToken:Ce,accessToken:Je,rawNonce:gt}):null}return U instanceof he.ZR?ie.credentialFromError(U):ie.credentialFromResult(U)}function Qn(U,R){return R.catch(j=>{throw j instanceof he.ZR&&function di(U,R){var j,ie;const Ce=null===(j=R.customData)||void 0===j?void 0:j._tokenResponse;if("auth/multi-factor-auth-required"===(null===(ie=R)||void 0===ie?void 0:ie.code))R.resolver=new rn(U,G.an(U,R));else if(Ce){const Je=ar(R),ze=R;Je&&(ze.credential=Je,ze.tenantId=Ce.tenantId||void 0,ze.email=Ce.email||void 0,ze.phoneNumber=Ce.phoneNumber||void 0)}}(U,j),j}).then(j=>{const Ce=j.user;return{operationType:j.operationType,credential:Er(j),additionalUserInfo:G.al(j),user:Gr.getOrCreate(Ce)}})}function Tn(U,R){return Lr.apply(this,arguments)}function Lr(){return(Lr=(0,O.Z)(function*(U,R){const j=yield R;return{verificationId:j.verificationId,confirm:ie=>Qn(U,j.confirm(ie))}})).apply(this,arguments)}class rn{constructor(R,j){this.resolver=j,this.auth=function Hr(U){return U.wrapped()}(R)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(R){return Qn(Gn(this.auth),this.resolver.resolveSignIn(R))}}class Gr{constructor(R){this._delegate=R,this.multiFactor=G.ao(R)}static getOrCreate(R){return Gr.USER_MAP.has(R)||Gr.USER_MAP.set(R,new Gr(R)),Gr.USER_MAP.get(R)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(R){return this._delegate.getIdTokenResult(R)}getIdToken(R){return this._delegate.getIdToken(R)}linkAndRetrieveDataWithCredential(R){return this.linkWithCredential(R)}linkWithCredential(R){var j=this;return(0,O.Z)(function*(){return Qn(j.auth,G.Z(j._delegate,R))})()}linkWithPhoneNumber(R,j){var ie=this;return(0,O.Z)(function*(){return Tn(ie.auth,G.l(ie._delegate,R,j))})()}linkWithPopup(R){var j=this;return(0,O.Z)(function*(){return Qn(j.auth,G.d(j._delegate,R,ht))})()}linkWithRedirect(R){var j=this;return(0,O.Z)(function*(){return yield $r(G.aE(j.auth)),G.g(j._delegate,R,ht)})()}reauthenticateAndRetrieveDataWithCredential(R){return this.reauthenticateWithCredential(R)}reauthenticateWithCredential(R){var j=this;return(0,O.Z)(function*(){return Qn(j.auth,G._(j._delegate,R))})()}reauthenticateWithPhoneNumber(R,j){return Tn(this.auth,G.r(this._delegate,R,j))}reauthenticateWithPopup(R){return Qn(this.auth,G.e(this._delegate,R,ht))}reauthenticateWithRedirect(R){var j=this;return(0,O.Z)(function*(){return yield $r(G.aE(j.auth)),G.h(j._delegate,R,ht)})()}sendEmailVerification(R){return G.ab(this._delegate,R)}unlink(R){var j=this;return(0,O.Z)(function*(){return yield G.ak(j._delegate,R),j})()}updateEmail(R){return G.ag(this._delegate,R)}updatePassword(R){return G.ah(this._delegate,R)}updatePhoneNumber(R){return G.u(this._delegate,R)}updateProfile(R){return G.af(this._delegate,R)}verifyBeforeUpdateEmail(R,j){return G.ac(this._delegate,R,j)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Gr.USER_MAP=new WeakMap;const Xe=G.ax;let We=(()=>{class U{constructor(j,ie){if(this.app=j,ie.isInitialized())return this._delegate=ie.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:Ce}=j.options;Xe(Ce,"invalid-api-key",{appName:j.name}),Xe(Ce,"invalid-api-key",{appName:j.name});const Je=typeof window<"u"?ht:void 0;this._delegate=ie.initialize({options:{persistence:Ot(Ce,j.name),popupRedirectResolver:Je}}),this._delegate._updateErrorMap(G.B),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Gr.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(j){this._delegate.languageCode=j}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(j){this._delegate.tenantId=j}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(j,ie){G.G(this._delegate,j,ie)}applyActionCode(j){return G.a2(this._delegate,j)}checkActionCode(j){return G.a3(this._delegate,j)}confirmPasswordReset(j,ie){return G.a1(this._delegate,j,ie)}createUserWithEmailAndPassword(j,ie){var Ce=this;return(0,O.Z)(function*(){return Qn(Ce._delegate,G.a5(Ce._delegate,j,ie))})()}fetchProvidersForEmail(j){return this.fetchSignInMethodsForEmail(j)}fetchSignInMethodsForEmail(j){return G.aa(this._delegate,j)}isSignInWithEmailLink(j){return G.a8(this._delegate,j)}getRedirectResult(){var j=this;return(0,O.Z)(function*(){Xe(br(),j._delegate,"operation-not-supported-in-this-environment");const ie=yield G.j(j._delegate,ht);return ie?Qn(j._delegate,Promise.resolve(ie)):{credential:null,user:null}})()}addFrameworkForLogging(j){!function en(U,R){(0,G.aE)(U)._logFramework(R)}(this._delegate,j)}onAuthStateChanged(j,ie,Ce){const{next:Je,error:ze,complete:At}=pt(j,ie,Ce);return this._delegate.onAuthStateChanged(Je,ze,At)}onIdTokenChanged(j,ie,Ce){const{next:Je,error:ze,complete:At}=pt(j,ie,Ce);return this._delegate.onIdTokenChanged(Je,ze,At)}sendSignInLinkToEmail(j,ie){return G.a7(this._delegate,j,ie)}sendPasswordResetEmail(j,ie){return G.a0(this._delegate,j,ie||void 0)}setPersistence(j){var ie=this;return(0,O.Z)(function*(){let Ce;switch(function Yn(U,R){wr(Object.values(It).includes(R),U,"invalid-persistence-type"),(0,he.b$)()?wr(R!==It.SESSION,U,"unsupported-persistence-type"):(0,he.UG)()?wr(R===It.NONE,U,"unsupported-persistence-type"):ri()?wr(R===It.NONE||R===It.LOCAL&&(0,he.hl)(),U,"unsupported-persistence-type"):wr(R===It.NONE||Ri(),U,"unsupported-persistence-type")}(ie._delegate,j),j){case It.SESSION:Ce=G.a;break;case It.LOCAL:Ce=(yield G.az(G.i)._isAvailable())?G.i:G.b;break;case It.NONE:Ce=G.L;break;default:return G.as("argument-error",{appName:ie._delegate.name})}return ie._delegate.setPersistence(Ce)})()}signInAndRetrieveDataWithCredential(j){return this.signInWithCredential(j)}signInAnonymously(){return Qn(this._delegate,G.X(this._delegate))}signInWithCredential(j){return Qn(this._delegate,G.Y(this._delegate,j))}signInWithCustomToken(j){return Qn(this._delegate,G.$(this._delegate,j))}signInWithEmailAndPassword(j,ie){return Qn(this._delegate,G.a6(this._delegate,j,ie))}signInWithEmailLink(j,ie){return Qn(this._delegate,G.a9(this._delegate,j,ie))}signInWithPhoneNumber(j,ie){return Tn(this._delegate,G.s(this._delegate,j,ie))}signInWithPopup(j){var ie=this;return(0,O.Z)(function*(){return Xe(br(),ie._delegate,"operation-not-supported-in-this-environment"),Qn(ie._delegate,G.c(ie._delegate,j,ht))})()}signInWithRedirect(j){var ie=this;return(0,O.Z)(function*(){return Xe(br(),ie._delegate,"operation-not-supported-in-this-environment"),yield $r(ie._delegate),G.f(ie._delegate,j,ht)})()}updateCurrentUser(j){return this._delegate.updateCurrentUser(j)}verifyPasswordResetCode(j){return G.a4(this._delegate,j)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return U.Persistence=It,U})();function pt(U,R,j){let ie=U;"function"!=typeof U&&({next:ie,error:R,complete:j}=U);const Ce=ie;return{next:ze=>Ce(ze&&Gr.getOrCreate(ze)),error:R,complete:j}}function Ot(U,R){const j=function En(U,R){const j=Bn();if(!j)return[];const ie=G.aA(Qr,U,R);switch(j.getItem(ie)){case It.NONE:return[G.L];case It.LOCAL:return[G.i,G.a];case It.SESSION:return[G.a];default:return[]}}(U,R);if(typeof self<"u"&&!j.includes(G.i)&&j.push(G.i),typeof window<"u")for(const ie of[G.b,G.a])j.includes(ie)||j.push(ie);return j.includes(G.L)||j.push(G.L),j}class Ht{constructor(){this.providerId="phone",this._delegate=new G.P(Gn(l.Z.auth()))}static credential(R,j){return G.P.credential(R,j)}verifyPhoneNumber(R,j){return this._delegate.verifyPhoneNumber(R,j)}unwrap(){return this._delegate}}Ht.PHONE_SIGN_IN_METHOD=G.P.PHONE_SIGN_IN_METHOD,Ht.PROVIDER_ID=G.P.PROVIDER_ID;const dn=G.ax;class re{constructor(R,j,ie=l.Z.app()){var Ce;dn(null===(Ce=ie.options)||void 0===Ce?void 0:Ce.apiKey,"invalid-api-key",{appName:ie.name}),this._delegate=new G.R(R,j,ie.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function H(U){U.INTERNAL.registerComponent(new Ne.wA("auth-compat",R=>{const j=R.getProvider("app-compat").getImmediate(),ie=R.getProvider("auth");return new We(j,ie)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:G.A.EMAIL_SIGNIN,PASSWORD_RESET:G.A.PASSWORD_RESET,RECOVER_EMAIL:G.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:G.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:G.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:G.A.VERIFY_EMAIL}},EmailAuthProvider:G.M,FacebookAuthProvider:G.N,GithubAuthProvider:G.T,GoogleAuthProvider:G.Q,OAuthProvider:G.U,SAMLAuthProvider:G.V,PhoneAuthProvider:Ht,PhoneMultiFactorGenerator:G.m,RecaptchaVerifier:re,TwitterAuthProvider:G.W,Auth:We,AuthCredential:G.H,Error:he.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),U.registerVersion("@firebase/auth-compat","0.2.24")}(l.Z)},5473:()=>{!function(){"use strict";var be=function(V){this.element_=V,this.init()};window.MaterialButton=be,be.prototype.Constant_={},be.prototype.CssClasses_={RIPPLE_EFFECT:"mdl-js-ripple-effect",RIPPLE_CONTAINER:"mdl-button__ripple-container",RIPPLE:"mdl-ripple"},be.prototype.blurHandler_=function(pe){pe&&this.element_.blur()},be.prototype.disable=be.prototype.disable=function(){this.element_.disabled=!0},be.prototype.enable=be.prototype.enable=function(){this.element_.disabled=!1},be.prototype.init=function(){if(this.element_){if(this.element_.classList.contains(this.CssClasses_.RIPPLE_EFFECT)){var pe=document.createElement("span");pe.classList.add(this.CssClasses_.RIPPLE_CONTAINER),this.rippleElement_=document.createElement("span"),this.rippleElement_.classList.add(this.CssClasses_.RIPPLE),pe.appendChild(this.rippleElement_),this.boundRippleBlurHandler=this.blurHandler_.bind(this),this.rippleElement_.addEventListener("mouseup",this.boundRippleBlurHandler),this.element_.appendChild(pe)}this.boundButtonBlurHandler=this.blurHandler_.bind(this),this.element_.addEventListener("mouseup",this.boundButtonBlurHandler),this.element_.addEventListener("mouseleave",this.boundButtonBlurHandler)}},componentHandler.register({constructor:be,classAsString:"MaterialButton",cssClass:"mdl-js-button",widget:!0})}()},2125:()=>{var be={upgradeDom:function(pe,V){},upgradeElement:function(pe,V){},upgradeElements:function(pe){},upgradeAllRegistered:function(){},registerUpgradedCallback:function(pe,V){},register:function(pe){},downgradeElements:function(pe){}};(be=function(){"use strict";var pe=[],V=[],O="mdlComponentConfigInternal_";function l(de,qe){for(var J=0;J<pe.length;J++)if(pe[J].className===de)return typeof qe<"u"&&(pe[J]=qe),pe[J];return!1}function G(de){var qe=de.getAttribute("data-upgraded");return null===qe?[""]:qe.split(",")}function he(de,qe){return-1!==G(de).indexOf(qe)}function Te(de,qe,J){if("CustomEvent"in window&&"function"==typeof window.CustomEvent)return new CustomEvent(de,{bubbles:qe,cancelable:J});var X=document.createEvent("Events");return X.initEvent(de,qe,J),X}function xe(de,qe){if(typeof de>"u"&&typeof qe>"u")for(var J=0;J<pe.length;J++)xe(pe[J].className,pe[J].cssClass);else{var X=de;if(typeof qe>"u"){var ae=l(X);ae&&(qe=ae.cssClass)}for(var De=document.querySelectorAll("."+qe),Fe=0;Fe<De.length;Fe++)Ne(De[Fe],X)}}function Ne(de,qe){if(!("object"==typeof de&&de instanceof Element))throw new Error("Invalid argument provided to upgrade MDL element.");var J=Te("mdl-componentupgrading",!0,!0);if(de.dispatchEvent(J),!J.defaultPrevented){var X=G(de),ae=[];if(qe)he(de,qe)||ae.push(l(qe));else{var De=de.classList;pe.forEach(function(je){De.contains(je.cssClass)&&-1===ae.indexOf(je)&&!he(de,je.className)&&ae.push(je)})}for(var Ue,Fe=0,He=ae.length;Fe<He;Fe++){if(!(Ue=ae[Fe]))throw new Error("Unable to find a registered component for the given class.");X.push(Ue.className),de.setAttribute("data-upgraded",X.join(","));var Be=new Ue.classConstructor(de);Be[O]=Ue,V.push(Be);for(var it=0,ue=Ue.callbacks.length;it<ue;it++)Ue.callbacks[it](de);Ue.widget&&(de[Ue.className]=Be);var Me=Te("mdl-componentupgraded",!0,!1);de.dispatchEvent(Me)}}}function ce(de){if(de){var qe=V.indexOf(de);V.splice(qe,1);var J=de.element_.getAttribute("data-upgraded").split(","),X=J.indexOf(de[O].classAsString);J.splice(X,1),de.element_.setAttribute("data-upgraded",J.join(","));var ae=Te("mdl-componentdowngraded",!0,!1);de.element_.dispatchEvent(ae)}}return{upgradeDom:xe,upgradeElement:Ne,upgradeElements:function Ee(de){Array.isArray(de)||(de=de instanceof Element?[de]:Array.prototype.slice.call(de));for(var X,qe=0,J=de.length;qe<J;qe++)(X=de[qe])instanceof HTMLElement&&(Ne(X),X.children.length>0&&Ee(X.children))},upgradeAllRegistered:function te(){for(var de=0;de<pe.length;de++)xe(pe[de].className)},registerUpgradedCallback:function ne(de,qe){var J=l(de);J&&J.callbacks.push(qe)},register:function ge(de){var J=!0;typeof de.widget>"u"&&typeof de.widget>"u"||(J=de.widget||de.widget);var X={classConstructor:de.constructor||de.constructor,className:de.classAsString||de.classAsString,cssClass:de.cssClass||de.cssClass,widget:J,callbacks:[]};if(pe.forEach(function(De){if(De.cssClass===X.cssClass)throw new Error("The provided cssClass has already been registered: "+De.cssClass);if(De.className===X.className)throw new Error("The provided className has already been registered")}),de.constructor.prototype.hasOwnProperty(O))throw new Error("MDL component classes must not have "+O+" defined as a property.");l(de.classAsString,X)||pe.push(X)},downgradeElements:function Ze(de){var qe=function(X){V.filter(function(ae){return ae.element_===X}).forEach(ce)};if(de instanceof Array||de instanceof NodeList)for(var J=0;J<de.length;J++)qe(de[J]);else{if(!(de instanceof Node))throw new Error("Invalid argument provided to downgrade MDL nodes.");qe(de)}}}}()).upgradeDom=be.upgradeDom,be.upgradeElement=be.upgradeElement,be.upgradeElements=be.upgradeElements,be.upgradeAllRegistered=be.upgradeAllRegistered,be.registerUpgradedCallback=be.registerUpgradedCallback,be.register=be.register,be.downgradeElements=be.downgradeElements,window.componentHandler=be,window.componentHandler=be,window.addEventListener("load",function(){"use strict";"classList"in document.createElement("div")&&"querySelector"in document&&"addEventListener"in window&&Array.prototype.forEach?(document.documentElement.classList.add("mdl-js"),be.upgradeAllRegistered()):(be.upgradeElement=function(){},be.register=function(){})})},9812:()=>{!function(){"use strict";var be=function(V){this.element_=V,this.init()};window.MaterialProgress=be,be.prototype.Constant_={},be.prototype.CssClasses_={INDETERMINATE_CLASS:"mdl-progress__indeterminate"},be.prototype.setProgress=be.prototype.setProgress=function(pe){this.element_.classList.contains(this.CssClasses_.INDETERMINATE_CLASS)||(this.progressbar_.style.width=pe+"%")},be.prototype.setBuffer=be.prototype.setBuffer=function(pe){this.bufferbar_.style.width=pe+"%",this.auxbar_.style.width=100-pe+"%"},be.prototype.init=function(){if(this.element_){var pe=document.createElement("div");pe.className="progressbar bar bar1",this.element_.appendChild(pe),this.progressbar_=pe,(pe=document.createElement("div")).className="bufferbar bar bar2",this.element_.appendChild(pe),this.bufferbar_=pe,(pe=document.createElement("div")).className="auxbar bar bar3",this.element_.appendChild(pe),this.auxbar_=pe,this.progressbar_.style.width="0%",this.bufferbar_.style.width="100%",this.auxbar_.style.width="0%",this.element_.classList.add("is-upgraded")}},componentHandler.register({constructor:be,classAsString:"MaterialProgress",cssClass:"mdl-js-progress",widget:!0})}()},7792:()=>{!function(){"use strict";var be=function(V){this.element_=V,this.init()};window.MaterialSpinner=be,be.prototype.Constant_={MDL_SPINNER_LAYER_COUNT:4},be.prototype.CssClasses_={MDL_SPINNER_LAYER:"mdl-spinner__layer",MDL_SPINNER_CIRCLE_CLIPPER:"mdl-spinner__circle-clipper",MDL_SPINNER_CIRCLE:"mdl-spinner__circle",MDL_SPINNER_GAP_PATCH:"mdl-spinner__gap-patch",MDL_SPINNER_LEFT:"mdl-spinner__left",MDL_SPINNER_RIGHT:"mdl-spinner__right"},be.prototype.createLayer=be.prototype.createLayer=function(pe){var V=document.createElement("div");V.classList.add(this.CssClasses_.MDL_SPINNER_LAYER),V.classList.add(this.CssClasses_.MDL_SPINNER_LAYER+"-"+pe);var O=document.createElement("div");O.classList.add(this.CssClasses_.MDL_SPINNER_CIRCLE_CLIPPER),O.classList.add(this.CssClasses_.MDL_SPINNER_LEFT);var l=document.createElement("div");l.classList.add(this.CssClasses_.MDL_SPINNER_GAP_PATCH);var G=document.createElement("div");G.classList.add(this.CssClasses_.MDL_SPINNER_CIRCLE_CLIPPER),G.classList.add(this.CssClasses_.MDL_SPINNER_RIGHT);for(var he=[O,l,G],Te=0;Te<he.length;Te++){var xe=document.createElement("div");xe.classList.add(this.CssClasses_.MDL_SPINNER_CIRCLE),he[Te].appendChild(xe)}V.appendChild(O),V.appendChild(l),V.appendChild(G),this.element_.appendChild(V)},be.prototype.stop=be.prototype.stop=function(){this.element_.classList.remove("is-active")},be.prototype.start=be.prototype.start=function(){this.element_.classList.add("is-active")},be.prototype.init=function(){if(this.element_){for(var pe=1;pe<=this.Constant_.MDL_SPINNER_LAYER_COUNT;pe++)this.createLayer(pe);this.element_.classList.add("is-upgraded")}},componentHandler.register({constructor:be,classAsString:"MaterialSpinner",cssClass:"mdl-js-spinner",widget:!0})}()},2910:()=>{!function(){"use strict";var be=function(V){this.element_=V,this.maxRows=this.Constant_.NO_MAX_ROWS,this.init()};window.MaterialTextfield=be,be.prototype.Constant_={NO_MAX_ROWS:-1,MAX_ROWS_ATTRIBUTE:"maxrows"},be.prototype.CssClasses_={LABEL:"mdl-textfield__label",INPUT:"mdl-textfield__input",IS_DIRTY:"is-dirty",IS_FOCUSED:"is-focused",IS_DISABLED:"is-disabled",IS_INVALID:"is-invalid",IS_UPGRADED:"is-upgraded",HAS_PLACEHOLDER:"has-placeholder"},be.prototype.onKeyDown_=function(pe){var V=pe.target.value.split("\n").length;13===pe.keyCode&&V>=this.maxRows&&pe.preventDefault()},be.prototype.onFocus_=function(pe){this.element_.classList.add(this.CssClasses_.IS_FOCUSED)},be.prototype.onBlur_=function(pe){this.element_.classList.remove(this.CssClasses_.IS_FOCUSED)},be.prototype.onReset_=function(pe){this.updateClasses_()},be.prototype.updateClasses_=function(){this.checkDisabled(),this.checkValidity(),this.checkDirty(),this.checkFocus()},be.prototype.checkDisabled=be.prototype.checkDisabled=function(){this.input_.disabled?this.element_.classList.add(this.CssClasses_.IS_DISABLED):this.element_.classList.remove(this.CssClasses_.IS_DISABLED)},be.prototype.checkFocus=be.prototype.checkFocus=function(){Boolean(this.element_.querySelector(":focus"))?this.element_.classList.add(this.CssClasses_.IS_FOCUSED):this.element_.classList.remove(this.CssClasses_.IS_FOCUSED)},be.prototype.checkValidity=be.prototype.checkValidity=function(){this.input_.validity&&(this.input_.validity.valid?this.element_.classList.remove(this.CssClasses_.IS_INVALID):this.element_.classList.add(this.CssClasses_.IS_INVALID))},be.prototype.checkDirty=be.prototype.checkDirty=function(){this.input_.value&&this.input_.value.length>0?this.element_.classList.add(this.CssClasses_.IS_DIRTY):this.element_.classList.remove(this.CssClasses_.IS_DIRTY)},be.prototype.disable=be.prototype.disable=function(){this.input_.disabled=!0,this.updateClasses_()},be.prototype.enable=be.prototype.enable=function(){this.input_.disabled=!1,this.updateClasses_()},be.prototype.change=be.prototype.change=function(pe){this.input_.value=pe||"",this.updateClasses_()},be.prototype.init=function(){if(this.element_&&(this.label_=this.element_.querySelector("."+this.CssClasses_.LABEL),this.input_=this.element_.querySelector("."+this.CssClasses_.INPUT),this.input_)){this.input_.hasAttribute(this.Constant_.MAX_ROWS_ATTRIBUTE)&&(this.maxRows=parseInt(this.input_.getAttribute(this.Constant_.MAX_ROWS_ATTRIBUTE),10),isNaN(this.maxRows)&&(this.maxRows=this.Constant_.NO_MAX_ROWS)),this.input_.hasAttribute("placeholder")&&this.element_.classList.add(this.CssClasses_.HAS_PLACEHOLDER),this.boundUpdateClassesHandler=this.updateClasses_.bind(this),this.boundFocusHandler=this.onFocus_.bind(this),this.boundBlurHandler=this.onBlur_.bind(this),this.boundResetHandler=this.onReset_.bind(this),this.input_.addEventListener("input",this.boundUpdateClassesHandler),this.input_.addEventListener("focus",this.boundFocusHandler),this.input_.addEventListener("blur",this.boundBlurHandler),this.input_.addEventListener("reset",this.boundResetHandler),this.maxRows!==this.Constant_.NO_MAX_ROWS&&(this.boundKeyDownHandler=this.onKeyDown_.bind(this),this.input_.addEventListener("keydown",this.boundKeyDownHandler));var pe=this.element_.classList.contains(this.CssClasses_.IS_INVALID);this.updateClasses_(),this.element_.classList.add(this.CssClasses_.IS_UPGRADED),pe&&this.element_.classList.add(this.CssClasses_.IS_INVALID),this.input_.hasAttribute("autofocus")&&(this.element_.focus(),this.checkFocus())}},componentHandler.register({constructor:be,classAsString:"MaterialTextfield",cssClass:"mdl-js-textfield",widget:!0})}()},9751:(be,pe,V)=>{"use strict";V.d(pe,{y:()=>Ee});var O=V(930),l=V(727),G=V(8822),he=V(9635),Te=V(2416),xe=V(576),Ne=V(2806);let Ee=(()=>{class ce{constructor(de){de&&(this._subscribe=de)}lift(de){const qe=new ce;return qe.source=this,qe.operator=de,qe}subscribe(de,qe,J){const X=function te(ce){return ce&&ce instanceof O.Lv||function ne(ce){return ce&&(0,xe.m)(ce.next)&&(0,xe.m)(ce.error)&&(0,xe.m)(ce.complete)}(ce)&&(0,l.Nn)(ce)}(de)?de:new O.Hp(de,qe,J);return(0,Ne.x)(()=>{const{operator:ae,source:De}=this;X.add(ae?ae.call(X,De):De?this._subscribe(X):this._trySubscribe(X))}),X}_trySubscribe(de){try{return this._subscribe(de)}catch(qe){de.error(qe)}}forEach(de,qe){return new(qe=ge(qe))((J,X)=>{const ae=new O.Hp({next:De=>{try{de(De)}catch(Fe){X(Fe),ae.unsubscribe()}},error:X,complete:J});this.subscribe(ae)})}_subscribe(de){var qe;return null===(qe=this.source)||void 0===qe?void 0:qe.subscribe(de)}[G.L](){return this}pipe(...de){return(0,he.U)(de)(this)}toPromise(de){return new(de=ge(de))((qe,J)=>{let X;this.subscribe(ae=>X=ae,ae=>J(ae),()=>qe(X))})}}return ce.create=Ze=>new ce(Ze),ce})();function ge(ce){var Ze;return null!==(Ze=ce??Te.v.Promise)&&void 0!==Ze?Ze:Promise}},7579:(be,pe,V)=>{"use strict";V.d(pe,{x:()=>Ne});var O=V(9751),l=V(727);const he=(0,V(3888).d)(ge=>function(){ge(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Te=V(8737),xe=V(2806);let Ne=(()=>{class ge extends O.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(te){const ce=new Ee(this,this);return ce.operator=te,ce}_throwIfClosed(){if(this.closed)throw new he}next(te){(0,xe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const ce of this.currentObservers)ce.next(te)}})}error(te){(0,xe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=te;const{observers:ce}=this;for(;ce.length;)ce.shift().error(te)}})}complete(){(0,xe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:te}=this;for(;te.length;)te.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var te;return(null===(te=this.observers)||void 0===te?void 0:te.length)>0}_trySubscribe(te){return this._throwIfClosed(),super._trySubscribe(te)}_subscribe(te){return this._throwIfClosed(),this._checkFinalizedStatuses(te),this._innerSubscribe(te)}_innerSubscribe(te){const{hasError:ce,isStopped:Ze,observers:de}=this;return ce||Ze?l.Lc:(this.currentObservers=null,de.push(te),new l.w0(()=>{this.currentObservers=null,(0,Te.P)(de,te)}))}_checkFinalizedStatuses(te){const{hasError:ce,thrownError:Ze,isStopped:de}=this;ce?te.error(Ze):de&&te.complete()}asObservable(){const te=new O.y;return te.source=this,te}}return ge.create=(ne,te)=>new Ee(ne,te),ge})();class Ee extends Ne{constructor(ne,te){super(),this.destination=ne,this.source=te}next(ne){var te,ce;null===(ce=null===(te=this.destination)||void 0===te?void 0:te.next)||void 0===ce||ce.call(te,ne)}error(ne){var te,ce;null===(ce=null===(te=this.destination)||void 0===te?void 0:te.error)||void 0===ce||ce.call(te,ne)}complete(){var ne,te;null===(te=null===(ne=this.destination)||void 0===ne?void 0:ne.complete)||void 0===te||te.call(ne)}_subscribe(ne){var te,ce;return null!==(ce=null===(te=this.source)||void 0===te?void 0:te.subscribe(ne))&&void 0!==ce?ce:l.Lc}}},930:(be,pe,V)=>{"use strict";V.d(pe,{Hp:()=>J,Lv:()=>ce});var O=V(576),l=V(727),G=V(2416),he=V(7849),Te=V(5032);const xe=ge("C",void 0,void 0);function ge(He,Ue,Be){return{kind:He,value:Ue,error:Be}}var ne=V(3410),te=V(2806);class ce extends l.w0{constructor(Ue){super(),this.isStopped=!1,Ue?(this.destination=Ue,(0,l.Nn)(Ue)&&Ue.add(this)):this.destination=Fe}static create(Ue,Be,it){return new J(Ue,Be,it)}next(Ue){this.isStopped?De(function Ee(He){return ge("N",He,void 0)}(Ue),this):this._next(Ue)}error(Ue){this.isStopped?De(function Ne(He){return ge("E",void 0,He)}(Ue),this):(this.isStopped=!0,this._error(Ue))}complete(){this.isStopped?De(xe,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Ue){this.destination.next(Ue)}_error(Ue){try{this.destination.error(Ue)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Ze=Function.prototype.bind;function de(He,Ue){return Ze.call(He,Ue)}class qe{constructor(Ue){this.partialObserver=Ue}next(Ue){const{partialObserver:Be}=this;if(Be.next)try{Be.next(Ue)}catch(it){X(it)}}error(Ue){const{partialObserver:Be}=this;if(Be.error)try{Be.error(Ue)}catch(it){X(it)}else X(Ue)}complete(){const{partialObserver:Ue}=this;if(Ue.complete)try{Ue.complete()}catch(Be){X(Be)}}}class J extends ce{constructor(Ue,Be,it){let ue;if(super(),(0,O.m)(Ue)||!Ue)ue={next:Ue??void 0,error:Be??void 0,complete:it??void 0};else{let Me;this&&G.v.useDeprecatedNextContext?(Me=Object.create(Ue),Me.unsubscribe=()=>this.unsubscribe(),ue={next:Ue.next&&de(Ue.next,Me),error:Ue.error&&de(Ue.error,Me),complete:Ue.complete&&de(Ue.complete,Me)}):ue=Ue}this.destination=new qe(ue)}}function X(He){G.v.useDeprecatedSynchronousErrorHandling?(0,te.O)(He):(0,he.h)(He)}function De(He,Ue){const{onStoppedNotification:Be}=G.v;Be&&ne.z.setTimeout(()=>Be(He,Ue))}const Fe={closed:!0,next:Te.Z,error:function ae(He){throw He},complete:Te.Z}},727:(be,pe,V)=>{"use strict";V.d(pe,{Lc:()=>xe,w0:()=>Te,Nn:()=>Ne});var O=V(576);const G=(0,V(3888).d)(ge=>function(te){ge(this),this.message=te?`${te.length} errors occurred during unsubscription:\n${te.map((ce,Ze)=>`${Ze+1}) ${ce.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=te});var he=V(8737);class Te{constructor(ne){this.initialTeardown=ne,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let ne;if(!this.closed){this.closed=!0;const{_parentage:te}=this;if(te)if(this._parentage=null,Array.isArray(te))for(const de of te)de.remove(this);else te.remove(this);const{initialTeardown:ce}=this;if((0,O.m)(ce))try{ce()}catch(de){ne=de instanceof G?de.errors:[de]}const{_finalizers:Ze}=this;if(Ze){this._finalizers=null;for(const de of Ze)try{Ee(de)}catch(qe){ne=ne??[],qe instanceof G?ne=[...ne,...qe.errors]:ne.push(qe)}}if(ne)throw new G(ne)}}add(ne){var te;if(ne&&ne!==this)if(this.closed)Ee(ne);else{if(ne instanceof Te){if(ne.closed||ne._hasParent(this))return;ne._addParent(this)}(this._finalizers=null!==(te=this._finalizers)&&void 0!==te?te:[]).push(ne)}}_hasParent(ne){const{_parentage:te}=this;return te===ne||Array.isArray(te)&&te.includes(ne)}_addParent(ne){const{_parentage:te}=this;this._parentage=Array.isArray(te)?(te.push(ne),te):te?[te,ne]:ne}_removeParent(ne){const{_parentage:te}=this;te===ne?this._parentage=null:Array.isArray(te)&&(0,he.P)(te,ne)}remove(ne){const{_finalizers:te}=this;te&&(0,he.P)(te,ne),ne instanceof Te&&ne._removeParent(this)}}Te.EMPTY=(()=>{const ge=new Te;return ge.closed=!0,ge})();const xe=Te.EMPTY;function Ne(ge){return ge instanceof Te||ge&&"closed"in ge&&(0,O.m)(ge.remove)&&(0,O.m)(ge.add)&&(0,O.m)(ge.unsubscribe)}function Ee(ge){(0,O.m)(ge)?ge():ge.unsubscribe()}},2416:(be,pe,V)=>{"use strict";V.d(pe,{v:()=>O});const O={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(be,pe,V)=>{"use strict";V.d(pe,{E:()=>l});const l=new(V(9751).y)(Te=>Te.complete())},8996:(be,pe,V)=>{"use strict";V.d(pe,{D:()=>Ue});var O=V(8421),l=V(5363),G=V(9468),xe=V(9751),Ee=V(2202),ge=V(576),ne=V(9672);function ce(Be,it){if(!Be)throw new Error("Iterable cannot be null");return new xe.y(ue=>{(0,ne.f)(ue,it,()=>{const Me=Be[Symbol.asyncIterator]();(0,ne.f)(ue,it,()=>{Me.next().then(je=>{je.done?ue.complete():ue.next(je.value)})},0,!0)})})}var Ze=V(3670),de=V(8239),qe=V(1144),J=V(6495),X=V(2206),ae=V(4532),De=V(3260);function Ue(Be,it){return it?function He(Be,it){if(null!=Be){if((0,Ze.c)(Be))return function he(Be,it){return(0,O.Xf)(Be).pipe((0,G.R)(it),(0,l.Q)(it))}(Be,it);if((0,qe.z)(Be))return function Ne(Be,it){return new xe.y(ue=>{let Me=0;return it.schedule(function(){Me===Be.length?ue.complete():(ue.next(Be[Me++]),ue.closed||this.schedule())})})}(Be,it);if((0,de.t)(Be))return function Te(Be,it){return(0,O.Xf)(Be).pipe((0,G.R)(it),(0,l.Q)(it))}(Be,it);if((0,X.D)(Be))return ce(Be,it);if((0,J.T)(Be))return function te(Be,it){return new xe.y(ue=>{let Me;return(0,ne.f)(ue,it,()=>{Me=Be[Ee.h](),(0,ne.f)(ue,it,()=>{let je,fe;try{({value:je,done:fe}=Me.next())}catch(me){return void ue.error(me)}fe?ue.complete():ue.next(je)},0,!0)}),()=>(0,ge.m)(Me?.return)&&Me.return()})}(Be,it);if((0,De.L)(Be))return function Fe(Be,it){return ce((0,De.Q)(Be),it)}(Be,it)}throw(0,ae.z)(Be)}(Be,it):(0,O.Xf)(Be)}},8421:(be,pe,V)=>{"use strict";V.d(pe,{Xf:()=>Ze});var O=V(655),l=V(1144),G=V(8239),he=V(9751),Te=V(3670),xe=V(2206),Ne=V(4532),Ee=V(6495),ge=V(3260),ne=V(576),te=V(7849),ce=V(8822);function Ze(He){if(He instanceof he.y)return He;if(null!=He){if((0,Te.c)(He))return function de(He){return new he.y(Ue=>{const Be=He[ce.L]();if((0,ne.m)(Be.subscribe))return Be.subscribe(Ue);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(He);if((0,l.z)(He))return function qe(He){return new he.y(Ue=>{for(let Be=0;Be<He.length&&!Ue.closed;Be++)Ue.next(He[Be]);Ue.complete()})}(He);if((0,G.t)(He))return function J(He){return new he.y(Ue=>{He.then(Be=>{Ue.closed||(Ue.next(Be),Ue.complete())},Be=>Ue.error(Be)).then(null,te.h)})}(He);if((0,xe.D)(He))return ae(He);if((0,Ee.T)(He))return function X(He){return new he.y(Ue=>{for(const Be of He)if(Ue.next(Be),Ue.closed)return;Ue.complete()})}(He);if((0,ge.L)(He))return function De(He){return ae((0,ge.Q)(He))}(He)}throw(0,Ne.z)(He)}function ae(He){return new he.y(Ue=>{(function Fe(He,Ue){var Be,it,ue,Me;return(0,O.mG)(this,void 0,void 0,function*(){try{for(Be=(0,O.KL)(He);!(it=yield Be.next()).done;)if(Ue.next(it.value),Ue.closed)return}catch(je){ue={error:je}}finally{try{it&&!it.done&&(Me=Be.return)&&(yield Me.call(Be))}finally{if(ue)throw ue.error}}Ue.complete()})})(He,Ue).catch(Be=>Ue.error(Be))})}},6451:(be,pe,V)=>{"use strict";V.d(pe,{T:()=>xe});var O=V(8189),l=V(8421),G=V(515),he=V(7669),Te=V(8996);function xe(...Ne){const Ee=(0,he.yG)(Ne),ge=(0,he._6)(Ne,1/0),ne=Ne;return ne.length?1===ne.length?(0,l.Xf)(ne[0]):(0,O.J)(ge)((0,Te.D)(ne,Ee)):G.E}},5403:(be,pe,V)=>{"use strict";V.d(pe,{Q:()=>G,x:()=>l});var O=V(930);function l(he,Te,xe,Ne,Ee){return new G(he,Te,xe,Ne,Ee)}class G extends O.Lv{constructor(Te,xe,Ne,Ee,ge,ne){super(Te),this.onFinalize=ge,this.shouldUnsubscribe=ne,this._next=xe?function(te){try{xe(te)}catch(ce){Te.error(ce)}}:super._next,this._error=Ee?function(te){try{Ee(te)}catch(ce){Te.error(ce)}finally{this.unsubscribe()}}:super._error,this._complete=Ne?function(){try{Ne()}catch(te){Te.error(te)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var Te;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:xe}=this;super.unsubscribe(),!xe&&(null===(Te=this.onFinalize)||void 0===Te||Te.call(this))}}}},4004:(be,pe,V)=>{"use strict";V.d(pe,{U:()=>G});var O=V(4482),l=V(5403);function G(he,Te){return(0,O.e)((xe,Ne)=>{let Ee=0;xe.subscribe((0,l.x)(Ne,ge=>{Ne.next(he.call(Te,ge,Ee++))}))})}},8189:(be,pe,V)=>{"use strict";V.d(pe,{J:()=>G});var O=V(5577),l=V(4671);function G(he=1/0){return(0,O.z)(l.y,he)}},5577:(be,pe,V)=>{"use strict";V.d(pe,{z:()=>Ee});var O=V(4004),l=V(8421),G=V(4482),he=V(9672),Te=V(5403),Ne=V(576);function Ee(ge,ne,te=1/0){return(0,Ne.m)(ne)?Ee((ce,Ze)=>(0,O.U)((de,qe)=>ne(ce,de,Ze,qe))((0,l.Xf)(ge(ce,Ze))),te):("number"==typeof ne&&(te=ne),(0,G.e)((ce,Ze)=>function xe(ge,ne,te,ce,Ze,de,qe,J){const X=[];let ae=0,De=0,Fe=!1;const He=()=>{Fe&&!X.length&&!ae&&ne.complete()},Ue=it=>ae<ce?Be(it):X.push(it),Be=it=>{de&&ne.next(it),ae++;let ue=!1;(0,l.Xf)(te(it,De++)).subscribe((0,Te.x)(ne,Me=>{Ze?.(Me),de?Ue(Me):ne.next(Me)},()=>{ue=!0},void 0,()=>{if(ue)try{for(ae--;X.length&&ae<ce;){const Me=X.shift();qe?(0,he.f)(ne,qe,()=>Be(Me)):Be(Me)}He()}catch(Me){ne.error(Me)}}))};return ge.subscribe((0,Te.x)(ne,Ue,()=>{Fe=!0,He()})),()=>{J?.()}}(ce,Ze,ge,te)))}},5363:(be,pe,V)=>{"use strict";V.d(pe,{Q:()=>he});var O=V(9672),l=V(4482),G=V(5403);function he(Te,xe=0){return(0,l.e)((Ne,Ee)=>{Ne.subscribe((0,G.x)(Ee,ge=>(0,O.f)(Ee,Te,()=>Ee.next(ge),xe),()=>(0,O.f)(Ee,Te,()=>Ee.complete(),xe),ge=>(0,O.f)(Ee,Te,()=>Ee.error(ge),xe)))})}},3099:(be,pe,V)=>{"use strict";V.d(pe,{B:()=>Te});var O=V(8421),l=V(7579),G=V(930),he=V(4482);function Te(Ne={}){const{connector:Ee=(()=>new l.x),resetOnError:ge=!0,resetOnComplete:ne=!0,resetOnRefCountZero:te=!0}=Ne;return ce=>{let Ze,de,qe,J=0,X=!1,ae=!1;const De=()=>{de?.unsubscribe(),de=void 0},Fe=()=>{De(),Ze=qe=void 0,X=ae=!1},He=()=>{const Ue=Ze;Fe(),Ue?.unsubscribe()};return(0,he.e)((Ue,Be)=>{J++,!ae&&!X&&De();const it=qe=qe??Ee();Be.add(()=>{J--,0===J&&!ae&&!X&&(de=xe(He,te))}),it.subscribe(Be),!Ze&&J>0&&(Ze=new G.Hp({next:ue=>it.next(ue),error:ue=>{ae=!0,De(),de=xe(Fe,ge,ue),it.error(ue)},complete:()=>{X=!0,De(),de=xe(Fe,ne),it.complete()}}),(0,O.Xf)(Ue).subscribe(Ze))})(ce)}}function xe(Ne,Ee,...ge){if(!0===Ee)return void Ne();if(!1===Ee)return;const ne=new G.Hp({next:()=>{ne.unsubscribe(),Ne()}});return Ee(...ge).subscribe(ne)}},9468:(be,pe,V)=>{"use strict";V.d(pe,{R:()=>l});var O=V(4482);function l(G,he=0){return(0,O.e)((Te,xe)=>{xe.add(G.schedule(()=>Te.subscribe(xe),he))})}},8505:(be,pe,V)=>{"use strict";V.d(pe,{b:()=>Te});var O=V(576),l=V(4482),G=V(5403),he=V(4671);function Te(xe,Ne,Ee){const ge=(0,O.m)(xe)||Ne||Ee?{next:xe,error:Ne,complete:Ee}:xe;return ge?(0,l.e)((ne,te)=>{var ce;null===(ce=ge.subscribe)||void 0===ce||ce.call(ge);let Ze=!0;ne.subscribe((0,G.x)(te,de=>{var qe;null===(qe=ge.next)||void 0===qe||qe.call(ge,de),te.next(de)},()=>{var de;Ze=!1,null===(de=ge.complete)||void 0===de||de.call(ge),te.complete()},de=>{var qe;Ze=!1,null===(qe=ge.error)||void 0===qe||qe.call(ge,de),te.error(de)},()=>{var de,qe;Ze&&(null===(de=ge.unsubscribe)||void 0===de||de.call(ge)),null===(qe=ge.finalize)||void 0===qe||qe.call(ge)}))}):he.y}},4408:(be,pe,V)=>{"use strict";V.d(pe,{o:()=>Te});var O=V(727);class l extends O.w0{constructor(Ne,Ee){super()}schedule(Ne,Ee=0){return this}}const G={setInterval(xe,Ne,...Ee){const{delegate:ge}=G;return ge?.setInterval?ge.setInterval(xe,Ne,...Ee):setInterval(xe,Ne,...Ee)},clearInterval(xe){const{delegate:Ne}=G;return(Ne?.clearInterval||clearInterval)(xe)},delegate:void 0};var he=V(8737);class Te extends l{constructor(Ne,Ee){super(Ne,Ee),this.scheduler=Ne,this.work=Ee,this.pending=!1}schedule(Ne,Ee=0){var ge;if(this.closed)return this;this.state=Ne;const ne=this.id,te=this.scheduler;return null!=ne&&(this.id=this.recycleAsyncId(te,ne,Ee)),this.pending=!0,this.delay=Ee,this.id=null!==(ge=this.id)&&void 0!==ge?ge:this.requestAsyncId(te,this.id,Ee),this}requestAsyncId(Ne,Ee,ge=0){return G.setInterval(Ne.flush.bind(Ne,this),ge)}recycleAsyncId(Ne,Ee,ge=0){if(null!=ge&&this.delay===ge&&!1===this.pending)return Ee;null!=Ee&&G.clearInterval(Ee)}execute(Ne,Ee){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const ge=this._execute(Ne,Ee);if(ge)return ge;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Ne,Ee){let ne,ge=!1;try{this.work(Ne)}catch(te){ge=!0,ne=te||new Error("Scheduled action threw falsy error")}if(ge)return this.unsubscribe(),ne}unsubscribe(){if(!this.closed){const{id:Ne,scheduler:Ee}=this,{actions:ge}=Ee;this.work=this.state=this.scheduler=null,this.pending=!1,(0,he.P)(ge,this),null!=Ne&&(this.id=this.recycleAsyncId(Ee,Ne,null)),this.delay=null,super.unsubscribe()}}}},7565:(be,pe,V)=>{"use strict";V.d(pe,{v:()=>G});var O=V(6063);class l{constructor(Te,xe=l.now){this.schedulerActionCtor=Te,this.now=xe}schedule(Te,xe=0,Ne){return new this.schedulerActionCtor(this,Te).schedule(Ne,xe)}}l.now=O.l.now;class G extends l{constructor(Te,xe=l.now){super(Te,xe),this.actions=[],this._active=!1}flush(Te){const{actions:xe}=this;if(this._active)return void xe.push(Te);let Ne;this._active=!0;do{if(Ne=Te.execute(Te.state,Te.delay))break}while(Te=xe.shift());if(this._active=!1,Ne){for(;Te=xe.shift();)Te.unsubscribe();throw Ne}}}},4986:(be,pe,V)=>{"use strict";V.d(pe,{z:()=>G});var O=V(4408);const G=new(V(7565).v)(O.o)},6063:(be,pe,V)=>{"use strict";V.d(pe,{l:()=>O});const O={now:()=>(O.delegate||Date).now(),delegate:void 0}},3410:(be,pe,V)=>{"use strict";V.d(pe,{z:()=>O});const O={setTimeout(l,G,...he){const{delegate:Te}=O;return Te?.setTimeout?Te.setTimeout(l,G,...he):setTimeout(l,G,...he)},clearTimeout(l){const{delegate:G}=O;return(G?.clearTimeout||clearTimeout)(l)},delegate:void 0}},2202:(be,pe,V)=>{"use strict";V.d(pe,{h:()=>l});const l=function O(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(be,pe,V)=>{"use strict";V.d(pe,{L:()=>O});const O="function"==typeof Symbol&&Symbol.observable||"@@observable"},7669:(be,pe,V)=>{"use strict";V.d(pe,{_6:()=>xe,jO:()=>he,yG:()=>Te});var O=V(576);function G(Ne){return Ne[Ne.length-1]}function he(Ne){return(0,O.m)(G(Ne))?Ne.pop():void 0}function Te(Ne){return function l(Ne){return Ne&&(0,O.m)(Ne.schedule)}(G(Ne))?Ne.pop():void 0}function xe(Ne,Ee){return"number"==typeof G(Ne)?Ne.pop():Ee}},8737:(be,pe,V)=>{"use strict";function O(l,G){if(l){const he=l.indexOf(G);0<=he&&l.splice(he,1)}}V.d(pe,{P:()=>O})},3888:(be,pe,V)=>{"use strict";function O(l){const he=l(Te=>{Error.call(Te),Te.stack=(new Error).stack});return he.prototype=Object.create(Error.prototype),he.prototype.constructor=he,he}V.d(pe,{d:()=>O})},2806:(be,pe,V)=>{"use strict";V.d(pe,{O:()=>he,x:()=>G});var O=V(2416);let l=null;function G(Te){if(O.v.useDeprecatedSynchronousErrorHandling){const xe=!l;if(xe&&(l={errorThrown:!1,error:null}),Te(),xe){const{errorThrown:Ne,error:Ee}=l;if(l=null,Ne)throw Ee}}else Te()}function he(Te){O.v.useDeprecatedSynchronousErrorHandling&&l&&(l.errorThrown=!0,l.error=Te)}},9672:(be,pe,V)=>{"use strict";function O(l,G,he,Te=0,xe=!1){const Ne=G.schedule(function(){he(),xe?l.add(this.schedule(null,Te)):this.unsubscribe()},Te);if(l.add(Ne),!xe)return Ne}V.d(pe,{f:()=>O})},4671:(be,pe,V)=>{"use strict";function O(l){return l}V.d(pe,{y:()=>O})},1144:(be,pe,V)=>{"use strict";V.d(pe,{z:()=>O});const O=l=>l&&"number"==typeof l.length&&"function"!=typeof l},2206:(be,pe,V)=>{"use strict";V.d(pe,{D:()=>l});var O=V(576);function l(G){return Symbol.asyncIterator&&(0,O.m)(G?.[Symbol.asyncIterator])}},576:(be,pe,V)=>{"use strict";function O(l){return"function"==typeof l}V.d(pe,{m:()=>O})},3670:(be,pe,V)=>{"use strict";V.d(pe,{c:()=>G});var O=V(8822),l=V(576);function G(he){return(0,l.m)(he[O.L])}},6495:(be,pe,V)=>{"use strict";V.d(pe,{T:()=>G});var O=V(2202),l=V(576);function G(he){return(0,l.m)(he?.[O.h])}},8239:(be,pe,V)=>{"use strict";V.d(pe,{t:()=>l});var O=V(576);function l(G){return(0,O.m)(G?.then)}},3260:(be,pe,V)=>{"use strict";V.d(pe,{L:()=>he,Q:()=>G});var O=V(655),l=V(576);function G(Te){return(0,O.FC)(this,arguments,function*(){const Ne=Te.getReader();try{for(;;){const{value:Ee,done:ge}=yield(0,O.qq)(Ne.read());if(ge)return yield(0,O.qq)(void 0);yield yield(0,O.qq)(Ee)}}finally{Ne.releaseLock()}})}function he(Te){return(0,l.m)(Te?.getReader)}},4482:(be,pe,V)=>{"use strict";V.d(pe,{A:()=>l,e:()=>G});var O=V(576);function l(he){return(0,O.m)(he?.lift)}function G(he){return Te=>{if(l(Te))return Te.lift(function(xe){try{return he(xe,this)}catch(Ne){this.error(Ne)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(be,pe,V)=>{"use strict";function O(){}V.d(pe,{Z:()=>O})},9635:(be,pe,V)=>{"use strict";V.d(pe,{U:()=>G,z:()=>l});var O=V(4671);function l(...he){return G(he)}function G(he){return 0===he.length?O.y:1===he.length?he[0]:function(xe){return he.reduce((Ne,Ee)=>Ee(Ne),xe)}}},7849:(be,pe,V)=>{"use strict";V.d(pe,{h:()=>G});var O=V(2416),l=V(3410);function G(he){l.z.setTimeout(()=>{const{onUnhandledError:Te}=O.v;if(!Te)throw he;Te(he)})}},4532:(be,pe,V)=>{"use strict";function O(l){return new TypeError(`You provided ${null!==l&&"object"==typeof l?"an invalid object":`'${l}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}V.d(pe,{z:()=>O})},655:(be,pe,V)=>{"use strict";function he(fe,me){var Ie={};for(var Oe in fe)Object.prototype.hasOwnProperty.call(fe,Oe)&&me.indexOf(Oe)<0&&(Ie[Oe]=fe[Oe]);if(null!=fe&&"function"==typeof Object.getOwnPropertySymbols){var Ae=0;for(Oe=Object.getOwnPropertySymbols(fe);Ae<Oe.length;Ae++)me.indexOf(Oe[Ae])<0&&Object.prototype.propertyIsEnumerable.call(fe,Oe[Ae])&&(Ie[Oe[Ae]]=fe[Oe[Ae]])}return Ie}function Ee(fe,me,Ie,Oe){return new(Ie||(Ie=Promise))(function(rt,xt){function In(en){try{Ft(Oe.next(en))}catch(Zt){xt(Zt)}}function Cn(en){try{Ft(Oe.throw(en))}catch(Zt){xt(Zt)}}function Ft(en){en.done?rt(en.value):function Ae(rt){return rt instanceof Ie?rt:new Ie(function(xt){xt(rt)})}(en.value).then(In,Cn)}Ft((Oe=Oe.apply(fe,me||[])).next())})}function X(fe){return this instanceof X?(this.v=fe,this):new X(fe)}function ae(fe,me,Ie){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ae,Oe=Ie.apply(fe,me||[]),rt=[];return Ae={},xt("next"),xt("throw"),xt("return"),Ae[Symbol.asyncIterator]=function(){return this},Ae;function xt(zn){Oe[zn]&&(Ae[zn]=function(kr){return new Promise(function(nn,Rt){rt.push([zn,kr,nn,Rt])>1||In(zn,kr)})})}function In(zn,kr){try{!function Cn(zn){zn.value instanceof X?Promise.resolve(zn.value.v).then(Ft,en):Zt(rt[0][2],zn)}(Oe[zn](kr))}catch(nn){Zt(rt[0][3],nn)}}function Ft(zn){In("next",zn)}function en(zn){In("throw",zn)}function Zt(zn,kr){zn(kr),rt.shift(),rt.length&&In(rt[0][0],rt[0][1])}}function Fe(fe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ie,me=fe[Symbol.asyncIterator];return me?me.call(fe):(fe=function ce(fe){var me="function"==typeof Symbol&&Symbol.iterator,Ie=me&&fe[me],Oe=0;if(Ie)return Ie.call(fe);if(fe&&"number"==typeof fe.length)return{next:function(){return fe&&Oe>=fe.length&&(fe=void 0),{value:fe&&fe[Oe++],done:!fe}}};throw new TypeError(me?"Object is not iterable.":"Symbol.iterator is not defined.")}(fe),Ie={},Oe("next"),Oe("throw"),Oe("return"),Ie[Symbol.asyncIterator]=function(){return this},Ie);function Oe(rt){Ie[rt]=fe[rt]&&function(xt){return new Promise(function(In,Cn){!function Ae(rt,xt,In,Cn){Promise.resolve(Cn).then(function(Ft){rt({value:Ft,done:In})},xt)}(In,Cn,(xt=fe[rt](xt)).done,xt.value)})}}}V.d(pe,{FC:()=>ae,KL:()=>Fe,_T:()=>he,mG:()=>Ee,qq:()=>X})},4650:(be,pe,V)=>{"use strict";V.d(pe,{$8M:()=>ch,$Z:()=>ED,AFp:()=>b1,ALo:()=>ev,AaK:()=>Ee,AsE:()=>Jw,BQk:()=>Yh,CHM:()=>fb,CRH:()=>av,CZH:()=>zl,CqO:()=>ZD,D6c:()=>kP,DdM:()=>Xy,EJc:()=>fv,EpF:()=>jw,F4k:()=>jl,FYo:()=>rw,FiY:()=>Ba,Gf:()=>FE,GfV:()=>XA,Gpc:()=>te,JOm:()=>mr,Jf7:()=>uw,KtG:()=>Tp,LFG:()=>Xe,Lbi:()=>E1,Lck:()=>zO,MGl:()=>Ry,MMx:()=>CE,NdJ:()=>My,OlP:()=>ur,Oqu:()=>Qw,P3R:()=>tg,PXZ:()=>x1,Q6J:()=>Ay,QGY:()=>Ny,QP$:()=>_i,Qsj:()=>Jk,R0b:()=>Vn,RDi:()=>AA,Rgc:()=>cf,SBq:()=>ty,Sil:()=>zE,Suo:()=>XS,TTD:()=>_u,TgZ:()=>vg,Tol:()=>QR,WLB:()=>jS,X6Q:()=>F1,XFs:()=>It,Xpm:()=>Sa,Xts:()=>Jb,Y36:()=>ho,YKP:()=>RS,YNc:()=>GD,Yjl:()=>dr,Yz7:()=>Rt,Z0I:()=>cr,ZZ4:()=>wv,_Bn:()=>kS,_UZ:()=>xy,_Vd:()=>sg,_c5:()=>NP,_uU:()=>Yw,aQg:()=>ec,c2e:()=>hv,cJS:()=>Rr,cg1:()=>Ag,dDg:()=>CP,dqk:()=>En,eFA:()=>M1,ekj:()=>Kw,eoX:()=>zr,f3M:()=>pt,g9A:()=>w1,h0i:()=>Og,hGG:()=>MP,hij:()=>Uy,iGM:()=>JS,ifc:()=>Ce,ip1:()=>dv,jDz:()=>PS,kL8:()=>gS,lG2:()=>jt,lcZ:()=>ZS,lqb:()=>Pl,lri:()=>A1,n5z:()=>D_,oAB:()=>_e,oxw:()=>$w,q4F:()=>eD,qLn:()=>Fh,qOj:()=>kw,qZA:()=>Sy,rWj:()=>gf,s9C:()=>ky,sBO:()=>oI,sIi:()=>by,s_b:()=>Fg,soG:()=>po,tb:()=>Kl,tp0:()=>Sl,uIk:()=>Gh,vHH:()=>X,vpe:()=>Bo,wAp:()=>Qt,xi3:()=>Lg,xp6:()=>rd,ynx:()=>Vw,z2F:()=>bf,zSh:()=>Rh,zWS:()=>_g,zs3:()=>id});var O=V(7579),l=V(727),G=V(9751),he=V(6451),Te=V(3099);function xe(o){for(let a in o)if(o[a]===xe)return a;throw Error("Could not find renamed property on target object.")}function Ne(o,a){for(const c in a)a.hasOwnProperty(c)&&!o.hasOwnProperty(c)&&(o[c]=a[c])}function Ee(o){if("string"==typeof o)return o;if(Array.isArray(o))return"["+o.map(Ee).join(", ")+"]";if(null==o)return""+o;if(o.overriddenName)return`${o.overriddenName}`;if(o.name)return`${o.name}`;const a=o.toString();if(null==a)return""+a;const c=a.indexOf("\n");return-1===c?a:a.substring(0,c)}function ge(o,a){return null==o||""===o?null===a?"":a:null==a||""===a?o:o+" "+a}const ne=xe({__forward_ref__:xe});function te(o){return o.__forward_ref__=te,o.toString=function(){return Ee(this())},o}function ce(o){return Ze(o)?o():o}function Ze(o){return"function"==typeof o&&o.hasOwnProperty(ne)&&o.__forward_ref__===te}function de(o){return o&&!!o.\u0275providers}const J="https://g.co/ng/security#xss";class X extends Error{constructor(a,c){super(function ae(o,a){return`NG0${Math.abs(o)}${a?": "+a.trim():""}`}(a,c)),this.code=a}}function De(o){return"string"==typeof o?o:null==o?"":String(o)}function it(o,a){throw new X(-201,!1)}function en(o,a){null==o&&function Zt(o,a,c,f){throw new Error(`ASSERTION ERROR: ${o}`+(null==f?"":` [Expected=> ${c} ${f} ${a} <=Actual]`))}(a,o,null,"!=")}function Rt(o){return{token:o.token,providedIn:o.providedIn||null,factory:o.factory,value:void 0}}function Rr(o){return{providers:o.providers||[],imports:o.imports||[]}}function mi(o){return Or(o,Br)||Or(o,jr)}function cr(o){return null!==mi(o)}function Or(o,a){return o.hasOwnProperty(a)?o[a]:null}function br(o){return o&&(o.hasOwnProperty(ii)||o.hasOwnProperty(wn))?o[ii]:null}const Br=xe({\u0275prov:xe}),ii=xe({\u0275inj:xe}),jr=xe({ngInjectableDef:xe}),wn=xe({ngInjectorDef:xe});var It=(()=>((It=It||{})[It.Default=0]="Default",It[It.Host=1]="Host",It[It.Self=2]="Self",It[It.SkipSelf=4]="SkipSelf",It[It.Optional=8]="Optional",It))();let wr;function Yn(o){const a=wr;return wr=o,a}function $r(o,a,c){const f=mi(o);return f&&"root"==f.providedIn?void 0===f.value?f.value=f.factory():f.value:c&It.Optional?null:void 0!==a?a:void it(Ee(o))}const En=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Gn={},Hr="__NG_DI_FLAG__",Er="ngTempTokenPath",ar=/\n/gm,Tn="__source";let Lr;function rn(o){const a=Lr;return Lr=o,a}function Gr(o,a=It.Default){if(void 0===Lr)throw new X(-203,!1);return null===Lr?$r(o,void 0,a):Lr.get(o,a&It.Optional?null:void 0,a)}function Xe(o,a=It.Default){return(function Qr(){return wr}()||Gr)(ce(o),a)}function pt(o,a=It.Default){return Xe(o,Ot(a))}function Ot(o){return typeof o>"u"||"number"==typeof o?o:0|(o.optional&&8)|(o.host&&1)|(o.self&&2)|(o.skipSelf&&4)}function Ht(o){const a=[];for(let c=0;c<o.length;c++){const f=ce(o[c]);if(Array.isArray(f)){if(0===f.length)throw new X(900,!1);let g,_=It.Default;for(let E=0;E<f.length;E++){const A=f[E],N=re(A);"number"==typeof N?-1===N?g=A.token:_|=N:g=A}a.push(Xe(g,_))}else a.push(Xe(f))}return a}function dn(o,a){return o[Hr]=a,o.prototype[Hr]=a,o}function re(o){return o[Hr]}function U(o){return{toString:o}.toString()}var R=(()=>((R=R||{})[R.OnPush=0]="OnPush",R[R.Default=1]="Default",R))(),Ce=(()=>{return(o=Ce||(Ce={}))[o.Emulated=0]="Emulated",o[o.None=2]="None",o[o.ShadowDom=3]="ShadowDom",Ce;var o})();const Je={},ze=[],At=xe({\u0275cmp:xe}),gt=xe({\u0275dir:xe}),Jt=xe({\u0275pipe:xe}),Jn=xe({\u0275mod:xe}),Wt=xe({\u0275fac:xe}),Zn=xe({__NG_ELEMENT_ID__:xe});let xo=0;function Sa(o){return U(()=>{const c=!0===o.standalone,f={},g={type:o.type,providersResolver:null,decls:o.decls,vars:o.vars,factory:null,template:o.template||null,consts:o.consts||null,ngContentSelectors:o.ngContentSelectors,hostBindings:o.hostBindings||null,hostVars:o.hostVars||0,hostAttrs:o.hostAttrs||null,contentQueries:o.contentQueries||null,declaredInputs:f,inputs:null,outputs:null,exportAs:o.exportAs||null,onPush:o.changeDetection===R.OnPush,directiveDefs:null,pipeDefs:null,standalone:c,dependencies:c&&o.dependencies||null,getStandaloneInjector:null,selectors:o.selectors||ze,viewQuery:o.viewQuery||null,features:o.features||null,data:o.data||{},encapsulation:o.encapsulation||Ce.Emulated,id:"c"+xo++,styles:o.styles||ze,_:null,setInput:null,schemas:o.schemas||null,tView:null,findHostDirectiveDefs:null,hostDirectives:null},_=o.dependencies,E=o.features;return g.inputs=st(o.inputs,f),g.outputs=st(o.outputs),E&&E.forEach(A=>A(g)),g.directiveDefs=_?()=>("function"==typeof _?_():_).map(du).filter(Fr):null,g.pipeDefs=_?()=>("function"==typeof _?_():_).map(jn).filter(Fr):null,g})}function du(o){return Pt(o)||An(o)}function Fr(o){return null!==o}function _e(o){return U(()=>({type:o.type,bootstrap:o.bootstrap||ze,declarations:o.declarations||ze,imports:o.imports||ze,exports:o.exports||ze,transitiveCompileScopes:null,schemas:o.schemas||null,id:o.id||null}))}function st(o,a){if(null==o)return Je;const c={};for(const f in o)if(o.hasOwnProperty(f)){let g=o[f],_=g;Array.isArray(g)&&(_=g[1],g=g[0]),c[g]=f,a&&(a[g]=_)}return c}const jt=Sa;function dr(o){return{type:o.type,name:o.name,factory:null,pure:!1!==o.pure,standalone:!0===o.standalone,onDestroy:o.type.prototype.ngOnDestroy||null}}function Pt(o){return o[At]||null}function An(o){return o[gt]||null}function jn(o){return o[Jt]||null}function _i(o){const a=Pt(o)||An(o)||jn(o);return null!==a&&a.standalone}function hr(o,a){const c=o[Jn]||null;if(!c&&!0===a)throw new Error(`Type ${Ee(o)} does not have '\u0275mod' property.`);return c}function Pi(o){return Array.isArray(o)&&"object"==typeof o[1]}function gs(o){return Array.isArray(o)&&!0===o[1]}function ko(o){return 0!=(4&o.flags)}function hl(o){return o.componentOffset>-1}function Ra(o){return 1==(1&o.flags)}function Li(o){return null!==o.template}function s_(o){return 0!=(256&o[2])}function Ns(o,a){return o.hasOwnProperty(Wt)?o[Wt]:null}class gl{constructor(a,c,f){this.previousValue=a,this.currentValue=c,this.firstChange=f}isFirstChange(){return this.firstChange}}function _u(){return yu}function yu(o){return o.type.prototype.ngOnChanges&&(o.setInput=Jd),zs}function zs(){const o=Xd(this),a=o?.current;if(a){const c=o.previous;if(c===Je)o.previous=a;else for(let f in a)c[f]=a[f];o.current=null,this.ngOnChanges(a)}}function Jd(o,a,c,f){const g=this.declaredInputs[c],_=Xd(o)||function Ic(o,a){return o[lo]=a}(o,{previous:Je,current:null}),E=_.current||(_.current={}),A=_.previous,N=A[g];E[g]=new gl(N&&N.currentValue,a,A===Je),o[f]=a}_u.ngInherit=!0;const lo="__ngSimpleChanges__";function Xd(o){return o[lo]||null}function Ge(o){for(;Array.isArray(o);)o=o[0];return o}function hn(o,a){return Ge(a[o])}function $n(o,a){return Ge(a[o.index])}function Sr(o,a){return o.data[a]}function Kt(o,a){return o[a]}function Zr(o,a){const c=a[o];return Pi(c)?c:c[0]}function Xo(o){return 64==(64&o[2])}function Ki(o,a){return null==a?null:o[a]}function yl(o){o[18]=0}function bu(o,a){o[5]+=a;let c=o,f=o[3];for(;null!==f&&(1===a&&1===c[5]||-1===a&&0===c[5]);)f[5]+=a,c=f,f=f[3]}const zt={lFrame:nA(null),bindingsEnabled:!0};function hb(){return zt.bindingsEnabled}function Ye(){return zt.lFrame.lView}function Rn(){return zt.lFrame.tView}function fb(o){return zt.lFrame.contextLView=o,o[8]}function Tp(o){return zt.lFrame.contextLView=null,o}function Yi(){let o=Cc();for(;null!==o&&64===o.type;)o=o.parent;return o}function Cc(){return zt.lFrame.currentTNode}function Ks(o,a){const c=zt.lFrame;c.currentTNode=o,c.isParent=a}function Ac(){return zt.lFrame.isParent}function na(){zt.lFrame.isParent=!1}function Qi(){const o=zt.lFrame;let a=o.bindingRootIndex;return-1===a&&(a=o.bindingRootIndex=o.tView.bindingStartIndex),a}function Ro(){return zt.lFrame.bindingIndex++}function ra(o){const a=zt.lFrame,c=a.bindingIndex;return a.bindingIndex=a.bindingIndex+o,c}function XT(o,a){const c=zt.lFrame;c.bindingIndex=c.bindingRootIndex=o,h_(a)}function h_(o){zt.lFrame.currentDirectiveIndex=o}function yb(){return zt.lFrame.currentQueryIndex}function Dp(o){zt.lFrame.currentQueryIndex=o}function yk(o){const a=o[1];return 2===a.type?a.declTNode:1===a.type?o[6]:null}function vb(o,a,c){if(c&It.SkipSelf){let g=a,_=o;for(;!(g=g.parent,null!==g||c&It.Host||(g=yk(_),null===g||(_=_[15],10&g.type))););if(null===g)return!1;a=g,o=_}const f=zt.lFrame=tA();return f.currentTNode=a,f.lView=o,!0}function f_(o){const a=tA(),c=o[1];zt.lFrame=a,a.currentTNode=c.firstChild,a.lView=o,a.tView=c,a.contextLView=o,a.bindingIndex=c.bindingStartIndex,a.inI18n=!1}function tA(){const o=zt.lFrame,a=null===o?null:o.child;return null===a?nA(o):a}function nA(o){const a={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:o,child:null,inI18n:!1};return null!==o&&(o.child=a),a}function Sp(){const o=zt.lFrame;return zt.lFrame=o.parent,o.currentTNode=null,o.lView=null,o}const wu=Sp;function eh(){const o=Sp();o.isParent=!0,o.tView=null,o.selectedIndex=-1,o.contextLView=null,o.elementDepthCount=0,o.currentDirectiveIndex=-1,o.currentNamespace=null,o.bindingRootIndex=-1,o.bindingIndex=-1,o.currentQueryIndex=0}function ms(){return zt.lFrame.selectedIndex}function Eu(o){zt.lFrame.selectedIndex=o}function fr(){const o=zt.lFrame;return Sr(o.tView,o.selectedIndex)}function th(o,a){for(let c=a.directiveStart,f=a.directiveEnd;c<f;c++){const _=o.data[c].type.prototype,{ngAfterContentInit:E,ngAfterContentChecked:A,ngAfterViewInit:N,ngAfterViewChecked:k,ngOnDestroy:F}=_;E&&(o.contentHooks||(o.contentHooks=[])).push(-c,E),A&&((o.contentHooks||(o.contentHooks=[])).push(c,A),(o.contentCheckHooks||(o.contentCheckHooks=[])).push(c,A)),N&&(o.viewHooks||(o.viewHooks=[])).push(-c,N),k&&((o.viewHooks||(o.viewHooks=[])).push(c,k),(o.viewCheckHooks||(o.viewCheckHooks=[])).push(c,k)),null!=F&&(o.destroyHooks||(o.destroyHooks=[])).push(c,F)}}function xp(o,a,c){Tu(o,a,3,c)}function Dc(o,a,c,f){(3&o[2])===c&&Tu(o,a,c,f)}function Sc(o,a){let c=o[2];(3&c)===a&&(c&=2047,c+=1,o[2]=c)}function Tu(o,a,c,f){const _=f??-1,E=a.length-1;let A=0;for(let N=void 0!==f?65535&o[18]:0;N<E;N++)if("number"==typeof a[N+1]){if(A=a[N],null!=f&&A>=f)break}else a[N]<0&&(o[18]+=65536),(A<_||-1==_)&&(m_(o,c,a,N),o[18]=(4294901760&o[18])+N+2),N++}function m_(o,a,c,f){const g=c[f]<0,_=c[f+1],A=o[g?-c[f]:c[f]];if(g){if(o[2]>>11<o[18]>>16&&(3&o[2])===a){o[2]+=2048;try{_.call(A)}finally{}}}else try{_.call(A)}finally{}}class Ms{constructor(a,c,f){this.factory=a,this.resolving=!1,this.canSeeViewProviders=c,this.injectImpl=f}}function nh(o,a,c){let f=0;for(;f<c.length;){const g=c[f];if("number"==typeof g){if(0!==g)break;f++;const _=c[f++],E=c[f++],A=c[f++];o.setAttribute(a,E,A,_)}else{const _=g,E=c[++f];bl(_)?o.setProperty(a,_,E):o.setAttribute(a,_,E),f++}}return f}function Nc(o){return 3===o||4===o||6===o}function bl(o){return 64===o.charCodeAt(0)}function Mc(o,a){if(null!==a&&0!==a.length)if(null===o||0===o.length)o=a.slice();else{let c=-1;for(let f=0;f<a.length;f++){const g=a[f];"number"==typeof g?c=g:0===c||Fa(o,c,g,null,-1===c||2===c?a[++f]:null)}}return o}function Fa(o,a,c,f,g){let _=0,E=o.length;if(-1===a)E=-1;else for(;_<o.length;){const A=o[_++];if("number"==typeof A){if(A===a){E=-1;break}if(A>a){E=_-1;break}}}for(;_<o.length;){const A=o[_];if("number"==typeof A)break;if(A===c){if(null===f)return void(null!==g&&(o[_+1]=g));if(f===o[_+1])return void(o[_+2]=g)}_++,null!==f&&_++,null!==g&&_++}-1!==E&&(o.splice(E,0,a),_=E+1),o.splice(_++,0,c),null!==f&&o.splice(_++,0,f),null!==g&&o.splice(_++,0,g)}function Du(o){return-1!==o}function rh(o){return 32767&o}function wl(o,a){let c=function ih(o){return o>>16}(o),f=a;for(;c>0;)f=f[15],c--;return f}let kc=!0;function sh(o){const a=kc;return kc=o,a}let Eb=0;const ia={};function Mp(o,a){const c=kp(o,a);if(-1!==c)return c;const f=a[1];f.firstCreatePass&&(o.injectorIndex=a.length,w_(f.data,o),w_(a,null),w_(f.blueprint,null));const g=uh(o,a),_=o.injectorIndex;if(Du(g)){const E=rh(g),A=wl(g,a),N=A[1].data;for(let k=0;k<8;k++)a[_+k]=A[E+k]|N[E+k]}return a[_+8]=g,_}function w_(o,a){o.push(0,0,0,0,0,0,0,0,a)}function kp(o,a){return-1===o.injectorIndex||o.parent&&o.parent.injectorIndex===o.injectorIndex||null===a[o.injectorIndex+8]?-1:o.injectorIndex}function uh(o,a){if(o.parent&&-1!==o.parent.injectorIndex)return o.parent.injectorIndex;let c=0,f=null,g=a;for(;null!==g;){if(f=Cb(g),null===f)return-1;if(c++,g=g[15],-1!==f.injectorIndex)return f.injectorIndex|c<<16}return-1}function Rp(o,a,c){!function ah(o,a,c){let f;"string"==typeof c?f=c.charCodeAt(0)||0:c.hasOwnProperty(Zn)&&(f=c[Zn]),null==f&&(f=c[Zn]=Eb++);const g=255&f;a.data[o+(g>>5)]|=1<<g}(o,a,c)}function Op(o,a,c){if(c&It.Optional||void 0!==o)return o;it()}function Pp(o,a,c,f){if(c&It.Optional&&void 0===f&&(f=null),0==(c&(It.Self|It.Host))){const g=o[9],_=Yn(void 0);try{return g?g.get(a,f,c&It.Optional):$r(a,f,c&It.Optional)}finally{Yn(_)}}return Op(f,0,c)}function I_(o,a,c,f=It.Default,g){if(null!==o){if(1024&a[2]){const E=function aA(o,a,c,f,g){let _=o,E=a;for(;null!==_&&null!==E&&1024&E[2]&&!(256&E[2]);){const A=El(_,E,c,f|It.Self,ia);if(A!==ia)return A;let N=_.parent;if(!N){const k=E[21];if(k){const F=k.get(c,ia,f);if(F!==ia)return F}N=Cb(E),E=E[15]}_=N}return g}(o,a,c,f,ia);if(E!==ia)return E}const _=El(o,a,c,f,ia);if(_!==ia)return _}return Pp(a,c,f,g)}function El(o,a,c,f,g){const _=function T_(o){if("string"==typeof o)return o.charCodeAt(0)||0;const a=o.hasOwnProperty(Zn)?o[Zn]:void 0;return"number"==typeof a?a>=0?255&a:Lp:a}(c);if("function"==typeof _){if(!vb(a,o,f))return f&It.Host?Op(g,0,f):Pp(a,c,f,g);try{const E=_(f);if(null!=E||f&It.Optional)return E;it()}finally{wu()}}else if("number"==typeof _){let E=null,A=kp(o,a),N=-1,k=f&It.Host?a[16][6]:null;for((-1===A||f&It.SkipSelf)&&(N=-1===A?uh(o,a):a[A+8],-1!==N&&Ib(f,!1)?(E=a[1],A=rh(N),a=wl(N,a)):A=-1);-1!==A;){const F=a[1];if(A_(_,A,F.data)){const K=C_(A,a,c,E,f,k);if(K!==ia)return K}N=a[A+8],-1!==N&&Ib(f,a[1].data[A+8]===k)&&A_(_,A,a)?(E=F,A=rh(N),a=wl(N,a)):A=-1}}return g}function C_(o,a,c,f,g,_){const E=a[1],A=E.data[o+8],F=Rc(A,E,c,null==f?hl(A)&&kc:f!=E&&0!=(3&A.type),g&It.Host&&_===A);return null!==F?Il(a,E,F,A):ia}function Rc(o,a,c,f,g){const _=o.providerIndexes,E=a.data,A=1048575&_,N=o.directiveStart,F=_>>20,oe=g?A+F:o.directiveEnd;for(let we=f?A:A+F;we<oe;we++){const $e=E[we];if(we<N&&c===$e||we>=N&&$e.type===c)return we}if(g){const we=E[N];if(we&&Li(we)&&we.type===c)return N}return null}function Il(o,a,c,f){let g=o[c];const _=a.data;if(function __(o){return o instanceof Ms}(g)){const E=g;E.resolving&&function He(o,a){const c=a?`. Dependency path: ${a.join(" > ")} > ${o}`:"";throw new X(-200,`Circular dependency in DI detected for ${o}${c}`)}(function Fe(o){return"function"==typeof o?o.name||o.toString():"object"==typeof o&&null!=o&&"function"==typeof o.type?o.type.name||o.type.toString():De(o)}(_[c]));const A=sh(E.canSeeViewProviders);E.resolving=!0;const N=E.injectImpl?Yn(E.injectImpl):null;vb(o,f,It.Default);try{g=o[c]=E.factory(void 0,_,o,f),a.firstCreatePass&&c>=f.directiveStart&&function wb(o,a,c){const{ngOnChanges:f,ngOnInit:g,ngDoCheck:_}=a.type.prototype;if(f){const E=yu(a);(c.preOrderHooks||(c.preOrderHooks=[])).push(o,E),(c.preOrderCheckHooks||(c.preOrderCheckHooks=[])).push(o,E)}g&&(c.preOrderHooks||(c.preOrderHooks=[])).push(0-o,g),_&&((c.preOrderHooks||(c.preOrderHooks=[])).push(o,_),(c.preOrderCheckHooks||(c.preOrderCheckHooks=[])).push(o,_))}(c,_[c],a)}finally{null!==N&&Yn(N),sh(A),E.resolving=!1,wu()}}return g}function A_(o,a,c){return!!(c[a+(o>>5)]&1<<o)}function Ib(o,a){return!(o&It.Self||o&It.Host&&a)}class Cl{constructor(a,c){this._tNode=a,this._lView=c}get(a,c,f){return I_(this._tNode,this._lView,a,Ot(f),c)}}function Lp(){return new Cl(Yi(),Ye())}function D_(o){return U(()=>{const a=o.prototype.constructor,c=a[Wt]||lh(a),f=Object.prototype;let g=Object.getPrototypeOf(o.prototype).constructor;for(;g&&g!==f;){const _=g[Wt]||lh(g);if(_&&_!==c)return _;g=Object.getPrototypeOf(g)}return _=>new _})}function lh(o){return Ze(o)?()=>{const a=lh(ce(o));return a&&a()}:Ns(o)}function Cb(o){const a=o[1],c=a.type;return 2===c?a.declTNode:1===c?o[6]:null}function ch(o){return function E_(o,a){if("class"===a)return o.classes;if("style"===a)return o.styles;const c=o.attrs;if(c){const f=c.length;let g=0;for(;g<f;){const _=c[g];if(Nc(_))break;if(0===_)g+=2;else if("number"==typeof _)for(g++;g<f&&"string"==typeof c[g];)g++;else{if(_===a)return c[g+1];g+=2}}}return null}(Yi(),o)}const Tl="__parameters__";function Oc(o,a,c){return U(()=>{const f=function Al(o){return function(...c){if(o){const f=o(...c);for(const g in f)this[g]=f[g]}}}(a);function g(..._){if(this instanceof g)return f.apply(this,_),this;const E=new g(..._);return A.annotation=E,A;function A(N,k,F){const K=N.hasOwnProperty(Tl)?N[Tl]:Object.defineProperty(N,Tl,{value:[]})[Tl];for(;K.length<=F;)K.push(null);return(K[F]=K[F]||[]).push(E),N}}return c&&(g.prototype=Object.create(c.prototype)),g.prototype.ngMetadataName=o,g.annotationCls=g,g})}class ur{constructor(a,c){this._desc=a,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof c?this.__NG_ELEMENT_ID__=c:void 0!==c&&(this.\u0275prov=Rt({token:this,providedIn:c.providedIn||"root",factory:c.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Qs(o,a){void 0===a&&(a=o);for(let c=0;c<o.length;c++){let f=o[c];Array.isArray(f)?(a===o&&(a=o.slice(0,c)),Qs(f,a)):a!==o&&a.push(f)}return a}function Hn(o,a){o.forEach(c=>Array.isArray(c)?Hn(c,a):a(c))}function Oo(o,a,c){a>=o.length?o.push(c):o.splice(a,0,c)}function Tt(o,a){return a>=o.length-1?o.pop():o.splice(a,1)[0]}function _s(o,a,c){let f=Va(o,a);return f>=0?o[1|f]=c:(f=~f,function Su(o,a,c,f){let g=o.length;if(g==a)o.push(c,f);else if(1===g)o.push(f,o[0]),o[0]=c;else{for(g--,o.push(o[g-1],o[g]);g>a;)o[g]=o[g-2],g--;o[a]=c,o[a+1]=f}}(o,f,a,c)),f}function fh(o,a){const c=Va(o,a);if(c>=0)return o[1|c]}function Va(o,a){return function xu(o,a,c){let f=0,g=o.length>>c;for(;g!==f;){const _=f+(g-f>>1),E=o[_<<c];if(a===E)return _<<c;E>a?g=_:f=_+1}return~(g<<c)}(o,a,1)}const Ba=dn(Oc("Optional"),8),Sl=dn(Oc("SkipSelf"),4);var mr=(()=>((mr=mr||{})[mr.Important=1]="Important",mr[mr.DashCase=2]="DashCase",mr))();const bh=new Map;let Ob=0;const w="__ngContext__";function D(o,a){Pi(a)?(o[w]=a[20],function Pb(o){bh.set(o[20],o)}(a)):o[w]=a}function Nl(o,a){return undefined(o,a)}function la(o){const a=o[3];return gs(a)?a[3]:a}function Eh(o){return Ih(o[13])}function Wp(o){return Ih(o[4])}function Ih(o){for(;null!==o&&!gs(o);)o=o[4];return o}function Pu(o,a,c,f,g){if(null!=f){let _,E=!1;gs(f)?_=f:Pi(f)&&(E=!0,f=f[0]);const A=Ge(f);0===o&&null!==c?null==g?Th(a,c,A):Lu(a,c,A,g||null,!0):1===o&&null!==c?Lu(a,c,A,g||null,!0):2===o?function Gb(o,a,c){const f=Kp(o,a);f&&function jb(o,a,c,f){o.removeChild(a,c,f)}(o,f,a,c)}(a,A,E):3===o&&a.destroyNode(A),null!=_&&function xk(o,a,c,f,g){const _=c[7];_!==Ge(c)&&Pu(a,o,f,_,g);for(let A=10;A<c.length;A++){const N=c[A];Yp(N[1],N,o,a,f,_)}}(a,o,_,c,g)}}function mA(o,a,c){return o.createElement(a,c)}function Ub(o,a){const c=o[9],f=c.indexOf(a),g=a[3];512&a[2]&&(a[2]&=-513,bu(g,-1)),c.splice(f,1)}function V_(o,a){if(o.length<=10)return;const c=10+a,f=o[c];if(f){const g=f[17];null!==g&&g!==o&&Ub(g,f),a>0&&(o[c-1][4]=f[4]);const _=Tt(o,10+a);!function Ik(o,a){Yp(o,a,a[11],2,null,null),a[0]=null,a[6]=null}(f[1],f);const E=_[19];null!==E&&E.detachView(_[1]),f[3]=null,f[4]=null,f[2]&=-65}return f}function Vb(o,a){if(!(128&a[2])){const c=a[11];c.destroyNode&&Yp(o,a,c,3,null,null),function qp(o){let a=o[13];if(!a)return kl(o[1],o);for(;a;){let c=null;if(Pi(a))c=a[13];else{const f=a[10];f&&(c=f)}if(!c){for(;a&&!a[4]&&a!==o;)Pi(a)&&kl(a[1],a),a=a[3];null===a&&(a=o),Pi(a)&&kl(a[1],a),c=a&&a[4]}a=c}}(a)}}function kl(o,a){if(!(128&a[2])){a[2]&=-65,a[2]|=128,function Dk(o,a){let c;if(null!=o&&null!=(c=o.destroyHooks))for(let f=0;f<c.length;f+=2){const g=a[c[f]];if(!(g instanceof Ms)){const _=c[f+1];if(Array.isArray(_))for(let E=0;E<_.length;E+=2){const A=g[_[E]],N=_[E+1];try{N.call(A)}finally{}}else try{_.call(g)}finally{}}}}(o,a),function Ak(o,a){const c=o.cleanup,f=a[7];let g=-1;if(null!==c)for(let _=0;_<c.length-1;_+=2)if("string"==typeof c[_]){const E=c[_+3];E>=0?f[g=E]():f[g=-E].unsubscribe(),_+=2}else{const E=f[g=c[_+1]];c[_].call(E)}if(null!==f){for(let _=g+1;_<f.length;_++)(0,f[_])();a[7]=null}}(o,a),1===a[1].type&&a[11].destroy();const c=a[17];if(null!==c&&gs(a[3])){c!==a[3]&&Ub(c,a);const f=a[19];null!==f&&f.detachView(o)}!function $p(o){bh.delete(o[20])}(a)}}function Bb(o,a,c){return function _A(o,a,c){let f=a;for(;null!==f&&40&f.type;)f=(a=f).parent;if(null===f)return c[0];{const{componentOffset:g}=f;if(g>-1){const{encapsulation:_}=o.data[f.directiveStart+g];if(_===Ce.None||_===Ce.Emulated)return null}return $n(f,c)}}(o,a.parent,c)}function Lu(o,a,c,f,g){o.insertBefore(a,c,f,g)}function Th(o,a,c){o.appendChild(a,c)}function yA(o,a,c,f,g){null!==f?Lu(o,a,c,f,g):Th(o,a,c)}function Kp(o,a){return o.parentNode(a)}let Ga,Kc,Rl=function B_(o,a,c){return 40&o.type?$n(o,c):null};function j_(o,a,c,f){const g=Bb(o,f,a),_=a[11],A=function Ha(o,a,c){return Rl(o,a,c)}(f.parent||a[6],f,a);if(null!=g)if(Array.isArray(c))for(let N=0;N<c.length;N++)yA(_,g,c[N],A,!1);else yA(_,g,c,A,!1)}function $_(o,a){if(null!==a){const c=a.type;if(3&c)return $n(a,o);if(4&c)return Hb(-1,o[a.index]);if(8&c){const f=a.child;if(null!==f)return $_(o,f);{const g=o[a.index];return gs(g)?Hb(-1,g):Ge(g)}}if(32&c)return Nl(a,o)()||Ge(o[a.index]);{const f=bA(o,a);return null!==f?Array.isArray(f)?f[0]:$_(la(o[16]),f):$_(o,a.next)}}return null}function bA(o,a){return null!==a?o[16][6].projection[a.projection]:null}function Hb(o,a){const c=10+o+1;if(c<a.length){const f=a[c],g=f[1].firstChild;if(null!==g)return $_(f,g)}return a[7]}function Zb(o,a,c,f,g,_,E){for(;null!=c;){const A=f[c.index],N=c.type;if(E&&0===a&&(A&&D(Ge(A),f),c.flags|=2),32!=(32&c.flags))if(8&N)Zb(o,a,c.child,f,g,_,!1),Pu(a,o,g,A,_);else if(32&N){const k=Nl(c,f);let F;for(;F=k();)Pu(a,o,g,F,_);Pu(a,o,g,A,_)}else 16&N?wA(o,a,f,c,g,_):Pu(a,o,g,A,_);c=E?c.projectionNext:c.next}}function Yp(o,a,c,f,g,_){Zb(c,f,o.firstChild,a,g,_,!1)}function wA(o,a,c,f,g,_){const E=c[16],N=E[6].projection[f.projection];if(Array.isArray(N))for(let k=0;k<N.length;k++)Pu(a,o,g,N[k],_);else Zb(o,a,N,E[3],g,_,!0)}function CA(o,a,c){""===c?o.removeAttribute(a,"class"):o.setAttribute(a,"class",c)}function Wb(o,a,c){const{mergedAttrs:f,classes:g,styles:_}=c;null!==f&&nh(o,a,f),null!==g&&CA(o,a,g),null!==_&&function IA(o,a,c){o.setAttribute(a,"style",c)}(o,a,_)}function AA(o){Ga=o}function Z_(o){return function H_(){if(void 0===Kc&&(Kc=null,En.trustedTypes))try{Kc=En.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:o=>o,createScript:o=>o,createScriptURL:o=>o})}catch{}return Kc}()?.createScriptURL(o)||o}class W_{constructor(a){this.changingThisBreaksApplicationSecurity=a}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${J})`}}function Fu(o){return o instanceof W_?o.changingThisBreaksApplicationSecurity:o}function xh(o,a){const c=function SA(o){return o instanceof W_&&o.getTypeName()||null}(o);if(null!=c&&c!==a){if("ResourceURL"===c&&"URL"===a)return!0;throw new Error(`Required a safe ${a}, got a ${c} (see ${J})`)}return c===a}const N3=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;var Ei=(()=>((Ei=Ei||{})[Ei.NONE=0]="NONE",Ei[Ei.HTML=1]="HTML",Ei[Ei.STYLE=2]="STYLE",Ei[Ei.SCRIPT=3]="SCRIPT",Ei[Ei.URL=4]="URL",Ei[Ei.RESOURCE_URL=5]="RESOURCE_URL",Ei))();function LA(o){const a=rg();return a?a.sanitize(Ei.URL,o)||"":xh(o,"URL")?Fu(o):function kA(o){return(o=String(o)).match(N3)?o:"unsafe:"+o}(De(o))}function FA(o){const a=rg();if(a)return Z_(a.sanitize(Ei.RESOURCE_URL,o)||"");if(xh(o,"ResourceURL"))return Z_(Fu(o));throw new X(904,!1)}function tg(o,a,c){return function Qb(o,a){return"src"===a&&("embed"===o||"frame"===o||"iframe"===o||"media"===o||"script"===o)||"href"===a&&("base"===o||"link"===o)?FA:LA}(a,c)(o)}function rg(){const o=Ye();return o&&o[12]}const Jb=new ur("ENVIRONMENT_INITIALIZER"),UA=new ur("INJECTOR",-1),VA=new ur("INJECTOR_DEF_TYPES");class BA{get(a,c=Gn){if(c===Gn){const f=new Error(`NullInjectorError: No provider for ${Ee(a)}!`);throw f.name="NullInjectorError",f}return c}}function Gk(...o){return{\u0275providers:jA(0,o),\u0275fromNgModule:!0}}function jA(o,...a){const c=[],f=new Set;let g;return Hn(a,_=>{const E=_;ew(E,c,[],f)&&(g||(g=[]),g.push(E))}),void 0!==g&&Xb(g,c),c}function Xb(o,a){for(let c=0;c<o.length;c++){const{providers:g}=o[c];X_(g,_=>{a.push(_)})}}function ew(o,a,c,f){if(!(o=ce(o)))return!1;let g=null,_=br(o);const E=!_&&Pt(o);if(_||E){if(E&&!E.standalone)return!1;g=o}else{const N=o.ngModule;if(_=br(N),!_)return!1;g=N}const A=f.has(g);if(E){if(A)return!1;if(f.add(g),E.dependencies){const N="function"==typeof E.dependencies?E.dependencies():E.dependencies;for(const k of N)ew(k,a,c,f)}}else{if(!_)return!1;{if(null!=_.imports&&!A){let k;f.add(g);try{Hn(_.imports,F=>{ew(F,a,c,f)&&(k||(k=[]),k.push(F))})}finally{}void 0!==k&&Xb(k,a)}if(!A){const k=Ns(g)||(()=>new g);a.push({provide:g,useFactory:k,deps:ze},{provide:VA,useValue:g,multi:!0},{provide:Jb,useValue:()=>Xe(g),multi:!0})}const N=_.providers;null==N||A||X_(N,F=>{a.push(F)})}}return g!==o&&void 0!==o.providers}function X_(o,a){for(let c of o)de(c)&&(c=c.\u0275providers),Array.isArray(c)?X_(c,a):a(c)}const tw=xe({provide:String,useValue:xe});function kh(o){return null!==o&&"object"==typeof o&&tw in o}function Jc(o){return"function"==typeof o}const Rh=new ur("Set Injector scope."),ig={},ZA={};let Oh;function Xc(){return void 0===Oh&&(Oh=new BA),Oh}class Pl{}class Ph extends Pl{constructor(a,c,f,g){super(),this.parent=c,this.source=f,this.scopes=g,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,nw(a,E=>this.processProvider(E)),this.records.set(UA,Lh(void 0,this)),g.has("environment")&&this.records.set(Pl,Lh(void 0,this));const _=this.records.get(Rh);null!=_&&"string"==typeof _.value&&this.scopes.add(_.value),this.injectorDefTypes=new Set(this.get(VA.multi,ze,It.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const a of this._ngOnDestroyHooks)a.ngOnDestroy();for(const a of this._onDestroyHooks)a()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(a){this._onDestroyHooks.push(a)}runInContext(a){this.assertNotDestroyed();const c=rn(this),f=Yn(void 0);try{return a()}finally{rn(c),Yn(f)}}get(a,c=Gn,f=It.Default){this.assertNotDestroyed(),f=Ot(f);const g=rn(this),_=Yn(void 0);try{if(!(f&It.SkipSelf)){let A=this.records.get(a);if(void 0===A){const N=function Kk(o){return"function"==typeof o||"object"==typeof o&&o instanceof ur}(a)&&mi(a);A=N&&this.injectableDefInScope(N)?Lh(ey(a),ig):null,this.records.set(a,A)}if(null!=A)return this.hydrate(a,A)}return(f&It.Self?Xc():this.parent).get(a,c=f&It.Optional&&c===Gn?null:c)}catch(E){if("NullInjectorError"===E.name){if((E[Er]=E[Er]||[]).unshift(Ee(a)),g)throw E;return function Y(o,a,c,f){const g=o[Er];throw a[Tn]&&g.unshift(a[Tn]),o.message=function H(o,a,c,f=null){o=o&&"\n"===o.charAt(0)&&"\u0275"==o.charAt(1)?o.slice(2):o;let g=Ee(a);if(Array.isArray(a))g=a.map(Ee).join(" -> ");else if("object"==typeof a){let _=[];for(let E in a)if(a.hasOwnProperty(E)){let A=a[E];_.push(E+":"+("string"==typeof A?JSON.stringify(A):Ee(A)))}g=`{${_.join(", ")}}`}return`${c}${f?"("+f+")":""}[${g}]: ${o.replace(ar,"\n  ")}`}("\n"+o.message,g,c,f),o.ngTokenPath=g,o[Er]=null,o}(E,a,"R3InjectorError",this.source)}throw E}finally{Yn(_),rn(g)}}resolveInjectorInitializers(){const a=rn(this),c=Yn(void 0);try{const f=this.get(Jb.multi,ze,It.Self);for(const g of f)g()}finally{rn(a),Yn(c)}}toString(){const a=[],c=this.records;for(const f of c.keys())a.push(Ee(f));return`R3Injector[${a.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new X(205,!1)}processProvider(a){let c=Jc(a=ce(a))?a:ce(a&&a.provide);const f=function qk(o){return kh(o)?Lh(void 0,o.useValue):Lh(WA(o),ig)}(a);if(Jc(a)||!0!==a.multi)this.records.get(c);else{let g=this.records.get(c);g||(g=Lh(void 0,ig,!0),g.factory=()=>Ht(g.multi),this.records.set(c,g)),c=a,g.multi.push(a)}this.records.set(c,f)}hydrate(a,c){return c.value===ig&&(c.value=ZA,c.value=c.factory()),"object"==typeof c.value&&c.value&&function qA(o){return null!==o&&"object"==typeof o&&"function"==typeof o.ngOnDestroy}(c.value)&&this._ngOnDestroyHooks.add(c.value),c.value}injectableDefInScope(a){if(!a.providedIn)return!1;const c=ce(a.providedIn);return"string"==typeof c?"any"===c||this.scopes.has(c):this.injectorDefTypes.has(c)}}function ey(o){const a=mi(o),c=null!==a?a.factory:Ns(o);if(null!==c)return c;if(o instanceof ur)throw new X(204,!1);if(o instanceof Function)return function Wk(o){const a=o.length;if(a>0)throw function Fi(o,a){const c=[];for(let f=0;f<o;f++)c.push(a);return c}(a,"?"),new X(204,!1);const c=function Ri(o){const a=o&&(o[Br]||o[jr]);if(a){const c=function ri(o){if(o.hasOwnProperty("name"))return o.name;const a=(""+o).match(/^function\s*([^\s(]+)/);return null===a?"":a[1]}(o);return console.warn(`DEPRECATED: DI is instantiating a token "${c}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${c}" class.`),a}return null}(o);return null!==c?()=>c.factory(o):()=>new o}(o);throw new X(204,!1)}function WA(o,a,c){let f;if(Jc(o)){const g=ce(o);return Ns(g)||ey(g)}if(kh(o))f=()=>ce(o.useValue);else if(function GA(o){return!(!o||!o.useFactory)}(o))f=()=>o.useFactory(...Ht(o.deps||[]));else if(function HA(o){return!(!o||!o.useExisting)}(o))f=()=>Xe(ce(o.useExisting));else{const g=ce(o&&(o.useClass||o.provide));if(!function zk(o){return!!o.deps}(o))return Ns(g)||ey(g);f=()=>new g(...Ht(o.deps))}return f}function Lh(o,a,c=!1){return{factory:o,value:a,multi:c?[]:void 0}}function nw(o,a){for(const c of o)Array.isArray(c)?nw(c,a):c&&de(c)?nw(c.\u0275providers,a):a(c)}class Yk{}class zA{}class YA{resolveComponentFactory(a){throw function Qk(o){const a=Error(`No component factory found for ${Ee(o)}. Did you add it to @NgModule.entryComponents?`);return a.ngComponent=o,a}(a)}}let sg=(()=>{class o{}return o.NULL=new YA,o})();function QA(){return ed(Yi(),Ye())}function ed(o,a){return new ty($n(o,a))}let ty=(()=>{class o{constructor(c){this.nativeElement=c}}return o.__NG_ELEMENT_ID__=QA,o})();function JA(o){return o instanceof ty?o.nativeElement:o}class rw{}let Jk=(()=>{class o{}return o.__NG_ELEMENT_ID__=()=>function Xk(){const o=Ye(),c=Zr(Yi().index,o);return(Pi(c)?c:o)[11]}(),o})(),eR=(()=>{class o{}return o.\u0275prov=Rt({token:o,providedIn:"root",factory:()=>null}),o})();class XA{constructor(a){this.full=a,this.major=a.split(".")[0],this.minor=a.split(".")[1],this.patch=a.split(".").slice(2).join(".")}}const eD=new XA("15.0.2"),iw={};function ow(o){return o.ngOriginalError}class Fh{constructor(){this._console=console}handleError(a){const c=this._findOriginalError(a);this._console.error("ERROR",a),c&&this._console.error("ORIGINAL ERROR",c)}_findOriginalError(a){let c=a&&ow(a);for(;c&&ow(c);)c=ow(c);return c||null}}function uw(o){return o.ownerDocument.defaultView}function Uu(o){return o instanceof Function?o():o}function rD(o,a,c){let f=o.length;for(;;){const g=o.indexOf(a,c);if(-1===g)return g;if(0===g||o.charCodeAt(g-1)<=32){const _=a.length;if(g+_===f||o.charCodeAt(g+_)<=32)return g}c=g+1}}const iD="ng-template";function sR(o,a,c){let f=0;for(;f<o.length;){let g=o[f++];if(c&&"class"===g){if(g=o[f],-1!==rD(g.toLowerCase(),a,0))return!0}else if(1===g){for(;f<o.length&&"string"==typeof(g=o[f++]);)if(g.toLowerCase()===a)return!0;return!1}}return!1}function sD(o){return 4===o.type&&o.value!==iD}function oR(o,a,c){return a===(4!==o.type||c?o.value:iD)}function aR(o,a,c){let f=4;const g=o.attrs||[],_=function uR(o){for(let a=0;a<o.length;a++)if(Nc(o[a]))return a;return o.length}(g);let E=!1;for(let A=0;A<a.length;A++){const N=a[A];if("number"!=typeof N){if(!E)if(4&f){if(f=2|1&f,""!==N&&!oR(o,N,c)||""===N&&1===a.length){if(Uo(f))return!1;E=!0}}else{const k=8&f?N:a[++A];if(8&f&&null!==o.attrs){if(!sR(o.attrs,k,c)){if(Uo(f))return!1;E=!0}continue}const K=Ii(8&f?"class":N,g,sD(o),c);if(-1===K){if(Uo(f))return!1;E=!0;continue}if(""!==k){let oe;oe=K>_?"":g[K+1].toLowerCase();const we=8&f?oe:null;if(we&&-1!==rD(we,k,0)||2&f&&k!==oe){if(Uo(f))return!1;E=!0}}}}else{if(!E&&!Uo(f)&&!Uo(N))return!1;if(E&&Uo(N))continue;E=!1,f=N|1&f}}return Uo(f)||E}function Uo(o){return 0==(1&o)}function Ii(o,a,c,f){if(null===a)return-1;let g=0;if(f||!c){let _=!1;for(;g<a.length;){const E=a[g];if(E===o)return g;if(3===E||6===E)_=!0;else{if(1===E||2===E){let A=a[++g];for(;"string"==typeof A;)A=a[++g];continue}if(4===E)break;if(0===E){g+=4;continue}}g+=_?1:2}return-1}return function lR(o,a){let c=o.indexOf(4);if(c>-1)for(c++;c<o.length;){const f=o[c];if("number"==typeof f)return-1;if(f===a)return c;c++}return-1}(a,o)}function oD(o,a,c=!1){for(let f=0;f<a.length;f++)if(aR(o,a[f],c))return!0;return!1}function cR(o,a){return o?":not("+a.trim()+")":a}function j3(o){let a=o[0],c=1,f=2,g="",_=!1;for(;c<o.length;){let E=o[c];if("string"==typeof E)if(2&f){const A=o[++c];g+="["+E+(A.length>0?'="'+A+'"':"")+"]"}else 8&f?g+="."+E:4&f&&(g+=" "+E);else""!==g&&!Uo(E)&&(a+=cR(_,g),g=""),f=E,_=_||!Uo(f);c++}return""!==g&&(a+=cR(_,g)),a}const gn={};function rd(o){hR(Rn(),Ye(),ms()+o,!1)}function hR(o,a,c,f){if(!f)if(3==(3&a[2])){const _=o.preOrderCheckHooks;null!==_&&xp(a,_,c)}else{const _=o.preOrderHooks;null!==_&&Dc(a,_,0,c)}Eu(c)}function hD(o,a=null,c=null,f){const g=fD(o,a,c,f);return g.resolveInjectorInitializers(),g}function fD(o,a=null,c=null,f,g=new Set){const _=[c||ze,Gk(o)];return f=f||("object"==typeof o?void 0:Ee(o)),new Ph(_,a||Xc(),f||null,g)}let id=(()=>{class o{static create(c,f){if(Array.isArray(c))return hD({name:""},f,c,"");{const g=c.name??"";return hD({name:g},c.parent,c.providers,g)}}}return o.THROW_IF_NOT_FOUND=Gn,o.NULL=new BA,o.\u0275prov=Rt({token:o,providedIn:"any",factory:()=>Xe(UA)}),o.__NG_ELEMENT_ID__=-1,o})();function ho(o,a=It.Default){const c=Ye();return null===c?Xe(o,a):I_(Yi(),c,ce(o),a)}function ED(){throw new Error("invalid")}function pw(o,a){const c=o.contentQueries;if(null!==c)for(let f=0;f<c.length;f+=2){const g=c[f],_=c[f+1];if(-1!==_){const E=o.data[_];Dp(g),E.contentQueries(2,a[_],_)}}}function lg(o,a,c,f,g,_,E,A,N,k,F){const K=a.blueprint.slice();return K[0]=g,K[2]=76|f,(null!==F||o&&1024&o[2])&&(K[2]|=1024),yl(K),K[3]=K[15]=o,K[8]=c,K[10]=E||o&&o[10],K[11]=A||o&&o[11],K[12]=N||o&&o[12]||null,K[9]=k||o&&o[9]||null,K[6]=_,K[20]=function P_(){return Ob++}(),K[21]=F,K[16]=2==a.type?o[16]:K,K}function od(o,a,c,f,g){let _=o.data[a];if(null===_)_=function iy(o,a,c,f,g){const _=Cc(),E=Ac(),N=o.data[a]=function yw(o,a,c,f,g,_){return{type:c,index:f,insertBeforeIndex:null,injectorIndex:a?a.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:g,attrs:_,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:a,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,E?_:_&&_.parent,c,a,f,g);return null===o.firstChild&&(o.firstChild=N),null!==_&&(E?null==_.child&&null!==N.parent&&(_.child=N):null===_.next&&(_.next=N)),N}(o,a,c,f,g),function JT(){return zt.lFrame.inI18n}()&&(_.flags|=32);else if(64&_.type){_.type=c,_.value=f,_.attrs=g;const E=function Tc(){const o=zt.lFrame,a=o.currentTNode;return o.isParent?a:a.parent}();_.injectorIndex=null===E?-1:E.injectorIndex}return Ks(_,!0),_}function jh(o,a,c,f){if(0===c)return-1;const g=a.length;for(let _=0;_<c;_++)a.push(f),o.blueprint.push(f),o.data.push(null);return g}function sy(o,a,c){f_(a);try{const f=o.viewQuery;null!==f&&dg(1,f,c);const g=o.template;null!==g&&gw(o,a,g,1,c),o.firstCreatePass&&(o.firstCreatePass=!1),o.staticContentQueries&&pw(o,a),o.staticViewQueries&&dg(2,o.viewQuery,c);const _=o.components;null!==_&&function CD(o,a){for(let c=0;c<a.length;c++)xR(o,a[c])}(a,_)}catch(f){throw o.firstCreatePass&&(o.incompleteFirstPass=!0,o.firstCreatePass=!1),f}finally{a[2]&=-5,eh()}}function ad(o,a,c,f){const g=a[2];if(128!=(128&g)){f_(a);try{yl(a),function gb(o){return zt.lFrame.bindingIndex=o}(o.bindingStartIndex),null!==c&&gw(o,a,c,2,f);const E=3==(3&g);if(E){const k=o.preOrderCheckHooks;null!==k&&xp(a,k,null)}else{const k=o.preOrderHooks;null!==k&&Dc(a,k,0,null),Sc(a,0)}if(function MD(o){for(let a=Eh(o);null!==a;a=Wp(a)){if(!a[2])continue;const c=a[9];for(let f=0;f<c.length;f++){const g=c[f],_=g[3];0==(512&g[2])&&bu(_,1),g[2]|=512}}}(a),function DR(o){for(let a=Eh(o);null!==a;a=Wp(a))for(let c=10;c<a.length;c++){const f=a[c],g=f[1];Xo(f)&&ad(g,f,g.template,f[8])}}(a),null!==o.contentQueries&&pw(o,a),E){const k=o.contentCheckHooks;null!==k&&xp(a,k)}else{const k=o.contentHooks;null!==k&&Dc(a,k,1),Sc(a,1)}!function W3(o,a){const c=o.hostBindingOpCodes;if(null!==c)try{for(let f=0;f<c.length;f++){const g=c[f];if(g<0)Eu(~g);else{const _=g,E=c[++f],A=c[++f];XT(E,_),A(2,a[_])}}}finally{Eu(-1)}}(o,a);const A=o.components;null!==A&&function ID(o,a){for(let c=0;c<a.length;c++)SR(o,a[c])}(a,A);const N=o.viewQuery;if(null!==N&&dg(2,N,f),E){const k=o.viewCheckHooks;null!==k&&xp(a,k)}else{const k=o.viewHooks;null!==k&&Dc(a,k,2),Sc(a,2)}!0===o.firstUpdatePass&&(o.firstUpdatePass=!1),a[2]&=-41,512&a[2]&&(a[2]&=-513,bu(a[3],-1))}finally{eh()}}}function gw(o,a,c,f,g){const _=ms(),E=2&f;try{Eu(-1),E&&a.length>22&&hR(o,a,22,!1),c(f,g)}finally{Eu(_)}}function oy(o,a,c){if(ko(a)){const g=a.directiveEnd;for(let _=a.directiveStart;_<g;_++){const E=o.data[_];E.contentQueries&&E.contentQueries(1,c[_],_)}}}function ay(o,a,c){!hb()||(function z3(o,a,c,f){const g=c.directiveStart,_=c.directiveEnd;o.firstCreatePass||Mp(c,a),D(f,a);const E=c.initialInputs;for(let A=g;A<_;A++){const N=o.data[A],k=Li(N);k&&Y3(a,c,N);const F=Il(a,o,A,c);D(F,a),null!==E&&Q3(0,A-g,F,N,0,E),k&&(Zr(c.index,a)[8]=F)}}(o,a,c,$n(c,a)),64==(64&c.flags)&&cg(o,a,c))}function uy(o,a,c=$n){const f=a.localNames;if(null!==f){let g=a.index+1;for(let _=0;_<f.length;_+=2){const E=f[_+1],A=-1===E?c(a,o):o[E];o[g++]=A}}}function TD(o){const a=o.tView;return null===a||a.incompleteFirstPass?o.tView=ly(1,null,o.template,o.decls,o.vars,o.directiveDefs,o.pipeDefs,o.viewQuery,o.schemas,o.consts):a}function ly(o,a,c,f,g,_,E,A,N,k){const F=22+f,K=F+g,oe=function AD(o,a){const c=[];for(let f=0;f<a;f++)c.push(f<o?null:gn);return c}(F,K),we="function"==typeof k?k():k;return oe[1]={type:o,blueprint:oe,template:c,queries:null,viewQuery:A,declTNode:a,data:oe.slice().fill(null,F),bindingStartIndex:F,expandoStartIndex:K,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof _?_():_,pipeRegistry:"function"==typeof E?E():E,firstChild:null,schemas:N,consts:we,incompleteFirstPass:!1}}function _w(o,a,c,f){const g=hy(a);null===c?g.push(f):(g.push(c),o.firstCreatePass&&kD(o).push(f,g.length-1))}function vw(o,a,c,f){for(let g in o)if(o.hasOwnProperty(g)){c=null===c?{}:c;const _=o[g];null===f?bw(c,a,g,_):f.hasOwnProperty(g)&&bw(c,a,f[g],_)}return c}function bw(o,a,c,f){o.hasOwnProperty(c)?o[c].push(a,f):o[c]=[a,f]}function vs(o,a,c,f,g,_,E,A){const N=$n(a,c);let F,k=a.inputs;!A&&null!=k&&(F=k[f])?(fy(o,c,F,f,g),hl(a)&&Ew(c,a.index)):3&a.type&&(f=function ww(o){return"class"===o?"className":"for"===o?"htmlFor":"formaction"===o?"formAction":"innerHtml"===o?"innerHTML":"readonly"===o?"readOnly":"tabindex"===o?"tabIndex":o}(f),g=null!=E?E(g,a.value||"",f):g,_.setProperty(N,f,g))}function Ew(o,a){const c=Zr(a,o);16&c[2]||(c[2]|=32)}function ls(o,a,c,f){let g=!1;if(hb()){const _=null===f?null:{"":-1},E=function Iw(o,a){const c=o.directiveRegistry;let f=null,g=null;if(c)for(let _=0;_<c.length;_++){const E=c[_];if(oD(a,E.selectors,!1))if(f||(f=[]),Li(E))if(null!==E.findHostDirectiveDefs){const A=[];g=g||new Map,E.findHostDirectiveDefs(E,A,g),f.unshift(...A,E),$h(o,a,A.length)}else f.unshift(E),$h(o,a,0);else g=g||new Map,E.findHostDirectiveDefs?.(E,f,g),f.push(E)}return null===f?null:[f,g]}(o,c);let A,N;null===E?A=N=null:[A,N]=E,null!==A&&(g=!0,Vu(o,a,c,A,_,N)),_&&function CR(o,a,c){if(a){const f=o.localNames=[];for(let g=0;g<a.length;g+=2){const _=c[a[g+1]];if(null==_)throw new X(-301,!1);f.push(a[g],_)}}}(c,f,_)}return c.mergedAttrs=Mc(c.mergedAttrs,c.attrs),g}function Vu(o,a,c,f,g,_){for(let k=0;k<f.length;k++)Rp(Mp(c,a),o,f[k].type);!function TR(o,a,c){o.flags|=1,o.directiveStart=a,o.directiveEnd=a+c,o.providerIndexes=a}(c,o.data.length,f.length);for(let k=0;k<f.length;k++){const F=f[k];F.providersResolver&&F.providersResolver(F)}let E=!1,A=!1,N=jh(o,a,f.length,null);for(let k=0;k<f.length;k++){const F=f[k];c.mergedAttrs=Mc(c.mergedAttrs,F.hostAttrs),K3(o,c,a,N,F),Cw(N,F,g),null!==F.contentQueries&&(c.flags|=4),(null!==F.hostBindings||null!==F.hostAttrs||0!==F.hostVars)&&(c.flags|=64);const K=F.type.prototype;!E&&(K.ngOnChanges||K.ngOnInit||K.ngDoCheck)&&((o.preOrderHooks||(o.preOrderHooks=[])).push(c.index),E=!0),!A&&(K.ngOnChanges||K.ngDoCheck)&&((o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(c.index),A=!0),N++}!function DD(o,a,c){const g=a.directiveEnd,_=o.data,E=a.attrs,A=[];let N=null,k=null;for(let F=a.directiveStart;F<g;F++){const K=_[F],oe=c?c.get(K):null,$e=oe?oe.outputs:null;N=vw(K.inputs,F,N,oe?oe.inputs:null),k=vw(K.outputs,F,k,$e);const at=null===N||null===E||sD(a)?null:J3(N,F,E);A.push(at)}null!==N&&(N.hasOwnProperty("class")&&(a.flags|=8),N.hasOwnProperty("style")&&(a.flags|=16)),a.initialInputs=A,a.inputs=N,a.outputs=k}(o,c,_)}function cg(o,a,c){const f=c.directiveStart,g=c.directiveEnd,_=c.index,E=function eA(){return zt.lFrame.currentDirectiveIndex}();try{Eu(_);for(let A=f;A<g;A++){const N=o.data[A],k=a[A];h_(A),(null!==N.hostBindings||0!==N.hostVars||null!==N.hostAttrs)&&cy(N,k)}}finally{Eu(-1),h_(E)}}function cy(o,a){null!==o.hostBindings&&o.hostBindings(1,a)}function $h(o,a,c){a.componentOffset=c,(o.components||(o.components=[])).push(a.index)}function Cw(o,a,c){if(c){if(a.exportAs)for(let f=0;f<a.exportAs.length;f++)c[a.exportAs[f]]=o;Li(a)&&(c[""]=o)}}function K3(o,a,c,f,g){o.data[f]=g;const _=g.factory||(g.factory=Ns(g.type)),E=new Ms(_,Li(g),ho);o.blueprint[f]=E,c[f]=E,function xD(o,a,c,f,g){const _=g.hostBindings;if(_){let E=o.hostBindingOpCodes;null===E&&(E=o.hostBindingOpCodes=[]);const A=~a.index;(function q3(o){let a=o.length;for(;a>0;){const c=o[--a];if("number"==typeof c&&c<0)return c}return 0})(E)!=A&&E.push(A),E.push(c,f,_)}}(o,a,f,jh(o,c,g.hostVars,gn),g)}function Y3(o,a,c){const f=$n(a,o),g=TD(c),_=o[10],E=Fl(o,lg(o,g,null,c.onPush?32:16,f,a,_,_.createRenderer(f,c),null,null,null));o[a.index]=E}function Bu(o,a,c,f,g,_){const E=$n(o,a);!function ND(o,a,c,f,g,_,E){if(null==_)o.removeAttribute(a,g,c);else{const A=null==E?De(_):E(_,f||"",g);o.setAttribute(a,g,A,c)}}(a[11],E,_,o.value,c,f,g)}function Q3(o,a,c,f,g,_){const E=_[a];if(null!==E){const A=f.setInput;for(let N=0;N<E.length;){const k=E[N++],F=E[N++],K=E[N++];null!==A?f.setInput(c,K,k,F):c[F]=K}}}function J3(o,a,c){let f=null,g=0;for(;g<c.length;){const _=c[g];if(0!==_)if(5!==_){if("number"==typeof _)break;if(o.hasOwnProperty(_)){null===f&&(f=[]);const E=o[_];for(let A=0;A<E.length;A+=2)if(E[A]===a){f.push(_,E[A+1],c[g+1]);break}}g+=2}else g+=2;else g+=4}return f}function AR(o,a,c,f){return[o,!0,!1,a,null,0,f,c,null,null]}function SR(o,a){const c=Zr(a,o);if(Xo(c)){const f=c[1];48&c[2]?ad(f,c,f.template,c[8]):c[5]>0&&Tw(c)}}function Tw(o){for(let f=Eh(o);null!==f;f=Wp(f))for(let g=10;g<f.length;g++){const _=f[g];if(Xo(_))if(512&_[2]){const E=_[1];ad(E,_,E.template,_[8])}else _[5]>0&&Tw(_)}const c=o[1].components;if(null!==c)for(let f=0;f<c.length;f++){const g=Zr(c[f],o);Xo(g)&&g[5]>0&&Tw(g)}}function xR(o,a){const c=Zr(a,o),f=c[1];(function Aw(o,a){for(let c=a.length;c<o.blueprint.length;c++)a.push(o.blueprint[c])})(f,c),sy(f,c,c[8])}function Fl(o,a){return o[13]?o[14][4]=a:o[13]=a,o[14]=a,a}function Hh(o){for(;o;){o[2]|=32;const a=la(o);if(s_(o)&&!a)return o;o=a}return null}function ju(o,a,c,f=!0){const g=a[10];g.begin&&g.begin();try{ad(o,a,o.template,c)}catch(E){throw f&&Dw(a,E),E}finally{g.end&&g.end()}}function dg(o,a,c){Dp(0),a(o,c)}function hy(o){return o[7]||(o[7]=[])}function kD(o){return o.cleanup||(o.cleanup=[])}function Dw(o,a){const c=o[9],f=c?c.get(Fh,null):null;f&&f.handleError(a)}function fy(o,a,c,f,g){for(let _=0;_<c.length;){const E=c[_++],A=c[_++],N=a[E],k=o.data[E];null!==k.setInput?k.setInput(N,g,f,A):N[A]=g}}function Vo(o,a,c){const f=hn(a,o);!function Ml(o,a,c){o.setValue(a,c)}(o[11],f,c)}function Ul(o,a,c){let f=c?o.styles:null,g=c?o.classes:null,_=0;if(null!==a)for(let E=0;E<a.length;E++){const A=a[E];"number"==typeof A?_=A:1==_?g=ge(g,A):2==_&&(f=ge(f,A+": "+a[++E]+";"))}c?o.styles=f:o.stylesWithoutHost=f,c?o.classes=g:o.classesWithoutHost=g}function Sw(o,a,c,f,g=!1){for(;null!==c;){const _=a[c.index];if(null!==_&&f.push(Ge(_)),gs(_))for(let A=10;A<_.length;A++){const N=_[A],k=N[1].firstChild;null!==k&&Sw(N[1],N,k,f)}const E=c.type;if(8&E)Sw(o,a,c.child,f);else if(32&E){const A=Nl(c,a);let N;for(;N=A();)f.push(N)}else if(16&E){const A=bA(a,c);if(Array.isArray(A))f.push(...A);else{const N=la(a[16]);Sw(N[1],N,A,f,!0)}}c=g?c.projectionNext:c.next}return f}class py{constructor(a,c){this._lView=a,this._cdRefInjectingView=c,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const a=this._lView,c=a[1];return Sw(c,a,c.firstChild,[])}get context(){return this._lView[8]}set context(a){this._lView[8]=a}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const a=this._lView[3];if(gs(a)){const c=a[8],f=c?c.indexOf(this):-1;f>-1&&(V_(a,f),Tt(c,f))}this._attachedToViewContainer=!1}Vb(this._lView[1],this._lView)}onDestroy(a){_w(this._lView[1],this._lView,null,a)}markForCheck(){Hh(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){ju(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new X(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Tk(o,a){Yp(o,a,a[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(a){if(this._attachedToViewContainer)throw new X(902,!1);this._appRef=a}}class RD extends py{constructor(a){super(a),this._view=a}detectChanges(){const a=this._view;ju(a[1],a,a[8],!1)}checkNoChanges(){}get context(){return null}}class NR extends sg{constructor(a){super(),this.ngModule=a}resolveComponentFactory(a){const c=Pt(a);return new $u(c,this.ngModule)}}function ud(o){const a=[];for(let c in o)o.hasOwnProperty(c)&&a.push({propName:o[c],templateName:c});return a}class my{constructor(a,c){this.injector=a,this.parentInjector=c}get(a,c,f){f=Ot(f);const g=this.injector.get(a,iw,f);return g!==iw||c===iw?g:this.parentInjector.get(a,c,f)}}class $u extends zA{constructor(a,c){super(),this.componentDef=a,this.ngModule=c,this.componentType=a.type,this.selector=function dR(o){return o.map(j3).join(",")}(a.selectors),this.ngContentSelectors=a.ngContentSelectors?a.ngContentSelectors:[],this.isBoundToModule=!!c}get inputs(){return ud(this.componentDef.inputs)}get outputs(){return ud(this.componentDef.outputs)}create(a,c,f,g){let _=(g=g||this.ngModule)instanceof Pl?g:g?.injector;_&&null!==this.componentDef.getStandaloneInjector&&(_=this.componentDef.getStandaloneInjector(_)||_);const E=_?new my(a,_):a,A=E.get(rw,null);if(null===A)throw new X(407,!1);const N=E.get(eR,null),k=A.createRenderer(null,this.componentDef),F=this.componentDef.selectors[0][0]||"div",K=f?function mw(o,a,c){return o.selectRootElement(a,c===Ce.ShadowDom)}(k,f,this.componentDef.encapsulation):mA(k,F,function gy(o){const a=o.toLowerCase();return"svg"===a?"svg":"math"===a?"math":null}(F)),oe=this.componentDef.onPush?288:272,we=ly(0,null,null,1,0,null,null,null,null,null),$e=lg(null,we,null,oe,null,null,A,k,N,E,null);let at,vt;f_($e);try{const Mt=this.componentDef;let Xt,et=null;Mt.findHostDirectiveDefs?(Xt=[],et=new Map,Mt.findHostDirectiveDefs(Mt,Xt,et),Xt.push(Mt)):Xt=[Mt];const ln=function MR(o,a){const c=o[1];return o[22]=a,od(c,22,2,"#host",null)}($e,K),Kr=function Nw(o,a,c,f,g,_,E,A){const N=g[1];!function yy(o,a,c,f){for(const g of o)a.mergedAttrs=Mc(a.mergedAttrs,g.hostAttrs);null!==a.mergedAttrs&&(Ul(a,a.mergedAttrs,!0),null!==c&&Wb(f,c,a))}(f,o,a,E);const k=_.createRenderer(a,c),F=lg(g,TD(c),null,c.onPush?32:16,g[o.index],o,_,k,A||null,null,null);return N.firstCreatePass&&$h(N,o,f.length-1),Fl(g,F),g[o.index]=F}(ln,K,Mt,Xt,$e,A,k);vt=Sr(we,22),K&&function RR(o,a,c,f){if(f)nh(o,c,["ng-version",eD.full]);else{const{attrs:g,classes:_}=function cw(o){const a=[],c=[];let f=1,g=2;for(;f<o.length;){let _=o[f];if("string"==typeof _)2===g?""!==_&&a.push(_,o[++f]):8===g&&c.push(_);else{if(!Uo(g))break;g=_}f++}return{attrs:a,classes:c}}(a.selectors[0]);g&&nh(o,c,g),_&&_.length>0&&CA(o,c,_.join(" "))}}(k,Mt,K,f),void 0!==c&&function OD(o,a,c){const f=o.projection=[];for(let g=0;g<a.length;g++){const _=c[g];f.push(null!=_?Array.from(_):null)}}(vt,this.ngContentSelectors,c),at=function kR(o,a,c,f,g,_){const E=Yi(),A=g[1],N=$n(E,g);Vu(A,g,E,c,null,f);for(let F=0;F<c.length;F++)D(Il(g,A,E.directiveStart+F,E),g);cg(A,g,E),N&&D(N,g);const k=Il(g,A,E.directiveStart+E.componentOffset,E);if(o[8]=g[8]=k,null!==_)for(const F of _)F(k,a);return oy(A,E,o),k}(Kr,Mt,Xt,et,$e,[OR]),sy(we,$e,null)}finally{eh()}return new _y(this.componentType,at,ed(vt,$e),$e,vt)}}class _y extends Yk{constructor(a,c,f,g,_){super(),this.location=f,this._rootLView=g,this._tNode=_,this.instance=c,this.hostView=this.changeDetectorRef=new RD(g),this.componentType=a}setInput(a,c){const f=this._tNode.inputs;let g;if(null!==f&&(g=f[a])){const _=this._rootLView;fy(_[1],_,g,a,c),Ew(_,this._tNode.index)}}get injector(){return new Cl(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(a){this.hostView.onDestroy(a)}}function OR(){const o=Yi();th(Ye()[1],o)}function kw(o){let a=function Mw(o){return Object.getPrototypeOf(o.prototype).constructor}(o.type),c=!0;const f=[o];for(;a;){let g;if(Li(o))g=a.\u0275cmp||a.\u0275dir;else{if(a.\u0275cmp)throw new X(903,!1);g=a.\u0275dir}if(g){if(c){f.push(g);const E=o;E.inputs=Rw(o.inputs),E.declaredInputs=Rw(o.declaredInputs),E.outputs=Rw(o.outputs);const A=g.hostBindings;A&&nB(o,A);const N=g.viewQuery,k=g.contentQueries;if(N&&Ow(o,N),k&&tB(o,k),Ne(o.inputs,g.inputs),Ne(o.declaredInputs,g.declaredInputs),Ne(o.outputs,g.outputs),Li(g)&&g.data.animation){const F=o.data;F.animation=(F.animation||[]).concat(g.data.animation)}}const _=g.features;if(_)for(let E=0;E<_.length;E++){const A=_[E];A&&A.ngInherit&&A(o),A===kw&&(c=!1)}}a=Object.getPrototypeOf(a)}!function eB(o){let a=0,c=null;for(let f=o.length-1;f>=0;f--){const g=o[f];g.hostVars=a+=g.hostVars,g.hostAttrs=Mc(g.hostAttrs,c=Mc(c,g.hostAttrs))}}(f)}function Rw(o){return o===Je?{}:o===ze?[]:o}function Ow(o,a){const c=o.viewQuery;o.viewQuery=c?(f,g)=>{a(f,g),c(f,g)}:a}function tB(o,a){const c=o.contentQueries;o.contentQueries=c?(f,g,_)=>{a(f,g,_),c(f,g,_)}:a}function nB(o,a){const c=o.hostBindings;o.hostBindings=c?(f,g)=>{a(f,g),c(f,g)}:a}let pg=null;function Vl(){if(!pg){const o=En.Symbol;if(o&&o.iterator)pg=o.iterator;else{const a=Object.getOwnPropertyNames(Map.prototype);for(let c=0;c<a.length;++c){const f=a[c];"entries"!==f&&"size"!==f&&Map.prototype[f]===Map.prototype.entries&&(pg=f)}}}return pg}function by(o){return!!UD(o)&&(Array.isArray(o)||!(o instanceof Map)&&Vl()in o)}function UD(o){return null!==o&&("function"==typeof o||"object"==typeof o)}function Hu(o,a,c){return o[a]=c}function bs(o,a,c){return!Object.is(o[a],c)&&(o[a]=c,!0)}function Bl(o,a,c,f){const g=bs(o,a,c);return bs(o,a+1,f)||g}function Gh(o,a,c,f){const g=Ye();return bs(g,Ro(),a)&&(Rn(),Bu(fr(),g,o,a,c,f)),Gh}function Zh(o,a,c,f){return bs(o,Ro(),c)?a+De(c)+f:gn}function cd(o,a,c,f,g,_){const A=Bl(o,function Ys(){return zt.lFrame.bindingIndex}(),c,g);return ra(2),A?a+De(c)+f+De(g)+_:gn}function _g(o,a,c,f,g,_,E,A){const N=Ye(),k=cd(N,a,c,f,g,_);return k!==gn&&Bu(fr(),N,o,k,E,A),_g}function GD(o,a,c,f,g,_,E,A){const N=Ye(),k=Rn(),F=o+22,K=k.firstCreatePass?function HD(o,a,c,f,g,_,E,A,N){const k=a.consts,F=od(a,o,4,E||null,Ki(k,A));ls(a,c,F,Ki(k,N)),th(a,F);const K=F.tViews=ly(2,F,f,g,_,a.directiveRegistry,a.pipeRegistry,null,a.schemas,k);return null!==a.queries&&(a.queries.template(a,F),K.queries=a.queries.embeddedTView(F)),F}(F,k,N,a,c,f,g,_,E):k.data[F];Ks(K,!1);const oe=N[11].createComment("");j_(k,N,oe,K),D(oe,N),Fl(N,N[F]=AR(oe,N,oe,K)),Ra(K)&&ay(k,N,K),null!=E&&uy(N,K,A)}function Ay(o,a,c){const f=Ye();return bs(f,Ro(),a)&&vs(Rn(),fr(),f,o,a,f[11],c,!1),Ay}function Uw(o,a,c,f,g){const E=g?"class":"style";fy(o,c,a.inputs[E],E,f)}function vg(o,a,c,f){const g=Ye(),_=Rn(),E=22+o,A=g[11],N=g[E]=mA(A,a,function g_(){return zt.lFrame.currentNamespace}()),k=_.firstCreatePass?function Dy(o,a,c,f,g,_,E){const A=a.consts,k=od(a,o,2,g,Ki(A,_));return ls(a,c,k,Ki(A,E)),null!==k.attrs&&Ul(k,k.attrs,!1),null!==k.mergedAttrs&&Ul(k,k.mergedAttrs,!0),null!==a.queries&&a.queries.elementStart(a,k),k}(E,_,g,0,a,c,f):_.data[E];return Ks(k,!0),Wb(A,N,k),32!=(32&k.flags)&&j_(_,g,N,k),0===function Wr(){return zt.lFrame.elementDepthCount}()&&D(N,g),function YT(){zt.lFrame.elementDepthCount++}(),Ra(k)&&(ay(_,g,k),oy(_,k,g)),null!==f&&uy(g,k),vg}function Sy(){let o=Yi();Ac()?na():(o=o.parent,Ks(o,!1));const a=o;!function l_(){zt.lFrame.elementDepthCount--}();const c=Rn();return c.firstCreatePass&&(th(c,o),ko(o)&&c.queries.elementEnd(o)),null!=a.classesWithoutHost&&function y_(o){return 0!=(8&o.flags)}(a)&&Uw(c,a,Ye(),a.classesWithoutHost,!0),null!=a.stylesWithoutHost&&function Np(o){return 0!=(16&o.flags)}(a)&&Uw(c,a,Ye(),a.stylesWithoutHost,!1),Sy}function xy(o,a,c,f){return vg(o,a,c,f),Sy(),xy}function Vw(o,a,c){const f=Ye(),g=Rn(),_=o+22,E=g.firstCreatePass?function BR(o,a,c,f,g){const _=a.consts,E=Ki(_,f),A=od(a,o,8,"ng-container",E);return null!==E&&Ul(A,E,!0),ls(a,c,A,Ki(_,g)),null!==a.queries&&a.queries.elementStart(a,A),A}(_,g,f,a,c):g.data[_];Ks(E,!0);const A=f[_]=f[11].createComment("");return j_(g,f,A,E),D(A,f),Ra(E)&&(ay(g,f,E),oy(g,E,f)),null!=c&&uy(f,E),Vw}function Yh(){let o=Yi();const a=Rn();return Ac()?na():(o=o.parent,Ks(o,!1)),a.firstCreatePass&&(th(a,o),ko(o)&&a.queries.elementEnd(o)),Yh}function jw(){return Ye()}function Ny(o){return!!o&&"function"==typeof o.then}function jl(o){return!!o&&"function"==typeof o.subscribe}const ZD=jl;function My(o,a,c,f){const g=Ye(),_=Rn(),E=Yi();return function zD(o,a,c,f,g,_,E){const A=Ra(f),k=o.firstCreatePass&&kD(o),F=a[8],K=hy(a);let oe=!0;if(3&f.type||E){const at=$n(f,a),vt=E?E(at):at,Mt=K.length,Xt=E?ln=>E(Ge(ln[f.index])):f.index;let et=null;if(!E&&A&&(et=function qD(o,a,c,f){const g=o.cleanup;if(null!=g)for(let _=0;_<g.length-1;_+=2){const E=g[_];if(E===c&&g[_+1]===f){const A=a[7],N=g[_+2];return A.length>N?A[N]:null}"string"==typeof E&&(_+=2)}return null}(o,a,g,f.index)),null!==et)(et.__ngLastListenerFn__||et).__ngNextListenerFn__=_,et.__ngLastListenerFn__=_,oe=!1;else{_=Qh(f,a,F,_,!1);const ln=c.listen(vt,g,_);K.push(_,ln),k&&k.push(g,Xt,Mt,Mt+1)}}else _=Qh(f,a,F,_,!1);const we=f.outputs;let $e;if(oe&&null!==we&&($e=we[g])){const at=$e.length;if(at)for(let vt=0;vt<at;vt+=2){const Kr=a[$e[vt]][$e[vt+1]].subscribe(_),pi=K.length;K.push(_,Kr),k&&k.push(g,f.index,pi,-(pi+1))}}}(_,g,g[11],E,o,a,f),My}function KD(o,a,c,f){try{return!1!==c(f)}catch(g){return Dw(o,g),!1}}function Qh(o,a,c,f,g){return function _(E){if(E===Function)return f;Hh(o.componentOffset>-1?Zr(o.index,a):a);let N=KD(a,0,f,E),k=_.__ngNextListenerFn__;for(;k;)N=KD(a,0,k,E)&&N,k=k.__ngNextListenerFn__;return g&&!1===N&&(E.preventDefault(),E.returnValue=!1),N}}function $w(o=1){return function rA(o){return(zt.lFrame.contextLView=function iA(o,a){for(;o>0;)a=a[15],o--;return a}(o,zt.lFrame.contextLView))[8]}(o)}function ky(o,a,c){return Ry(o,"",a,"",c),ky}function Ry(o,a,c,f,g){const _=Ye(),E=Zh(_,a,c,f);return E!==gn&&vs(Rn(),fr(),_,o,E,_[11],g,!1),Ry}function bg(o,a){return o<<17|a<<2}function Gu(o){return o>>17&32767}function Oy(o){return 2|o}function $l(o){return(131068&o)>>2}function XD(o,a){return-131069&o|a<<2}function eS(o){return 1|o}function tS(o,a,c,f,g){const _=o[c+1],E=null===a;let A=f?Gu(_):$l(_),N=!1;for(;0!==A&&(!1===N||E);){const F=o[A+1];nS(o[A],a)&&(N=!0,o[A+1]=f?eS(F):Oy(F)),A=f?Gu(F):$l(F)}N&&(o[c+1]=f?Oy(_):eS(_))}function nS(o,a){return null===o||null==a||(Array.isArray(o)?o[1]:o)===a||!(!Array.isArray(o)||"string"!=typeof a)&&Va(o,a)>=0}const si={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function _n(o){return o.substring(si.key,si.keyEnd)}function qw(o,a){const c=si.textEnd;return c===a?-1:(a=si.keyEnd=function aB(o,a,c){for(;a<c&&o.charCodeAt(a)>32;)a++;return a}(o,si.key=a,c),pd(o,a,c))}function pd(o,a,c){for(;a<c&&o.charCodeAt(a)<=32;)a++;return a}function Kw(o,a){return function za(o,a,c,f){const g=Ye(),_=Rn(),E=ra(2);_.firstUpdatePass&&Re(_,o,E,f),a!==gn&&bs(g,E,a)&&Eg(_,_.data[ms()],g,g[11],o,g[E+1]=function tO(o,a){return null==o||("string"==typeof a?o+=a:"object"==typeof o&&(o=Ee(Fu(o)))),o}(a,c),f,E)}(o,a,null,!0),Kw}function QR(o){!function Ka(o,a,c,f){const g=Rn(),_=ra(2);g.firstUpdatePass&&Re(g,null,_,f);const E=Ye();if(c!==gn&&bs(E,_,c)){const A=g.data[ms()];if(sS(A,f)&&!JR(g,_)){let N=f?A.classesWithoutHost:A.stylesWithoutHost;null!==N&&(c=ge(N,c||"")),Uw(g,A,E,c,f)}else!function eO(o,a,c,f,g,_,E,A){g===gn&&(g=ze);let N=0,k=0,F=0<g.length?g[0]:null,K=0<_.length?_[0]:null;for(;null!==F||null!==K;){const oe=N<g.length?g[N+1]:void 0,we=k<_.length?_[k+1]:void 0;let at,$e=null;F===K?(N+=2,k+=2,oe!==we&&($e=K,at=we)):null===K||null!==F&&F<K?(N+=2,$e=F):(k+=2,$e=K,at=we),null!==$e&&Eg(o,a,c,f,$e,at,E,A),F=N<g.length?g[N]:null,K=k<_.length?_[k]:null}}(g,A,E,E[11],E[_+1],E[_+1]=function XR(o,a,c){if(null==c||""===c)return ze;const f=[],g=Fu(c);if(Array.isArray(g))for(let _=0;_<g.length;_++)o(f,g[_],!0);else if("object"==typeof g)for(const _ in g)g.hasOwnProperty(_)&&o(f,_,g[_]);else"string"==typeof g&&a(f,g);return f}(o,a,c),f,_)}}(_s,qa,o,!0)}function qa(o,a){for(let c=function Ww(o){return function Jh(o){si.key=0,si.keyEnd=0,si.value=0,si.valueEnd=0,si.textEnd=o.length}(o),qw(o,pd(o,0,si.textEnd))}(a);c>=0;c=qw(a,c))_s(o,_n(a),!0)}function JR(o,a){return a>=o.expandoStartIndex}function Re(o,a,c,f){const g=o.data;if(null===g[c+1]){const _=g[ms()],E=JR(o,c);sS(_,f)&&null===a&&!E&&(a=!1),a=function eo(o,a,c,f){const g=function _b(o){const a=zt.lFrame.currentDirectiveIndex;return-1===a?null:o[a]}(o);let _=f?a.residualClasses:a.residualStyles;if(null===g)0===(f?a.classBindings:a.styleBindings)&&(c=Xh(c=wg(null,o,a,c,f),a.attrs,f),_=null);else{const E=a.directiveStylingLast;if(-1===E||o[E]!==g)if(c=wg(g,o,a,c,f),null===_){let N=function Wu(o,a,c){const f=c?a.classBindings:a.styleBindings;if(0!==$l(f))return o[Gu(f)]}(o,a,f);void 0!==N&&Array.isArray(N)&&(N=wg(null,o,a,N[1],f),N=Xh(N,a.attrs,f),function q(o,a,c,f){o[Gu(c?a.classBindings:a.styleBindings)]=f}(o,a,f,N))}else _=function da(o,a,c){let f;const g=a.directiveEnd;for(let _=1+a.directiveStylingLast;_<g;_++)f=Xh(f,o[_].hostAttrs,c);return Xh(f,a.attrs,c)}(o,a,f)}return void 0!==_&&(f?a.residualClasses=_:a.residualStyles=_),c}(g,_,a,f),function fd(o,a,c,f,g,_){let E=_?a.classBindings:a.styleBindings,A=Gu(E),N=$l(E);o[f]=c;let F,k=!1;if(Array.isArray(c)){const K=c;F=K[1],(null===F||Va(K,F)>0)&&(k=!0)}else F=c;if(g)if(0!==N){const oe=Gu(o[A+1]);o[f+1]=bg(oe,A),0!==oe&&(o[oe+1]=XD(o[oe+1],f)),o[A+1]=function sB(o,a){return 131071&o|a<<17}(o[A+1],f)}else o[f+1]=bg(A,0),0!==A&&(o[A+1]=XD(o[A+1],f)),A=f;else o[f+1]=bg(N,0),0===A?A=f:o[N+1]=XD(o[N+1],f),N=f;k&&(o[f+1]=Oy(o[f+1])),tS(o,F,f,!0),tS(o,F,f,!1),function qR(o,a,c,f,g){const _=g?o.residualClasses:o.residualStyles;null!=_&&"string"==typeof a&&Va(_,a)>=0&&(c[f+1]=eS(c[f+1]))}(a,F,o,f,_),E=bg(A,N),_?a.classBindings=E:a.styleBindings=E}(g,_,a,c,E,f)}}function wg(o,a,c,f,g){let _=null;const E=c.directiveEnd;let A=c.directiveStylingLast;for(-1===A?A=c.directiveStart:A++;A<E&&(_=a[A],f=Xh(f,_.hostAttrs,g),_!==o);)A++;return null!==o&&(c.directiveStylingLast=A),f}function Xh(o,a,c){const f=c?1:2;let g=-1;if(null!==a)for(let _=0;_<a.length;_++){const E=a[_];"number"==typeof E?g=E:g===f&&(Array.isArray(o)||(o=void 0===o?[]:["",o]),_s(o,E,!!c||a[++_]))}return void 0===o?null:o}function Eg(o,a,c,f,g,_,E,A){if(!(3&a.type))return;const N=o.data,k=N[A+1],F=function oB(o){return 1==(1&o)}(k)?Ly(N,a,c,g,$l(k),E):void 0;Fy(F)||(Fy(_)||function iB(o){return 2==(2&o)}(k)&&(_=Ly(N,null,c,g,A,E)),function EA(o,a,c,f,g){if(a)g?o.addClass(c,f):o.removeClass(c,f);else{let _=-1===f.indexOf("-")?void 0:mr.DashCase;null==g?o.removeStyle(c,f,_):("string"==typeof g&&g.endsWith("!important")&&(g=g.slice(0,-10),_|=mr.Important),o.setStyle(c,f,g,_))}}(f,E,hn(ms(),c),g,_))}function Ly(o,a,c,f,g,_){const E=null===a;let A;for(;g>0;){const N=o[g],k=Array.isArray(N),F=k?N[1]:N,K=null===F;let oe=c[g+1];oe===gn&&(oe=K?ze:void 0);let we=K?fh(oe,f):F===f?oe:void 0;if(k&&!Fy(we)&&(we=fh(N,f)),Fy(we)&&(A=we,E))return A;const $e=o[g+1];g=E?Gu($e):$l($e)}if(null!==a){let N=_?a.residualClasses:a.residualStyles;null!=N&&(A=fh(N,f))}return A}function Fy(o){return void 0!==o}function sS(o,a){return 0!=(o.flags&(a?8:16))}function Yw(o,a=""){const c=Ye(),f=Rn(),g=o+22,_=f.firstCreatePass?od(f,g,1,a,null):f.data[g],E=c[g]=function Lb(o,a){return o.createText(a)}(c[11],a);j_(f,c,E,_),Ks(_,!1)}function Qw(o){return Uy("",o,""),Qw}function Uy(o,a,c){const f=Ye(),g=Zh(f,o,a,c);return g!==gn&&Vo(f,ms(),g),Uy}function Jw(o,a,c,f,g){const _=Ye(),E=cd(_,o,a,c,f,g);return E!==gn&&Vo(_,ms(),E),Jw}const gd=void 0;var Wy=["en",[["a","p"],["AM","PM"],gd],[["AM","PM"],gd,gd],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],gd,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],gd,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",gd,"{1} 'at' {0}",gd],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function dO(o){const c=Math.floor(Math.abs(o)),f=o.toString().replace(/^[^.]*\.?/,"").length;return 1===c&&0===f?1:5}];let Gl={};function Ag(o){const a=function fO(o){return o.toLowerCase().replace(/_/g,"-")}(o);let c=oE(a);if(c)return c;const f=a.split("-")[0];if(c=oE(f),c)return c;if("en"===f)return Wy;throw new X(701,!1)}function gS(o){return Ag(o)[Qt.PluralCase]}function oE(o){return o in Gl||(Gl[o]=En.ng&&En.ng.common&&En.ng.common.locales&&En.ng.common.locales[o]),Gl[o]}var Qt=(()=>((Qt=Qt||{})[Qt.LocaleId=0]="LocaleId",Qt[Qt.DayPeriodsFormat=1]="DayPeriodsFormat",Qt[Qt.DayPeriodsStandalone=2]="DayPeriodsStandalone",Qt[Qt.DaysFormat=3]="DaysFormat",Qt[Qt.DaysStandalone=4]="DaysStandalone",Qt[Qt.MonthsFormat=5]="MonthsFormat",Qt[Qt.MonthsStandalone=6]="MonthsStandalone",Qt[Qt.Eras=7]="Eras",Qt[Qt.FirstDayOfWeek=8]="FirstDayOfWeek",Qt[Qt.WeekendRange=9]="WeekendRange",Qt[Qt.DateFormat=10]="DateFormat",Qt[Qt.TimeFormat=11]="TimeFormat",Qt[Qt.DateTimeFormat=12]="DateTimeFormat",Qt[Qt.NumberSymbols=13]="NumberSymbols",Qt[Qt.NumberFormats=14]="NumberFormats",Qt[Qt.CurrencyCode=15]="CurrencyCode",Qt[Qt.CurrencySymbol=16]="CurrencySymbol",Qt[Qt.CurrencyName=17]="CurrencyName",Qt[Qt.Currencies=18]="Currencies",Qt[Qt.Directionality=19]="Directionality",Qt[Qt.PluralCase=20]="PluralCase",Qt[Qt.ExtraData=21]="ExtraData",Qt))();const tf="en-US";let Sg=tf;function wE(o,a,c,f,g){if(o=ce(o),Array.isArray(o))for(let _=0;_<o.length;_++)wE(o[_],a,c,f,g);else{const _=Rn(),E=Ye();let A=Jc(o)?o:ce(o.provide),N=WA(o);const k=Yi(),F=1048575&k.providerIndexes,K=k.directiveStart,oe=k.providerIndexes>>20;if(Jc(o)||!o.multi){const we=new Ms(N,g,ho),$e=Rg(A,a,g?F:F+oe,K);-1===$e?(Rp(Mp(k,E),_,A),EE(_,o,a.length),a.push(A),k.directiveStart++,k.directiveEnd++,g&&(k.providerIndexes+=1048576),c.push(we),E.push(we)):(c[$e]=we,E[$e]=we)}else{const we=Rg(A,a,F+oe,K),$e=Rg(A,a,F,F+oe),at=we>=0&&c[we],vt=$e>=0&&c[$e];if(g&&!vt||!g&&!at){Rp(Mp(k,E),_,A);const Mt=function IB(o,a,c,f,g){const _=new Ms(o,c,ho);return _.multi=[],_.index=a,_.componentProviders=0,ZO(_,g,f&&!c),_}(g?qO:WO,c.length,g,f,N);!g&&vt&&(c[$e].providerFactory=Mt),EE(_,o,a.length,0),a.push(A),k.directiveStart++,k.directiveEnd++,g&&(k.providerIndexes+=1048576),c.push(Mt),E.push(Mt)}else EE(_,o,we>-1?we:$e,ZO(c[g?$e:we],N,!g&&f));!g&&f&&vt&&c[$e].componentProviders++}}}function EE(o,a,c,f){const g=Jc(a),_=function Zk(o){return!!o.useClass}(a);if(g||_){const N=(_?ce(a.useClass):a).prototype.ngOnDestroy;if(N){const k=o.destroyHooks||(o.destroyHooks=[]);if(!g&&a.multi){const F=k.indexOf(c);-1===F?k.push(c,[f,N]):k[F+1].push(f,N)}else k.push(c,N)}}}function ZO(o,a,c){return c&&o.componentProviders++,o.multi.push(a)-1}function Rg(o,a,c,f){for(let g=c;g<f;g++)if(a[g]===o)return g;return-1}function WO(o,a,c,f){return MS(this.multi,[])}function qO(o,a,c,f){const g=this.multi;let _;if(this.providerFactory){const E=this.providerFactory.componentProviders,A=Il(c,c[1],this.providerFactory.index,f);_=A.slice(0,E),MS(g,_);for(let N=E;N<A.length;N++)_.push(A[N])}else _=[],MS(g,_);return _}function MS(o,a){for(let c=0;c<o.length;c++)a.push((0,o[c])());return a}function kS(o,a=[]){return c=>{c.providersResolver=(f,g)=>function bE(o,a,c){const f=Rn();if(f.firstCreatePass){const g=Li(o);wE(c,f.data,f.blueprint,g,!0),wE(a,f.data,f.blueprint,g,!1)}}(f,g?g(o):o,a)}}class Og{}class RS{}function zO(o,a){return new OS(o,a??null)}class OS extends Og{constructor(a,c){super(),this._parent=c,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new NR(this);const f=hr(a);this._bootstrapComponents=Uu(f.bootstrap),this._r3Injector=fD(a,c,[{provide:Og,useValue:this},{provide:sg,useValue:this.componentFactoryResolver}],Ee(a),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(a)}get injector(){return this._r3Injector}destroy(){const a=this._r3Injector;!a.destroyed&&a.destroy(),this.destroyCbs.forEach(c=>c()),this.destroyCbs=null}onDestroy(a){this.destroyCbs.push(a)}}class IE extends RS{constructor(a){super(),this.moduleType=a}create(a){return new OS(this.moduleType,a)}}class KO extends Og{constructor(a,c,f){super(),this.componentFactoryResolver=new NR(this),this.instance=null;const g=new Ph([...a,{provide:Og,useValue:this},{provide:sg,useValue:this.componentFactoryResolver}],c||Xc(),f,new Set(["environment"]));this.injector=g,g.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(a){this.injector.onDestroy(a)}}function CE(o,a,c=null){return new KO(o,a,c).injector}let YO=(()=>{class o{constructor(c){this._injector=c,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(c){if(!c.standalone)return null;if(!this.cachedInjectors.has(c.id)){const f=jA(0,c.type),g=f.length>0?CE([f],this._injector,`Standalone[${c.type.name}]`):null;this.cachedInjectors.set(c.id,g)}return this.cachedInjectors.get(c.id)}ngOnDestroy(){try{for(const c of this.cachedInjectors.values())null!==c&&c.destroy()}finally{this.cachedInjectors.clear()}}}return o.\u0275prov=Rt({token:o,providedIn:"environment",factory:()=>new o(Xe(Pl))}),o})();function PS(o){o.getStandaloneInjector=a=>a.get(YO).getOrCreateStandaloneInjector(o)}function Xy(o,a,c){const f=Qi()+o,g=Ye();return g[f]===gn?Hu(g,f,c?a.call(c):a()):function wy(o,a){return o[a]}(g,f)}function jS(o,a,c,f,g){return NE(Ye(),Qi(),o,a,c,f,g)}function qu(o,a){const c=o[a];return c===gn?void 0:c}function NE(o,a,c,f,g,_,E){const A=a+c;return Bl(o,A,g,_)?Hu(o,A+2,E?f.call(E,g,_):f(g,_)):qu(o,A+2)}function ev(o,a){const c=Rn();let f;const g=o+22;c.firstCreatePass?(f=function Ya(o,a){if(a)for(let c=a.length-1;c>=0;c--){const f=a[c];if(o===f.name)return f}}(a,c.pipeRegistry),c.data[g]=f,f.onDestroy&&(c.destroyHooks||(c.destroyHooks=[])).push(g,f.onDestroy)):f=c.data[g];const _=f.factory||(f.factory=Ns(f.type)),E=Yn(ho);try{const A=sh(!1),N=_();return sh(A),function Ty(o,a,c,f){c>=o.data.length&&(o.data[c]=null,o.blueprint[c]=null),a[c]=f}(c,Ye(),g,N),N}finally{Yn(E)}}function ZS(o,a,c){const f=o+22,g=Ye(),_=Kt(g,f);return ha(g,f)?function Zl(o,a,c,f,g,_){const E=a+c;return bs(o,E,g)?Hu(o,E+1,_?f.call(_,g):f(g)):qu(o,E+1)}(g,Qi(),a,_.transform,c,_):_.transform(c)}function Lg(o,a,c,f){const g=o+22,_=Ye(),E=Kt(_,g);return ha(_,g)?NE(_,Qi(),a,E.transform,c,f,E):E.transform(c,f)}function ha(o,a){return o[1].data[a].pure}function vd(o){return a=>{setTimeout(o,void 0,a)}}const Bo=class rP extends O.x{constructor(a=!1){super(),this.__isAsync=a}emit(a){super.next(a)}subscribe(a,c,f){let g=a,_=c||(()=>null),E=f;if(a&&"object"==typeof a){const N=a;g=N.next?.bind(N),_=N.error?.bind(N),E=N.complete?.bind(N)}this.__isAsync&&(_=vd(_),g&&(g=vd(g)),E&&(E=vd(E)));const A=super.subscribe({next:g,error:_,complete:E});return a instanceof l.w0&&a.add(A),A}};function WS(){return this._results[Vl()]()}class Ci{constructor(a=!1){this._emitDistinctChangesOnly=a,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const c=Vl(),f=Ci.prototype;f[c]||(f[c]=WS)}get changes(){return this._changes||(this._changes=new Bo)}get(a){return this._results[a]}map(a){return this._results.map(a)}filter(a){return this._results.filter(a)}find(a){return this._results.find(a)}reduce(a,c){return this._results.reduce(a,c)}forEach(a){this._results.forEach(a)}some(a){return this._results.some(a)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(a,c){const f=this;f.dirty=!1;const g=Qs(a);(this._changesDetected=!function Up(o,a,c){if(o.length!==a.length)return!1;for(let f=0;f<o.length;f++){let g=o[f],_=a[f];if(c&&(g=c(g),_=c(_)),_!==g)return!1}return!0}(f._results,g,c))&&(f._results=g,f.length=g.length,f.last=g[this.length-1],f.first=g[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let cf=(()=>{class o{}return o.__NG_ELEMENT_ID__=oP,o})();const iP=cf,sP=class extends iP{constructor(a,c,f){super(),this._declarationLView=a,this._declarationTContainer=c,this.elementRef=f}createEmbeddedView(a,c){const f=this._declarationTContainer.tViews,g=lg(this._declarationLView,f,a,16,null,f.declTNode,null,null,null,null,c||null);g[17]=this._declarationLView[this._declarationTContainer.index];const E=this._declarationLView[19];return null!==E&&(g[19]=E.createEmbeddedView(f)),sy(f,g,a),new py(g)}};function oP(){return tv(Yi(),Ye())}function tv(o,a){return 4&o.type?new sP(a,o,ed(o,a)):null}let Fg=(()=>{class o{}return o.__NG_ELEMENT_ID__=kE,o})();function kE(){return zS(Yi(),Ye())}const nv=Fg,bd=class extends nv{constructor(a,c,f){super(),this._lContainer=a,this._hostTNode=c,this._hostLView=f}get element(){return ed(this._hostTNode,this._hostLView)}get injector(){return new Cl(this._hostTNode,this._hostLView)}get parentInjector(){const a=uh(this._hostTNode,this._hostLView);if(Du(a)){const c=wl(a,this._hostLView),f=rh(a);return new Cl(c[1].data[f+8],c)}return new Cl(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(a){const c=qS(this._lContainer);return null!==c&&c[a]||null}get length(){return this._lContainer.length-10}createEmbeddedView(a,c,f){let g,_;"number"==typeof f?g=f:null!=f&&(g=f.index,_=f.injector);const E=a.createEmbeddedView(c||{},_);return this.insert(E,g),E}createComponent(a,c,f,g,_){const E=a&&!function Dl(o){return"function"==typeof o}(a);let A;if(E)A=c;else{const K=c||{};A=K.index,f=K.injector,g=K.projectableNodes,_=K.environmentInjector||K.ngModuleRef}const N=E?a:new $u(Pt(a)),k=f||this.parentInjector;if(!_&&null==N.ngModule){const oe=(E?k:this.parentInjector).get(Pl,null);oe&&(_=oe)}const F=N.create(k,g,void 0,_);return this.insert(F.hostView,A),F}insert(a,c){const f=a._lView,g=f[1];if(function La(o){return gs(o[3])}(f)){const F=this.indexOf(a);if(-1!==F)this.detach(F);else{const K=f[3],oe=new bd(K,K[6],K[3]);oe.detach(oe.indexOf(a))}}const _=this._adjustIndex(c),E=this._lContainer;!function zp(o,a,c,f){const g=10+f,_=c.length;f>0&&(c[g-1][4]=a),f<_-10?(a[4]=c[g],Oo(c,10+f,a)):(c.push(a),a[4]=null),a[3]=c;const E=a[17];null!==E&&c!==E&&function Ch(o,a){const c=o[9];a[16]!==a[3][3][16]&&(o[2]=!0),null===c?o[9]=[a]:c.push(a)}(E,a);const A=a[19];null!==A&&A.insertView(o),a[2]|=64}(g,f,E,_);const A=Hb(_,E),N=f[11],k=Kp(N,E[7]);return null!==k&&function Ck(o,a,c,f,g,_){f[0]=g,f[6]=a,Yp(o,f,c,1,g,_)}(g,E[6],N,f,k,A),a.attachToViewContainerRef(),Oo(wd(E),_,a),a}move(a,c){return this.insert(a,c)}indexOf(a){const c=qS(this._lContainer);return null!==c?c.indexOf(a):-1}remove(a){const c=this._adjustIndex(a,-1),f=V_(this._lContainer,c);f&&(Tt(wd(this._lContainer),c),Vb(f[1],f))}detach(a){const c=this._adjustIndex(a,-1),f=V_(this._lContainer,c);return f&&null!=Tt(wd(this._lContainer),c)?new py(f):null}_adjustIndex(a,c=0){return a??this.length+c}};function qS(o){return o[8]}function wd(o){return o[8]||(o[8]=[])}function zS(o,a){let c;const f=a[o.index];if(gs(f))c=f;else{let g;if(8&o.type)g=Ge(f);else{const _=a[11];g=_.createComment("");const E=$n(o,a);Lu(_,Kp(_,E),g,function vA(o,a){return o.nextSibling(a)}(_,E),!1)}a[o.index]=c=AR(f,a,g,o),Fl(a,c)}return new bd(c,o,a)}class rv{constructor(a){this.queryList=a,this.matches=null}clone(){return new rv(this.queryList)}setDirty(){this.queryList.setDirty()}}class iv{constructor(a=[]){this.queries=a}createEmbeddedView(a){const c=a.queries;if(null!==c){const f=null!==a.contentQueries?a.contentQueries[0]:c.length,g=[];for(let _=0;_<f;_++){const E=c.getByIndex(_);g.push(this.queries[E.indexInDeclarationView].clone())}return new iv(g)}return null}insertView(a){this.dirtyQueriesWithMatches(a)}detachView(a){this.dirtyQueriesWithMatches(a)}dirtyQueriesWithMatches(a){for(let c=0;c<this.queries.length;c++)null!==VE(a,c).matches&&this.queries[c].setDirty()}}class OE{constructor(a,c,f=null){this.predicate=a,this.flags=c,this.read=f}}class sv{constructor(a=[]){this.queries=a}elementStart(a,c){for(let f=0;f<this.queries.length;f++)this.queries[f].elementStart(a,c)}elementEnd(a){for(let c=0;c<this.queries.length;c++)this.queries[c].elementEnd(a)}embeddedTView(a){let c=null;for(let f=0;f<this.length;f++){const g=null!==c?c.length:0,_=this.getByIndex(f).embeddedTView(a,g);_&&(_.indexInDeclarationView=f,null!==c?c.push(_):c=[_])}return null!==c?new sv(c):null}template(a,c){for(let f=0;f<this.queries.length;f++)this.queries[f].template(a,c)}getByIndex(a){return this.queries[a]}get length(){return this.queries.length}track(a){this.queries.push(a)}}class ov{constructor(a,c=-1){this.metadata=a,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=c}elementStart(a,c){this.isApplyingToNode(c)&&this.matchTNode(a,c)}elementEnd(a){this._declarationNodeIndex===a.index&&(this._appliesToNextNode=!1)}template(a,c){this.elementStart(a,c)}embeddedTView(a,c){return this.isApplyingToNode(a)?(this.crossesNgTemplate=!0,this.addMatch(-a.index,c),new ov(this.metadata)):null}isApplyingToNode(a){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const c=this._declarationNodeIndex;let f=a.parent;for(;null!==f&&8&f.type&&f.index!==c;)f=f.parent;return c===(null!==f?f.index:-1)}return this._appliesToNextNode}matchTNode(a,c){const f=this.metadata.predicate;if(Array.isArray(f))for(let g=0;g<f.length;g++){const _=f[g];this.matchTNodeWithReadOption(a,c,KS(c,_)),this.matchTNodeWithReadOption(a,c,Rc(c,a,_,!1,!1))}else f===cf?4&c.type&&this.matchTNodeWithReadOption(a,c,-1):this.matchTNodeWithReadOption(a,c,Rc(c,a,f,!1,!1))}matchTNodeWithReadOption(a,c,f){if(null!==f){const g=this.metadata.read;if(null!==g)if(g===ty||g===Fg||g===cf&&4&c.type)this.addMatch(c.index,-2);else{const _=Rc(c,a,g,!1,!1);null!==_&&this.addMatch(c.index,_)}else this.addMatch(c.index,f)}}addMatch(a,c){null===this.matches?this.matches=[a,c]:this.matches.push(a,c)}}function KS(o,a){const c=o.localNames;if(null!==c)for(let f=0;f<c.length;f+=2)if(c[f]===a)return c[f+1];return null}function PE(o,a,c,f){return-1===c?function YS(o,a){return 11&o.type?ed(o,a):4&o.type?tv(o,a):null}(a,o):-2===c?function QS(o,a,c){return c===ty?ed(a,o):c===cf?tv(a,o):c===Fg?zS(a,o):void 0}(o,a,f):Il(o,o[1],c,a)}function LE(o,a,c,f){const g=a[19].queries[f];if(null===g.matches){const _=o.data,E=c.matches,A=[];for(let N=0;N<E.length;N+=2){const k=E[N];A.push(k<0?null:PE(a,_[k],E[N+1],c.metadata.read))}g.matches=A}return g.matches}function Vg(o,a,c,f){const g=o.queries.getByIndex(c),_=g.matches;if(null!==_){const E=LE(o,a,g,c);for(let A=0;A<_.length;A+=2){const N=_[A];if(N>0)f.push(E[A/2]);else{const k=_[A+1],F=a[-N];for(let K=10;K<F.length;K++){const oe=F[K];oe[17]===oe[3]&&Vg(oe[1],oe,k,f)}if(null!==F[9]){const K=F[9];for(let oe=0;oe<K.length;oe++){const we=K[oe];Vg(we[1],we,k,f)}}}}}return f}function JS(o){const a=Ye(),c=Rn(),f=yb();Dp(f+1);const g=VE(c,f);if(o.dirty&&function Pa(o){return 4==(4&o[2])}(a)===(2==(2&g.metadata.flags))){if(null===g.matches)o.reset([]);else{const _=g.crossesNgTemplate?Vg(c,a,f,[]):LE(c,a,g,f);o.reset(_,JA),o.notifyOnChanges()}return!0}return!1}function FE(o,a,c){const f=Rn();f.firstCreatePass&&(e1(f,new OE(o,a,c),-1),2==(2&a)&&(f.staticViewQueries=!0)),uv(f,Ye(),a)}function XS(o,a,c,f){const g=Rn();if(g.firstCreatePass){const _=Yi();e1(g,new OE(a,c,f),_.index),function uP(o,a){const c=o.contentQueries||(o.contentQueries=[]);a!==(c.length?c[c.length-1]:-1)&&c.push(o.queries.length-1,a)}(g,o),2==(2&c)&&(g.staticContentQueries=!0)}uv(g,Ye(),c)}function av(){return function UE(o,a){return o[19].queries[a].queryList}(Ye(),yb())}function uv(o,a,c){const f=new Ci(4==(4&c));_w(o,a,f,f.destroy),null===a[19]&&(a[19]=new iv),a[19].queries.push(new rv(f))}function e1(o,a,c){null===o.queries&&(o.queries=new sv),o.queries.track(new ov(a,c))}function VE(o,a){return o.queries.getByIndex(a)}function Gg(...o){}const dv=new ur("Application Initializer");let zl=(()=>{class o{constructor(c){this.appInits=c,this.resolve=Gg,this.reject=Gg,this.initialized=!1,this.done=!1,this.donePromise=new Promise((f,g)=>{this.resolve=f,this.reject=g})}runInitializers(){if(this.initialized)return;const c=[],f=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let g=0;g<this.appInits.length;g++){const _=this.appInits[g]();if(Ny(_))c.push(_);else if(ZD(_)){const E=new Promise((A,N)=>{_.subscribe({complete:A,error:N})});c.push(E)}}Promise.all(c).then(()=>{f()}).catch(g=>{this.reject(g)}),0===c.length&&f(),this.initialized=!0}}return o.\u0275fac=function(c){return new(c||o)(Xe(dv,8))},o.\u0275prov=Rt({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();const b1=new ur("AppId",{providedIn:"root",factory:function ZE(){return`${WE()}${WE()}${WE()}`}});function WE(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const w1=new ur("Platform Initializer"),E1=new ur("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Kl=new ur("appBootstrapListener");let hv=(()=>{class o{log(c){console.log(c)}warn(c){console.warn(c)}}return o.\u0275fac=function(c){return new(c||o)},o.\u0275prov=Rt({token:o,factory:o.\u0275fac,providedIn:"platform"}),o})();const po=new ur("LocaleId",{providedIn:"root",factory:()=>pt(po,It.Optional|It.SkipSelf)||function I1(){return typeof $localize<"u"&&$localize.locale||tf}()}),fv=new ur("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class wP{constructor(a,c){this.ngModuleFactory=a,this.componentFactories=c}}let zE=(()=>{class o{compileModuleSync(c){return new IE(c)}compileModuleAsync(c){return Promise.resolve(this.compileModuleSync(c))}compileModuleAndAllComponentsSync(c){const f=this.compileModuleSync(c),_=Uu(hr(c).declarations).reduce((E,A)=>{const N=Pt(A);return N&&E.push(new $u(N)),E},[]);return new wP(f,_)}compileModuleAndAllComponentsAsync(c){return Promise.resolve(this.compileModuleAndAllComponentsSync(c))}clearCache(){}clearCacheFor(c){}getModuleId(c){}}return o.\u0275fac=function(c){return new(c||o)},o.\u0275prov=Rt({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();const T1=(()=>Promise.resolve(0))();function JE(o){typeof Zone>"u"?T1.then(()=>{o&&o.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",o)}class Vn{constructor({enableLongStackTrace:a=!1,shouldCoalesceEventChangeDetection:c=!1,shouldCoalesceRunChangeDetection:f=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Bo(!1),this.onMicrotaskEmpty=new Bo(!1),this.onStable=new Bo(!1),this.onError=new Bo(!1),typeof Zone>"u")throw new X(908,!1);Zone.assertZonePatched();const g=this;g._nesting=0,g._outer=g._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(g._inner=g._inner.fork(new Zone.TaskTrackingZoneSpec)),a&&Zone.longStackTraceZoneSpec&&(g._inner=g._inner.fork(Zone.longStackTraceZoneSpec)),g.shouldCoalesceEventChangeDetection=!f&&c,g.shouldCoalesceRunChangeDetection=f,g.lastRequestAnimationFrameId=-1,g.nativeRequestAnimationFrame=function EP(){let o=En.requestAnimationFrame,a=En.cancelAnimationFrame;if(typeof Zone<"u"&&o&&a){const c=o[Zone.__symbol__("OriginalDelegate")];c&&(o=c);const f=a[Zone.__symbol__("OriginalDelegate")];f&&(a=f)}return{nativeRequestAnimationFrame:o,nativeCancelAnimationFrame:a}}().nativeRequestAnimationFrame,function eI(o){const a=()=>{!function pv(o){o.isCheckStableRunning||-1!==o.lastRequestAnimationFrameId||(o.lastRequestAnimationFrameId=o.nativeRequestAnimationFrame.call(En,()=>{o.fakeTopEventTask||(o.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{o.lastRequestAnimationFrameId=-1,Yl(o),o.isCheckStableRunning=!0,XE(o),o.isCheckStableRunning=!1},void 0,()=>{},()=>{})),o.fakeTopEventTask.invoke()}),Yl(o))}(o)};o._inner=o._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(c,f,g,_,E,A)=>{try{return Xa(o),c.invokeTask(g,_,E,A)}finally{(o.shouldCoalesceEventChangeDetection&&"eventTask"===_.type||o.shouldCoalesceRunChangeDetection)&&a(),pf(o)}},onInvoke:(c,f,g,_,E,A,N)=>{try{return Xa(o),c.invoke(g,_,E,A,N)}finally{o.shouldCoalesceRunChangeDetection&&a(),pf(o)}},onHasTask:(c,f,g,_)=>{c.hasTask(g,_),f===g&&("microTask"==_.change?(o._hasPendingMicrotasks=_.microTask,Yl(o),XE(o)):"macroTask"==_.change&&(o.hasPendingMacrotasks=_.macroTask))},onHandleError:(c,f,g,_)=>(c.handleError(g,_),o.runOutsideAngular(()=>o.onError.emit(_)),!1)})}(g)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Vn.isInAngularZone())throw new X(909,!1)}static assertNotInAngularZone(){if(Vn.isInAngularZone())throw new X(909,!1)}run(a,c,f){return this._inner.run(a,c,f)}runTask(a,c,f,g){const _=this._inner,E=_.scheduleEventTask("NgZoneEvent: "+g,a,IP,Gg,Gg);try{return _.runTask(E,c,f)}finally{_.cancelTask(E)}}runGuarded(a,c,f){return this._inner.runGuarded(a,c,f)}runOutsideAngular(a){return this._outer.run(a)}}const IP={};function XE(o){if(0==o._nesting&&!o.hasPendingMicrotasks&&!o.isStable)try{o._nesting++,o.onMicrotaskEmpty.emit(null)}finally{if(o._nesting--,!o.hasPendingMicrotasks)try{o.runOutsideAngular(()=>o.onStable.emit(null))}finally{o.isStable=!0}}}function Yl(o){o.hasPendingMicrotasks=!!(o._hasPendingMicrotasks||(o.shouldCoalesceEventChangeDetection||o.shouldCoalesceRunChangeDetection)&&-1!==o.lastRequestAnimationFrameId)}function Xa(o){o._nesting++,o.isStable&&(o.isStable=!1,o.onUnstable.emit(null))}function pf(o){o._nesting--,XE(o)}class yn{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Bo,this.onMicrotaskEmpty=new Bo,this.onStable=new Bo,this.onError=new Bo}run(a,c,f){return a.apply(c,f)}runGuarded(a,c,f){return a.apply(c,f)}runOutsideAngular(a){return a()}runTask(a,c,f,g){return a.apply(c,f)}}const A1=new ur(""),gf=new ur("");let nI,CP=(()=>{class o{constructor(c,f,g){this._ngZone=c,this.registry=f,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,nI||(function tI(o){nI=o}(g),g.addToWindow(f)),this._watchAngularEvents(),c.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Vn.assertNotInAngularZone(),JE(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())JE(()=>{for(;0!==this._callbacks.length;){let c=this._callbacks.pop();clearTimeout(c.timeoutId),c.doneCb(this._didWork)}this._didWork=!1});else{let c=this.getPendingTasks();this._callbacks=this._callbacks.filter(f=>!f.updateCb||!f.updateCb(c)||(clearTimeout(f.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(c=>({source:c.source,creationLocation:c.creationLocation,data:c.data})):[]}addCallback(c,f,g){let _=-1;f&&f>0&&(_=setTimeout(()=>{this._callbacks=this._callbacks.filter(E=>E.timeoutId!==_),c(this._didWork,this.getPendingTasks())},f)),this._callbacks.push({doneCb:c,timeoutId:_,updateCb:g})}whenStable(c,f,g){if(g&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(c,f,g),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(c){this.registry.registerApplication(c,this)}unregisterApplication(c){this.registry.unregisterApplication(c)}findProviders(c,f,g){return[]}}return o.\u0275fac=function(c){return new(c||o)(Xe(Vn),Xe(zr),Xe(gf))},o.\u0275prov=Rt({token:o,factory:o.\u0275fac}),o})(),zr=(()=>{class o{constructor(){this._applications=new Map}registerApplication(c,f){this._applications.set(c,f)}unregisterApplication(c){this._applications.delete(c)}unregisterAllApplications(){this._applications.clear()}getTestability(c){return this._applications.get(c)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(c,f=!0){return nI?.findTestabilityInTree(this,c,f)??null}}return o.\u0275fac=function(c){return new(c||o)},o.\u0275prov=Rt({token:o,factory:o.\u0275fac,providedIn:"platform"}),o})(),eu=null;const Id=new ur("AllowMultipleToken"),Wg=new ur("PlatformDestroyListeners");class x1{constructor(a,c){this.name=a,this.token=c}}function M1(o,a,c=[]){const f=`Platform: ${a}`,g=new ur(f);return(_=[])=>{let E=vf();if(!E||E.injector.get(Id,!1)){const A=[...c,..._,{provide:g,useValue:!0}];o?o(A):function N1(o){if(eu&&!eu.get(Id,!1))throw new X(400,!1);eu=o;const a=o.get(k1);(function _f(o){const a=o.get(w1,null);a&&a.forEach(c=>c())})(o)}(function yf(o=[],a){return id.create({name:a,providers:[{provide:Rh,useValue:"platform"},{provide:Wg,useValue:new Set([()=>eu=null])},...o]})}(A,f))}return function rI(o){const a=vf();if(!a)throw new X(401,!1);return a}()}}function vf(){return eu?.get(k1)??null}let k1=(()=>{class o{constructor(c){this._injector=c,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(c,f){const g=function O1(o,a){let c;return c="noop"===o?new yn:("zone.js"===o?void 0:o)||new Vn(a),c}(f?.ngZone,function R1(o){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!o||!o.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!o||!o.ngZoneRunCoalescing)||!1}}(f)),_=[{provide:Vn,useValue:g}];return g.run(()=>{const E=id.create({providers:_,parent:this.injector,name:c.moduleType.name}),A=c.create(E),N=A.injector.get(Fh,null);if(!N)throw new X(402,!1);return g.runOutsideAngular(()=>{const k=g.onError.subscribe({next:F=>{N.handleError(F)}});A.onDestroy(()=>{_v(this._modules,A),k.unsubscribe()})}),function mv(o,a,c){try{const f=c();return Ny(f)?f.catch(g=>{throw a.runOutsideAngular(()=>o.handleError(g)),g}):f}catch(f){throw a.runOutsideAngular(()=>o.handleError(f)),f}}(N,g,()=>{const k=A.injector.get(zl);return k.runInitializers(),k.donePromise.then(()=>(function aE(o){en(o,"Expected localeId to be defined"),"string"==typeof o&&(Sg=o.toLowerCase().replace(/_/g,"-"))}(A.injector.get(po,tf)||tf),this._moduleDoBootstrap(A),A))})})}bootstrapModule(c,f=[]){const g=P1({},f);return function D1(o,a,c){const f=new IE(c);return Promise.resolve(f)}(0,0,c).then(_=>this.bootstrapModuleFactory(_,g))}_moduleDoBootstrap(c){const f=c.injector.get(bf);if(c._bootstrapComponents.length>0)c._bootstrapComponents.forEach(g=>f.bootstrap(g));else{if(!c.instance.ngDoBootstrap)throw new X(403,!1);c.instance.ngDoBootstrap(f)}this._modules.push(c)}onDestroy(c){this._destroyListeners.push(c)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new X(404,!1);this._modules.slice().forEach(f=>f.destroy()),this._destroyListeners.forEach(f=>f());const c=this._injector.get(Wg,null);c&&(c.forEach(f=>f()),c.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return o.\u0275fac=function(c){return new(c||o)(Xe(id))},o.\u0275prov=Rt({token:o,factory:o.\u0275fac,providedIn:"platform"}),o})();function P1(o,a){return Array.isArray(a)?a.reduce(P1,o):{...o,...a}}let bf=(()=>{class o{constructor(c,f,g){this._zone=c,this._injector=f,this._exceptionHandler=g,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const _=new G.y(A=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{A.next(this._stable),A.complete()})}),E=new G.y(A=>{let N;this._zone.runOutsideAngular(()=>{N=this._zone.onStable.subscribe(()=>{Vn.assertNotInAngularZone(),JE(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,A.next(!0))})})});const k=this._zone.onUnstable.subscribe(()=>{Vn.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{A.next(!1)}))});return()=>{N.unsubscribe(),k.unsubscribe()}});this.isStable=(0,he.T)(_,E.pipe((0,Te.B)()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(c,f){const g=c instanceof zA;if(!this._injector.get(zl).done)throw!g&&_i(c),new X(405,false);let E;E=g?c:this._injector.get(sg).resolveComponentFactory(c),this.componentTypes.push(E.componentType);const A=function S1(o){return o.isBoundToModule}(E)?void 0:this._injector.get(Og),k=E.create(id.NULL,[],f||E.selector,A),F=k.location.nativeElement,K=k.injector.get(A1,null);return K?.registerApplication(F),k.onDestroy(()=>{this.detachView(k.hostView),_v(this.components,k),K?.unregisterApplication(F)}),this._loadComponent(k),k}tick(){if(this._runningTick)throw new X(101,!1);try{this._runningTick=!0;for(let c of this._views)c.detectChanges()}catch(c){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(c))}finally{this._runningTick=!1}}attachView(c){const f=c;this._views.push(f),f.attachToAppRef(this)}detachView(c){const f=c;_v(this._views,f),f.detachFromAppRef()}_loadComponent(c){this.attachView(c.hostView),this.tick(),this.components.push(c),this._injector.get(Kl,[]).concat(this._bootstrapListeners).forEach(g=>g(c))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(c=>c()),this._views.slice().forEach(c=>c.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(c){return this._destroyListeners.push(c),()=>_v(this._destroyListeners,c)}destroy(){if(this._destroyed)throw new X(406,!1);const c=this._injector;c.destroy&&!c.destroyed&&c.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return o.\u0275fac=function(c){return new(c||o)(Xe(Vn),Xe(Pl),Xe(Fh))},o.\u0275prov=Rt({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();function _v(o,a){const c=o.indexOf(a);c>-1&&o.splice(c,1)}function F1(){return!1}let oI=(()=>{class o{}return o.__NG_ELEMENT_ID__=aI,o})();function aI(o){return function TP(o,a,c){if(hl(o)&&!c){const f=Zr(o.index,a);return new py(f,f)}return 47&o.type?new py(a[16],a):null}(Yi(),Ye(),16==(16&o))}class Kg{constructor(){}supports(a){return by(a)}create(a){return new hI(a)}}const Ad=(o,a)=>a;class hI{constructor(a){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=a||Ad}forEachItem(a){let c;for(c=this._itHead;null!==c;c=c._next)a(c)}forEachOperation(a){let c=this._itHead,f=this._removalsHead,g=0,_=null;for(;c||f;){const E=!f||c&&c.currentIndex<Ef(f,g,_)?c:f,A=Ef(E,g,_),N=E.currentIndex;if(E===f)g--,f=f._nextRemoved;else if(c=c._next,null==E.previousIndex)g++;else{_||(_=[]);const k=A-g,F=N-g;if(k!=F){for(let oe=0;oe<k;oe++){const we=oe<_.length?_[oe]:_[oe]=0,$e=we+oe;F<=$e&&$e<k&&(_[oe]=we+1)}_[E.previousIndex]=F-k}}A!==N&&a(E,A,N)}}forEachPreviousItem(a){let c;for(c=this._previousItHead;null!==c;c=c._nextPrevious)a(c)}forEachAddedItem(a){let c;for(c=this._additionsHead;null!==c;c=c._nextAdded)a(c)}forEachMovedItem(a){let c;for(c=this._movesHead;null!==c;c=c._nextMoved)a(c)}forEachRemovedItem(a){let c;for(c=this._removalsHead;null!==c;c=c._nextRemoved)a(c)}forEachIdentityChange(a){let c;for(c=this._identityChangesHead;null!==c;c=c._nextIdentityChange)a(c)}diff(a){if(null==a&&(a=[]),!by(a))throw new X(900,!1);return this.check(a)?this:null}onDestroy(){}check(a){this._reset();let g,_,E,c=this._itHead,f=!1;if(Array.isArray(a)){this.length=a.length;for(let A=0;A<this.length;A++)_=a[A],E=this._trackByFn(A,_),null!==c&&Object.is(c.trackById,E)?(f&&(c=this._verifyReinsertion(c,_,E,A)),Object.is(c.item,_)||this._addIdentityChange(c,_)):(c=this._mismatch(c,_,E,A),f=!0),c=c._next}else g=0,function FD(o,a){if(Array.isArray(o))for(let c=0;c<o.length;c++)a(o[c]);else{const c=o[Vl()]();let f;for(;!(f=c.next()).done;)a(f.value)}}(a,A=>{E=this._trackByFn(g,A),null!==c&&Object.is(c.trackById,E)?(f&&(c=this._verifyReinsertion(c,A,E,g)),Object.is(c.item,A)||this._addIdentityChange(c,A)):(c=this._mismatch(c,A,E,g),f=!0),c=c._next,g++}),this.length=g;return this._truncate(c),this.collection=a,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let a;for(a=this._previousItHead=this._itHead;null!==a;a=a._next)a._nextPrevious=a._next;for(a=this._additionsHead;null!==a;a=a._nextAdded)a.previousIndex=a.currentIndex;for(this._additionsHead=this._additionsTail=null,a=this._movesHead;null!==a;a=a._nextMoved)a.previousIndex=a.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(a,c,f,g){let _;return null===a?_=this._itTail:(_=a._prev,this._remove(a)),null!==(a=null===this._unlinkedRecords?null:this._unlinkedRecords.get(f,null))?(Object.is(a.item,c)||this._addIdentityChange(a,c),this._reinsertAfter(a,_,g)):null!==(a=null===this._linkedRecords?null:this._linkedRecords.get(f,g))?(Object.is(a.item,c)||this._addIdentityChange(a,c),this._moveAfter(a,_,g)):a=this._addAfter(new xP(c,f),_,g),a}_verifyReinsertion(a,c,f,g){let _=null===this._unlinkedRecords?null:this._unlinkedRecords.get(f,null);return null!==_?a=this._reinsertAfter(_,a._prev,g):a.currentIndex!=g&&(a.currentIndex=g,this._addToMoves(a,g)),a}_truncate(a){for(;null!==a;){const c=a._next;this._addToRemovals(this._unlink(a)),a=c}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(a,c,f){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(a);const g=a._prevRemoved,_=a._nextRemoved;return null===g?this._removalsHead=_:g._nextRemoved=_,null===_?this._removalsTail=g:_._prevRemoved=g,this._insertAfter(a,c,f),this._addToMoves(a,f),a}_moveAfter(a,c,f){return this._unlink(a),this._insertAfter(a,c,f),this._addToMoves(a,f),a}_addAfter(a,c,f){return this._insertAfter(a,c,f),this._additionsTail=null===this._additionsTail?this._additionsHead=a:this._additionsTail._nextAdded=a,a}_insertAfter(a,c,f){const g=null===c?this._itHead:c._next;return a._next=g,a._prev=c,null===g?this._itTail=a:g._prev=a,null===c?this._itHead=a:c._next=a,null===this._linkedRecords&&(this._linkedRecords=new Ho),this._linkedRecords.put(a),a.currentIndex=f,a}_remove(a){return this._addToRemovals(this._unlink(a))}_unlink(a){null!==this._linkedRecords&&this._linkedRecords.remove(a);const c=a._prev,f=a._next;return null===c?this._itHead=f:c._next=f,null===f?this._itTail=c:f._prev=c,a}_addToMoves(a,c){return a.previousIndex===c||(this._movesTail=null===this._movesTail?this._movesHead=a:this._movesTail._nextMoved=a),a}_addToRemovals(a){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Ho),this._unlinkedRecords.put(a),a.currentIndex=null,a._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=a,a._prevRemoved=null):(a._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=a),a}_addIdentityChange(a,c){return a.item=c,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=a:this._identityChangesTail._nextIdentityChange=a,a}}class xP{constructor(a,c){this.item=a,this.trackById=c,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class xr{constructor(){this._head=null,this._tail=null}add(a){null===this._head?(this._head=this._tail=a,a._nextDup=null,a._prevDup=null):(this._tail._nextDup=a,a._prevDup=this._tail,a._nextDup=null,this._tail=a)}get(a,c){let f;for(f=this._head;null!==f;f=f._nextDup)if((null===c||c<=f.currentIndex)&&Object.is(f.trackById,a))return f;return null}remove(a){const c=a._prevDup,f=a._nextDup;return null===c?this._head=f:c._nextDup=f,null===f?this._tail=c:f._prevDup=c,null===this._head}}class Ho{constructor(){this.map=new Map}put(a){const c=a.trackById;let f=this.map.get(c);f||(f=new xr,this.map.set(c,f)),f.add(a)}get(a,c){const g=this.map.get(a);return g?g.get(a,c):null}remove(a){const c=a.trackById;return this.map.get(c).remove(a)&&this.map.delete(c),a}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Ef(o,a,c){const f=o.previousIndex;if(null===f)return f;let g=0;return c&&f<c.length&&(g=c[f]),f+a+g}class bv{constructor(){}supports(a){return a instanceof Map||UD(a)}create(){return new U1}}class U1{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(a){let c;for(c=this._mapHead;null!==c;c=c._next)a(c)}forEachPreviousItem(a){let c;for(c=this._previousMapHead;null!==c;c=c._nextPrevious)a(c)}forEachChangedItem(a){let c;for(c=this._changesHead;null!==c;c=c._nextChanged)a(c)}forEachAddedItem(a){let c;for(c=this._additionsHead;null!==c;c=c._nextAdded)a(c)}forEachRemovedItem(a){let c;for(c=this._removalsHead;null!==c;c=c._nextRemoved)a(c)}diff(a){if(a){if(!(a instanceof Map||UD(a)))throw new X(900,!1)}else a=new Map;return this.check(a)?this:null}onDestroy(){}check(a){this._reset();let c=this._mapHead;if(this._appendAfter=null,this._forEach(a,(f,g)=>{if(c&&c.key===g)this._maybeAddToChanges(c,f),this._appendAfter=c,c=c._next;else{const _=this._getOrCreateRecordForKey(g,f);c=this._insertBeforeOrAppend(c,_)}}),c){c._prev&&(c._prev._next=null),this._removalsHead=c;for(let f=c;null!==f;f=f._nextRemoved)f===this._mapHead&&(this._mapHead=null),this._records.delete(f.key),f._nextRemoved=f._next,f.previousValue=f.currentValue,f.currentValue=null,f._prev=null,f._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(a,c){if(a){const f=a._prev;return c._next=a,c._prev=f,a._prev=c,f&&(f._next=c),a===this._mapHead&&(this._mapHead=c),this._appendAfter=a,a}return this._appendAfter?(this._appendAfter._next=c,c._prev=this._appendAfter):this._mapHead=c,this._appendAfter=c,null}_getOrCreateRecordForKey(a,c){if(this._records.has(a)){const g=this._records.get(a);this._maybeAddToChanges(g,c);const _=g._prev,E=g._next;return _&&(_._next=E),E&&(E._prev=_),g._next=null,g._prev=null,g}const f=new fI(a);return this._records.set(a,f),f.currentValue=c,this._addToAdditions(f),f}_reset(){if(this.isDirty){let a;for(this._previousMapHead=this._mapHead,a=this._previousMapHead;null!==a;a=a._next)a._nextPrevious=a._next;for(a=this._changesHead;null!==a;a=a._nextChanged)a.previousValue=a.currentValue;for(a=this._additionsHead;null!=a;a=a._nextAdded)a.previousValue=a.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(a,c){Object.is(c,a.currentValue)||(a.previousValue=a.currentValue,a.currentValue=c,this._addToChanges(a))}_addToAdditions(a){null===this._additionsHead?this._additionsHead=this._additionsTail=a:(this._additionsTail._nextAdded=a,this._additionsTail=a)}_addToChanges(a){null===this._changesHead?this._changesHead=this._changesTail=a:(this._changesTail._nextChanged=a,this._changesTail=a)}_forEach(a,c){a instanceof Map?a.forEach(c):Object.keys(a).forEach(f=>c(a[f],f))}}class fI{constructor(a){this.key=a,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Xl(){return new wv([new Kg])}let wv=(()=>{class o{constructor(c){this.factories=c}static create(c,f){if(null!=f){const g=f.factories.slice();c=c.concat(g)}return new o(c)}static extend(c){return{provide:o,useFactory:f=>o.create(c,f||Xl()),deps:[[o,new Sl,new Ba]]}}find(c){const f=this.factories.find(g=>g.supports(c));if(null!=f)return f;throw new X(901,!1)}}return o.\u0275prov=Rt({token:o,providedIn:"root",factory:Xl}),o})();function Ev(){return new ec([new bv])}let ec=(()=>{class o{constructor(c){this.factories=c}static create(c,f){if(f){const g=f.factories.slice();c=c.concat(g)}return new o(c)}static extend(c){return{provide:o,useFactory:f=>o.create(c,f||Ev()),deps:[[o,new Sl,new Ba]]}}find(c){const f=this.factories.find(g=>g.supports(c));if(f)return f;throw new X(901,!1)}}return o.\u0275prov=Rt({token:o,providedIn:"root",factory:Ev}),o})();const NP=M1(null,"core",[]);let MP=(()=>{class o{constructor(c){}}return o.\u0275fac=function(c){return new(c||o)(Xe(bf))},o.\u0275mod=_e({type:o}),o.\u0275inj=Rr({}),o})();function kP(o){return"boolean"==typeof o?o:null!=o&&"false"!==o}},579:(be,pe,V)=>{"use strict";V.d(pe,{EI:()=>We,Gb:()=>Tn,Iv:()=>Gr,Kz:()=>Ot,Xd:()=>Hr,lT:()=>rn,xP:()=>Xe});var O=V(5861),l=V(9681),G=V(1877),he=V(2090),Te=V(4859);V(2833);const Ne="analytics",Ee="firebase_id",te="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",ce="https://www.googletagmanager.com/gtag/js",Ze=new G.Yd("@firebase/analytics");function de(H){return Promise.all(H.map(U=>U.catch(R=>R)))}function qe(H,U){const R=document.createElement("script");R.src=`${ce}?l=${H}&id=${U}`,R.async=!0,document.head.appendChild(R)}function X(H,U,R,j,ie,Ce){return ae.apply(this,arguments)}function ae(){return(ae=(0,O.Z)(function*(H,U,R,j,ie,Ce){const Je=j[ie];try{if(Je)yield U[Je];else{const At=(yield de(R)).find(gt=>gt.measurementId===ie);At&&(yield U[At.appId])}}catch(ze){Ze.error(ze)}H("config",ie,Ce)})).apply(this,arguments)}function De(H,U,R,j,ie){return Fe.apply(this,arguments)}function Fe(){return(Fe=(0,O.Z)(function*(H,U,R,j,ie){try{let Ce=[];if(ie&&ie.send_to){let Je=ie.send_to;Array.isArray(Je)||(Je=[Je]);const ze=yield de(R);for(const At of Je){const gt=ze.find(Jn=>Jn.measurementId===At),Jt=gt&&U[gt.appId];if(!Jt){Ce=[];break}Ce.push(Jt)}}0===Ce.length&&(Ce=Object.values(U)),yield Promise.all(Ce),H("event",j,ie||{})}catch(Ce){Ze.error(Ce)}})).apply(this,arguments)}function Be(H){const U=window.document.getElementsByTagName("script");for(const R of Object.values(U))if(R.src&&R.src.includes(ce)&&R.src.includes(H))return R;return null}const ue=new he.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),me=new class fe{constructor(U={},R=1e3){this.throttleMetadata=U,this.intervalMillis=R}getThrottleMetadata(U){return this.throttleMetadata[U]}setThrottleMetadata(U,R){this.throttleMetadata[U]=R}deleteThrottleMetadata(U){delete this.throttleMetadata[U]}};function Ie(H){return new Headers({Accept:"application/json","x-goog-api-key":H})}function Oe(H){return Ae.apply(this,arguments)}function Ae(){return(Ae=(0,O.Z)(function*(H){var U;const{appId:R,apiKey:j}=H,ie={method:"GET",headers:Ie(j)},Ce=te.replace("{app-id}",R),Je=yield fetch(Ce,ie);if(200!==Je.status&&304!==Je.status){let ze="";try{const At=yield Je.json();null!==(U=At.error)&&void 0!==U&&U.message&&(ze=At.error.message)}catch{}throw ue.create("config-fetch-failed",{httpStatus:Je.status,responseMessage:ze})}return Je.json()})).apply(this,arguments)}function rt(H){return xt.apply(this,arguments)}function xt(){return(xt=(0,O.Z)(function*(H,U=me,R){const{appId:j,apiKey:ie,measurementId:Ce}=H.options;if(!j)throw ue.create("no-app-id");if(!ie){if(Ce)return{measurementId:Ce,appId:j};throw ue.create("no-api-key")}const Je=U.getThrottleMetadata(j)||{backoffCount:0,throttleEndTimeMillis:Date.now()},ze=new Zt;return setTimeout((0,O.Z)(function*(){ze.abort()}),void 0!==R?R:6e4),In({appId:j,apiKey:ie,measurementId:Ce},Je,ze,U)})).apply(this,arguments)}function In(H,U,R){return Cn.apply(this,arguments)}function Cn(){return(Cn=(0,O.Z)(function*(H,{throttleEndTimeMillis:U,backoffCount:R},j,ie=me){var Ce,Je;const{appId:ze,measurementId:At}=H;try{yield Ft(j,U)}catch(gt){if(At)return Ze.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${At} provided in the "measurementId" field in the local Firebase config. [${null===(Ce=gt)||void 0===Ce?void 0:Ce.message}]`),{appId:ze,measurementId:At};throw gt}try{const gt=yield Oe(H);return ie.deleteThrottleMetadata(ze),gt}catch(gt){const Jt=gt;if(!en(Jt)){if(ie.deleteThrottleMetadata(ze),At)return Ze.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${At} provided in the "measurementId" field in the local Firebase config. [${Jt?.message}]`),{appId:ze,measurementId:At};throw gt}const Jn=503===Number(null===(Je=Jt?.customData)||void 0===Je?void 0:Je.httpStatus)?(0,he.$s)(R,ie.intervalMillis,30):(0,he.$s)(R,ie.intervalMillis),Wt={throttleEndTimeMillis:Date.now()+Jn,backoffCount:R+1};return ie.setThrottleMetadata(ze,Wt),Ze.debug(`Calling attemptFetch again in ${Jn} millis`),In(H,Wt,j,ie)}})).apply(this,arguments)}function Ft(H,U){return new Promise((R,j)=>{const ie=Math.max(U-Date.now(),0),Ce=setTimeout(R,ie);H.addEventListener(()=>{clearTimeout(Ce),j(ue.create("fetch-throttle",{throttleEndTimeMillis:U}))})})}function en(H){if(!(H instanceof he.ZR&&H.customData))return!1;const U=Number(H.customData.httpStatus);return 429===U||500===U||503===U||504===U}class Zt{constructor(){this.listeners=[]}addEventListener(U){this.listeners.push(U)}abort(){this.listeners.forEach(U=>U())}}let zn,br;function nn(){return(nn=(0,O.Z)(function*(H,U,R,j,ie){if(ie&&ie.global)H("event",R,j);else{const Ce=yield U;H("event",R,Object.assign(Object.assign({},j),{send_to:Ce}))}})).apply(this,arguments)}function Fn(){return(Fn=(0,O.Z)(function*(H,U,R,j){if(j&&j.global)return H("set",{screen_name:R}),Promise.resolve();H("config",yield U,{update:!0,screen_name:R})})).apply(this,arguments)}function mi(){return(mi=(0,O.Z)(function*(H,U,R,j){if(j&&j.global)return H("set",{user_id:R}),Promise.resolve();H("config",yield U,{update:!0,user_id:R})})).apply(this,arguments)}function Or(){return(Or=(0,O.Z)(function*(H,U,R,j){if(j&&j.global){const ie={};for(const Ce of Object.keys(R))ie[`user_properties.${Ce}`]=R[Ce];return H("set",ie),Promise.resolve()}H("config",yield U,{update:!0,user_properties:R})})).apply(this,arguments)}function ri(){return(ri=(0,O.Z)(function*(H,U){const R=yield H;window[`ga-disable-${R}`]=!U})).apply(this,arguments)}function Br(H){br=H}function ii(H){zn=H}function jr(){return wn.apply(this,arguments)}function wn(){return(wn=(0,O.Z)(function*(){var H;if(!(0,he.hl)())return Ze.warn(ue.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,he.eu)()}catch(U){return Ze.warn(ue.create("indexeddb-unavailable",{errorInfo:null===(H=U)||void 0===H?void 0:H.toString()}).message),!1}return!0})).apply(this,arguments)}function wr(){return(wr=(0,O.Z)(function*(H,U,R,j,ie,Ce,Je){var ze;const At=rt(H);At.then(Zn=>{R[Zn.measurementId]=Zn.appId,H.options.measurementId&&Zn.measurementId!==H.options.measurementId&&Ze.warn(`The measurement ID in the local Firebase config (${H.options.measurementId}) does not match the measurement ID fetched from the server (${Zn.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Zn=>Ze.error(Zn)),U.push(At);const gt=jr().then(Zn=>{if(Zn)return j.getId()}),[Jt,Jn]=yield Promise.all([At,gt]);Be(Ce)||qe(Ce,Jt.measurementId),br&&(ie("consent","default",br),Br(void 0)),ie("js",new Date);const Wt=null!==(ze=Je?.config)&&void 0!==ze?ze:{};return Wt.origin="firebase",Wt.update=!0,null!=Jn&&(Wt[Ee]=Jn),ie("config",Jt.measurementId,Wt),zn&&(ie("set",zn),ii(void 0)),Jt.measurementId})).apply(this,arguments)}class Qr{constructor(U){this.app=U}_delete(){return delete Yn[this.app.options.appId],Promise.resolve()}}let Yn={},$r=[];const Pr={};let Nt,ht,En="dataLayer",Bn="gtag",Gn=!1;function Hr(H){if(Gn)throw ue.create("already-initialized");H.dataLayerName&&(En=H.dataLayerName),H.gtagName&&(Bn=H.gtagName)}function di(H,U,R){!function Er(){const H=[];if((0,he.ru)()&&H.push("This is a browser extension environment."),(0,he.zI)()||H.push("Cookies are not available."),H.length>0){const U=H.map((j,ie)=>`(${ie+1}) ${j}`).join(" "),R=ue.create("invalid-analytics-context",{errorInfo:U});Ze.warn(R.message)}}();const j=H.options.appId;if(!j)throw ue.create("no-app-id");if(!H.options.apiKey){if(!H.options.measurementId)throw ue.create("no-api-key");Ze.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${H.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Yn[j])throw ue.create("already-exists",{id:j});if(!Gn){!function J(H){let U=[];Array.isArray(window[H])?U=window[H]:window[H]=U}(En);const{wrappedGtag:Ce,gtagCore:Je}=function Ue(H,U,R,j,ie){let Ce=function(...Je){window[j].push(arguments)};return window[ie]&&"function"==typeof window[ie]&&(Ce=window[ie]),window[ie]=function He(H,U,R,j){function Ce(){return(Ce=(0,O.Z)(function*(Je,ze,At){try{"event"===Je?yield De(H,U,R,ze,At):"config"===Je?yield X(H,U,R,j,ze,At):"consent"===Je?H("consent","update",At):H("set",ze)}catch(gt){Ze.error(gt)}})).apply(this,arguments)}return function ie(Je,ze,At){return Ce.apply(this,arguments)}}(Ce,H,U,R),{gtagCore:Ce,wrappedGtag:window[ie]}}(Yn,$r,Pr,En,Bn);ht=Ce,Nt=Je,Gn=!0}return Yn[j]=function It(H,U,R,j,ie,Ce,Je){return wr.apply(this,arguments)}(H,$r,Pr,U,Nt,En,R),new Qr(H)}function Tn(){return Lr.apply(this,arguments)}function Lr(){return(Lr=(0,O.Z)(function*(){if((0,he.ru)()||!(0,he.zI)()||!(0,he.hl)())return!1;try{return yield(0,he.eu)()}catch{return!1}})).apply(this,arguments)}function rn(H,U,R){H=(0,he.m9)(H),function Rt(H,U,R,j){return Fn.apply(this,arguments)}(ht,Yn[H.app.options.appId],U,R).catch(j=>Ze.error(j))}function Gr(H,U,R){H=(0,he.m9)(H),function Rr(H,U,R,j){return mi.apply(this,arguments)}(ht,Yn[H.app.options.appId],U,R).catch(j=>Ze.error(j))}function Xe(H,U,R){H=(0,he.m9)(H),function cr(H,U,R,j){return Or.apply(this,arguments)}(ht,Yn[H.app.options.appId],U,R).catch(j=>Ze.error(j))}function We(H,U){H=(0,he.m9)(H),function Ri(H,U){return ri.apply(this,arguments)}(Yn[H.app.options.appId],U).catch(R=>Ze.error(R))}function Ot(H,U,R,j){H=(0,he.m9)(H),function kr(H,U,R,j,ie){return nn.apply(this,arguments)}(ht,Yn[H.app.options.appId],U,R,j).catch(ie=>Ze.error(ie))}const dn="@firebase/analytics";!function Y(){(0,l._registerComponent)(new Te.wA(Ne,(U,{options:R})=>di(U.getProvider("app").getImmediate(),U.getProvider("installations-internal").getImmediate(),R),"PUBLIC")),(0,l._registerComponent)(new Te.wA("analytics-internal",function H(U){try{const R=U.getProvider(Ne).getImmediate();return{logEvent:(j,ie,Ce)=>Ot(R,j,ie,Ce)}}catch(R){throw ue.create("interop-component-reg-failed",{reason:R})}},"PRIVATE")),(0,l.registerVersion)(dn,"0.8.4"),(0,l.registerVersion)(dn,"0.8.4","esm2017")}()},3942:(be,pe,V)=>{"use strict";V.d(pe,{Z:()=>qe});var O=V(2090),l=V(4859),G=V(9681),he=V(1877);class Te{constructor(X,ae){this._delegate=X,this.firebase=ae,(0,G._addComponent)(X,new l.wA("app-compat",()=>this,"PUBLIC")),this.container=X.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(X){this._delegate.automaticDataCollectionEnabled=X}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(X=>{this._delegate.checkDestroyed(),X()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,G.deleteApp)(this._delegate)))}_getService(X,ae=G._DEFAULT_ENTRY_NAME){var De;this._delegate.checkDestroyed();const Fe=this._delegate.container.getProvider(X);return!Fe.isInitialized()&&"EXPLICIT"===(null===(De=Fe.getComponent())||void 0===De?void 0:De.instantiationMode)&&Fe.initialize(),Fe.getImmediate({identifier:ae})}_removeServiceInstance(X,ae=G._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(X).clearInstance(ae)}_addComponent(X){(0,G._addComponent)(this._delegate,X)}_addOrOverwriteComponent(X){(0,G._addOrOverwriteComponent)(this._delegate,X)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Ne=new O.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),ne=function ge(){const J=function Ee(J){const X={},ae={__esModule:!0,initializeApp:function He(ue,Me={}){const je=G.initializeApp(ue,Me);if((0,O.r3)(X,je.name))return X[je.name];const fe=new J(je,ae);return X[je.name]=fe,fe},app:Fe,registerVersion:G.registerVersion,setLogLevel:G.setLogLevel,onLog:G.onLog,apps:null,SDK_VERSION:G.SDK_VERSION,INTERNAL:{registerComponent:function Be(ue){const Me=ue.name,je=Me.replace("-compat","");if(G._registerComponent(ue)&&"PUBLIC"===ue.type){const fe=(me=Fe())=>{if("function"!=typeof me[je])throw Ne.create("invalid-app-argument",{appName:Me});return me[je]()};void 0!==ue.serviceProps&&(0,O.ZB)(fe,ue.serviceProps),ae[je]=fe,J.prototype[je]=function(...me){return this._getService.bind(this,Me).apply(this,ue.multipleInstances?me:[])}}return"PUBLIC"===ue.type?ae[je]:null},removeApp:function De(ue){delete X[ue]},useAsService:function it(ue,Me){return"serverAuth"===Me?null:Me},modularAPIs:G}};function Fe(ue){if(!(0,O.r3)(X,ue=ue||G._DEFAULT_ENTRY_NAME))throw Ne.create("no-app",{appName:ue});return X[ue]}return ae.default=ae,Object.defineProperty(ae,"apps",{get:function Ue(){return Object.keys(X).map(ue=>X[ue])}}),Fe.App=J,ae}(Te);return J.INTERNAL=Object.assign(Object.assign({},J.INTERNAL),{createFirebaseNamespace:ge,extendNamespace:function X(ae){(0,O.ZB)(J,ae)},createSubscribe:O.ne,ErrorFactory:O.LL,deepExtend:O.ZB}),J}(),te=new he.Yd("@firebase/app-compat");if((0,O.jU)()&&void 0!==self.firebase){te.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const J=self.firebase.SDK_VERSION;J&&J.indexOf("LITE")>=0&&te.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const qe=ne;!function de(J){(0,G.registerVersion)("@firebase/app-compat","0.1.39",J)}()},9681:(be,pe,V)=>{"use strict";V.r(pe),V.d(pe,{FirebaseError:()=>he.ZR,SDK_VERSION:()=>Ri,_DEFAULT_ENTRY_NAME:()=>Cn,_addComponent:()=>zn,_addOrOverwriteComponent:()=>kr,_apps:()=>en,_clearComponents:()=>Rr,_components:()=>Zt,_getProvider:()=>Rt,_registerComponent:()=>nn,_removeServiceInstance:()=>Fn,deleteApp:()=>ii,getApp:()=>br,getApps:()=>Br,initializeApp:()=>ri,onLog:()=>It,registerVersion:()=>wn,setLogLevel:()=>wr});var O=V(5861),l=V(4859),G=V(1877),he=V(2090),Te=V(8766);class xe{constructor(We){this.container=We}getPlatformInfoString(){return this.container.getProviders().map(pt=>{if(function Ne(Xe){return"VERSION"===Xe.getComponent()?.type}(pt)){const Ot=pt.getImmediate();return`${Ot.library}/${Ot.version}`}return null}).filter(pt=>pt).join(" ")}}const Ee="@firebase/app",ne=new G.Yd("@firebase/app"),Cn="[DEFAULT]",Ft={[Ee]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},en=new Map,Zt=new Map;function zn(Xe,We){try{Xe.container.addComponent(We)}catch(pt){ne.debug(`Component ${We.name} failed to register with FirebaseApp ${Xe.name}`,pt)}}function kr(Xe,We){Xe.container.addOrOverwriteComponent(We)}function nn(Xe){const We=Xe.name;if(Zt.has(We))return ne.debug(`There were multiple attempts to register component ${We}.`),!1;Zt.set(We,Xe);for(const pt of en.values())zn(pt,Xe);return!0}function Rt(Xe,We){const pt=Xe.container.getProvider("heartbeat").getImmediate({optional:!0});return pt&&pt.triggerHeartbeat(),Xe.container.getProvider(We)}function Fn(Xe,We,pt=Cn){Rt(Xe,We).clearInstance(pt)}function Rr(){Zt.clear()}const cr=new he.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Or{constructor(We,pt,Ot){this._isDeleted=!1,this._options=Object.assign({},We),this._config=Object.assign({},pt),this._name=pt.name,this._automaticDataCollectionEnabled=pt.automaticDataCollectionEnabled,this._container=Ot,this.container.addComponent(new l.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(We){this.checkDestroyed(),this._automaticDataCollectionEnabled=We}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(We){this._isDeleted=We}checkDestroyed(){if(this.isDeleted)throw cr.create("app-deleted",{appName:this._name})}}const Ri="9.14.0";function ri(Xe,We={}){let pt=Xe;"object"!=typeof We&&(We={name:We});const Ot=Object.assign({name:Cn,automaticDataCollectionEnabled:!1},We),Ht=Ot.name;if("string"!=typeof Ht||!Ht)throw cr.create("bad-app-name",{appName:String(Ht)});if(pt||(pt=(0,he.aH)()),!pt)throw cr.create("no-options");const dn=en.get(Ht);if(dn){if((0,he.vZ)(pt,dn.options)&&(0,he.vZ)(Ot,dn.config))return dn;throw cr.create("duplicate-app",{appName:Ht})}const re=new l.H0(Ht);for(const H of Zt.values())re.addComponent(H);const Y=new Or(pt,Ot,re);return en.set(Ht,Y),Y}function br(Xe=Cn){const We=en.get(Xe);if(!We&&Xe===Cn)return ri();if(!We)throw cr.create("no-app",{appName:Xe});return We}function Br(){return Array.from(en.values())}function ii(Xe){return jr.apply(this,arguments)}function jr(){return(jr=(0,O.Z)(function*(Xe){const We=Xe.name;en.has(We)&&(en.delete(We),yield Promise.all(Xe.container.getProviders().map(pt=>pt.delete())),Xe.isDeleted=!0)})).apply(this,arguments)}function wn(Xe,We,pt){var Ot;let Ht=null!==(Ot=Ft[Xe])&&void 0!==Ot?Ot:Xe;pt&&(Ht+=`-${pt}`);const dn=Ht.match(/\s|\//),re=We.match(/\s|\//);if(dn||re){const Y=[`Unable to register library "${Ht}" with version "${We}":`];return dn&&Y.push(`library name "${Ht}" contains illegal characters (whitespace or "/")`),dn&&re&&Y.push("and"),re&&Y.push(`version name "${We}" contains illegal characters (whitespace or "/")`),void ne.warn(Y.join(" "))}nn(new l.wA(`${Ht}-version`,()=>({library:Ht,version:We}),"VERSION"))}function It(Xe,We){if(null!==Xe&&"function"!=typeof Xe)throw cr.create("invalid-log-argument");(0,G.Am)(Xe,We)}function wr(Xe){(0,G.Ub)(Xe)}const $r="firebase-heartbeat-store";let Pr=null;function En(){return Pr||(Pr=(0,Te.X3)("firebase-heartbeat-database",1,{upgrade:(Xe,We)=>{0===We&&Xe.createObjectStore($r)}}).catch(Xe=>{throw cr.create("idb-open",{originalErrorMessage:Xe.message})})),Pr}function Nt(){return(Nt=(0,O.Z)(function*(Xe){var We;try{return(yield En()).transaction($r).objectStore($r).get(Hr(Xe))}catch(pt){if(pt instanceof he.ZR)ne.warn(pt.message);else{const Ot=cr.create("idb-get",{originalErrorMessage:null===(We=pt)||void 0===We?void 0:We.message});ne.warn(Ot.message)}}})).apply(this,arguments)}function ht(Xe,We){return Gn.apply(this,arguments)}function Gn(){return(Gn=(0,O.Z)(function*(Xe,We){var pt;try{const Ht=(yield En()).transaction($r,"readwrite");return yield Ht.objectStore($r).put(We,Hr(Xe)),Ht.done}catch(Ot){if(Ot instanceof he.ZR)ne.warn(Ot.message);else{const Ht=cr.create("idb-set",{originalErrorMessage:null===(pt=Ot)||void 0===pt?void 0:pt.message});ne.warn(Ht.message)}}})).apply(this,arguments)}function Hr(Xe){return`${Xe.name}!${Xe.options.appId}`}class ar{constructor(We){this.container=We,this._heartbeatsCache=null;const pt=this.container.getProvider("app").getImmediate();this._storage=new Lr(pt),this._heartbeatsCachePromise=this._storage.read().then(Ot=>(this._heartbeatsCache=Ot,Ot))}triggerHeartbeat(){var We=this;return(0,O.Z)(function*(){const Ot=We.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Ht=Qn();if(null===We._heartbeatsCache&&(We._heartbeatsCache=yield We._heartbeatsCachePromise),We._heartbeatsCache.lastSentHeartbeatDate!==Ht&&!We._heartbeatsCache.heartbeats.some(dn=>dn.date===Ht))return We._heartbeatsCache.heartbeats.push({date:Ht,agent:Ot}),We._heartbeatsCache.heartbeats=We._heartbeatsCache.heartbeats.filter(dn=>{const re=new Date(dn.date).valueOf();return Date.now()-re<=2592e6}),We._storage.overwrite(We._heartbeatsCache)})()}getHeartbeatsHeader(){var We=this;return(0,O.Z)(function*(){if(null===We._heartbeatsCache&&(yield We._heartbeatsCachePromise),null===We._heartbeatsCache||0===We._heartbeatsCache.heartbeats.length)return"";const pt=Qn(),{heartbeatsToSend:Ot,unsentEntries:Ht}=function Tn(Xe,We=1024){const pt=[];let Ot=Xe.slice();for(const Ht of Xe){const dn=pt.find(re=>re.agent===Ht.agent);if(dn){if(dn.dates.push(Ht.date),rn(pt)>We){dn.dates.pop();break}}else if(pt.push({agent:Ht.agent,dates:[Ht.date]}),rn(pt)>We){pt.pop();break}Ot=Ot.slice(1)}return{heartbeatsToSend:pt,unsentEntries:Ot}}(We._heartbeatsCache.heartbeats),dn=(0,he.L)(JSON.stringify({version:2,heartbeats:Ot}));return We._heartbeatsCache.lastSentHeartbeatDate=pt,Ht.length>0?(We._heartbeatsCache.heartbeats=Ht,yield We._storage.overwrite(We._heartbeatsCache)):(We._heartbeatsCache.heartbeats=[],We._storage.overwrite(We._heartbeatsCache)),dn})()}}function Qn(){return(new Date).toISOString().substring(0,10)}class Lr{constructor(We){this.app=We,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,O.Z)(function*(){return!!(0,he.hl)()&&(0,he.eu)().then(()=>!0).catch(()=>!1)})()}read(){var We=this;return(0,O.Z)(function*(){return(yield We._canUseIndexedDBPromise)&&(yield function Bn(Xe){return Nt.apply(this,arguments)}(We.app))||{heartbeats:[]}})()}overwrite(We){var pt=this;return(0,O.Z)(function*(){var Ot;if(yield pt._canUseIndexedDBPromise){const dn=yield pt.read();return ht(pt.app,{lastSentHeartbeatDate:null!==(Ot=We.lastSentHeartbeatDate)&&void 0!==Ot?Ot:dn.lastSentHeartbeatDate,heartbeats:We.heartbeats})}})()}add(We){var pt=this;return(0,O.Z)(function*(){var Ot;if(yield pt._canUseIndexedDBPromise){const dn=yield pt.read();return ht(pt.app,{lastSentHeartbeatDate:null!==(Ot=We.lastSentHeartbeatDate)&&void 0!==Ot?Ot:dn.lastSentHeartbeatDate,heartbeats:[...dn.heartbeats,...We.heartbeats]})}})()}}function rn(Xe){return(0,he.L)(JSON.stringify({version:2,heartbeats:Xe})).length}!function Gr(Xe){nn(new l.wA("platform-logger",We=>new xe(We),"PRIVATE")),nn(new l.wA("heartbeat",We=>new ar(We),"PRIVATE")),wn(Ee,"0.8.4",Xe),wn(Ee,"0.8.4","esm2017"),wn("fire-js","")}("")},4859:(be,pe,V)=>{"use strict";V.d(pe,{H0:()=>Ee,wA:()=>G,zt:()=>Te});var O=V(5861),l=V(2090);class G{constructor(ne,te,ce){this.name=ne,this.instanceFactory=te,this.type=ce,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(ne){return this.instantiationMode=ne,this}setMultipleInstances(ne){return this.multipleInstances=ne,this}setServiceProps(ne){return this.serviceProps=ne,this}setInstanceCreatedCallback(ne){return this.onInstanceCreated=ne,this}}const he="[DEFAULT]";class Te{constructor(ne,te){this.name=ne,this.container=te,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(ne){const te=this.normalizeInstanceIdentifier(ne);if(!this.instancesDeferred.has(te)){const ce=new l.BH;if(this.instancesDeferred.set(te,ce),this.isInitialized(te)||this.shouldAutoInitialize())try{const Ze=this.getOrInitializeService({instanceIdentifier:te});Ze&&ce.resolve(Ze)}catch{}}return this.instancesDeferred.get(te).promise}getImmediate(ne){var te;const ce=this.normalizeInstanceIdentifier(ne?.identifier),Ze=null!==(te=ne?.optional)&&void 0!==te&&te;if(!this.isInitialized(ce)&&!this.shouldAutoInitialize()){if(Ze)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:ce})}catch(de){if(Ze)return null;throw de}}getComponent(){return this.component}setComponent(ne){if(ne.name!==this.name)throw Error(`Mismatching Component ${ne.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=ne,this.shouldAutoInitialize()){if(function Ne(ge){return"EAGER"===ge.instantiationMode}(ne))try{this.getOrInitializeService({instanceIdentifier:he})}catch{}for(const[te,ce]of this.instancesDeferred.entries()){const Ze=this.normalizeInstanceIdentifier(te);try{const de=this.getOrInitializeService({instanceIdentifier:Ze});ce.resolve(de)}catch{}}}}clearInstance(ne=he){this.instancesDeferred.delete(ne),this.instancesOptions.delete(ne),this.instances.delete(ne)}delete(){var ne=this;return(0,O.Z)(function*(){const te=Array.from(ne.instances.values());yield Promise.all([...te.filter(ce=>"INTERNAL"in ce).map(ce=>ce.INTERNAL.delete()),...te.filter(ce=>"_delete"in ce).map(ce=>ce._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(ne=he){return this.instances.has(ne)}getOptions(ne=he){return this.instancesOptions.get(ne)||{}}initialize(ne={}){const{options:te={}}=ne,ce=this.normalizeInstanceIdentifier(ne.instanceIdentifier);if(this.isInitialized(ce))throw Error(`${this.name}(${ce}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Ze=this.getOrInitializeService({instanceIdentifier:ce,options:te});for(const[de,qe]of this.instancesDeferred.entries())ce===this.normalizeInstanceIdentifier(de)&&qe.resolve(Ze);return Ze}onInit(ne,te){var ce;const Ze=this.normalizeInstanceIdentifier(te),de=null!==(ce=this.onInitCallbacks.get(Ze))&&void 0!==ce?ce:new Set;de.add(ne),this.onInitCallbacks.set(Ze,de);const qe=this.instances.get(Ze);return qe&&ne(qe,Ze),()=>{de.delete(ne)}}invokeOnInitCallbacks(ne,te){const ce=this.onInitCallbacks.get(te);if(ce)for(const Ze of ce)try{Ze(ne,te)}catch{}}getOrInitializeService({instanceIdentifier:ne,options:te={}}){let ce=this.instances.get(ne);if(!ce&&this.component&&(ce=this.component.instanceFactory(this.container,{instanceIdentifier:(ge=ne,ge===he?void 0:ge),options:te}),this.instances.set(ne,ce),this.instancesOptions.set(ne,te),this.invokeOnInitCallbacks(ce,ne),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,ne,ce)}catch{}var ge;return ce||null}normalizeInstanceIdentifier(ne=he){return this.component?this.component.multipleInstances?ne:he:ne}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Ee{constructor(ne){this.name=ne,this.providers=new Map}addComponent(ne){const te=this.getProvider(ne.name);if(te.isComponentSet())throw new Error(`Component ${ne.name} has already been registered with ${this.name}`);te.setComponent(ne)}addOrOverwriteComponent(ne){this.getProvider(ne.name).isComponentSet()&&this.providers.delete(ne.name),this.addComponent(ne)}getProvider(ne){if(this.providers.has(ne))return this.providers.get(ne);const te=new Te(ne,this);return this.providers.set(ne,te),te}getProviders(){return Array.from(this.providers.values())}}},2833:(be,pe,V)=>{"use strict";var O=V(5861),l=V(9681),G=V(4859),he=V(2090),Te=V(8766);const xe="@firebase/installations",Ne="0.5.16",ge=`w:${Ne}`,ne="FIS_v2",J=new he.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function X(_e){return _e instanceof he.ZR&&_e.code.includes("request-failed")}function ae({projectId:_e}){return`https://firebaseinstallations.googleapis.com/v1/projects/${_e}/installations`}function De(_e){return{token:_e.token,requestStatus:2,expiresIn:Me(_e.expiresIn),creationTime:Date.now()}}function Fe(_e,Ve){return He.apply(this,arguments)}function He(){return(He=(0,O.Z)(function*(_e,Ve){const jt=(yield Ve.json()).error;return J.create("request-failed",{requestName:_e,serverCode:jt.code,serverMessage:jt.message,serverStatus:jt.status})})).apply(this,arguments)}function Ue({apiKey:_e}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":_e})}function Be(_e,{refreshToken:Ve}){const st=Ue(_e);return st.append("Authorization",function je(_e){return`${ne} ${_e}`}(Ve)),st}function it(_e){return ue.apply(this,arguments)}function ue(){return(ue=(0,O.Z)(function*(_e){const Ve=yield _e();return Ve.status>=500&&Ve.status<600?_e():Ve})).apply(this,arguments)}function Me(_e){return Number(_e.replace("s","000"))}function fe(_e,Ve){return me.apply(this,arguments)}function me(){return(me=(0,O.Z)(function*({appConfig:_e,heartbeatServiceProvider:Ve},{fid:st}){const jt=ae(_e),dr=Ue(_e),Pt=Ve.getImmediate({optional:!0});if(Pt){const hr=yield Pt.getHeartbeatsHeader();hr&&dr.append("x-firebase-client",hr)}const jn={method:"POST",headers:dr,body:JSON.stringify({fid:st,authVersion:ne,appId:_e.appId,sdkVersion:ge})},_i=yield it(()=>fetch(jt,jn));if(_i.ok){const hr=yield _i.json();return{fid:hr.fid||st,registrationStatus:2,refreshToken:hr.refreshToken,authToken:De(hr.authToken)}}throw yield Fe("Create Installation",_i)})).apply(this,arguments)}function Ie(_e){return new Promise(Ve=>{setTimeout(Ve,_e)})}const Ae=/^[cdef][\w-]{21}$/;function xt(){try{const _e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(_e),_e[0]=112+_e[0]%16;const st=function In(_e){return function Oe(_e){return btoa(String.fromCharCode(..._e)).replace(/\+/g,"-").replace(/\//g,"_")}(_e).substr(0,22)}(_e);return Ae.test(st)?st:""}catch{return""}}function Cn(_e){return`${_e.appName}!${_e.appId}`}const Ft=new Map;function en(_e,Ve){const st=Cn(_e);kr(st,Ve),function nn(_e,Ve){const st=function Fn(){return!Rt&&"BroadcastChannel"in self&&(Rt=new BroadcastChannel("[Firebase] FID Change"),Rt.onmessage=_e=>{kr(_e.data.key,_e.data.fid)}),Rt}();st&&st.postMessage({key:_e,fid:Ve}),function Rr(){0===Ft.size&&Rt&&(Rt.close(),Rt=null)}()}(st,Ve)}function kr(_e,Ve){const st=Ft.get(_e);if(st)for(const jt of st)jt(Ve)}let Rt=null;const Or="firebase-installations-store";let Ri=null;function ri(){return Ri||(Ri=(0,Te.X3)("firebase-installations-database",1,{upgrade:(_e,Ve)=>{0===Ve&&_e.createObjectStore(Or)}})),Ri}function br(_e,Ve){return Br.apply(this,arguments)}function Br(){return(Br=(0,O.Z)(function*(_e,Ve){const st=Cn(_e),dr=(yield ri()).transaction(Or,"readwrite"),Pt=dr.objectStore(Or),An=yield Pt.get(st);return yield Pt.put(Ve,st),yield dr.done,(!An||An.fid!==Ve.fid)&&en(_e,Ve.fid),Ve})).apply(this,arguments)}function ii(_e){return jr.apply(this,arguments)}function jr(){return(jr=(0,O.Z)(function*(_e){const Ve=Cn(_e),jt=(yield ri()).transaction(Or,"readwrite");yield jt.objectStore(Or).delete(Ve),yield jt.done})).apply(this,arguments)}function wn(_e,Ve){return It.apply(this,arguments)}function It(){return(It=(0,O.Z)(function*(_e,Ve){const st=Cn(_e),dr=(yield ri()).transaction(Or,"readwrite"),Pt=dr.objectStore(Or),An=yield Pt.get(st),jn=Ve(An);return void 0===jn?yield Pt.delete(st):yield Pt.put(jn,st),yield dr.done,jn&&(!An||An.fid!==jn.fid)&&en(_e,jn.fid),jn})).apply(this,arguments)}function wr(_e){return Qr.apply(this,arguments)}function Qr(){return(Qr=(0,O.Z)(function*(_e){let Ve;const st=yield wn(_e.appConfig,jt=>{const dr=Yn(jt),Pt=$r(_e,dr);return Ve=Pt.registrationPromise,Pt.installationEntry});return""===st.fid?{installationEntry:yield Ve}:{installationEntry:st,registrationPromise:Ve}})).apply(this,arguments)}function Yn(_e){return Gn(_e||{fid:xt(),registrationStatus:0})}function $r(_e,Ve){if(0===Ve.registrationStatus){if(!navigator.onLine)return{installationEntry:Ve,registrationPromise:Promise.reject(J.create("app-offline"))};const st={fid:Ve.fid,registrationStatus:1,registrationTime:Date.now()},jt=function Pr(_e,Ve){return En.apply(this,arguments)}(_e,st);return{installationEntry:st,registrationPromise:jt}}return 1===Ve.registrationStatus?{installationEntry:Ve,registrationPromise:Bn(_e)}:{installationEntry:Ve}}function En(){return(En=(0,O.Z)(function*(_e,Ve){try{const st=yield fe(_e,Ve);return br(_e.appConfig,st)}catch(st){throw X(st)&&409===st.customData.serverCode?yield ii(_e.appConfig):yield br(_e.appConfig,{fid:Ve.fid,registrationStatus:0}),st}})).apply(this,arguments)}function Bn(_e){return Nt.apply(this,arguments)}function Nt(){return(Nt=(0,O.Z)(function*(_e){let Ve=yield ht(_e.appConfig);for(;1===Ve.registrationStatus;)yield Ie(100),Ve=yield ht(_e.appConfig);if(0===Ve.registrationStatus){const{installationEntry:st,registrationPromise:jt}=yield wr(_e);return jt||st}return Ve})).apply(this,arguments)}function ht(_e){return wn(_e,Ve=>{if(!Ve)throw J.create("installation-not-found");return Gn(Ve)})}function Gn(_e){return function Hr(_e){return 1===_e.registrationStatus&&_e.registrationTime+1e4<Date.now()}(_e)?{fid:_e.fid,registrationStatus:0}:_e}function Er(_e,Ve){return di.apply(this,arguments)}function di(){return(di=(0,O.Z)(function*({appConfig:_e,heartbeatServiceProvider:Ve},st){const jt=ar(_e,st),dr=Be(_e,st),Pt=Ve.getImmediate({optional:!0});if(Pt){const hr=yield Pt.getHeartbeatsHeader();hr&&dr.append("x-firebase-client",hr)}const jn={method:"POST",headers:dr,body:JSON.stringify({installation:{sdkVersion:ge,appId:_e.appId}})},_i=yield it(()=>fetch(jt,jn));if(_i.ok)return De(yield _i.json());throw yield Fe("Generate Auth Token",_i)})).apply(this,arguments)}function ar(_e,{fid:Ve}){return`${ae(_e)}/${Ve}/authTokens:generate`}function Qn(_e){return Tn.apply(this,arguments)}function Tn(){return(Tn=(0,O.Z)(function*(_e,Ve=!1){let st;const jt=yield wn(_e.appConfig,Pt=>{if(!pt(Pt))throw J.create("not-registered");const An=Pt.authToken;if(!Ve&&Ot(An))return Pt;if(1===An.requestStatus)return st=Lr(_e,Ve),Pt;{if(!navigator.onLine)throw J.create("app-offline");const jn=dn(Pt);return st=Xe(_e,jn),jn}});return st?yield st:jt.authToken})).apply(this,arguments)}function Lr(_e,Ve){return rn.apply(this,arguments)}function rn(){return(rn=(0,O.Z)(function*(_e,Ve){let st=yield Gr(_e.appConfig);for(;1===st.authToken.requestStatus;)yield Ie(100),st=yield Gr(_e.appConfig);const jt=st.authToken;return 0===jt.requestStatus?Qn(_e,Ve):jt})).apply(this,arguments)}function Gr(_e){return wn(_e,Ve=>{if(!pt(Ve))throw J.create("not-registered");return function re(_e){return 1===_e.requestStatus&&_e.requestTime+1e4<Date.now()}(Ve.authToken)?Object.assign(Object.assign({},Ve),{authToken:{requestStatus:0}}):Ve})}function Xe(_e,Ve){return We.apply(this,arguments)}function We(){return(We=(0,O.Z)(function*(_e,Ve){try{const st=yield Er(_e,Ve),jt=Object.assign(Object.assign({},Ve),{authToken:st});return yield br(_e.appConfig,jt),st}catch(st){if(!X(st)||401!==st.customData.serverCode&&404!==st.customData.serverCode){const jt=Object.assign(Object.assign({},Ve),{authToken:{requestStatus:0}});yield br(_e.appConfig,jt)}else yield ii(_e.appConfig);throw st}})).apply(this,arguments)}function pt(_e){return void 0!==_e&&2===_e.registrationStatus}function Ot(_e){return 2===_e.requestStatus&&!function Ht(_e){const Ve=Date.now();return Ve<_e.creationTime||_e.creationTime+_e.expiresIn<Ve+36e5}(_e)}function dn(_e){const Ve={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},_e),{authToken:Ve})}function H(){return(H=(0,O.Z)(function*(_e){const Ve=_e,{installationEntry:st,registrationPromise:jt}=yield wr(Ve);return jt?jt.catch(console.error):Qn(Ve).catch(console.error),st.fid})).apply(this,arguments)}function R(){return(R=(0,O.Z)(function*(_e,Ve=!1){const st=_e;return yield j(st),(yield Qn(st,Ve)).token})).apply(this,arguments)}function j(_e){return ie.apply(this,arguments)}function ie(){return(ie=(0,O.Z)(function*(_e){const{registrationPromise:Ve}=yield wr(_e);Ve&&(yield Ve)})).apply(this,arguments)}function Zn(_e){return J.create("missing-app-config-values",{valueName:_e})}const xo="installations",Qo=_e=>{const Ve=_e.getProvider("app").getImmediate(),st=function Wt(_e){if(!_e||!_e.options)throw Zn("App Configuration");if(!_e.name)throw Zn("App Name");const Ve=["projectId","apiKey","appId"];for(const st of Ve)if(!_e.options[st])throw Zn(st);return{appName:_e.name,projectId:_e.options.projectId,apiKey:_e.options.apiKey,appId:_e.options.appId}}(Ve);return{app:Ve,appConfig:st,heartbeatServiceProvider:(0,l._getProvider)(Ve,"heartbeat"),_delete:()=>Promise.resolve()}},du=_e=>{const Ve=_e.getProvider("app").getImmediate(),st=(0,l._getProvider)(Ve,xo).getImmediate();return{getId:()=>function Y(_e){return H.apply(this,arguments)}(st),getToken:dr=>function U(_e){return R.apply(this,arguments)}(st,dr)}};(function Fr(){(0,l._registerComponent)(new G.wA(xo,Qo,"PUBLIC")),(0,l._registerComponent)(new G.wA("installations-internal",du,"PRIVATE"))})(),(0,l.registerVersion)(xe,Ne),(0,l.registerVersion)(xe,Ne,"esm2017")},1877:(be,pe,V)=>{"use strict";V.d(pe,{Am:()=>ge,Ub:()=>Ee,Yd:()=>Ne,in:()=>l});const O=[];var l=(()=>{return(ne=l||(l={}))[ne.DEBUG=0]="DEBUG",ne[ne.VERBOSE=1]="VERBOSE",ne[ne.INFO=2]="INFO",ne[ne.WARN=3]="WARN",ne[ne.ERROR=4]="ERROR",ne[ne.SILENT=5]="SILENT",l;var ne})();const G={debug:l.DEBUG,verbose:l.VERBOSE,info:l.INFO,warn:l.WARN,error:l.ERROR,silent:l.SILENT},he=l.INFO,Te={[l.DEBUG]:"log",[l.VERBOSE]:"log",[l.INFO]:"info",[l.WARN]:"warn",[l.ERROR]:"error"},xe=(ne,te,...ce)=>{if(te<ne.logLevel)return;const Ze=(new Date).toISOString(),de=Te[te];if(!de)throw new Error(`Attempted to log a message with an invalid logType (value: ${te})`);console[de](`[${Ze}]  ${ne.name}:`,...ce)};class Ne{constructor(te){this.name=te,this._logLevel=he,this._logHandler=xe,this._userLogHandler=null,O.push(this)}get logLevel(){return this._logLevel}set logLevel(te){if(!(te in l))throw new TypeError(`Invalid value "${te}" assigned to \`logLevel\``);this._logLevel=te}setLogLevel(te){this._logLevel="string"==typeof te?G[te]:te}get logHandler(){return this._logHandler}set logHandler(te){if("function"!=typeof te)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=te}get userLogHandler(){return this._userLogHandler}set userLogHandler(te){this._userLogHandler=te}debug(...te){this._userLogHandler&&this._userLogHandler(this,l.DEBUG,...te),this._logHandler(this,l.DEBUG,...te)}log(...te){this._userLogHandler&&this._userLogHandler(this,l.VERBOSE,...te),this._logHandler(this,l.VERBOSE,...te)}info(...te){this._userLogHandler&&this._userLogHandler(this,l.INFO,...te),this._logHandler(this,l.INFO,...te)}warn(...te){this._userLogHandler&&this._userLogHandler(this,l.WARN,...te),this._logHandler(this,l.WARN,...te)}error(...te){this._userLogHandler&&this._userLogHandler(this,l.ERROR,...te),this._logHandler(this,l.ERROR,...te)}}function Ee(ne){O.forEach(te=>{te.setLogLevel(ne)})}function ge(ne,te){for(const ce of O){let Ze=null;te&&te.level&&(Ze=G[te.level]),ce.userLogHandler=null===ne?null:(de,qe,...J)=>{const X=J.map(ae=>{if(null==ae)return null;if("string"==typeof ae)return ae;if("number"==typeof ae||"boolean"==typeof ae)return ae.toString();if(ae instanceof Error)return ae.message;try{return JSON.stringify(ae)}catch{return null}}).filter(ae=>ae).join(" ");qe>=(Ze??de.logLevel)&&ne({level:l[qe].toLowerCase(),message:X,args:J,type:de.name})}}}},8766:(be,pe,V)=>{"use strict";V.d(pe,{Lj:()=>He,X3:()=>Fe});var O=V(5861);let G,he;const Ne=new WeakMap,Ee=new WeakMap,ge=new WeakMap,ne=new WeakMap,te=new WeakMap;let de={get(Me,je,fe){if(Me instanceof IDBTransaction){if("done"===je)return Ee.get(Me);if("objectStoreNames"===je)return Me.objectStoreNames||ge.get(Me);if("store"===je)return fe.objectStoreNames[1]?void 0:fe.objectStore(fe.objectStoreNames[0])}return ae(Me[je])},set:(Me,je,fe)=>(Me[je]=fe,!0),has:(Me,je)=>Me instanceof IDBTransaction&&("done"===je||"store"===je)||je in Me};function X(Me){return"function"==typeof Me?function J(Me){return Me!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function xe(){return he||(he=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(Me)?function(...je){return Me.apply(De(this),je),ae(Ne.get(this))}:function(...je){return ae(Me.apply(De(this),je))}:function(je,...fe){const me=Me.call(De(this),je,...fe);return ge.set(me,je.sort?je.sort():[je]),ae(me)}}(Me):(Me instanceof IDBTransaction&&function Ze(Me){if(Ee.has(Me))return;const je=new Promise((fe,me)=>{const Ie=()=>{Me.removeEventListener("complete",Oe),Me.removeEventListener("error",Ae),Me.removeEventListener("abort",Ae)},Oe=()=>{fe(),Ie()},Ae=()=>{me(Me.error||new DOMException("AbortError","AbortError")),Ie()};Me.addEventListener("complete",Oe),Me.addEventListener("error",Ae),Me.addEventListener("abort",Ae)});Ee.set(Me,je)}(Me),((Me,je)=>je.some(fe=>Me instanceof fe))(Me,function Te(){return G||(G=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(Me,de):Me)}function ae(Me){if(Me instanceof IDBRequest)return function ce(Me){const je=new Promise((fe,me)=>{const Ie=()=>{Me.removeEventListener("success",Oe),Me.removeEventListener("error",Ae)},Oe=()=>{fe(ae(Me.result)),Ie()},Ae=()=>{me(Me.error),Ie()};Me.addEventListener("success",Oe),Me.addEventListener("error",Ae)});return je.then(fe=>{fe instanceof IDBCursor&&Ne.set(fe,Me)}).catch(()=>{}),te.set(je,Me),je}(Me);if(ne.has(Me))return ne.get(Me);const je=X(Me);return je!==Me&&(ne.set(Me,je),te.set(je,Me)),je}const De=Me=>te.get(Me);function Fe(Me,je,{blocked:fe,upgrade:me,blocking:Ie,terminated:Oe}={}){const Ae=indexedDB.open(Me,je),rt=ae(Ae);return me&&Ae.addEventListener("upgradeneeded",xt=>{me(ae(Ae.result),xt.oldVersion,xt.newVersion,ae(Ae.transaction))}),fe&&Ae.addEventListener("blocked",()=>fe()),rt.then(xt=>{Oe&&xt.addEventListener("close",()=>Oe()),Ie&&xt.addEventListener("versionchange",()=>Ie())}).catch(()=>{}),rt}function He(Me,{blocked:je}={}){const fe=indexedDB.deleteDatabase(Me);return je&&fe.addEventListener("blocked",()=>je()),ae(fe).then(()=>{})}const Ue=["get","getKey","getAll","getAllKeys","count"],Be=["put","add","delete","clear"],it=new Map;function ue(Me,je){if(!(Me instanceof IDBDatabase)||je in Me||"string"!=typeof je)return;if(it.get(je))return it.get(je);const fe=je.replace(/FromIndex$/,""),me=je!==fe,Ie=Be.includes(fe);if(!(fe in(me?IDBIndex:IDBObjectStore).prototype)||!Ie&&!Ue.includes(fe))return;const Oe=function(){var Ae=(0,O.Z)(function*(rt,...xt){const In=this.transaction(rt,Ie?"readwrite":"readonly");let Cn=In.store;return me&&(Cn=Cn.index(xt.shift())),(yield Promise.all([Cn[fe](...xt),Ie&&In.done]))[0]});return function(xt){return Ae.apply(this,arguments)}}();return it.set(je,Oe),Oe}!function qe(Me){de=Me(de)}(Me=>({...Me,get:(je,fe,me)=>ue(je,fe)||Me.get(je,fe,me),has:(je,fe)=>!!ue(je,fe)||Me.has(je,fe)}))},5861:(be,pe,V)=>{"use strict";function O(G,he,Te,xe,Ne,Ee,ge){try{var ne=G[Ee](ge),te=ne.value}catch(ce){return void Te(ce)}ne.done?he(te):Promise.resolve(te).then(xe,Ne)}function l(G){return function(){var he=this,Te=arguments;return new Promise(function(xe,Ne){var Ee=G.apply(he,Te);function ge(te){O(Ee,xe,Ne,ge,ne,"next",te)}function ne(te){O(Ee,xe,Ne,ge,ne,"throw",te)}ge(void 0)})}}V.d(pe,{Z:()=>l})}},be=>{be(be.s=3599)}]);