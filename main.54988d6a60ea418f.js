(self.webpackChunktrackify=self.webpackChunktrackify||[]).push([[179],{2011:(we,pe,V)=>{"use strict";V.d(pe,{Dh:()=>be,GT:()=>xe,Ot:()=>Ne,cc:()=>de,hO:()=>We,on:()=>ne,pX:()=>De,xv:()=>ge});var O=V(4650),h=V(127),G=V(880);we=V.hmd(we);const he=["ngOnDestroy"],De=(ae,Se,Fe,He={})=>new Proxy(ae,{get:(Ue,Be)=>Fe.runOutsideAngular(()=>{var it;if(ae[Be])return!(null===(it=He?.spy)||void 0===it)&&it.get&&He.spy.get(Be,ae[Be]),ae[Be];if(he.indexOf(Be)>-1)return()=>{};const ue=Se.toPromise().then(Me=>{const je=Me&&Me[Be];return"function"==typeof je?je.bind(Me):je&&je.then?je.then(fe=>Fe.run(()=>fe)):Fe.run(()=>je)});return new Proxy(()=>{},{get:(Me,je)=>ue[je],apply:(Me,je,fe)=>ue.then(me=>{var Ie;const Oe=me&&me(...fe);return!(null===(Ie=He?.spy)||void 0===Ie)&&Ie.apply&&He.spy.apply(Be,fe,Oe),Oe})})})}),xe=(ae,Se)=>{Se.forEach(Fe=>{Object.getOwnPropertyNames(Fe.prototype||Fe).forEach(He=>{Object.defineProperty(ae.prototype,He,Object.getOwnPropertyDescriptor(Fe.prototype||Fe,He))})})};class Ne{constructor(Se){return Se}}const be=new O.OlP("angularfire2.app.options"),ge=new O.OlP("angularfire2.app.name");function ne(ae,Se,Fe){const Ue="object"==typeof Fe&&Fe||{};Ue.name=Ue.name||"string"==typeof Fe&&Fe||"[DEFAULT]";const it=h.Z.apps.filter(ue=>ue&&ue.name===Ue.name)[0]||Se.runOutsideAngular(()=>h.Z.initializeApp(ae,Ue));try{JSON.stringify(ae)!==JSON.stringify(it.options)&&te("error",`${it.name} Firebase App already initialized with different options${we.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new Ne(it)}const te=(ae,...Se)=>{(0,O.X6Q)()&&typeof console<"u"&&console[ae](...Se)},ce={provide:Ne,useFactory:ne,deps:[be,O.R0b,[new O.FiY,ge]]};let We=(()=>{class ae{constructor(Fe){h.Z.registerVersion("angularfire",G.q4.full,"core"),h.Z.registerVersion("angularfire",G.q4.full,"app-compat"),h.Z.registerVersion("angular",O.q4F.full,Fe.toString())}static initializeApp(Fe,He){return{ngModule:ae,providers:[{provide:be,useValue:Fe},{provide:ge,useValue:He}]}}}return ae.\u0275fac=function(Fe){return new(Fe||ae)(O.LFG(O.Lbi))},ae.\u0275mod=O.oAB({type:ae}),ae.\u0275inj=O.cJS({providers:[ce]}),ae})();function de(ae,Se,Fe,He,Ue){const[,Be,it]=globalThis.\u0275AngularfireInstanceCache.find(ue=>ue[0]===ae)||[];if(Be)return function qe(ae,Se){try{return ae.toString()===Se.toString()}catch{return ae===Se}}(Ue,it)||(X("error",`${Se} was already initialized on the ${Fe} Firebase App with different settings.${J?" You may need to reload as Firebase is not HMR aware.":""}`),X("warn",{is:Ue,was:it})),Be;{const ue=He();return globalThis.\u0275AngularfireInstanceCache.push([ae,ue,Ue]),ue}}const J=!!we.hot,X=(ae,...Se)=>{(0,O.X6Q)()&&typeof console<"u"&&console[ae](...Se)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},880:(we,pe,V)=>{"use strict";V.d(pe,{q4:()=>Jo,iC:()=>yu,HU:()=>_u,vb:()=>u_,JM:()=>a_,nk:()=>Oa,u3:()=>_l});var O=V(4650),h=V(5867),G=V(5861),he=V(9681),De=V(2090),xe=V(4859),Ne=V(1877);V(2833);const ge="@firebase/remote-config",de=new De.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class xt{constructor(z,se,Re,Ge){this.client=z,this.storage=se,this.storageCache=Re,this.logger=Ge}isCachedDataFresh(z,se){if(!se)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const Re=Date.now()-se,Ge=Re<=z;return this.logger.debug(`Config fetch cache check. Cache age millis: ${Re}. Cache max age millis (minimumFetchIntervalMillis setting): ${z}. Is cache hit: ${Ge}.`),Ge}fetch(z){var se=this;return(0,G.Z)(function*(){const[Re,Ge]=yield Promise.all([se.storage.getLastSuccessfulFetchTimestampMillis(),se.storage.getLastSuccessfulFetchResponse()]);if(Ge&&se.isCachedDataFresh(z.cacheMaxAgeMillis,Re))return Ge;z.eTag=Ge&&Ge.eTag;const mt=yield se.client.fetch(z),Bt=[se.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===mt.status&&Bt.push(se.storage.setLastSuccessfulFetchResponse(mt)),yield Promise.all(Bt),mt})()}}function In(Z=navigator){return Z.languages&&Z.languages[0]||Z.language}class Cn{constructor(z,se,Re,Ge,mt,Bt){this.firebaseInstallations=z,this.sdkVersion=se,this.namespace=Re,this.projectId=Ge,this.apiKey=mt,this.appId=Bt}fetch(z){var se=this;return(0,G.Z)(function*(){var Re,Ge,mt;const[Bt,hn]=yield Promise.all([se.firebaseInstallations.getId(),se.firebaseInstallations.getToken()]),wi=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${se.projectId}/namespaces/${se.namespace}:fetch?key=${se.apiKey}`,Ar={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":z.eTag||"*"},Kt={sdk_version:se.sdkVersion,app_instance_id:Bt,app_instance_id_token:hn,app_id:se.appId,language_code:In()},Wr={method:"POST",headers:Ar,body:JSON.stringify(Kt)},Pa=fetch(wi,Wr),Xo=new Promise((ea,ta)=>{z.signal.addEventListener(()=>{const zr=new Error("The operation was aborted.");zr.name="AbortError",ta(zr)})});let La;try{yield Promise.race([Pa,Xo]),La=yield Pa}catch(ea){let ta="fetch-client-network";throw"AbortError"===(null===(Re=ea)||void 0===Re?void 0:Re.name)&&(ta="fetch-timeout"),de.create(ta,{originalErrorMessage:null===(Ge=ea)||void 0===Ge?void 0:Ge.message})}let Ki=La.status;const yl=La.headers.get("ETag")||void 0;let vu,Zt;if(200===La.status){let ea;try{ea=yield La.json()}catch(ta){throw de.create("fetch-client-parse",{originalErrorMessage:null===(mt=ta)||void 0===mt?void 0:mt.message})}vu=ea.entries,Zt=ea.state}if("INSTANCE_STATE_UNSPECIFIED"===Zt?Ki=500:"NO_CHANGE"===Zt?Ki=304:("NO_TEMPLATE"===Zt||"EMPTY_CONFIG"===Zt)&&(vu={}),304!==Ki&&200!==Ki)throw de.create("fetch-status",{httpStatus:Ki});return{status:Ki,eTag:yl,config:vu}})()}}class Wt{constructor(z,se){this.client=z,this.storage=se}fetch(z){var se=this;return(0,G.Z)(function*(){const Re=(yield se.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return se.attemptFetch(z,Re)})()}attemptFetch(z,{throttleEndTimeMillis:se,backoffCount:Re}){var Ge=this;return(0,G.Z)(function*(){yield function Ft(Z,z){return new Promise((se,Re)=>{const Ge=Math.max(z-Date.now(),0),mt=setTimeout(se,Ge);Z.addEventListener(()=>{clearTimeout(mt),Re(de.create("fetch-throttle",{throttleEndTimeMillis:z}))})})}(z.signal,se);try{const mt=yield Ge.client.fetch(z);return yield Ge.storage.deleteThrottleMetadata(),mt}catch(mt){if(!function en(Z){if(!(Z instanceof De.ZR&&Z.customData))return!1;const z=Number(Z.customData.httpStatus);return 429===z||500===z||503===z||504===z}(mt))throw mt;const Bt={throttleEndTimeMillis:Date.now()+(0,De.$s)(Re),backoffCount:Re+1};return yield Ge.storage.setThrottleMetadata(Bt),Ge.attemptFetch(z,Bt)}})()}}class nn{constructor(z,se,Re,Ge,mt){this.app=z,this._client=se,this._storageCache=Re,this._storage=Ge,this._logger=mt,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function kt(Z,z){var se;const Re=Z.target.error||void 0;return de.create(z,{originalErrorMessage:Re&&(null===(se=Re)||void 0===se?void 0:se.message)})}const Fn="app_namespace_store";class Or{constructor(z,se,Re,Ge=function cr(){return new Promise((Z,z)=>{var se;try{const Re=indexedDB.open("firebase_remote_config",1);Re.onerror=Ge=>{z(kt(Ge,"storage-open"))},Re.onsuccess=Ge=>{Z(Ge.target.result)},Re.onupgradeneeded=Ge=>{0===Ge.oldVersion&&Ge.target.result.createObjectStore(Fn,{keyPath:"compositeKey"})}}catch(Re){z(de.create("storage-open",{originalErrorMessage:null===(se=Re)||void 0===se?void 0:se.message}))}})}()){this.appId=z,this.appName=se,this.namespace=Re,this.openDbPromise=Ge}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(z){return this.set("last_fetch_status",z)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(z){return this.set("last_successful_fetch_timestamp_millis",z)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(z){return this.set("last_successful_fetch_response",z)}getActiveConfig(){return this.get("active_config")}setActiveConfig(z){return this.set("active_config",z)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(z){return this.set("active_config_etag",z)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(z){return this.set("throttle_metadata",z)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(z){var se=this;return(0,G.Z)(function*(){const Re=yield se.openDbPromise;return new Promise((Ge,mt)=>{var Bt;const $n=Re.transaction([Fn],"readonly").objectStore(Fn),wi=se.createCompositeKey(z);try{const Ar=$n.get(wi);Ar.onerror=Kt=>{mt(kt(Kt,"storage-get"))},Ar.onsuccess=Kt=>{const Wr=Kt.target.result;Ge(Wr?Wr.value:void 0)}}catch(Ar){mt(de.create("storage-get",{originalErrorMessage:null===(Bt=Ar)||void 0===Bt?void 0:Bt.message}))}})})()}set(z,se){var Re=this;return(0,G.Z)(function*(){const Ge=yield Re.openDbPromise;return new Promise((mt,Bt)=>{var hn;const wi=Ge.transaction([Fn],"readwrite").objectStore(Fn),Ar=Re.createCompositeKey(z);try{const Kt=wi.put({compositeKey:Ar,value:se});Kt.onerror=Wr=>{Bt(kt(Wr,"storage-set"))},Kt.onsuccess=()=>{mt()}}catch(Kt){Bt(de.create("storage-set",{originalErrorMessage:null===(hn=Kt)||void 0===hn?void 0:hn.message}))}})})()}delete(z){var se=this;return(0,G.Z)(function*(){const Re=yield se.openDbPromise;return new Promise((Ge,mt)=>{var Bt;const $n=Re.transaction([Fn],"readwrite").objectStore(Fn),wi=se.createCompositeKey(z);try{const Ar=$n.delete(wi);Ar.onerror=Kt=>{mt(kt(Kt,"storage-delete"))},Ar.onsuccess=()=>{Ge()}}catch(Ar){mt(de.create("storage-delete",{originalErrorMessage:null===(Bt=Ar)||void 0===Bt?void 0:Bt.message}))}})})()}createCompositeKey(z){return[this.appId,this.appName,this.namespace,z].join()}}class ki{constructor(z){this.storage=z}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var z=this;return(0,G.Z)(function*(){const se=z.storage.getLastFetchStatus(),Re=z.storage.getLastSuccessfulFetchTimestampMillis(),Ge=z.storage.getActiveConfig(),mt=yield se;mt&&(z.lastFetchStatus=mt);const Bt=yield Re;Bt&&(z.lastSuccessfulFetchTimestampMillis=Bt);const hn=yield Ge;hn&&(z.activeConfig=hn)})()}setLastFetchStatus(z){return this.lastFetchStatus=z,this.storage.setLastFetchStatus(z)}setLastSuccessfulFetchTimestampMillis(z){return this.lastSuccessfulFetchTimestampMillis=z,this.storage.setLastSuccessfulFetchTimestampMillis(z)}setActiveConfig(z){return this.activeConfig=z,this.storage.setActiveConfig(z)}}function ii(){return jr.apply(this,arguments)}function jr(){return(jr=(0,G.Z)(function*(){if(!(0,De.hl)())return!1;try{return yield(0,De.eu)()}catch{return!1}})).apply(this,arguments)}!function ri(){(0,he._registerComponent)(new xe.wA("remote-config",function Z(z,{instanceIdentifier:se}){const Re=z.getProvider("app").getImmediate(),Ge=z.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw de.create("registration-window");if(!(0,De.hl)())throw de.create("indexed-db-unavailable");const{projectId:mt,apiKey:Bt,appId:hn}=Re.options;if(!mt)throw de.create("registration-project-id");if(!Bt)throw de.create("registration-api-key");if(!hn)throw de.create("registration-app-id");const $n=new Or(hn,Re.name,se=se||"firebase"),wi=new ki($n),Ar=new Ne.Yd(ge);Ar.logLevel=Ne.in.ERROR;const Kt=new Cn(Ge,he.SDK_VERSION,se,mt,Bt,hn),Wr=new Wt(Kt,$n),Pa=new xt(Wr,$n,wi,Ar),Xo=new nn(Re,Pa,wi,$n,Ar);return function it(Z){const z=(0,De.m9)(Z);z._initializePromise||(z._initializePromise=z._storageCache.loadFromStorage().then(()=>{z._isInitializationComplete=!0}))}(Xo),Xo},"PUBLIC").setMultipleInstances(!0)),(0,he.registerVersion)(ge,"0.3.15"),(0,he.registerVersion)(ge,"0.3.15","esm2017")}();var En=V(8766);const It="/firebase-messaging-sw.js",Er="/firebase-cloud-messaging-push-scope",Qr="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",$r="google.c.a.c_id",Pr="google.c.a.c_l",bn="google.c.a.ts",Bn="google.c.a.e";var ht=(()=>{return(Z=ht||(ht={})).PUSH_RECEIVED="push-received",Z.NOTIFICATION_CLICKED="notification-clicked",ht;var Z})();function Gn(Z){const z=new Uint8Array(Z);return btoa(String.fromCharCode(...z)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Hr(Z){const se=(Z+"=".repeat((4-Z.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),Re=atob(se),Ge=new Uint8Array(Re.length);for(let mt=0;mt<Re.length;++mt)Ge[mt]=Re.charCodeAt(mt);return Ge}const br="fcm_token_details_db",ar="fcm_token_object_Store";function Qn(Z){return Dn.apply(this,arguments)}function Dn(){return Dn=(0,G.Z)(function*(Z){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(mt=>mt.name).includes(br))return null;let z=null;return(yield(0,En.X3)(br,5,{upgrade:(Re=(0,G.Z)(function*(Ge,mt,Bt,hn){var $n;if(mt<2||!Ge.objectStoreNames.contains(ar))return;const wi=hn.objectStore(ar),Ar=yield wi.index("fcmSenderId").get(Z);if(yield wi.clear(),Ar)if(2===mt){const Kt=Ar;if(!Kt.auth||!Kt.p256dh||!Kt.endpoint)return;z={token:Kt.fcmToken,createTime:null!==($n=Kt.createTime)&&void 0!==$n?$n:Date.now(),subscriptionOptions:{auth:Kt.auth,p256dh:Kt.p256dh,endpoint:Kt.endpoint,swScope:Kt.swScope,vapidKey:"string"==typeof Kt.vapidKey?Kt.vapidKey:Gn(Kt.vapidKey)}}}else if(3===mt){const Kt=Ar;z={token:Kt.fcmToken,createTime:Kt.createTime,subscriptionOptions:{auth:Gn(Kt.auth),p256dh:Gn(Kt.p256dh),endpoint:Kt.endpoint,swScope:Kt.swScope,vapidKey:Gn(Kt.vapidKey)}}}else if(4===mt){const Kt=Ar;z={token:Kt.fcmToken,createTime:Kt.createTime,subscriptionOptions:{auth:Gn(Kt.auth),p256dh:Gn(Kt.p256dh),endpoint:Kt.endpoint,swScope:Kt.swScope,vapidKey:Gn(Kt.vapidKey)}}}}),function(mt,Bt,hn,$n){return Re.apply(this,arguments)})})).close(),yield(0,En.Lj)(br),yield(0,En.Lj)("fcm_vapid_details_db"),yield(0,En.Lj)("undefined"),Lr(z)?z:null;var Re}),Dn.apply(this,arguments)}function Lr(Z){if(!Z||!Z.subscriptionOptions)return!1;const{subscriptionOptions:z}=Z;return"number"==typeof Z.createTime&&Z.createTime>0&&"string"==typeof Z.token&&Z.token.length>0&&"string"==typeof z.auth&&z.auth.length>0&&"string"==typeof z.p256dh&&z.p256dh.length>0&&"string"==typeof z.endpoint&&z.endpoint.length>0&&"string"==typeof z.swScope&&z.swScope.length>0&&"string"==typeof z.vapidKey&&z.vapidKey.length>0}const Xe="firebase-messaging-store";let ze=null;function pt(){return ze||(ze=(0,En.X3)("firebase-messaging-database",1,{upgrade:(Z,z)=>{0===z&&Z.createObjectStore(Xe)}})),ze}function Ot(Z){return Ht.apply(this,arguments)}function Ht(){return(Ht=(0,G.Z)(function*(Z){const z=U(Z),Re=yield(yield pt()).transaction(Xe).objectStore(Xe).get(z);if(Re)return Re;{const Ge=yield Qn(Z.appConfig.senderId);if(Ge)return yield dn(Z,Ge),Ge}})).apply(this,arguments)}function dn(Z,z){return re.apply(this,arguments)}function re(){return(re=(0,G.Z)(function*(Z,z){const se=U(Z),Ge=(yield pt()).transaction(Xe,"readwrite");return yield Ge.objectStore(Xe).put(z,se),yield Ge.done,z})).apply(this,arguments)}function Y(Z){return H.apply(this,arguments)}function H(){return(H=(0,G.Z)(function*(Z){const z=U(Z),Re=(yield pt()).transaction(Xe,"readwrite");yield Re.objectStore(Xe).delete(z),yield Re.done})).apply(this,arguments)}function U({appConfig:Z}){return Z.appId}const j=new De.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function ie(Z,z){return Ce.apply(this,arguments)}function Ce(){return(Ce=(0,G.Z)(function*(Z,z){var se;const Re=yield Jn(Z),Ge=Wn(z),mt={method:"POST",headers:Re,body:JSON.stringify(Ge)};let Bt;try{Bt=yield(yield fetch(Jt(Z.appConfig),mt)).json()}catch(hn){throw j.create("token-subscribe-failed",{errorInfo:null===(se=hn)||void 0===se?void 0:se.toString()})}if(Bt.error)throw j.create("token-subscribe-failed",{errorInfo:Bt.error.message});if(!Bt.token)throw j.create("token-subscribe-no-token");return Bt.token})).apply(this,arguments)}function Je(Z,z){return Ze.apply(this,arguments)}function Ze(){return(Ze=(0,G.Z)(function*(Z,z){var se;const Re=yield Jn(Z),Ge=Wn(z.subscriptionOptions),mt={method:"PATCH",headers:Re,body:JSON.stringify(Ge)};let Bt;try{Bt=yield(yield fetch(`${Jt(Z.appConfig)}/${z.token}`,mt)).json()}catch(hn){throw j.create("token-update-failed",{errorInfo:null===(se=hn)||void 0===se?void 0:se.toString()})}if(Bt.error)throw j.create("token-update-failed",{errorInfo:Bt.error.message});if(!Bt.token)throw j.create("token-update-no-token");return Bt.token})).apply(this,arguments)}function Tt(Z,z){return gt.apply(this,arguments)}function gt(){return(gt=(0,G.Z)(function*(Z,z){var se;const Ge={method:"DELETE",headers:yield Jn(Z)};try{const Bt=yield(yield fetch(`${Jt(Z.appConfig)}/${z}`,Ge)).json();if(Bt.error)throw j.create("token-unsubscribe-failed",{errorInfo:Bt.error.message})}catch(mt){throw j.create("token-unsubscribe-failed",{errorInfo:null===(se=mt)||void 0===se?void 0:se.toString()})}})).apply(this,arguments)}function Jt({projectId:Z}){return`https://fcmregistrations.googleapis.com/v1/projects/${Z}/registrations`}function Jn(Z){return zt.apply(this,arguments)}function zt(){return(zt=(0,G.Z)(function*({appConfig:Z,installations:z}){const se=yield z.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":Z.apiKey,"x-goog-firebase-installations-auth":`FIS ${se}`})})).apply(this,arguments)}function Wn({p256dh:Z,auth:z,endpoint:se,vapidKey:Re}){const Ge={web:{endpoint:se,auth:z,p256dh:Z}};return Re!==Qr&&(Ge.web.applicationPubKey=Re),Ge}const xo=6048e5;function Aa(Z){return Qo.apply(this,arguments)}function Qo(){return(Qo=(0,G.Z)(function*(Z){const z=yield dr(Z.swRegistration,Z.vapidKey),se={vapidKey:Z.vapidKey,swScope:Z.swRegistration.scope,endpoint:z.endpoint,auth:Gn(z.getKey("auth")),p256dh:Gn(z.getKey("p256dh"))},Re=yield Ot(Z.firebaseDependencies);if(Re){if(Tn(Re.subscriptionOptions,se))return Date.now()>=Re.createTime+xo?_e(Z,{token:Re.token,createTime:Date.now(),subscriptionOptions:se}):Re.token;try{yield Tt(Z.firebaseDependencies,Re.token)}catch(Ge){console.warn(Ge)}return st(Z.firebaseDependencies,se)}return st(Z.firebaseDependencies,se)})).apply(this,arguments)}function cu(Z){return Fr.apply(this,arguments)}function Fr(){return(Fr=(0,G.Z)(function*(Z){const z=yield Ot(Z.firebaseDependencies);z&&(yield Tt(Z.firebaseDependencies,z.token),yield Y(Z.firebaseDependencies));const se=yield Z.swRegistration.pushManager.getSubscription();return!se||se.unsubscribe()})).apply(this,arguments)}function _e(Z,z){return Ve.apply(this,arguments)}function Ve(){return(Ve=(0,G.Z)(function*(Z,z){try{const se=yield Je(Z.firebaseDependencies,z),Re=Object.assign(Object.assign({},z),{token:se,createTime:Date.now()});return yield dn(Z.firebaseDependencies,Re),se}catch(se){throw yield cu(Z),se}})).apply(this,arguments)}function st(Z,z){return jt.apply(this,arguments)}function jt(){return(jt=(0,G.Z)(function*(Z,z){const Re={token:yield ie(Z,z),createTime:Date.now(),subscriptionOptions:z};return yield dn(Z,Re),Re.token})).apply(this,arguments)}function dr(Z,z){return Pt.apply(this,arguments)}function Pt(){return(Pt=(0,G.Z)(function*(Z,z){return(yield Z.pushManager.getSubscription())||Z.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Hr(z)})})).apply(this,arguments)}function Tn(Z,z){return z.vapidKey===Z.vapidKey&&z.endpoint===Z.endpoint&&z.auth===Z.auth&&z.p256dh===Z.p256dh}function jn(Z){const z={from:Z.from,collapseKey:Z.collapse_key,messageId:Z.fcmMessageId};return function _i(Z,z){if(!z.notification)return;Z.notification={};const se=z.notification.title;se&&(Z.notification.title=se);const Re=z.notification.body;Re&&(Z.notification.body=Re);const Ge=z.notification.image;Ge&&(Z.notification.image=Ge);const mt=z.notification.icon;mt&&(Z.notification.icon=mt)}(z,Z),function hr(Z,z){!z.data||(Z.data=z.data)}(z,Z),function zi(Z,z){var se,Re,Ge,mt,Bt;if(!(z.fcmOptions||null!==(se=z.notification)&&void 0!==se&&se.click_action))return;Z.fcmOptions={};const hn=null!==(Ge=null===(Re=z.fcmOptions)||void 0===Re?void 0:Re.link)&&void 0!==Ge?Ge:null===(mt=z.notification)||void 0===mt?void 0:mt.click_action;hn&&(Z.fcmOptions.link=hn);const $n=null===(Bt=z.fcmOptions)||void 0===Bt?void 0:Bt.analytics_label;$n&&(Z.fcmOptions.analyticsLabel=$n)}(z,Z),z}function St(Z){return"object"==typeof Z&&!!Z&&$r in Z}function sn(Z,z){const se=[];for(let Re=0;Re<Z.length;Re++)se.push(Z.charAt(Re)),Re<z.length&&se.push(z.charAt(Re));return se.join("")}function yi(Z){return j.create("missing-app-config-values",{valueName:Z})}sn("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),sn("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Ws{constructor(z,se,Re){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Ge=function Ir(Z){if(!Z||!Z.options)throw yi("App Configuration Object");if(!Z.name)throw yi("App Name");const z=["projectId","apiKey","appId","messagingSenderId"],{options:se}=Z;for(const Re of z)if(!se[Re])throw yi(Re);return{appName:Z.name,projectId:se.projectId,apiKey:se.apiKey,appId:se.appId,senderId:se.messagingSenderId}}(z);this.firebaseDependencies={app:z,appConfig:Ge,installations:se,analyticsProvider:Re}}_delete(){return Promise.resolve()}}function Sr(Z){return oo.apply(this,arguments)}function oo(){return(oo=(0,G.Z)(function*(Z){var z;try{Z.swRegistration=yield navigator.serviceWorker.register(It,{scope:Er}),Z.swRegistration.update().catch(()=>{})}catch(se){throw j.create("failed-service-worker-registration",{browserErrorMessage:null===(z=se)||void 0===z?void 0:z.message})}})).apply(this,arguments)}function Cr(Z,z){return fs.apply(this,arguments)}function fs(){return(fs=(0,G.Z)(function*(Z,z){if(!z&&!Z.swRegistration&&(yield Sr(Z)),z||!Z.swRegistration){if(!(z instanceof ServiceWorkerRegistration))throw j.create("invalid-sw-registration");Z.swRegistration=z}})).apply(this,arguments)}function xa(Z,z){return un.apply(this,arguments)}function un(){return(un=(0,G.Z)(function*(Z,z){z?Z.vapidKey=z:Z.vapidKey||(Z.vapidKey=Qr)})).apply(this,arguments)}function ao(){return(ao=(0,G.Z)(function*(Z,z){if(!navigator)throw j.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw j.create("permission-blocked");return yield xa(Z,z?.vapidKey),yield Cr(Z,z?.serviceWorkerRegistration),Aa(Z)})).apply(this,arguments)}function cl(Z,z,se){return Mo.apply(this,arguments)}function Mo(){return(Mo=(0,G.Z)(function*(Z,z,se){const Re=hi(z);(yield Z.firebaseDependencies.analyticsProvider.get()).logEvent(Re,{message_id:se[$r],message_name:se[Pr],message_time:se[bn],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function hi(Z){switch(Z){case ht.NOTIFICATION_CLICKED:return"notification_open";case ht.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function zs(){return(zs=(0,G.Z)(function*(Z,z){const se=z.data;if(!se.isFirebaseMessaging)return;Z.onMessageHandler&&se.messageType===ht.PUSH_RECEIVED&&("function"==typeof Z.onMessageHandler?Z.onMessageHandler(jn(se)):Z.onMessageHandler.next(jn(se)));const Re=se.data;St(Re)&&"1"===Re[Bn]&&(yield cl(Z,se.messageType,Re))})).apply(this,arguments)}const Oi="@firebase/messaging",wc=Z=>{const z=new Ws(Z.getProvider("app").getImmediate(),Z.getProvider("installations-internal").getImmediate(),Z.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",se=>function Na(Z,z){return zs.apply(this,arguments)}(z,se)),z},Mn=Z=>{const z=Z.getProvider("messaging").getImmediate();return{getToken:Re=>function No(Z,z){return ao.apply(this,arguments)}(z,Re)}};function du(){return Ma.apply(this,arguments)}function Ma(){return(Ma=(0,G.Z)(function*(){try{yield(0,De.eu)()}catch{return!1}return typeof window<"u"&&(0,De.hl)()&&(0,De.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function qs(){(0,he._registerComponent)(new xe.wA("messaging",wc,"PUBLIC")),(0,he._registerComponent)(new xe.wA("messaging-internal",Mn,"PRIVATE")),(0,he.registerVersion)(Oi,"0.11.0"),(0,he.registerVersion)(Oi,"0.11.0","esm2017")}();var hl=V(7982),ka=V(4408),s_=V(7565);const uo=new class Yd extends s_.v{}(class Li extends ka.o{constructor(z,se){super(z,se),this.scheduler=z,this.work=se}schedule(z,se=0){return se>0?super.schedule(z,se):(this.delay=se,this.state=z,this.scheduler.flush(this),this)}execute(z,se){return se>0||this.closed?super.execute(z,se):this._execute(z,se)}requestAsyncId(z,se,Re=0){return null!=Re&&Re>0||null==Re&&this.delay>0?super.requestAsyncId(z,se,Re):(z.flush(this),0)}});var fu=V(4986),Qd=V(9751),o_=V(8505),Ep=V(9468),bp=V(5363);const Jo=new O.GfV("7.5.0"),fl="__angularfire_symbol__analyticsIsSupportedValue",pu="__angularfire_symbol__analyticsIsSupported",Ip="__angularfire_symbol__remoteConfigIsSupportedValue",pl="__angularfire_symbol__remoteConfigIsSupported",gu="__angularfire_symbol__messagingIsSupportedValue",ss="__angularfire_symbol__messagingIsSupported";globalThis[pu]||(globalThis[pu]=(0,hl.Gb)().then(Z=>globalThis[fl]=Z).catch(()=>globalThis[fl]=!1)),globalThis[ss]||(globalThis[ss]=du().then(Z=>globalThis[gu]=Z).catch(()=>globalThis[gu]=!1)),globalThis[pl]||(globalThis[pl]=ii().then(Z=>globalThis[Ip]=Z).catch(()=>globalThis[Ip]=!1));const Oa={async:()=>globalThis[pu],sync:()=>{const Z=globalThis[fl];if(void 0===Z)throw new Error((Z=>`The APP_INITIALIZER that is "making" isSupported() sync for the sake of convenient DI has not resolved in this\ncontext. Rather than injecting ${Z} in the constructor, first ensure that ${Z} is supported by calling\n\`await isSupported()\`, then retrieve the instance from the injector manually \`injector.get(${Z})\`.`)("Analytics"));return Z}};function a_(Z,z,se){if(z){if(1===z.length)return z[0];const mt=z.filter(Bt=>Bt.app===se);if(1===mt.length)return mt[0]}return se.container.getProvider(Z).getImmediate({optional:!0})}const u_=(Z,z)=>{const se=z?[z]:(0,h.C6)(),Re=[];return se.forEach(Ge=>{Ge.container.getProvider(Z).instances.forEach(Bt=>{Re.includes(Bt)||Re.push(Bt)})}),Re};function Ns(){}class gl{constructor(z,se=uo){this.zone=z,this.delegate=se}now(){return this.delegate.now()}schedule(z,se,Re){const Ge=this.zone;return this.delegate.schedule(function(Bt){Ge.runGuarded(()=>{z.apply(this,[Bt])})},se,Re)}}class mu{constructor(z){this.zone=z,this.task=null}call(z,se){const Re=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ns,{},Ns,Ns)),se.pipe((0,o_.b)({next:Re,complete:Re,error:Re})).subscribe(z).add(Re)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let _u=(()=>{class Z{constructor(se){this.ngZone=se,this.outsideAngular=se.runOutsideAngular(()=>new gl(Zone.current)),this.insideAngular=se.run(()=>new gl(Zone.current,fu.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return Z.\u0275fac=function(se){return new(se||Z)(O.LFG(O.R0b))},Z.\u0275prov=O.Yz7({token:Z,factory:Z.\u0275fac,providedIn:"root"}),Z})();function Zs(){const Z=globalThis.\u0275AngularFireScheduler;if(!Z)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return Z}function Jd(Z){return Zs().ngZone.runOutsideAngular(()=>Z())}function lo(Z){return Zs().ngZone.run(()=>Z())}function yu(Z){return Zs(),function ml(Z){return function(se){return(se=se.lift(new mu(Z.ngZone))).pipe((0,Ep.R)(Z.outsideAngular),(0,bp.Q)(Z.insideAngular))}}(Zs())(Z)}const Zi=(Z,z)=>function(){const Re=arguments;return z&&setTimeout(()=>{"scheduled"===z.state&&z.invoke()},10),lo(()=>Z.apply(void 0,Re))},_l=(Z,z)=>function(){let se;const Re=arguments;for(let mt=0;mt<arguments.length;mt++)"function"==typeof Re[mt]&&(z&&(se||(se=lo(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ns,{},Ns,Ns)))),Re[mt]=Zi(Re[mt],se));const Ge=Jd(()=>Z.apply(this,Re));if(!z){if(Ge instanceof Qd.y){const mt=Zs();return Ge.pipe((0,Ep.R)(mt.outsideAngular),(0,bp.Q)(mt.insideAngular))}return lo(()=>Ge)}return Ge instanceof Qd.y?Ge.pipe(yu):Ge instanceof Promise?lo(()=>new Promise((mt,Bt)=>Ge.then(hn=>lo(()=>mt(hn)),hn=>lo(()=>Bt(hn))))):"function"==typeof Ge&&se?function(){return setTimeout(()=>{se&&"scheduled"===se.state&&se.invoke()},10),Ge.apply(this,arguments)}:lo(()=>Ge)}},8247:(we,pe,V)=>{"use strict";V.d(pe,{$:()=>mt,A:()=>te,B:()=>de,G:()=>Ve,H:()=>Tn,J:()=>qs,L:()=>re,M:()=>Yd,N:()=>Qd,P:()=>vR,Q:()=>o_,R:()=>Cw,T:()=>Ep,U:()=>fu,V:()=>pu,W:()=>Ip,X:()=>Cp,Y:()=>ml,Z:()=>_l,_:()=>z,a:()=>Cu,a0:()=>Ar,a1:()=>Wr,a2:()=>Xo,a3:()=>Ki,a4:()=>vu,a5:()=>ea,a6:()=>zr,a7:()=>KD,a8:()=>hw,a9:()=>YD,aA:()=>Y,aB:()=>Ba,aC:()=>_s,aD:()=>N_,aE:()=>Fr,aI:()=>Ms,aL:()=>Jo,aa:()=>fw,ab:()=>Yi,ac:()=>Dc,af:()=>mR,ag:()=>pw,ah:()=>Tp,ak:()=>Ns,al:()=>h_,an:()=>nT,ao:()=>ww,ap:()=>je,aq:()=>gt,ar:()=>Je,as:()=>Fe,at:()=>Rs,au:()=>sa,av:()=>Jt,aw:()=>He,ax:()=>ue,ay:()=>Nu,az:()=>me,b:()=>Sc,c:()=>A_,d:()=>Qs,e:()=>ER,f:()=>lT,g:()=>M_,h:()=>Nw,i:()=>ah,j:()=>Fc,k:()=>k_,l:()=>dh,m:()=>yh,o:()=>be,r:()=>Oc,s:()=>Dl,u:()=>yR});var O=V(5861),h=V(2090),G=V(9681),he=V(1877),De=V(655),xe=V(4859);const be={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},te={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const de=function ce(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},qe=function We(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},J=new h.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),ae=new he.Yd("@firebase/auth");function Se(C,...y){ae.logLevel<=he.in.ERROR&&ae.error(`Auth (${G.SDK_VERSION}): ${C}`,...y)}function Fe(C,...y){throw it(C,...y)}function He(C,...y){return it(C,...y)}function Ue(C,y,E){const S=Object.assign(Object.assign({},qe()),{[y]:E});return new h.LL("auth","Firebase",S).create(y,{appName:C.name})}function Be(C,y,E){if(!(y instanceof E))throw E.name!==y.constructor.name&&Fe(C,"argument-error"),Ue(C,"argument-error",`Type of ${y.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function it(C,...y){if("string"!=typeof C){const E=y[0],S=[...y.slice(1)];return S[0]&&(S[0].appName=C.name),C._errorFactory.create(E,...S)}return J.create(C,...y)}function ue(C,y,...E){if(!C)throw it(y,...E)}function Me(C){const y="INTERNAL ASSERTION FAILED: "+C;throw Se(y),new Error(y)}function je(C,y){C||Me(y)}const fe=new Map;function me(C){je(C instanceof Function,"Expected a class definition");let y=fe.get(C);return y?(je(y instanceof C,"Instance stored in cache mismatched with class"),y):(y=new C,fe.set(C,y),y)}function Te(){var C;return typeof self<"u"&&(null===(C=self.location)||void 0===C?void 0:C.href)||""}function rt(){return"http:"===xt()||"https:"===xt()}function xt(){var C;return typeof self<"u"&&(null===(C=self.location)||void 0===C?void 0:C.protocol)||null}class Ft{constructor(y,E){this.shortDelay=y,this.longDelay=E,je(E>y,"Short delay should be less than long delay!"),this.isMobile=(0,h.uI)()||(0,h.b$)()}get(){return function In(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(rt()||(0,h.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function en(C,y){je(C.emulator,"Emulator should always be set here");const{url:E}=C.emulator;return y?`${E}${y.startsWith("/")?y.slice(1):y}`:E}class Wt{static initialize(y,E,S){this.fetchImpl=y,E&&(this.headersImpl=E),S&&(this.responseImpl=S)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void Me("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void Me("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void Me("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Zn={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Rr=new Ft(3e4,6e4);function nn(C,y){return C.tenantId&&!y.tenantId?Object.assign(Object.assign({},y),{tenantId:C.tenantId}):y}function kt(C,y,E,S){return Fn.apply(this,arguments)}function Fn(){return(Fn=(0,O.Z)(function*(C,y,E,S,L={}){return kr(C,L,(0,O.Z)(function*(){let W={},ve={};S&&("GET"===y?ve=S:W={body:JSON.stringify(S)});const Ke=(0,h.xO)(Object.assign({key:C.config.apiKey},ve)).slice(1),Et=yield C._getAdditionalHeaders();return Et["Content-Type"]="application/json",C.languageCode&&(Et["X-Firebase-Locale"]=C.languageCode),Wt.fetch()(ki(C,C.config.apiHost,E,Ke),Object.assign({method:y,headers:Et,referrerPolicy:"no-referrer"},W))}))})).apply(this,arguments)}function kr(C,y,E){return mi.apply(this,arguments)}function mi(){return(mi=(0,O.Z)(function*(C,y,E){C._canInitEmulator=!1;const S=Object.assign(Object.assign({},Zn),y);try{const L=new ri(C),W=yield Promise.race([E(),L.promise]);L.clearNetworkTimeout();const ve=yield W.json();if("needConfirmation"in ve)throw wr(C,"account-exists-with-different-credential",ve);if(W.ok&&!("errorMessage"in ve))return ve;{const Ke=W.ok?ve.errorMessage:ve.error.message,[Et,Ut]=Ke.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Et)throw wr(C,"credential-already-in-use",ve);if("EMAIL_EXISTS"===Et)throw wr(C,"email-already-in-use",ve);if("USER_DISABLED"===Et)throw wr(C,"user-disabled",ve);const mn=S[Et]||Et.toLowerCase().replace(/[_\s]+/g,"-");if(Ut)throw Ue(C,mn,Ut);Fe(C,mn)}}catch(L){if(L instanceof h.ZR)throw L;Fe(C,"network-request-failed")}})).apply(this,arguments)}function cr(C,y,E,S){return Or.apply(this,arguments)}function Or(){return(Or=(0,O.Z)(function*(C,y,E,S,L={}){const W=yield kt(C,y,E,S,L);return"mfaPendingCredential"in W&&Fe(C,"multi-factor-auth-required",{_serverResponse:W}),W})).apply(this,arguments)}function ki(C,y,E,S){const L=`${y}${E}?${S}`;return C.config.emulator?en(C.config,L):`${C.config.apiScheme}://${L}`}class ri{constructor(y){this.auth=y,this.timer=null,this.promise=new Promise((E,S)=>{this.timer=setTimeout(()=>S(He(this.auth,"network-request-failed")),Rr.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function wr(C,y,E){const S={appName:C.name};E.email&&(S.email=E.email),E.phoneNumber&&(S.phoneNumber=E.phoneNumber);const L=He(C,y,S);return L.customData._tokenResponse=E,L}function ii(){return(ii=(0,O.Z)(function*(C,y){return kt(C,"POST","/v1/accounts:delete",y)})).apply(this,arguments)}function jr(C,y){return En.apply(this,arguments)}function En(){return(En=(0,O.Z)(function*(C,y){return kt(C,"POST","/v1/accounts:update",y)})).apply(this,arguments)}function It(C,y){return Er.apply(this,arguments)}function Er(){return(Er=(0,O.Z)(function*(C,y){return kt(C,"POST","/v1/accounts:lookup",y)})).apply(this,arguments)}function Qr(C){if(C)try{const y=new Date(Number(C));if(!isNaN(y.getTime()))return y.toUTCString()}catch{}}function Pr(){return(Pr=(0,O.Z)(function*(C,y=!1){const E=(0,h.m9)(C),S=yield E.getIdToken(y),L=Bn(S);ue(L&&L.exp&&L.auth_time&&L.iat,E.auth,"internal-error");const W="object"==typeof L.firebase?L.firebase:void 0,ve=W?.sign_in_provider;return{claims:L,token:S,authTime:Qr(bn(L.auth_time)),issuedAtTime:Qr(bn(L.iat)),expirationTime:Qr(bn(L.exp)),signInProvider:ve||null,signInSecondFactor:W?.sign_in_second_factor||null}})).apply(this,arguments)}function bn(C){return 1e3*Number(C)}function Bn(C){var y;const[E,S,L]=C.split(".");if(void 0===E||void 0===S||void 0===L)return Se("JWT malformed, contained fewer than 3 sections"),null;try{const W=(0,h.tV)(S);return W?JSON.parse(W):(Se("Failed to decode base64 JWT payload"),null)}catch(W){return Se("Caught error parsing JWT payload as JSON",null===(y=W)||void 0===y?void 0:y.toString()),null}}function ht(C,y){return Gn.apply(this,arguments)}function Gn(){return(Gn=(0,O.Z)(function*(C,y,E=!1){if(E)return y;try{return yield y}catch(S){throw S instanceof h.ZR&&Hr(S)&&C.auth.currentUser===C&&(yield C.auth.signOut()),S}})).apply(this,arguments)}function Hr({code:C}){return"auth/user-disabled"===C||"auth/user-token-expired"===C}class br{constructor(y){this.user=y,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(y){var E;if(y){const S=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),S}{this.errorBackoff=3e4;const L=(null!==(E=this.user.stsTokenManager.expirationTime)&&void 0!==E?E:0)-Date.now()-3e5;return Math.max(0,L)}}schedule(y=!1){var E=this;if(!this.isRunning)return;const S=this.getInterval(y);this.timerId=setTimeout((0,O.Z)(function*(){yield E.iteration()}),S)}iteration(){var y=this;return(0,O.Z)(function*(){var E;try{yield y.user.getIdToken(!0)}catch(S){return void("auth/network-request-failed"===(null===(E=S)||void 0===E?void 0:E.code)&&y.schedule(!0))}y.schedule()})()}}class di{constructor(y,E){this.createdAt=y,this.lastLoginAt=E,this._initializeTime()}_initializeTime(){this.lastSignInTime=Qr(this.lastLoginAt),this.creationTime=Qr(this.createdAt)}_copy(y){this.createdAt=y.createdAt,this.lastLoginAt=y.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function ar(C){return Qn.apply(this,arguments)}function Qn(){return(Qn=(0,O.Z)(function*(C){var y;const E=C.auth,S=yield C.getIdToken(),L=yield ht(C,It(E,{idToken:S}));ue(L?.users.length,E,"internal-error");const W=L.users[0];C._notifyReloadListener(W);const ve=null!==(y=W.providerUserInfo)&&void 0!==y&&y.length?Gr(W.providerUserInfo):[],Ke=rn(C.providerData,ve),mn=!!C.isAnonymous&&!(C.email&&W.passwordHash||Ke?.length),pr={uid:W.localId,displayName:W.displayName||null,photoURL:W.photoUrl||null,email:W.email||null,emailVerified:W.emailVerified||!1,phoneNumber:W.phoneNumber||null,tenantId:W.tenantId||null,providerData:Ke,metadata:new di(W.createdAt,W.lastLoginAt),isAnonymous:mn};Object.assign(C,pr)})).apply(this,arguments)}function Lr(){return(Lr=(0,O.Z)(function*(C){const y=(0,h.m9)(C);yield ar(y),yield y.auth._persistUserIfCurrent(y),y.auth._notifyListenersIfCurrent(y)})).apply(this,arguments)}function rn(C,y){return[...C.filter(S=>!y.some(L=>L.providerId===S.providerId)),...y]}function Gr(C){return C.map(y=>{var{providerId:E}=y,S=(0,De._T)(y,["providerId"]);return{providerId:E,uid:S.rawId||"",displayName:S.displayName||null,email:S.email||null,phoneNumber:S.phoneNumber||null,photoURL:S.photoUrl||null}})}function ze(){return(ze=(0,O.Z)(function*(C,y){const E=yield kr(C,{},(0,O.Z)(function*(){const S=(0,h.xO)({grant_type:"refresh_token",refresh_token:y}).slice(1),{tokenApiHost:L,apiKey:W}=C.config,ve=ki(C,L,"/v1/token",`key=${W}`),Ke=yield C._getAdditionalHeaders();return Ke["Content-Type"]="application/x-www-form-urlencoded",Wt.fetch()(ve,{method:"POST",headers:Ke,body:S})}));return{accessToken:E.access_token,expiresIn:E.expires_in,refreshToken:E.refresh_token}})).apply(this,arguments)}class pt{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(y){ue(y.idToken,"internal-error"),ue(typeof y.idToken<"u","internal-error"),ue(typeof y.refreshToken<"u","internal-error");const E="expiresIn"in y&&typeof y.expiresIn<"u"?Number(y.expiresIn):function Nt(C){const y=Bn(C);return ue(y,"internal-error"),ue(typeof y.exp<"u","internal-error"),ue(typeof y.iat<"u","internal-error"),Number(y.exp)-Number(y.iat)}(y.idToken);this.updateTokensAndExpiration(y.idToken,y.refreshToken,E)}getToken(y,E=!1){var S=this;return(0,O.Z)(function*(){return ue(!S.accessToken||S.refreshToken,y,"user-token-expired"),E||!S.accessToken||S.isExpired?S.refreshToken?(yield S.refresh(y,S.refreshToken),S.accessToken):null:S.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(y,E){var S=this;return(0,O.Z)(function*(){const{accessToken:L,refreshToken:W,expiresIn:ve}=yield function Xe(C,y){return ze.apply(this,arguments)}(y,E);S.updateTokensAndExpiration(L,W,Number(ve))})()}updateTokensAndExpiration(y,E,S){this.refreshToken=E||null,this.accessToken=y||null,this.expirationTime=Date.now()+1e3*S}static fromJSON(y,E){const{refreshToken:S,accessToken:L,expirationTime:W}=E,ve=new pt;return S&&(ue("string"==typeof S,"internal-error",{appName:y}),ve.refreshToken=S),L&&(ue("string"==typeof L,"internal-error",{appName:y}),ve.accessToken=L),W&&(ue("number"==typeof W,"internal-error",{appName:y}),ve.expirationTime=W),ve}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(y){this.accessToken=y.accessToken,this.refreshToken=y.refreshToken,this.expirationTime=y.expirationTime}_clone(){return Object.assign(new pt,this.toJSON())}_performRefresh(){return Me("not implemented")}}function Ot(C,y){ue("string"==typeof C||typeof C>"u","internal-error",{appName:y})}class Ht{constructor(y){var{uid:E,auth:S,stsTokenManager:L}=y,W=(0,De._T)(y,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new br(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=E,this.auth=S,this.stsTokenManager=L,this.accessToken=L.accessToken,this.displayName=W.displayName||null,this.email=W.email||null,this.emailVerified=W.emailVerified||!1,this.phoneNumber=W.phoneNumber||null,this.photoURL=W.photoURL||null,this.isAnonymous=W.isAnonymous||!1,this.tenantId=W.tenantId||null,this.providerData=W.providerData?[...W.providerData]:[],this.metadata=new di(W.createdAt||void 0,W.lastLoginAt||void 0)}getIdToken(y){var E=this;return(0,O.Z)(function*(){const S=yield ht(E,E.stsTokenManager.getToken(E.auth,y));return ue(S,E.auth,"internal-error"),E.accessToken!==S&&(E.accessToken=S,yield E.auth._persistUserIfCurrent(E),E.auth._notifyListenersIfCurrent(E)),S})()}getIdTokenResult(y){return function $r(C){return Pr.apply(this,arguments)}(this,y)}reload(){return function Dn(C){return Lr.apply(this,arguments)}(this)}_assign(y){this!==y&&(ue(this.uid===y.uid,this.auth,"internal-error"),this.displayName=y.displayName,this.photoURL=y.photoURL,this.email=y.email,this.emailVerified=y.emailVerified,this.phoneNumber=y.phoneNumber,this.isAnonymous=y.isAnonymous,this.tenantId=y.tenantId,this.providerData=y.providerData.map(E=>Object.assign({},E)),this.metadata._copy(y.metadata),this.stsTokenManager._assign(y.stsTokenManager))}_clone(y){return new Ht(Object.assign(Object.assign({},this),{auth:y,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(y){ue(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=y,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(y){this.reloadListener?this.reloadListener(y):this.reloadUserInfo=y}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(y,E=!1){var S=this;return(0,O.Z)(function*(){let L=!1;y.idToken&&y.idToken!==S.stsTokenManager.accessToken&&(S.stsTokenManager.updateFromServerResponse(y),L=!0),E&&(yield ar(S)),yield S.auth._persistUserIfCurrent(S),L&&S.auth._notifyListenersIfCurrent(S)})()}delete(){var y=this;return(0,O.Z)(function*(){const E=yield y.getIdToken();return yield ht(y,function Br(C,y){return ii.apply(this,arguments)}(y.auth,{idToken:E})),y.stsTokenManager.clearRefreshToken(),y.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(y=>Object.assign({},y)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(y,E){var S,L,W,ve,Ke,Et,Ut,mn;const pr=null!==(S=E.displayName)&&void 0!==S?S:void 0,co=null!==(L=E.email)&&void 0!==L?L:void 0,Fo=null!==(W=E.phoneNumber)&&void 0!==W?W:void 0,ku=null!==(ve=E.photoURL)&&void 0!==ve?ve:void 0,Zc=null!==(Ke=E.tenantId)&&void 0!==Ke?Ke:void 0,Nl=null!==(Et=E._redirectEventId)&&void 0!==Et?Et:void 0,L_=null!==(Ut=E.createdAt)&&void 0!==Ut?Ut:void 0,Hp=null!==(mn=E.lastLoginAt)&&void 0!==mn?mn:void 0,{uid:Gp,emailVerified:la,isAnonymous:F_,providerData:Wp,stsTokenManager:bh}=E;ue(Gp&&bh,y,"internal-error");const zp=pt.fromJSON(this.name,bh);ue("string"==typeof Gp,y,"internal-error"),Ot(pr,y.name),Ot(co,y.name),ue("boolean"==typeof la,y,"internal-error"),ue("boolean"==typeof F_,y,"internal-error"),Ot(Fo,y.name),Ot(ku,y.name),Ot(Zc,y.name),Ot(Nl,y.name),Ot(L_,y.name),Ot(Hp,y.name);const Ih=new Ht({uid:Gp,auth:y,email:co,emailVerified:la,displayName:pr,isAnonymous:F_,photoURL:ku,phoneNumber:Fo,tenantId:Zc,stsTokenManager:zp,createdAt:L_,lastLoginAt:Hp});return Wp&&Array.isArray(Wp)&&(Ih.providerData=Wp.map(U_=>Object.assign({},U_))),Nl&&(Ih._redirectEventId=Nl),Ih}static _fromIdTokenResponse(y,E,S=!1){return(0,O.Z)(function*(){const L=new pt;L.updateFromServerResponse(E);const W=new Ht({uid:E.localId,auth:y,stsTokenManager:L,isAnonymous:S});return yield ar(W),W})()}}const re=(()=>{class C{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,O.Z)(function*(){return!0})()}_set(E,S){var L=this;return(0,O.Z)(function*(){L.storage[E]=S})()}_get(E){var S=this;return(0,O.Z)(function*(){const L=S.storage[E];return void 0===L?null:L})()}_remove(E){var S=this;return(0,O.Z)(function*(){delete S.storage[E]})()}_addListener(E,S){}_removeListener(E,S){}}return C.type="NONE",C})();function Y(C,y,E){return`firebase:${C}:${y}:${E}`}class H{constructor(y,E,S){this.persistence=y,this.auth=E,this.userKey=S;const{config:L,name:W}=this.auth;this.fullUserKey=Y(this.userKey,L.apiKey,W),this.fullPersistenceKey=Y("persistence",L.apiKey,W),this.boundEventHandler=E._onStorageEvent.bind(E),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(y){return this.persistence._set(this.fullUserKey,y.toJSON())}getCurrentUser(){var y=this;return(0,O.Z)(function*(){const E=yield y.persistence._get(y.fullUserKey);return E?Ht._fromJSON(y.auth,E):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(y){var E=this;return(0,O.Z)(function*(){if(E.persistence===y)return;const S=yield E.getCurrentUser();return yield E.removeCurrentUser(),E.persistence=y,S?E.setCurrentUser(S):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(y,E,S="authUser"){return(0,O.Z)(function*(){if(!E.length)return new H(me(re),y,S);const L=(yield Promise.all(E.map(function(){var Ut=(0,O.Z)(function*(mn){if(yield mn._isAvailable())return mn});return function(mn){return Ut.apply(this,arguments)}}()))).filter(Ut=>Ut);let W=L[0]||me(re);const ve=Y(S,y.config.apiKey,y.name);let Ke=null;for(const Ut of E)try{const mn=yield Ut._get(ve);if(mn){const pr=Ht._fromJSON(y,mn);Ut!==W&&(Ke=pr),W=Ut;break}}catch{}const Et=L.filter(Ut=>Ut._shouldAllowMigration);return W._shouldAllowMigration&&Et.length?(W=Et[0],Ke&&(yield W._set(ve,Ke.toJSON())),yield Promise.all(E.map(function(){var Ut=(0,O.Z)(function*(mn){if(mn!==W)try{yield mn._remove(ve)}catch{}});return function(mn){return Ut.apply(this,arguments)}}())),new H(W,y,S)):new H(W,y,S)})()}}function U(C){const y=C.toLowerCase();if(y.includes("opera/")||y.includes("opr/")||y.includes("opios/"))return"Opera";if(Ce(y))return"IEMobile";if(y.includes("msie")||y.includes("trident/"))return"IE";if(y.includes("edge/"))return"Edge";if(k(y))return"Firefox";if(y.includes("silk/"))return"Silk";if(Ze(y))return"Blackberry";if(Tt(y))return"Webos";if(j(y))return"Safari";if((y.includes("chrome/")||ie(y))&&!y.includes("edge/"))return"Chrome";if(Je(y))return"Android";{const S=C.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===S?.length)return S[1]}return"Other"}function k(C=(0,h.z$)()){return/firefox\//i.test(C)}function j(C=(0,h.z$)()){const y=C.toLowerCase();return y.includes("safari/")&&!y.includes("chrome/")&&!y.includes("crios/")&&!y.includes("android")}function ie(C=(0,h.z$)()){return/crios\//i.test(C)}function Ce(C=(0,h.z$)()){return/iemobile/i.test(C)}function Je(C=(0,h.z$)()){return/android/i.test(C)}function Ze(C=(0,h.z$)()){return/blackberry/i.test(C)}function Tt(C=(0,h.z$)()){return/webos/i.test(C)}function gt(C=(0,h.z$)()){return/iphone|ipad|ipod/i.test(C)||/macintosh/i.test(C)&&/mobile/i.test(C)}function Jt(C=(0,h.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(C)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(C)}function Wn(C=(0,h.z$)()){return gt(C)||Je(C)||Tt(C)||Ze(C)||/windows phone/i.test(C)||Ce(C)}function Aa(C,y=[]){let E;switch(C){case"Browser":E=U((0,h.z$)());break;case"Worker":E=`${U((0,h.z$)())}-${C}`;break;default:E=C}const S=y.length?y.join(","):"FirebaseCore-web";return`${E}/JsCore/${G.SDK_VERSION}/${S}`}class Qo{constructor(y){this.auth=y,this.queue=[]}pushCallback(y,E){const S=W=>new Promise((ve,Ke)=>{try{ve(y(W))}catch(Et){Ke(Et)}});S.onAbort=E,this.queue.push(S);const L=this.queue.length-1;return()=>{this.queue[L]=()=>Promise.resolve()}}runMiddleware(y){var E=this;return(0,O.Z)(function*(){var S;if(E.auth.currentUser===y)return;const L=[];try{for(const W of E.queue)yield W(y),W.onAbort&&L.push(W.onAbort)}catch(W){L.reverse();for(const ve of L)try{ve()}catch{}throw E.auth._errorFactory.create("login-blocked",{originalMessage:null===(S=W)||void 0===S?void 0:S.message})}})()}}class cu{constructor(y,E,S){this.app=y,this.heartbeatServiceProvider=E,this.config=S,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new _e(this),this.idTokenSubscription=new _e(this),this.beforeStateQueue=new Qo(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=J,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=y.name,this.clientVersion=S.sdkClientVersion}_initializeWithPersistence(y,E){var S=this;return E&&(this._popupRedirectResolver=me(E)),this._initializationPromise=this.queue((0,O.Z)(function*(){var L,W;if(!S._deleted&&(S.persistenceManager=yield H.create(S,y),!S._deleted)){if(null!==(L=S._popupRedirectResolver)&&void 0!==L&&L._shouldInitProactively)try{yield S._popupRedirectResolver._initialize(S)}catch{}yield S.initializeCurrentUser(E),S.lastNotifiedUid=(null===(W=S.currentUser)||void 0===W?void 0:W.uid)||null,!S._deleted&&(S._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var y=this;return(0,O.Z)(function*(){if(y._deleted)return;const E=yield y.assertedPersistence.getCurrentUser();if(y.currentUser||E){if(y.currentUser&&E&&y.currentUser.uid===E.uid)return y._currentUser._assign(E),void(yield y.currentUser.getIdToken());yield y._updateCurrentUser(E,!0)}})()}initializeCurrentUser(y){var E=this;return(0,O.Z)(function*(){var S;const L=yield E.assertedPersistence.getCurrentUser();let W=L,ve=!1;if(y&&E.config.authDomain){yield E.getOrInitRedirectPersistenceManager();const Ke=null===(S=E.redirectUser)||void 0===S?void 0:S._redirectEventId,Et=W?._redirectEventId,Ut=yield E.tryRedirectSignIn(y);(!Ke||Ke===Et)&&Ut?.user&&(W=Ut.user,ve=!0)}if(!W)return E.directlySetCurrentUser(null);if(!W._redirectEventId){if(ve)try{yield E.beforeStateQueue.runMiddleware(W)}catch(Ke){W=L,E._popupRedirectResolver._overrideRedirectResult(E,()=>Promise.reject(Ke))}return W?E.reloadAndSetCurrentUserOrClear(W):E.directlySetCurrentUser(null)}return ue(E._popupRedirectResolver,E,"argument-error"),yield E.getOrInitRedirectPersistenceManager(),E.redirectUser&&E.redirectUser._redirectEventId===W._redirectEventId?E.directlySetCurrentUser(W):E.reloadAndSetCurrentUserOrClear(W)})()}tryRedirectSignIn(y){var E=this;return(0,O.Z)(function*(){let S=null;try{S=yield E._popupRedirectResolver._completeRedirectFn(E,y,!0)}catch{yield E._setRedirectUser(null)}return S})()}reloadAndSetCurrentUserOrClear(y){var E=this;return(0,O.Z)(function*(){var S;try{yield ar(y)}catch(L){if("auth/network-request-failed"!==(null===(S=L)||void 0===S?void 0:S.code))return E.directlySetCurrentUser(null)}return E.directlySetCurrentUser(y)})()}useDeviceLanguage(){this.languageCode=function Cn(){if(typeof navigator>"u")return null;const C=navigator;return C.languages&&C.languages[0]||C.language||null}()}_delete(){var y=this;return(0,O.Z)(function*(){y._deleted=!0})()}updateCurrentUser(y){var E=this;return(0,O.Z)(function*(){const S=y?(0,h.m9)(y):null;return S&&ue(S.auth.config.apiKey===E.config.apiKey,E,"invalid-user-token"),E._updateCurrentUser(S&&S._clone(E))})()}_updateCurrentUser(y,E=!1){var S=this;return(0,O.Z)(function*(){if(!S._deleted)return y&&ue(S.tenantId===y.tenantId,S,"tenant-id-mismatch"),E||(yield S.beforeStateQueue.runMiddleware(y)),S.queue((0,O.Z)(function*(){yield S.directlySetCurrentUser(y),S.notifyAuthListeners()}))})()}signOut(){var y=this;return(0,O.Z)(function*(){return yield y.beforeStateQueue.runMiddleware(null),(y.redirectPersistenceManager||y._popupRedirectResolver)&&(yield y._setRedirectUser(null)),y._updateCurrentUser(null,!0)})()}setPersistence(y){var E=this;return this.queue((0,O.Z)(function*(){yield E.assertedPersistence.setPersistence(me(y))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(y){this._errorFactory=new h.LL("auth","Firebase",y())}onAuthStateChanged(y,E,S){return this.registerStateListener(this.authStateSubscription,y,E,S)}beforeAuthStateChanged(y,E){return this.beforeStateQueue.pushCallback(y,E)}onIdTokenChanged(y,E,S){return this.registerStateListener(this.idTokenSubscription,y,E,S)}toJSON(){var y;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(y=this._currentUser)||void 0===y?void 0:y.toJSON()}}_setRedirectUser(y,E){var S=this;return(0,O.Z)(function*(){const L=yield S.getOrInitRedirectPersistenceManager(E);return null===y?L.removeCurrentUser():L.setCurrentUser(y)})()}getOrInitRedirectPersistenceManager(y){var E=this;return(0,O.Z)(function*(){if(!E.redirectPersistenceManager){const S=y&&me(y)||E._popupRedirectResolver;ue(S,E,"argument-error"),E.redirectPersistenceManager=yield H.create(E,[me(S._redirectPersistence)],"redirectUser"),E.redirectUser=yield E.redirectPersistenceManager.getCurrentUser()}return E.redirectPersistenceManager})()}_redirectUserForId(y){var E=this;return(0,O.Z)(function*(){var S,L;return E._isInitialized&&(yield E.queue((0,O.Z)(function*(){}))),(null===(S=E._currentUser)||void 0===S?void 0:S._redirectEventId)===y?E._currentUser:(null===(L=E.redirectUser)||void 0===L?void 0:L._redirectEventId)===y?E.redirectUser:null})()}_persistUserIfCurrent(y){var E=this;return(0,O.Z)(function*(){if(y===E.currentUser)return E.queue((0,O.Z)(function*(){return E.directlySetCurrentUser(y)}))})()}_notifyListenersIfCurrent(y){y===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var y,E;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const S=null!==(E=null===(y=this.currentUser)||void 0===y?void 0:y.uid)&&void 0!==E?E:null;this.lastNotifiedUid!==S&&(this.lastNotifiedUid=S,this.authStateSubscription.next(this.currentUser))}registerStateListener(y,E,S,L){if(this._deleted)return()=>{};const W="function"==typeof E?E:E.next.bind(E),ve=this._isInitialized?Promise.resolve():this._initializationPromise;return ue(ve,this,"internal-error"),ve.then(()=>W(this.currentUser)),"function"==typeof E?y.addObserver(E,S,L):y.addObserver(E)}directlySetCurrentUser(y){var E=this;return(0,O.Z)(function*(){E.currentUser&&E.currentUser!==y&&E._currentUser._stopProactiveRefresh(),y&&E.isProactiveRefreshEnabled&&y._startProactiveRefresh(),E.currentUser=y,y?yield E.assertedPersistence.setCurrentUser(y):yield E.assertedPersistence.removeCurrentUser()})()}queue(y){return this.operations=this.operations.then(y,y),this.operations}get assertedPersistence(){return ue(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(y){!y||this.frameworks.includes(y)||(this.frameworks.push(y),this.frameworks.sort(),this.clientVersion=Aa(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var y=this;return(0,O.Z)(function*(){var E;const S={"X-Client-Version":y.clientVersion};y.app.options.appId&&(S["X-Firebase-gmpid"]=y.app.options.appId);const L=yield null===(E=y.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===E?void 0:E.getHeartbeatsHeader();return L&&(S["X-Firebase-Client"]=L),S})()}}function Fr(C){return(0,h.m9)(C)}class _e{constructor(y){this.auth=y,this.observer=null,this.addObserver=(0,h.ne)(E=>this.observer=E)}get next(){return ue(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Ve(C,y,E){const S=Fr(C);ue(S._canInitEmulator,S,"emulator-config-failed"),ue(/^https?:\/\//.test(y),S,"invalid-emulator-scheme");const L=!!E?.disableWarnings,W=st(y),{host:ve,port:Ke}=function jt(C){const y=st(C),E=/(\/\/)?([^?#/]+)/.exec(C.substr(y.length));if(!E)return{host:"",port:null};const S=E[2].split("@").pop()||"",L=/^(\[[^\]]+\])(:|$)/.exec(S);if(L){const W=L[1];return{host:W,port:dr(S.substr(W.length+1))}}{const[W,ve]=S.split(":");return{host:W,port:dr(ve)}}}(y);S.config.emulator={url:`${W}//${ve}${null===Ke?"":`:${Ke}`}/`},S.settings.appVerificationDisabledForTesting=!0,S.emulatorConfig=Object.freeze({host:ve,port:Ke,protocol:W.replace(":",""),options:Object.freeze({disableWarnings:L})}),L||function Pt(){function C(){const y=document.createElement("p"),E=y.style;y.innerText="Running in emulator mode. Do not use with production credentials.",E.position="fixed",E.width="100%",E.backgroundColor="#ffffff",E.border=".1em solid #000000",E.color="#b50000",E.bottom="0px",E.left="0px",E.margin="0px",E.zIndex="10000",E.textAlign="center",y.classList.add("firebase-emulator-warning"),document.body.appendChild(y)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",C):C())}()}function st(C){const y=C.indexOf(":");return y<0?"":C.substr(0,y+1)}function dr(C){if(!C)return null;const y=Number(C);return isNaN(y)?null:y}class Tn{constructor(y,E){this.providerId=y,this.signInMethod=E}toJSON(){return Me("not implemented")}_getIdTokenResponse(y){return Me("not implemented")}_linkToIdToken(y,E){return Me("not implemented")}_getReauthenticationResolver(y){return Me("not implemented")}}function jn(C,y){return _i.apply(this,arguments)}function _i(){return(_i=(0,O.Z)(function*(C,y){return kt(C,"POST","/v1/accounts:resetPassword",nn(C,y))})).apply(this,arguments)}function hr(C,y){return zi.apply(this,arguments)}function zi(){return(zi=(0,O.Z)(function*(C,y){return kt(C,"POST","/v1/accounts:update",y)})).apply(this,arguments)}function St(C,y){return sn.apply(this,arguments)}function sn(){return(sn=(0,O.Z)(function*(C,y){return kt(C,"POST","/v1/accounts:update",nn(C,y))})).apply(this,arguments)}function yi(){return(yi=(0,O.Z)(function*(C,y){return cr(C,"POST","/v1/accounts:signInWithPassword",nn(C,y))})).apply(this,arguments)}function Ws(C,y){return Sr.apply(this,arguments)}function Sr(){return(Sr=(0,O.Z)(function*(C,y){return kt(C,"POST","/v1/accounts:sendOobCode",nn(C,y))})).apply(this,arguments)}function oo(C,y){return Cr.apply(this,arguments)}function Cr(){return(Cr=(0,O.Z)(function*(C,y){return Ws(C,y)})).apply(this,arguments)}function fs(C,y){return xa.apply(this,arguments)}function xa(){return(xa=(0,O.Z)(function*(C,y){return Ws(C,y)})).apply(this,arguments)}function un(C,y){return No.apply(this,arguments)}function No(){return(No=(0,O.Z)(function*(C,y){return Ws(C,y)})).apply(this,arguments)}function ao(C,y){return cl.apply(this,arguments)}function cl(){return(cl=(0,O.Z)(function*(C,y){return Ws(C,y)})).apply(this,arguments)}function hi(){return(hi=(0,O.Z)(function*(C,y){return cr(C,"POST","/v1/accounts:signInWithEmailLink",nn(C,y))})).apply(this,arguments)}function zs(){return(zs=(0,O.Z)(function*(C,y){return cr(C,"POST","/v1/accounts:signInWithEmailLink",nn(C,y))})).apply(this,arguments)}class Oi extends Tn{constructor(y,E,S,L=null){super("password",S),this._email=y,this._password=E,this._tenantId=L}static _fromEmailAndPassword(y,E){return new Oi(y,E,"password")}static _fromEmailAndCode(y,E,S=null){return new Oi(y,E,"emailLink",S)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(y){const E="string"==typeof y?JSON.parse(y):y;if(E?.email&&E?.password){if("password"===E.signInMethod)return this._fromEmailAndPassword(E.email,E.password);if("emailLink"===E.signInMethod)return this._fromEmailAndCode(E.email,E.password,E.tenantId)}return null}_getIdTokenResponse(y){var E=this;return(0,O.Z)(function*(){switch(E.signInMethod){case"password":return function Ir(C,y){return yi.apply(this,arguments)}(y,{returnSecureToken:!0,email:E._email,password:E._password});case"emailLink":return function Mo(C,y){return hi.apply(this,arguments)}(y,{email:E._email,oobCode:E._password});default:Fe(y,"internal-error")}})()}_linkToIdToken(y,E){var S=this;return(0,O.Z)(function*(){switch(S.signInMethod){case"password":return hr(y,{idToken:E,returnSecureToken:!0,email:S._email,password:S._password});case"emailLink":return function Na(C,y){return zs.apply(this,arguments)}(y,{idToken:E,email:S._email,oobCode:S._password});default:Fe(y,"internal-error")}})()}_getReauthenticationResolver(y){return this._getIdTokenResponse(y)}}function qi(C,y){return wc.apply(this,arguments)}function wc(){return(wc=(0,O.Z)(function*(C,y){return cr(C,"POST","/v1/accounts:signInWithIdp",nn(C,y))})).apply(this,arguments)}class qs extends Tn{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(y){const E=new qs(y.providerId,y.signInMethod);return y.idToken||y.accessToken?(y.idToken&&(E.idToken=y.idToken),y.accessToken&&(E.accessToken=y.accessToken),y.nonce&&!y.pendingToken&&(E.nonce=y.nonce),y.pendingToken&&(E.pendingToken=y.pendingToken)):y.oauthToken&&y.oauthTokenSecret?(E.accessToken=y.oauthToken,E.secret=y.oauthTokenSecret):Fe("argument-error"),E}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(y){const E="string"==typeof y?JSON.parse(y):y,{providerId:S,signInMethod:L}=E,W=(0,De._T)(E,["providerId","signInMethod"]);if(!S||!L)return null;const ve=new qs(S,L);return ve.idToken=W.idToken||void 0,ve.accessToken=W.accessToken||void 0,ve.secret=W.secret,ve.nonce=W.nonce,ve.pendingToken=W.pendingToken||null,ve}_getIdTokenResponse(y){return qi(y,this.buildRequest())}_linkToIdToken(y,E){const S=this.buildRequest();return S.idToken=E,qi(y,S)}_getReauthenticationResolver(y){const E=this.buildRequest();return E.autoCreate=!1,qi(y,E)}buildRequest(){const y={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)y.pendingToken=this.pendingToken;else{const E={};this.idToken&&(E.id_token=this.idToken),this.accessToken&&(E.access_token=this.accessToken),this.secret&&(E.oauth_token_secret=this.secret),E.providerId=this.providerId,this.nonce&&!this.pendingToken&&(E.nonce=this.nonce),y.postBody=(0,h.xO)(E)}return y}}function du(C,y){return Ma.apply(this,arguments)}function Ma(){return(Ma=(0,O.Z)(function*(C,y){return kt(C,"POST","/v1/accounts:sendVerificationCode",nn(C,y))})).apply(this,arguments)}function ps(){return(ps=(0,O.Z)(function*(C,y){return cr(C,"POST","/v1/accounts:signInWithPhoneNumber",nn(C,y))})).apply(this,arguments)}function vi(){return(vi=(0,O.Z)(function*(C,y){const E=yield cr(C,"POST","/v1/accounts:signInWithPhoneNumber",nn(C,y));if(E.temporaryProof)throw wr(C,"account-exists-with-different-credential",E);return E})).apply(this,arguments)}const i_={USER_NOT_FOUND:"user-not-found"};function gs(){return(gs=(0,O.Z)(function*(C,y){return cr(C,"POST","/v1/accounts:signInWithPhoneNumber",nn(C,Object.assign(Object.assign({},y),{operation:"REAUTH"})),i_)})).apply(this,arguments)}class Ro extends Tn{constructor(y){super("phone","phone"),this.params=y}static _fromVerification(y,E){return new Ro({verificationId:y,verificationCode:E})}static _fromTokenResponse(y,E){return new Ro({phoneNumber:y,temporaryProof:E})}_getIdTokenResponse(y){return function dl(C,y){return ps.apply(this,arguments)}(y,this._makeVerificationRequest())}_linkToIdToken(y,E){return function Ra(C,y){return vi.apply(this,arguments)}(y,Object.assign({idToken:E},this._makeVerificationRequest()))}_getReauthenticationResolver(y){return function Pi(C,y){return gs.apply(this,arguments)}(y,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:y,phoneNumber:E,verificationId:S,verificationCode:L}=this.params;return y&&E?{temporaryProof:y,phoneNumber:E}:{sessionInfo:S,code:L}}toJSON(){const y={providerId:this.providerId};return this.params.phoneNumber&&(y.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(y.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(y.verificationCode=this.params.verificationCode),this.params.verificationId&&(y.verificationId=this.params.verificationId),y}static fromJSON(y){"string"==typeof y&&(y=JSON.parse(y));const{verificationId:E,verificationCode:S,phoneNumber:L,temporaryProof:W}=y;return S||E||L||W?new Ro({verificationId:E,verificationCode:S,phoneNumber:L,temporaryProof:W}):null}}class Li{constructor(y){var E,S,L,W,ve,Ke;const Et=(0,h.zd)((0,h.pd)(y)),Ut=null!==(E=Et.apiKey)&&void 0!==E?E:null,mn=null!==(S=Et.oobCode)&&void 0!==S?S:null,pr=function hl(C){switch(C){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(L=Et.mode)&&void 0!==L?L:null);ue(Ut&&mn&&pr,"argument-error"),this.apiKey=Ut,this.operation=pr,this.code=mn,this.continueUrl=null!==(W=Et.continueUrl)&&void 0!==W?W:null,this.languageCode=null!==(ve=Et.languageCode)&&void 0!==ve?ve:null,this.tenantId=null!==(Ke=Et.tenantId)&&void 0!==Ke?Ke:null}static parseLink(y){const E=function ka(C){const y=(0,h.zd)((0,h.pd)(C)).link,E=y?(0,h.zd)((0,h.pd)(y)).deep_link_id:null,S=(0,h.zd)((0,h.pd)(C)).deep_link_id;return(S?(0,h.zd)((0,h.pd)(S)).link:null)||S||E||y||C}(y);try{return new Li(E)}catch{return null}}}let Yd=(()=>{class C{constructor(){this.providerId=C.PROVIDER_ID}static credential(E,S){return Oi._fromEmailAndPassword(E,S)}static credentialWithLink(E,S){const L=Li.parseLink(S);return ue(L,"argument-error"),Oi._fromEmailAndCode(E,L.code,L.tenantId)}}return C.PROVIDER_ID="password",C.EMAIL_PASSWORD_SIGN_IN_METHOD="password",C.EMAIL_LINK_SIGN_IN_METHOD="emailLink",C})();class uo{constructor(y){this.providerId=y,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(y){this.defaultLanguageCode=y}setCustomParameters(y){return this.customParameters=y,this}getCustomParameters(){return this.customParameters}}class hu extends uo{constructor(){super(...arguments),this.scopes=[]}addScope(y){return this.scopes.includes(y)||this.scopes.push(y),this}getScopes(){return[...this.scopes]}}class fu extends hu{static credentialFromJSON(y){const E="string"==typeof y?JSON.parse(y):y;return ue("providerId"in E&&"signInMethod"in E,"argument-error"),qs._fromParams(E)}credential(y){return this._credential(Object.assign(Object.assign({},y),{nonce:y.rawNonce}))}_credential(y){return ue(y.idToken||y.accessToken,"argument-error"),qs._fromParams(Object.assign(Object.assign({},y),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(y){return fu.oauthCredentialFromTaggedObject(y)}static credentialFromError(y){return fu.oauthCredentialFromTaggedObject(y.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{oauthIdToken:E,oauthAccessToken:S,oauthTokenSecret:L,pendingToken:W,nonce:ve,providerId:Ke}=y;if(!S&&!L&&!E&&!W||!Ke)return null;try{return new fu(Ke)._credential({idToken:E,accessToken:S,nonce:ve,pendingToken:W})}catch{return null}}}let Qd=(()=>{class C extends hu{constructor(){super("facebook.com")}static credential(E){return qs._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.FACEBOOK_SIGN_IN_METHOD,accessToken:E})}static credentialFromResult(E){return C.credentialFromTaggedObject(E)}static credentialFromError(E){return C.credentialFromTaggedObject(E.customData||{})}static credentialFromTaggedObject({_tokenResponse:E}){if(!E||!("oauthAccessToken"in E)||!E.oauthAccessToken)return null;try{return C.credential(E.oauthAccessToken)}catch{return null}}}return C.FACEBOOK_SIGN_IN_METHOD="facebook.com",C.PROVIDER_ID="facebook.com",C})(),o_=(()=>{class C extends hu{constructor(){super("google.com"),this.addScope("profile")}static credential(E,S){return qs._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.GOOGLE_SIGN_IN_METHOD,idToken:E,accessToken:S})}static credentialFromResult(E){return C.credentialFromTaggedObject(E)}static credentialFromError(E){return C.credentialFromTaggedObject(E.customData||{})}static credentialFromTaggedObject({_tokenResponse:E}){if(!E)return null;const{oauthIdToken:S,oauthAccessToken:L}=E;if(!S&&!L)return null;try{return C.credential(S,L)}catch{return null}}}return C.GOOGLE_SIGN_IN_METHOD="google.com",C.PROVIDER_ID="google.com",C})(),Ep=(()=>{class C extends hu{constructor(){super("github.com")}static credential(E){return qs._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.GITHUB_SIGN_IN_METHOD,accessToken:E})}static credentialFromResult(E){return C.credentialFromTaggedObject(E)}static credentialFromError(E){return C.credentialFromTaggedObject(E.customData||{})}static credentialFromTaggedObject({_tokenResponse:E}){if(!E||!("oauthAccessToken"in E)||!E.oauthAccessToken)return null;try{return C.credential(E.oauthAccessToken)}catch{return null}}}return C.GITHUB_SIGN_IN_METHOD="github.com",C.PROVIDER_ID="github.com",C})();class Jo extends Tn{constructor(y,E){super(y,y),this.pendingToken=E}_getIdTokenResponse(y){return qi(y,this.buildRequest())}_linkToIdToken(y,E){const S=this.buildRequest();return S.idToken=E,qi(y,S)}_getReauthenticationResolver(y){const E=this.buildRequest();return E.autoCreate=!1,qi(y,E)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(y){const E="string"==typeof y?JSON.parse(y):y,{providerId:S,signInMethod:L,pendingToken:W}=E;return S&&L&&W&&S===L?new Jo(S,W):null}static _create(y,E){return new Jo(y,E)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class pu extends uo{constructor(y){ue(y.startsWith("saml."),"argument-error"),super(y)}static credentialFromResult(y){return pu.samlCredentialFromTaggedObject(y)}static credentialFromError(y){return pu.samlCredentialFromTaggedObject(y.customData||{})}static credentialFromJSON(y){const E=Jo.fromJSON(y);return ue(E,"argument-error"),E}static samlCredentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{pendingToken:E,providerId:S}=y;if(!E||!S)return null;try{return Jo._create(S,E)}catch{return null}}}let Ip=(()=>{class C extends hu{constructor(){super("twitter.com")}static credential(E,S){return qs._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.TWITTER_SIGN_IN_METHOD,oauthToken:E,oauthTokenSecret:S})}static credentialFromResult(E){return C.credentialFromTaggedObject(E)}static credentialFromError(E){return C.credentialFromTaggedObject(E.customData||{})}static credentialFromTaggedObject({_tokenResponse:E}){if(!E)return null;const{oauthAccessToken:S,oauthTokenSecret:L}=E;if(!S||!L)return null;try{return C.credential(S,L)}catch{return null}}}return C.TWITTER_SIGN_IN_METHOD="twitter.com",C.PROVIDER_ID="twitter.com",C})();function pl(C,y){return gu.apply(this,arguments)}function gu(){return(gu=(0,O.Z)(function*(C,y){return cr(C,"POST","/v1/accounts:signUp",nn(C,y))})).apply(this,arguments)}class ss{constructor(y){this.user=y.user,this.providerId=y.providerId,this._tokenResponse=y._tokenResponse,this.operationType=y.operationType}static _fromIdTokenResponse(y,E,S,L=!1){return(0,O.Z)(function*(){const W=yield Ht._fromIdTokenResponse(y,S,L),ve=Ec(S);return new ss({user:W,providerId:ve,_tokenResponse:S,operationType:E})})()}static _forOperation(y,E,S){return(0,O.Z)(function*(){yield y._updateTokensIfNecessary(S,!0);const L=Ec(S);return new ss({user:y,providerId:L,_tokenResponse:S,operationType:E})})()}}function Ec(C){return C.providerId?C.providerId:"phoneNumber"in C?"phone":null}function Cp(C){return bc.apply(this,arguments)}function bc(){return(bc=(0,O.Z)(function*(C){var y;const E=Fr(C);if(yield E._initializationPromise,null!==(y=E.currentUser)&&void 0!==y&&y.isAnonymous)return new ss({user:E.currentUser,providerId:null,operationType:"signIn"});const S=yield pl(E,{returnSecureToken:!0}),L=yield ss._fromIdTokenResponse(E,"signIn",S,!0);return yield E._updateCurrentUser(L.user),L})).apply(this,arguments)}class Oa extends h.ZR{constructor(y,E,S,L){var W;super(E.code,E.message),this.operationType=S,this.user=L,Object.setPrototypeOf(this,Oa.prototype),this.customData={appName:y.name,tenantId:null!==(W=y.tenantId)&&void 0!==W?W:void 0,_serverResponse:E.customData._serverResponse,operationType:S}}static _fromErrorAndOperation(y,E,S,L){return new Oa(y,E,S,L)}}function a_(C,y,E,S){return("reauthenticate"===y?E._getReauthenticationResolver(C):E._getIdTokenResponse(C)).catch(W=>{throw"auth/multi-factor-auth-required"===W.code?Oa._fromErrorAndOperation(C,W,y,S):W})}function u_(C){return new Set(C.map(({providerId:y})=>y).filter(y=>!!y))}function Ns(C,y){return gl.apply(this,arguments)}function gl(){return(gl=(0,O.Z)(function*(C,y){const E=(0,h.m9)(C);yield Zs(!0,E,y);const{providerUserInfo:S}=yield jr(E.auth,{idToken:yield E.getIdToken(),deleteProvider:[y]}),L=u_(S||[]);return E.providerData=E.providerData.filter(W=>L.has(W.providerId)),L.has("phone")||(E.phoneNumber=null),yield E.auth._persistUserIfCurrent(E),E})).apply(this,arguments)}function mu(C,y){return _u.apply(this,arguments)}function _u(){return(_u=(0,O.Z)(function*(C,y,E=!1){const S=yield ht(C,y._linkToIdToken(C.auth,yield C.getIdToken()),E);return ss._forOperation(C,"link",S)})).apply(this,arguments)}function Zs(C,y,E){return Jd.apply(this,arguments)}function Jd(){return(Jd=(0,O.Z)(function*(C,y,E){yield ar(y);const L=!1===C?"provider-already-linked":"no-such-provider";ue(u_(y.providerData).has(E)===C,y.auth,L)})).apply(this,arguments)}function lo(C,y){return Xd.apply(this,arguments)}function Xd(){return(Xd=(0,O.Z)(function*(C,y,E=!1){var S;const{auth:L}=C,W="reauthenticate";try{const ve=yield ht(C,a_(L,W,y,C),E);ue(ve.idToken,L,"internal-error");const Ke=Bn(ve.idToken);ue(Ke,L,"internal-error");const{sub:Et}=Ke;return ue(C.uid===Et,L,"user-mismatch"),ss._forOperation(C,W,ve)}catch(ve){throw"auth/user-not-found"===(null===(S=ve)||void 0===S?void 0:S.code)&&Fe(L,"user-mismatch"),ve}})).apply(this,arguments)}function Ic(C,y){return yu.apply(this,arguments)}function yu(){return(yu=(0,O.Z)(function*(C,y,E=!1){const S="signIn",L=yield a_(C,S,y),W=yield ss._fromIdTokenResponse(C,S,L);return E||(yield C._updateCurrentUser(W.user)),W})).apply(this,arguments)}function ml(C,y){return Zi.apply(this,arguments)}function Zi(){return(Zi=(0,O.Z)(function*(C,y){return Ic(Fr(C),y)})).apply(this,arguments)}function _l(C,y){return Z.apply(this,arguments)}function Z(){return(Z=(0,O.Z)(function*(C,y){const E=(0,h.m9)(C);return yield Zs(!1,E,y.providerId),mu(E,y)})).apply(this,arguments)}function z(C,y){return se.apply(this,arguments)}function se(){return(se=(0,O.Z)(function*(C,y){return lo((0,h.m9)(C),y)})).apply(this,arguments)}function Re(C,y){return Ge.apply(this,arguments)}function Ge(){return(Ge=(0,O.Z)(function*(C,y){return cr(C,"POST","/v1/accounts:signInWithCustomToken",nn(C,y))})).apply(this,arguments)}function mt(C,y){return Bt.apply(this,arguments)}function Bt(){return(Bt=(0,O.Z)(function*(C,y){const E=Fr(C),S=yield Re(E,{token:y,returnSecureToken:!0}),L=yield ss._fromIdTokenResponse(E,"signIn",S);return yield E._updateCurrentUser(L.user),L})).apply(this,arguments)}class hn{constructor(y,E){this.factorId=y,this.uid=E.mfaEnrollmentId,this.enrollmentTime=new Date(E.enrolledAt).toUTCString(),this.displayName=E.displayName}static _fromServerResponse(y,E){return"phoneInfo"in E?$n._fromServerResponse(y,E):Fe(y,"internal-error")}}class $n extends hn{constructor(y){super("phone",y),this.phoneNumber=y.phoneInfo}static _fromServerResponse(y,E){return new $n(E)}}function wi(C,y,E){var S;ue((null===(S=E.url)||void 0===S?void 0:S.length)>0,C,"invalid-continue-uri"),ue(typeof E.dynamicLinkDomain>"u"||E.dynamicLinkDomain.length>0,C,"invalid-dynamic-link-domain"),y.continueUrl=E.url,y.dynamicLinkDomain=E.dynamicLinkDomain,y.canHandleCodeInApp=E.handleCodeInApp,E.iOS&&(ue(E.iOS.bundleId.length>0,C,"missing-ios-bundle-id"),y.iOSBundleId=E.iOS.bundleId),E.android&&(ue(E.android.packageName.length>0,C,"missing-android-pkg-name"),y.androidInstallApp=E.android.installApp,y.androidMinimumVersionCode=E.android.minimumVersion,y.androidPackageName=E.android.packageName)}function Ar(C,y,E){return Kt.apply(this,arguments)}function Kt(){return(Kt=(0,O.Z)(function*(C,y,E){const S=(0,h.m9)(C),L={requestType:"PASSWORD_RESET",email:y};E&&wi(S,L,E),yield fs(S,L)})).apply(this,arguments)}function Wr(C,y,E){return Pa.apply(this,arguments)}function Pa(){return(Pa=(0,O.Z)(function*(C,y,E){yield jn((0,h.m9)(C),{oobCode:y,newPassword:E})})).apply(this,arguments)}function Xo(C,y){return La.apply(this,arguments)}function La(){return(La=(0,O.Z)(function*(C,y){yield St((0,h.m9)(C),{oobCode:y})})).apply(this,arguments)}function Ki(C,y){return yl.apply(this,arguments)}function yl(){return(yl=(0,O.Z)(function*(C,y){const E=(0,h.m9)(C),S=yield jn(E,{oobCode:y}),L=S.requestType;switch(ue(L,E,"internal-error"),L){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ue(S.newEmail,E,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ue(S.mfaInfo,E,"internal-error");default:ue(S.email,E,"internal-error")}let W=null;return S.mfaInfo&&(W=hn._fromServerResponse(Fr(E),S.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===S.requestType?S.newEmail:S.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===S.requestType?S.email:S.newEmail)||null,multiFactorInfo:W},operation:L}})).apply(this,arguments)}function vu(C,y){return Zt.apply(this,arguments)}function Zt(){return(Zt=(0,O.Z)(function*(C,y){const{data:E}=yield Ki((0,h.m9)(C),y);return E.email})).apply(this,arguments)}function ea(C,y,E){return ta.apply(this,arguments)}function ta(){return(ta=(0,O.Z)(function*(C,y,E){const S=Fr(C),L=yield pl(S,{returnSecureToken:!0,email:y,password:E}),W=yield ss._fromIdTokenResponse(S,"signIn",L);return yield S._updateCurrentUser(W.user),W})).apply(this,arguments)}function zr(C,y,E){return ml((0,h.m9)(C),Yd.credential(y,E))}function KD(C,y,E){return l_.apply(this,arguments)}function l_(){return(l_=(0,O.Z)(function*(C,y,E){const S=(0,h.m9)(C),L={requestType:"EMAIL_SIGNIN",email:y};ue(E.handleCodeInApp,S,"argument-error"),E&&wi(S,L,E),yield un(S,L)})).apply(this,arguments)}function hw(C,y){return"EMAIL_SIGNIN"===Li.parseLink(y)?.operation}function YD(C,y,E){return c_.apply(this,arguments)}function c_(){return(c_=(0,O.Z)(function*(C,y,E){const S=(0,h.m9)(C),L=Yd.credentialWithLink(y,E||Te());return ue(L._tenantId===(S.tenantId||null),S,"tenant-id-mismatch"),ml(S,L)})).apply(this,arguments)}function Ye(C,y){return kn.apply(this,arguments)}function kn(){return(kn=(0,O.Z)(function*(C,y){return kt(C,"POST","/v1/accounts:createAuthUri",nn(C,y))})).apply(this,arguments)}function fw(C,y){return Dp.apply(this,arguments)}function Dp(){return(Dp=(0,O.Z)(function*(C,y){const S={identifier:y,continueUri:rt()?Te():"http://localhost"},{signinMethods:L}=yield Ye((0,h.m9)(C),S);return L||[]})).apply(this,arguments)}function Yi(C,y){return Cc.apply(this,arguments)}function Cc(){return(Cc=(0,O.Z)(function*(C,y){const E=(0,h.m9)(C),L={requestType:"VERIFY_EMAIL",idToken:yield C.getIdToken()};y&&wi(E.auth,L,y);const{email:W}=yield oo(E.auth,L);W!==C.email&&(yield C.reload())})).apply(this,arguments)}function Dc(C,y,E){return Ks.apply(this,arguments)}function Ks(){return(Ks=(0,O.Z)(function*(C,y,E){const S=(0,h.m9)(C),W={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield C.getIdToken(),newEmail:y};E&&wi(S.auth,W,E);const{email:ve}=yield ao(S.auth,W);ve!==C.email&&(yield C.reload())})).apply(this,arguments)}function Tc(C,y){return na.apply(this,arguments)}function na(){return(na=(0,O.Z)(function*(C,y){return kt(C,"POST","/v1/accounts:update",y)})).apply(this,arguments)}function mR(C,y){return d_.apply(this,arguments)}function d_(){return(d_=(0,O.Z)(function*(C,{displayName:y,photoURL:E}){if(void 0===y&&void 0===E)return;const S=(0,h.m9)(C),W={idToken:yield S.getIdToken(),displayName:y,photoUrl:E,returnSecureToken:!0},ve=yield ht(S,Tc(S.auth,W));S.displayName=ve.displayName||null,S.photoURL=ve.photoUrl||null;const Ke=S.providerData.find(({providerId:Et})=>"password"===Et);Ke&&(Ke.displayName=S.displayName,Ke.photoURL=S.photoURL),yield S._updateTokensIfNecessary(ve)})).apply(this,arguments)}function pw(C,y){return Qi((0,h.m9)(C),y,null)}function Tp(C,y){return Qi((0,h.m9)(C),null,y)}function Qi(C,y,E){return Ys.apply(this,arguments)}function Ys(){return(Ys=(0,O.Z)(function*(C,y,E){const{auth:S}=C,W={idToken:yield C.getIdToken(),returnSecureToken:!0};y&&(W.email=y),E&&(W.password=E);const ve=yield ht(C,hr(S,W));yield C._updateTokensIfNecessary(ve,!0)})).apply(this,arguments)}class ko{constructor(y,E,S={}){this.isNewUser=y,this.providerId=E,this.profile=S}}class ra extends ko{constructor(y,E,S,L){super(y,E,S),this.username=L}}class QD extends ko{constructor(y,E){super(y,"facebook.com",E)}}class mw extends ra{constructor(y,E){super(y,"github.com",E,"string"==typeof E?.login?E?.login:null)}}class JD extends ko{constructor(y,E){super(y,"google.com",E)}}class XD extends ra{constructor(y,E,S){super(y,"twitter.com",E,S)}}function h_(C){const{user:y,_tokenResponse:E}=C;return y.isAnonymous&&!E?{providerId:null,isNewUser:!1,profile:null}:function gw(C){var y,E;if(!C)return null;const{providerId:S}=C,L=C.rawUserInfo?JSON.parse(C.rawUserInfo):{},W=C.isNewUser||"identitytoolkit#SignupNewUserResponse"===C.kind;if(!S&&C?.idToken){const ve=null===(E=null===(y=Bn(C.idToken))||void 0===y?void 0:y.firebase)||void 0===E?void 0:E.sign_in_provider;if(ve)return new ko(W,"anonymous"!==ve&&"custom"!==ve?ve:null)}if(!S)return null;switch(S){case"facebook.com":return new QD(W,L);case"github.com":return new mw(W,L);case"google.com":return new JD(W,L);case"twitter.com":return new XD(W,L,C.screenName||null);case"custom":case"anonymous":return new ko(W,null);default:return new ko(W,S,L)}}(E)}class wu{constructor(y,E,S){this.type=y,this.credential=E,this.auth=S}static _fromIdtoken(y,E){return new wu("enroll",y,E)}static _fromMfaPendingCredential(y){return new wu("signin",y)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(y){var E,S;if(y?.multiFactorSession){if(null!==(E=y.multiFactorSession)&&void 0!==E&&E.pendingCredential)return wu._fromMfaPendingCredential(y.multiFactorSession.pendingCredential);if(null!==(S=y.multiFactorSession)&&void 0!==S&&S.idToken)return wu._fromIdtoken(y.multiFactorSession.idToken)}return null}}class eh{constructor(y,E,S){this.session=y,this.hints=E,this.signInResolver=S}static _fromError(y,E){const S=Fr(y),L=E.customData._serverResponse,W=(L.mfaInfo||[]).map(Ke=>hn._fromServerResponse(S,Ke));ue(L.mfaPendingCredential,S,"internal-error");const ve=wu._fromMfaPendingCredential(L.mfaPendingCredential);return new eh(ve,W,function(){var Ke=(0,O.Z)(function*(Et){const Ut=yield Et._process(S,ve);delete L.mfaInfo,delete L.mfaPendingCredential;const mn=Object.assign(Object.assign({},L),{idToken:Ut.idToken,refreshToken:Ut.refreshToken});switch(E.operationType){case"signIn":const pr=yield ss._fromIdTokenResponse(S,E.operationType,mn);return yield S._updateCurrentUser(pr.user),pr;case"reauthenticate":return ue(E.user,S,"internal-error"),ss._forOperation(E.user,E.operationType,mn);default:Fe(S,"internal-error")}});return function(Et){return Ke.apply(this,arguments)}}())}resolveSignIn(y){var E=this;return(0,O.Z)(function*(){return E.signInResolver(y)})()}}function nT(C,y){var E;const S=(0,h.m9)(C),L=y;return ue(y.customData.operationType,S,"argument-error"),ue(null===(E=L.customData._serverResponse)||void 0===E?void 0:E.mfaPendingCredential,S,"argument-error"),eh._fromError(S,L)}function rT(C,y){return kt(C,"POST","/v2/accounts/mfaEnrollment:start",nn(C,y))}class fr{constructor(y){this.user=y,this.enrolledFactors=[],y._onReload(E=>{E.mfaInfo&&(this.enrolledFactors=E.mfaInfo.map(S=>hn._fromServerResponse(y.auth,S)))})}static _fromUser(y){return new fr(y)}getSession(){var y=this;return(0,O.Z)(function*(){return wu._fromIdtoken(yield y.user.getIdToken(),y.user.auth)})()}enroll(y,E){var S=this;return(0,O.Z)(function*(){const L=y,W=yield S.getSession(),ve=yield ht(S.user,L._process(S.user.auth,W,E));return yield S.user._updateTokensIfNecessary(ve),S.user.reload()})()}unenroll(y){var E=this;return(0,O.Z)(function*(){var S;const L="string"==typeof y?y:y.uid,W=yield E.user.getIdToken(),ve=yield ht(E.user,function Eu(C,y){return kt(C,"POST","/v2/accounts/mfaEnrollment:withdraw",nn(C,y))}(E.user.auth,{idToken:W,mfaEnrollmentId:L}));E.enrolledFactors=E.enrolledFactors.filter(({uid:Ke})=>Ke!==L),yield E.user._updateTokensIfNecessary(ve);try{yield E.user.reload()}catch(Ke){if("auth/user-token-expired"!==(null===(S=Ke)||void 0===S?void 0:S.code))throw Ke}})()}}const bu=new WeakMap;function ww(C){const y=(0,h.m9)(C);return bu.has(y)||bu.set(y,fr._fromUser(y)),bu.get(y)}const Iu="__sak";class p_{constructor(y,E){this.storageRetriever=y,this.type=E}_isAvailable(){try{return this.storage?(this.storage.setItem(Iu,"1"),this.storage.removeItem(Iu),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(y,E){return this.storage.setItem(y,JSON.stringify(E)),Promise.resolve()}_get(y){const E=this.storage.getItem(y);return Promise.resolve(E?JSON.parse(E):null)}_remove(y){return this.storage.removeItem(y),Promise.resolve()}get storage(){return this.storageRetriever()}}const Sc=(()=>{class C extends p_{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(E,S)=>this.onStorageEvent(E,S),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function g_(){const C=(0,h.z$)();return j(C)||gt(C)}()&&function xo(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Wn(),this._shouldAllowMigration=!0}forAllChangedKeys(E){for(const S of Object.keys(this.listeners)){const L=this.storage.getItem(S),W=this.localCache[S];L!==W&&E(S,W,L)}}onStorageEvent(E,S=!1){if(!E.key)return void this.forAllChangedKeys((Ke,Et,Ut)=>{this.notifyListeners(Ke,Ut)});const L=E.key;if(S?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Ke=this.storage.getItem(L);if(E.newValue!==Ke)null!==E.newValue?this.storage.setItem(L,E.newValue):this.storage.removeItem(L);else if(this.localCache[L]===E.newValue&&!S)return}const W=()=>{const Ke=this.storage.getItem(L);!S&&this.localCache[L]===Ke||this.notifyListeners(L,Ke)},ve=this.storage.getItem(L);!function zt(){return(0,h.w1)()&&10===document.documentMode}()||ve===E.newValue||E.newValue===E.oldValue?W():setTimeout(W,10)}notifyListeners(E,S){this.localCache[E]=S;const L=this.listeners[E];if(L)for(const W of Array.from(L))W(S&&JSON.parse(S))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((E,S,L)=>{this.onStorageEvent(new StorageEvent("storage",{key:E,oldValue:S,newValue:L}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(E,S){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[E]||(this.listeners[E]=new Set,this.localCache[E]=this.storage.getItem(E)),this.listeners[E].add(S)}_removeListener(E,S){this.listeners[E]&&(this.listeners[E].delete(S),0===this.listeners[E].size&&delete this.listeners[E]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(E,S){var L=()=>super._set,W=this;return(0,O.Z)(function*(){yield L().call(W,E,S),W.localCache[E]=JSON.stringify(S)})()}_get(E){var S=()=>super._get,L=this;return(0,O.Z)(function*(){const W=yield S().call(L,E);return L.localCache[E]=JSON.stringify(W),W})()}_remove(E){var S=()=>super._remove,L=this;return(0,O.Z)(function*(){yield S().call(L,E),delete L.localCache[E]})()}}return C.type="LOCAL",C})(),Cu=(()=>{class C extends p_{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(E,S){}_removeListener(E,S){}}return C.type="SESSION",C})();let Du=(()=>{class C{constructor(E){this.eventTarget=E,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(E){const S=this.receivers.find(W=>W.isListeningto(E));if(S)return S;const L=new C(E);return this.receivers.push(L),L}isListeningto(E){return this.eventTarget===E}handleEvent(E){var S=this;return(0,O.Z)(function*(){const L=E,{eventId:W,eventType:ve,data:Ke}=L.data,Et=S.handlersMap[ve];if(!Et?.size)return;L.ports[0].postMessage({status:"ack",eventId:W,eventType:ve});const Ut=Array.from(Et).map(function(){var pr=(0,O.Z)(function*(co){return co(L.origin,Ke)});return function(co){return pr.apply(this,arguments)}}()),mn=yield function m_(C){return Promise.all(C.map(function(){var y=(0,O.Z)(function*(E){try{return{fulfilled:!0,value:yield E}}catch(S){return{fulfilled:!1,reason:S}}});return function(E){return y.apply(this,arguments)}}()))}(Ut);L.ports[0].postMessage({status:"done",eventId:W,eventType:ve,response:mn})})()}_subscribe(E,S){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[E]||(this.handlersMap[E]=new Set),this.handlersMap[E].add(S)}_unsubscribe(E,S){this.handlersMap[E]&&S&&this.handlersMap[E].delete(S),(!S||0===this.handlersMap[E].size)&&delete this.handlersMap[E],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return C.receivers=[],C})();function Ms(C="",y=10){let E="";for(let S=0;S<y;S++)E+=Math.floor(10*Math.random());return C+E}class __{constructor(y){this.target=y,this.handlers=new Set}removeMessageHandler(y){y.messageChannel&&(y.messageChannel.port1.removeEventListener("message",y.onMessage),y.messageChannel.port1.close()),this.handlers.delete(y)}_send(y,E,S=50){var L=this;return(0,O.Z)(function*(){const W=typeof MessageChannel<"u"?new MessageChannel:null;if(!W)throw new Error("connection_unavailable");let ve,Ke;return new Promise((Et,Ut)=>{const mn=Ms("",20);W.port1.start();const pr=setTimeout(()=>{Ut(new Error("unsupported_event"))},S);Ke={messageChannel:W,onMessage(co){const Fo=co;if(Fo.data.eventId===mn)switch(Fo.data.status){case"ack":clearTimeout(pr),ve=setTimeout(()=>{Ut(new Error("timeout"))},3e3);break;case"done":clearTimeout(ve),Et(Fo.data.response);break;default:clearTimeout(pr),clearTimeout(ve),Ut(new Error("invalid_response"))}}},L.handlers.add(Ke),W.port1.addEventListener("message",Ke.onMessage),L.target.postMessage({eventType:y,eventId:mn,data:E},[W.port2])}).finally(()=>{Ke&&L.removeMessageHandler(Ke)})})()}}function Jr(){return window}function vl(){return typeof Jr().WorkerGlobalScope<"u"&&"function"==typeof Jr().importScripts}function Np(){return(Np=(0,O.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const nh="firebaseLocalStorageDb",wl="firebaseLocalStorage",Mc="fbase_key";class Fa{constructor(y){this.request=y}toPromise(){return new Promise((y,E)=>{this.request.addEventListener("success",()=>{y(this.request.result)}),this.request.addEventListener("error",()=>{E(this.request.error)})})}}function Tu(C,y){return C.transaction([wl],y?"readwrite":"readonly").objectStore(wl)}function ih(){const C=indexedDB.open(nh,1);return new Promise((y,E)=>{C.addEventListener("error",()=>{E(C.error)}),C.addEventListener("upgradeneeded",()=>{const S=C.result;try{S.createObjectStore(wl,{keyPath:Mc})}catch(L){E(L)}}),C.addEventListener("success",(0,O.Z)(function*(){const S=C.result;S.objectStoreNames.contains(wl)?y(S):(S.close(),yield function rh(){const C=indexedDB.deleteDatabase(nh);return new Fa(C).toPromise()}(),y(yield ih()))}))})}function El(C,y,E){return Rc.apply(this,arguments)}function Rc(){return(Rc=(0,O.Z)(function*(C,y,E){const S=Tu(C,!0).put({[Mc]:y,value:E});return new Fa(S).toPromise()})).apply(this,arguments)}function v_(){return(v_=(0,O.Z)(function*(C,y){const E=Tu(C,!1).get(y),S=yield new Fa(E).toPromise();return void 0===S?null:S.value})).apply(this,arguments)}function oh(C,y){const E=Tu(C,!0).delete(y);return new Fa(E).toPromise()}const ah=(()=>{class C{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var E=this;return(0,O.Z)(function*(){return E.db||(E.db=yield ih()),E.db})()}_withRetries(E){var S=this;return(0,O.Z)(function*(){let L=0;for(;;)try{const W=yield S._openDb();return yield E(W)}catch(W){if(L++>3)throw W;S.db&&(S.db.close(),S.db=void 0)}})()}initializeServiceWorkerMessaging(){var E=this;return(0,O.Z)(function*(){return vl()?E.initializeReceiver():E.initializeSender()})()}initializeReceiver(){var E=this;return(0,O.Z)(function*(){E.receiver=Du._getInstance(function sT(){return vl()?self:null}()),E.receiver._subscribe("keyChanged",function(){var S=(0,O.Z)(function*(L,W){return{keyProcessed:(yield E._poll()).includes(W.key)}});return function(L,W){return S.apply(this,arguments)}}()),E.receiver._subscribe("ping",function(){var S=(0,O.Z)(function*(L,W){return["keyChanged"]});return function(L,W){return S.apply(this,arguments)}}())})()}initializeSender(){var E=this;return(0,O.Z)(function*(){var S,L;if(E.activeServiceWorker=yield function y_(){return Np.apply(this,arguments)}(),!E.activeServiceWorker)return;E.sender=new __(E.activeServiceWorker);const W=yield E.sender._send("ping",{},800);!W||(null===(S=W[0])||void 0===S?void 0:S.fulfilled)&&(null===(L=W[0])||void 0===L?void 0:L.value.includes("keyChanged"))&&(E.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(E){var S=this;return(0,O.Z)(function*(){if(S.sender&&S.activeServiceWorker&&function iT(){var C;return(null===(C=navigator?.serviceWorker)||void 0===C?void 0:C.controller)||null}()===S.activeServiceWorker)try{yield S.sender._send("keyChanged",{key:E},S.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,O.Z)(function*(){try{if(!indexedDB)return!1;const E=yield ih();return yield El(E,Iu,"1"),yield oh(E,Iu),!0}catch{}return!1})()}_withPendingWrite(E){var S=this;return(0,O.Z)(function*(){S.pendingWrites++;try{yield E()}finally{S.pendingWrites--}})()}_set(E,S){var L=this;return(0,O.Z)(function*(){return L._withPendingWrite((0,O.Z)(function*(){return yield L._withRetries(W=>El(W,E,S)),L.localCache[E]=S,L.notifyServiceWorker(E)}))})()}_get(E){var S=this;return(0,O.Z)(function*(){const L=yield S._withRetries(W=>function sh(C,y){return v_.apply(this,arguments)}(W,E));return S.localCache[E]=L,L})()}_remove(E){var S=this;return(0,O.Z)(function*(){return S._withPendingWrite((0,O.Z)(function*(){return yield S._withRetries(L=>oh(L,E)),delete S.localCache[E],S.notifyServiceWorker(E)}))})()}_poll(){var E=this;return(0,O.Z)(function*(){const S=yield E._withRetries(ve=>{const Ke=Tu(ve,!1).getAll();return new Fa(Ke).toPromise()});if(!S)return[];if(0!==E.pendingWrites)return[];const L=[],W=new Set;for(const{fbase_key:ve,value:Ke}of S)W.add(ve),JSON.stringify(E.localCache[ve])!==JSON.stringify(Ke)&&(E.notifyListeners(ve,Ke),L.push(ve));for(const ve of Object.keys(E.localCache))E.localCache[ve]&&!W.has(ve)&&(E.notifyListeners(ve,null),L.push(ve));return L})()}notifyListeners(E,S){this.localCache[E]=S;const L=this.listeners[E];if(L)for(const W of Array.from(L))W(S)}startPolling(){var E=this;this.stopPolling(),this.pollTimer=setInterval((0,O.Z)(function*(){return E._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(E,S){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[E]||(this.listeners[E]=new Set,this._get(E)),this.listeners[E].add(S)}_removeListener(E,S){this.listeners[E]&&(this.listeners[E].delete(S),0===this.listeners[E].size&&delete this.listeners[E]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return C.type="LOCAL",C})();function Mp(C,y){return kt(C,"POST","/v2/accounts/mfaSignIn:start",nn(C,y))}function uh(){return(uh=(0,O.Z)(function*(C){return(yield kt(C,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function b_(C){return new Promise((y,E)=>{const S=document.createElement("script");S.setAttribute("src",C),S.onload=y,S.onerror=L=>{const W=He("internal-error");W.customData=L,E(W)},S.type="text/javascript",S.charset="UTF-8",function kp(){var C,y;return null!==(y=null===(C=document.getElementsByTagName("head"))||void 0===C?void 0:C[0])&&void 0!==y?y:document}().appendChild(S)})}function Op(C){return`__${C}${Math.floor(1e6*Math.random())}`}const bl=1e12;class C_{constructor(y){this.auth=y,this.counter=bl,this._widgets=new Map}render(y,E){const S=this.counter;return this._widgets.set(S,new kc(y,this.auth.name,E||{})),this.counter++,S}reset(y){var E;const S=y||bl;null===(E=this._widgets.get(S))||void 0===E||E.delete(),this._widgets.delete(S)}getResponse(y){var E;return(null===(E=this._widgets.get(y||bl))||void 0===E?void 0:E.getResponse())||""}execute(y){var E=this;return(0,O.Z)(function*(){var S;return null===(S=E._widgets.get(y||bl))||void 0===S||S.execute(),""})()}}class kc{constructor(y,E,S){this.params=S,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const L="string"==typeof y?document.getElementById(y):y;ue(L,"argument-error",{appName:E}),this.container=L,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Il(C){const y=[],E="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let S=0;S<C;S++)y.push(E.charAt(Math.floor(Math.random()*E.length)));return y.join("")}(50);const{callback:y,"expired-callback":E}=this.params;if(y)try{y(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,E)try{E()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const D_=Op("rcb"),T_=new Ft(3e4,6e4);class Cl{constructor(){var y;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(y=Jr().grecaptcha)||void 0===y||!y.render)}load(y,E=""){return ue(function Lp(C){return C.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(C)}(E),y,"argument-error"),this.shouldResolveImmediately(E)?Promise.resolve(Jr().grecaptcha):new Promise((S,L)=>{const W=Jr().setTimeout(()=>{L(He(y,"network-request-failed"))},T_.get());Jr()[D_]=()=>{Jr().clearTimeout(W),delete Jr()[D_];const Ke=Jr().grecaptcha;if(!Ke)return void L(He(y,"internal-error"));const Et=Ke.render;Ke.render=(Ut,mn)=>{const pr=Et(Ut,mn);return this.counter++,pr},this.hostLanguage=E,S(Ke)},b_(`https://www.google.com/recaptcha/api.js??${(0,h.xO)({onload:D_,render:"explicit",hl:E})}`).catch(()=>{clearTimeout(W),L(He(y,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(y){var E;return!(null===(E=Jr().grecaptcha)||void 0===E||!E.render)&&(y===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class S_{load(y){return(0,O.Z)(function*(){return new C_(y)})()}clearedOneInstance(){}}const lh="recaptcha",oT={theme:"light",type:"image"};class Cw{constructor(y,E=Object.assign({},oT),S){this.parameters=E,this.type=lh,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Fr(S),this.isInvisible="invisible"===this.parameters.size,ue(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const L="string"==typeof y?document.getElementById(y):y;ue(L,this.auth,"argument-error"),this.container=L,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new S_:new Cl,this.validateStartingState()}verify(){var y=this;return(0,O.Z)(function*(){y.assertNotDestroyed();const E=yield y.render(),S=y.getAssertedRecaptcha();return S.getResponse(E)||new Promise(W=>{const ve=Ke=>{!Ke||(y.tokenChangeListeners.delete(ve),W(Ke))};y.tokenChangeListeners.add(ve),y.isInvisible&&S.execute(E)})})()}render(){try{this.assertNotDestroyed()}catch(y){return Promise.reject(y)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(y=>{throw this.renderPromise=null,y})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(y=>{this.container.removeChild(y)})}validateStartingState(){ue(!this.parameters.sitekey,this.auth,"argument-error"),ue(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ue(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(y){return E=>{if(this.tokenChangeListeners.forEach(S=>S(E)),"function"==typeof y)y(E);else if("string"==typeof y){const S=Jr()[y];"function"==typeof S&&S(E)}}}assertNotDestroyed(){ue(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var y=this;return(0,O.Z)(function*(){if(yield y.init(),!y.widgetId){let E=y.container;if(!y.isInvisible){const S=document.createElement("div");E.appendChild(S),E=S}y.widgetId=y.getAssertedRecaptcha().render(E,y.parameters)}return y.widgetId})()}init(){var y=this;return(0,O.Z)(function*(){ue(rt()&&!vl(),y.auth,"internal-error"),yield function ch(){let C=null;return new Promise(y=>{"complete"!==document.readyState?(C=()=>y(),window.addEventListener("load",C)):y()}).catch(y=>{throw C&&window.removeEventListener("load",C),y})}(),y.recaptcha=yield y._recaptchaLoader.load(y.auth,y.auth.languageCode||void 0);const E=yield function Rp(C){return uh.apply(this,arguments)}(y.auth);ue(E,y.auth,"internal-error"),y.parameters.sitekey=E})()}getAssertedRecaptcha(){return ue(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class os{constructor(y,E){this.verificationId=y,this.onConfirmation=E}confirm(y){const E=Ro._fromVerification(this.verificationId,y);return this.onConfirmation(E)}}function Dl(C,y,E){return Ua.apply(this,arguments)}function Ua(){return(Ua=(0,O.Z)(function*(C,y,E){const S=Fr(C),L=yield Fp(S,y,(0,h.m9)(E));return new os(L,W=>ml(S,W))})).apply(this,arguments)}function dh(C,y,E){return Tl.apply(this,arguments)}function Tl(){return(Tl=(0,O.Z)(function*(C,y,E){const S=(0,h.m9)(C);yield Zs(!1,S,"phone");const L=yield Fp(S.auth,y,(0,h.m9)(E));return new os(L,W=>_l(S,W))})).apply(this,arguments)}function Oc(C,y,E){return Dw.apply(this,arguments)}function Dw(){return(Dw=(0,O.Z)(function*(C,y,E){const S=(0,h.m9)(C),L=yield Fp(S.auth,y,(0,h.m9)(E));return new os(L,W=>z(S,W))})).apply(this,arguments)}function Fp(C,y,E){return ur.apply(this,arguments)}function ur(){return(ur=(0,O.Z)(function*(C,y,E){var S;const L=yield E.verify();try{let W;if(ue("string"==typeof L,C,"argument-error"),ue(E.type===lh,C,"argument-error"),W="string"==typeof y?{phoneNumber:y}:y,"session"in W){const ve=W.session;if("phoneNumber"in W)return ue("enroll"===ve.type,C,"internal-error"),(yield rT(C,{idToken:ve.credential,phoneEnrollmentInfo:{phoneNumber:W.phoneNumber,recaptchaToken:L}})).phoneSessionInfo.sessionInfo;{ue("signin"===ve.type,C,"internal-error");const Ke=(null===(S=W.multiFactorHint)||void 0===S?void 0:S.uid)||W.multiFactorUid;return ue(Ke,C,"missing-multi-factor-info"),(yield Mp(C,{mfaPendingCredential:ve.credential,mfaEnrollmentId:Ke,phoneSignInInfo:{recaptchaToken:L}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:ve}=yield du(C,{phoneNumber:W.phoneNumber,recaptchaToken:L});return ve}}finally{E._reset()}})).apply(this,arguments)}function yR(C,y){return Tw.apply(this,arguments)}function Tw(){return(Tw=(0,O.Z)(function*(C,y){yield mu((0,h.m9)(C),y)})).apply(this,arguments)}let vR=(()=>{class C{constructor(E){this.providerId=C.PROVIDER_ID,this.auth=Fr(E)}verifyPhoneNumber(E,S){return Fp(this.auth,E,(0,h.m9)(S))}static credential(E,S){return Ro._fromVerification(E,S)}static credentialFromResult(E){return C.credentialFromTaggedObject(E)}static credentialFromError(E){return C.credentialFromTaggedObject(E.customData||{})}static credentialFromTaggedObject({_tokenResponse:E}){if(!E)return null;const{phoneNumber:S,temporaryProof:L}=E;return S&&L?Ro._fromTokenResponse(S,L):null}}return C.PROVIDER_ID="phone",C.PHONE_SIGN_IN_METHOD="phone",C})();function Pc(C,y){return y?me(y):(ue(C._popupRedirectResolver,C,"argument-error"),C._popupRedirectResolver)}class Sw extends Tn{constructor(y){super("custom","custom"),this.params=y}_getIdTokenResponse(y){return qi(y,this._buildIdpRequest())}_linkToIdToken(y,E){return qi(y,this._buildIdpRequest(E))}_getReauthenticationResolver(y){return qi(y,this._buildIdpRequest())}_buildIdpRequest(y){const E={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return y&&(E.idToken=y),E}}function aT(C){return Ic(C.auth,new Sw(C),C.bypassAuthState)}function wR(C){const{auth:y,user:E}=C;return ue(E,y,"internal-error"),lo(E,new Sw(C),C.bypassAuthState)}function hh(C){return Aw.apply(this,arguments)}function Aw(){return(Aw=(0,O.Z)(function*(C){const{auth:y,user:E}=C;return ue(E,y,"internal-error"),mu(E,new Sw(C),C.bypassAuthState)})).apply(this,arguments)}class uT{constructor(y,E,S,L,W=!1){this.auth=y,this.resolver=S,this.user=L,this.bypassAuthState=W,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(E)?E:[E]}execute(){var y=this;return new Promise(function(){var E=(0,O.Z)(function*(S,L){y.pendingPromise={resolve:S,reject:L};try{y.eventManager=yield y.resolver._initialize(y.auth),yield y.onExecution(),y.eventManager.registerConsumer(y)}catch(W){y.reject(W)}});return function(S,L){return E.apply(this,arguments)}}())}onAuthEvent(y){var E=this;return(0,O.Z)(function*(){const{urlResponse:S,sessionId:L,postBody:W,tenantId:ve,error:Ke,type:Et}=y;if(Ke)return void E.reject(Ke);const Ut={auth:E.auth,requestUri:S,sessionId:L,tenantId:ve||void 0,postBody:W||void 0,user:E.user,bypassAuthState:E.bypassAuthState};try{E.resolve(yield E.getIdpTask(Et)(Ut))}catch(mn){E.reject(mn)}})()}onError(y){this.reject(y)}getIdpTask(y){switch(y){case"signInViaPopup":case"signInViaRedirect":return aT;case"linkViaPopup":case"linkViaRedirect":return hh;case"reauthViaPopup":case"reauthViaRedirect":return wR;default:Fe(this.auth,"internal-error")}}resolve(y){je(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(y),this.unregisterAndCleanUp()}reject(y){je(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(y),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Ei=new Ft(2e3,1e4);function A_(C,y,E){return Sl.apply(this,arguments)}function Sl(){return(Sl=(0,O.Z)(function*(C,y,E){const S=Fr(C);Be(C,y,uo);const L=Pc(S,E);return new Oo(S,"signInViaPopup",y,L).executeNotNull()})).apply(this,arguments)}function ER(C,y,E){return Up.apply(this,arguments)}function Up(){return(Up=(0,O.Z)(function*(C,y,E){const S=(0,h.m9)(C);Be(S.auth,y,uo);const L=Pc(S.auth,E);return new Oo(S.auth,"reauthViaPopup",y,L,S).executeNotNull()})).apply(this,arguments)}function Qs(C,y,E){return Hn.apply(this,arguments)}function Hn(){return(Hn=(0,O.Z)(function*(C,y,E){const S=(0,h.m9)(C);Be(S.auth,y,uo);const L=Pc(S.auth,E);return new Oo(S.auth,"linkViaPopup",y,L,S).executeNotNull()})).apply(this,arguments)}let Oo=(()=>{class C extends uT{constructor(E,S,L,W,ve){super(E,S,W,ve),this.provider=L,this.authWindow=null,this.pollId=null,C.currentPopupAction&&C.currentPopupAction.cancel(),C.currentPopupAction=this}executeNotNull(){var E=this;return(0,O.Z)(function*(){const S=yield E.execute();return ue(S,E.auth,"internal-error"),S})()}onExecution(){var E=this;return(0,O.Z)(function*(){je(1===E.filter.length,"Popup operations only handle one event");const S=Ms();E.authWindow=yield E.resolver._openPopup(E.auth,E.provider,E.filter[0],S),E.authWindow.associatedEvent=S,E.resolver._originValidation(E.auth).catch(L=>{E.reject(L)}),E.resolver._isIframeWebStorageSupported(E.auth,L=>{L||E.reject(He(E.auth,"web-storage-unsupported"))}),E.pollUserCancellation()})()}get eventId(){var E;return(null===(E=this.authWindow)||void 0===E?void 0:E.associatedEvent)||null}cancel(){this.reject(He(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,C.currentPopupAction=null}pollUserCancellation(){const E=()=>{var S,L;this.pollId=null!==(L=null===(S=this.authWindow)||void 0===S?void 0:S.window)&&void 0!==L&&L.closed?window.setTimeout(()=>{this.pollId=null,this.reject(He(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(E,Ei.get())};E()}}return C.currentPopupAction=null,C})();const Fi=new Map;class Js extends uT{constructor(y,E,S=!1){super(y,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],E,void 0,S),this.eventId=null}execute(){var y=()=>super.execute,E=this;return(0,O.Z)(function*(){let S=Fi.get(E.auth._key());if(!S){try{const W=(yield function xw(C,y){return Su.apply(this,arguments)}(E.resolver,E.auth))?yield y().call(E):null;S=()=>Promise.resolve(W)}catch(L){S=()=>Promise.reject(L)}Fi.set(E.auth._key(),S)}return E.bypassAuthState||Fi.set(E.auth._key(),()=>Promise.resolve(null)),S()})()}onAuthEvent(y){var E=()=>super.onAuthEvent,S=this;return(0,O.Z)(function*(){if("signInViaRedirect"===y.type)return E().call(S,y);if("unknown"!==y.type){if(y.eventId){const L=yield S.auth._redirectUserForId(y.eventId);if(L)return S.user=L,E().call(S,y);S.resolve(null)}}else S.resolve(null)})()}onExecution(){return(0,O.Z)(function*(){})()}cleanUp(){}}function Su(){return(Su=(0,O.Z)(function*(C,y){const E=Va(y),S=fh(C);if(!(yield S._isAvailable()))return!1;const L="true"===(yield S._get(E));return yield S._remove(E),L})).apply(this,arguments)}function Xs(C,y){return x_.apply(this,arguments)}function x_(){return(x_=(0,O.Z)(function*(C,y){return fh(C)._set(Va(y),"true")})).apply(this,arguments)}function N_(){Fi.clear()}function _s(C,y){Fi.set(C._key(),y)}function fh(C){return me(C._redirectPersistence)}function Va(C){return Y("pendingRedirect",C.config.apiKey,C.name)}function lT(C,y,E){return function Au(C,y,E){return At.apply(this,arguments)}(C,y,E)}function At(){return(At=(0,O.Z)(function*(C,y,E){const S=Fr(C);Be(C,y,uo);const L=Pc(S,E);return yield Xs(L,S),L._openRedirect(S,y,"signInViaRedirect")})).apply(this,arguments)}function Nw(C,y,E){return function Mw(C,y,E){return ph.apply(this,arguments)}(C,y,E)}function ph(){return(ph=(0,O.Z)(function*(C,y,E){const S=(0,h.m9)(C);Be(S.auth,y,uo);const L=Pc(S.auth,E);yield Xs(L,S.auth);const W=yield Al(S);return L._openRedirect(S.auth,y,"reauthViaRedirect",W)})).apply(this,arguments)}function M_(C,y,E){return function Xr(C,y,E){return Lc.apply(this,arguments)}(C,y,E)}function Lc(){return(Lc=(0,O.Z)(function*(C,y,E){const S=(0,h.m9)(C);Be(S.auth,y,uo);const L=Pc(S.auth,E);yield Zs(!1,S,y.providerId),yield Xs(L,S.auth);const W=yield Al(S);return L._openRedirect(S.auth,y,"linkViaRedirect",W)})).apply(this,arguments)}function Fc(C,y){return Uc.apply(this,arguments)}function Uc(){return(Uc=(0,O.Z)(function*(C,y){return yield Fr(C)._initializationPromise,Ba(C,y,!1)})).apply(this,arguments)}function Ba(C,y){return ja.apply(this,arguments)}function ja(){return(ja=(0,O.Z)(function*(C,y,E=!1){const S=Fr(C),L=Pc(S,y),ve=yield new Js(S,L,E).execute();return ve&&!E&&(delete ve.user._redirectEventId,yield S._persistUserIfCurrent(ve.user),yield S._setRedirectUser(null,y)),ve})).apply(this,arguments)}function Al(C){return Vc.apply(this,arguments)}function Vc(){return(Vc=(0,O.Z)(function*(C){const y=Ms(`${C.uid}:::`);return C._redirectEventId=y,yield C.auth._setRedirectUser(C),yield C.auth._persistUserIfCurrent(C),y})).apply(this,arguments)}class Nu{constructor(y){this.auth=y,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(y){this.consumers.add(y),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,y)&&(this.sendToConsumer(this.queuedRedirectEvent,y),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(y){this.consumers.delete(y)}onEvent(y){if(this.hasEventBeenHandled(y))return!1;let E=!1;return this.consumers.forEach(S=>{this.isEventForConsumer(y,S)&&(E=!0,this.sendToConsumer(y,S),this.saveEventToCache(y))}),this.hasHandledPotentialRedirect||!function jc(C){switch(C.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Bc(C);default:return!1}}(y)||(this.hasHandledPotentialRedirect=!0,E||(this.queuedRedirectEvent=y,E=!0)),E}sendToConsumer(y,E){var S;if(y.error&&!Bc(y)){const L=(null===(S=y.error.code)||void 0===S?void 0:S.split("auth/")[1])||"internal-error";E.onError(He(this.auth,L))}else E.onAuthEvent(y)}isEventForConsumer(y,E){const S=null===E.eventId||!!y.eventId&&y.eventId===E.eventId;return E.filter.includes(y.type)&&S}hasEventBeenHandled(y){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Po(y))}saveEventToCache(y){this.cachedEventUids.add(Po(y)),this.lastProcessedEventTime=Date.now()}}function Po(C){return[C.type,C.eventId,C.sessionId,C.tenantId].filter(y=>y).join("-")}function Bc({type:C,error:y}){return"unknown"===C&&"auth/no-auth-event"===y?.code}function sa(C){return oa.apply(this,arguments)}function oa(){return(oa=(0,O.Z)(function*(C,y={}){return kt(C,"GET","/v1/projects",y)})).apply(this,arguments)}const qr=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Vp=/^https?/;function ir(){return(ir=(0,O.Z)(function*(C){if(C.config.emulator)return;const{authorizedDomains:y}=yield sa(C);for(const E of y)try{if(xl(E))return}catch{}Fe(C,"unauthorized-domain")})).apply(this,arguments)}function xl(C){const y=Te(),{protocol:E,hostname:S}=new URL(y);if(C.startsWith("chrome-extension://")){const ve=new URL(C);return""===ve.hostname&&""===S?"chrome-extension:"===E&&C.replace("chrome-extension://","")===y.replace("chrome-extension://",""):"chrome-extension:"===E&&ve.hostname===S}if(!Vp.test(E))return!1;if(qr.test(C))return S===C;const L=C.replace(/\./g,"\\.");return new RegExp("^(.+\\."+L+"|"+L+")$","i").test(S)}const gh=new Ft(3e4,6e4);function ys(){const C=Jr().___jsl;if(C?.H)for(const y of Object.keys(C.H))if(C.H[y].r=C.H[y].r||[],C.H[y].L=C.H[y].L||[],C.H[y].r=[...C.H[y].L],C.CP)for(let E=0;E<C.CP.length;E++)C.CP[E]=null}let Mu=null;function $c(C){return Mu=Mu||function Ji(C){return new Promise((y,E)=>{var S,L,W;function ve(){ys(),gapi.load("gapi.iframes",{callback:()=>{y(gapi.iframes.getContext())},ontimeout:()=>{ys(),E(He(C,"network-request-failed"))},timeout:gh.get()})}if(null!==(L=null===(S=Jr().gapi)||void 0===S?void 0:S.iframes)&&void 0!==L&&L.Iframe)y(gapi.iframes.getContext());else{if(null===(W=Jr().gapi)||void 0===W||!W.load){const Ke=Op("iframefcb");return Jr()[Ke]=()=>{gapi.load?ve():E(He(C,"network-request-failed"))},b_(`https://apis.google.com/js/api.js?onload=${Ke}`).catch(Et=>E(Et))}ve()}}).catch(y=>{throw Mu=null,y})}(C),Mu}const R_=new Ft(5e3,15e3),as={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ua=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function cT(C){const y=C.config;ue(y.authDomain,C,"auth-domain-config-required");const E=y.emulator?en(y,"emulator/auth/iframe"):`https://${C.config.authDomain}/__/auth/iframe`,S={apiKey:y.apiKey,appName:C.name,v:G.SDK_VERSION},L=ua.get(C.config.apiHost);L&&(S.eid=L);const W=C._getFrameworks();return W.length&&(S.fw=W.join(",")),`${E}?${(0,h.xO)(S).slice(1)}`}function Hc(){return Hc=(0,O.Z)(function*(C){const y=yield $c(C),E=Jr().gapi;return ue(E,C,"internal-error"),y.open({where:document.body,url:cT(C),messageHandlersFilter:E.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:as,dontclear:!0},S=>new Promise(function(){var L=(0,O.Z)(function*(W,ve){yield S.restyle({setHideOnLeave:!1});const Ke=He(C,"network-request-failed"),Et=Jr().setTimeout(()=>{ve(Ke)},R_.get());function Ut(){Jr().clearTimeout(Et),W(S)}S.ping(Ut).then(Ut,()=>{ve(Ke)})});return function(W,ve){return L.apply(this,arguments)}}()))}),Hc.apply(this,arguments)}const mh={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Wc{constructor(y){this.window=y,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Rs(C,y,E,S,L,W){ue(C.config.authDomain,C,"auth-domain-config-required"),ue(C.config.apiKey,C,"invalid-api-key");const ve={apiKey:C.config.apiKey,appName:C.name,authType:E,redirectUrl:S,v:G.SDK_VERSION,eventId:L};if(y instanceof uo){y.setDefaultLanguage(C.languageCode),ve.providerId=y.providerId||"",(0,h.xb)(y.getCustomParameters())||(ve.customParameters=JSON.stringify(y.getCustomParameters()));for(const[Et,Ut]of Object.entries(W||{}))ve[Et]=Ut}if(y instanceof hu){const Et=y.getScopes().filter(Ut=>""!==Ut);Et.length>0&&(ve.scopes=Et.join(","))}C.tenantId&&(ve.tid=C.tenantId);const Ke=ve;for(const Et of Object.keys(Ke))void 0===Ke[Et]&&delete Ke[Et];return`${function _h({config:C}){return C.emulator?en(C,"emulator/auth/handler"):`https://${C.authDomain}/__/auth/handler`}(C)}?${(0,h.xO)(Ke).slice(1)}`}const qc="webStorageSupport",k_=class Bp{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Cu,this._completeRedirectFn=Ba,this._overrideRedirectResult=_s}_openPopup(y,E,S,L){var W=this;return(0,O.Z)(function*(){var ve;je(null===(ve=W.eventManagers[y._key()])||void 0===ve?void 0:ve.manager,"_initialize() not called before _openPopup()");const Ke=Rs(y,E,S,Te(),L);return function fT(C,y,E,S=500,L=600){const W=Math.max((window.screen.availHeight-L)/2,0).toString(),ve=Math.max((window.screen.availWidth-S)/2,0).toString();let Ke="";const Et=Object.assign(Object.assign({},mh),{width:S.toString(),height:L.toString(),top:W,left:ve}),Ut=(0,h.z$)().toLowerCase();E&&(Ke=ie(Ut)?"_blank":E),k(Ut)&&(y=y||"http://localhost",Et.scrollbars="yes");const mn=Object.entries(Et).reduce((co,[Fo,ku])=>`${co}${Fo}=${ku},`,"");if(function Jn(C=(0,h.z$)()){var y;return gt(C)&&!(null===(y=window.navigator)||void 0===y||!y.standalone)}(Ut)&&"_self"!==Ke)return function zc(C,y){const E=document.createElement("a");E.href=C,E.target=y;const S=document.createEvent("MouseEvent");S.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),E.dispatchEvent(S)}(y||"",Ke),new Wc(null);const pr=window.open(y||"",Ke,mn);ue(pr,C,"popup-blocked");try{pr.focus()}catch{}return new Wc(pr)}(y,Ke,Ms())})()}_openRedirect(y,E,S,L){var W=this;return(0,O.Z)(function*(){return yield W._originValidation(y),function xc(C){Jr().location.href=C}(Rs(y,E,S,Te(),L)),new Promise(()=>{})})()}_initialize(y){const E=y._key();if(this.eventManagers[E]){const{manager:L,promise:W}=this.eventManagers[E];return L?Promise.resolve(L):(je(W,"If manager is not set, promise should be"),W)}const S=this.initAndGetManager(y);return this.eventManagers[E]={promise:S},S.catch(()=>{delete this.eventManagers[E]}),S}initAndGetManager(y){var E=this;return(0,O.Z)(function*(){const S=yield function Ru(C){return Hc.apply(this,arguments)}(y),L=new Nu(y);return S.register("authEvent",W=>(ue(W?.authEvent,y,"invalid-auth-event"),{status:L.onEvent(W.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),E.eventManagers[y._key()]={manager:L},E.iframes[y._key()]=S,L})()}_isIframeWebStorageSupported(y,E){this.iframes[y._key()].send(qc,{type:qc},L=>{var W;const ve=null===(W=L?.[0])||void 0===W?void 0:W[qc];void 0!==ve&&E(!!ve),Fe(y,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(y){const E=y._key();return this.originValidationPromises[E]||(this.originValidationPromises[E]=function Rw(C){return ir.apply(this,arguments)}(y)),this.originValidationPromises[E]}get _shouldInitProactively(){return Wn()||j()||gt()}};class mr{constructor(y){this.factorId=y}_process(y,E,S){switch(E.type){case"enroll":return this._finalizeEnroll(y,E.credential,S);case"signin":return this._finalizeSignIn(y,E.credential);default:return Me("unexpected MultiFactorSessionType")}}}class Lo extends mr{constructor(y){super("phone"),this.credential=y}static _fromCredential(y){return new Lo(y)}_finalizeEnroll(y,E,S){return function ms(C,y){return kt(C,"POST","/v2/accounts/mfaEnrollment:finalize",nn(C,y))}(y,{idToken:E,displayName:S,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(y,E){return function E_(C,y){return kt(C,"POST","/v2/accounts/mfaSignIn:finalize",nn(C,y))}(y,{mfaPendingCredential:E,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let yh=(()=>{class C{constructor(){}static assertion(E){return Lo._fromCredential(E)}}return C.FACTOR_ID="phone",C})();var O_="@firebase/auth",vh="0.20.11";class wh{constructor(y){this.auth=y,this.internalListeners=new Map}getUid(){var y;return this.assertAuthConfigured(),(null===(y=this.auth.currentUser)||void 0===y?void 0:y.uid)||null}getToken(y){var E=this;return(0,O.Z)(function*(){return E.assertAuthConfigured(),yield E.auth._initializationPromise,E.auth.currentUser?{accessToken:yield E.auth.currentUser.getIdToken(y)}:null})()}addAuthTokenListener(y){if(this.assertAuthConfigured(),this.internalListeners.has(y))return;const E=this.auth.onIdTokenChanged(S=>{var L;y((null===(L=S)||void 0===L?void 0:L.stsTokenManager.accessToken)||null)});this.internalListeners.set(y,E),this.updateProactiveRefresh()}removeAuthTokenListener(y){this.assertAuthConfigured();const E=this.internalListeners.get(y);!E||(this.internalListeners.delete(y),E(),this.updateProactiveRefresh())}assertAuthConfigured(){ue(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(0,h.Pz)("authIdTokenMaxAge"),function P_(C){(0,G._registerComponent)(new xe.wA("auth",(y,{options:E})=>{const S=y.getProvider("app").getImmediate(),L=y.getProvider("heartbeat"),{apiKey:W,authDomain:ve}=S.options;return((Ke,Et)=>{ue(W&&!W.includes(":"),"invalid-api-key",{appName:Ke.name}),ue(!ve?.includes(":"),"argument-error",{appName:Ke.name});const Ut={apiKey:W,authDomain:ve,clientPlatform:C,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Aa(C)},mn=new cu(Ke,Et,Ut);return function Oe(C,y){const E=y?.persistence||[],S=(Array.isArray(E)?E:[E]).map(me);y?.errorMap&&C._updateErrorMap(y.errorMap),C._initializeWithPersistence(S,y?.popupRedirectResolver)}(mn,E),mn})(S,L)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((y,E,S)=>{y.getProvider("auth-internal").initialize()})),(0,G._registerComponent)(new xe.wA("auth-internal",y=>{const E=Fr(y.getProvider("auth").getImmediate());return new wh(E)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,G.registerVersion)(O_,vh,function Ow(C){switch(C){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(C)),(0,G.registerVersion)(O_,vh,"esm2017")}("Browser")},2090:(we,pe,V)=>{"use strict";V.d(pe,{$s:()=>pt,BH:()=>Cn,DV:()=>wr,Dv:()=>Gn,G6:()=>Be,GJ:()=>ki,L:()=>be,LL:()=>Zn,Pz:()=>In,Rd:()=>je,Sg:()=>Ft,UG:()=>qe,UI:()=>ii,US:()=>xe,Wj:()=>di,Wl:()=>Fn,Yr:()=>Ue,ZB:()=>te,ZR:()=>Wt,aH:()=>xt,b$:()=>ae,cI:()=>kt,dS:()=>Qn,eu:()=>ue,g5:()=>G,gK:()=>Hr,gQ:()=>$r,h$:()=>Ne,hl:()=>it,hu:()=>h,jU:()=>J,k$:()=>Lr,lb:()=>ar,m9:()=>dn,ne:()=>Pr,p$:()=>ne,pd:()=>Yn,r3:()=>ri,ru:()=>X,tV:()=>ge,uI:()=>de,ug:()=>Dn,vZ:()=>jr,w1:()=>Fe,w9:()=>Or,xO:()=>Er,xb:()=>Br,z$:()=>We,zI:()=>Me,zd:()=>Qr});const h=function(re,Y){if(!re)throw G(Y)},G=function(re){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+re)},he=function(re){const Y=[];let H=0;for(let U=0;U<re.length;U++){let k=re.charCodeAt(U);k<128?Y[H++]=k:k<2048?(Y[H++]=k>>6|192,Y[H++]=63&k|128):55296==(64512&k)&&U+1<re.length&&56320==(64512&re.charCodeAt(U+1))?(k=65536+((1023&k)<<10)+(1023&re.charCodeAt(++U)),Y[H++]=k>>18|240,Y[H++]=k>>12&63|128,Y[H++]=k>>6&63|128,Y[H++]=63&k|128):(Y[H++]=k>>12|224,Y[H++]=k>>6&63|128,Y[H++]=63&k|128)}return Y},xe={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(re,Y){if(!Array.isArray(re))throw Error("encodeByteArray takes an array as a parameter");this.init_();const H=Y?this.byteToCharMapWebSafe_:this.byteToCharMap_,U=[];for(let k=0;k<re.length;k+=3){const j=re[k],ie=k+1<re.length,Ce=ie?re[k+1]:0,Je=k+2<re.length,Ze=Je?re[k+2]:0;let Jt=(15&Ce)<<2|Ze>>6,Jn=63&Ze;Je||(Jn=64,ie||(Jt=64)),U.push(H[j>>2],H[(3&j)<<4|Ce>>4],H[Jt],H[Jn])}return U.join("")},encodeString(re,Y){return this.HAS_NATIVE_SUPPORT&&!Y?btoa(re):this.encodeByteArray(he(re),Y)},decodeString(re,Y){return this.HAS_NATIVE_SUPPORT&&!Y?atob(re):function(re){const Y=[];let H=0,U=0;for(;H<re.length;){const k=re[H++];if(k<128)Y[U++]=String.fromCharCode(k);else if(k>191&&k<224){const j=re[H++];Y[U++]=String.fromCharCode((31&k)<<6|63&j)}else if(k>239&&k<365){const Je=((7&k)<<18|(63&re[H++])<<12|(63&re[H++])<<6|63&re[H++])-65536;Y[U++]=String.fromCharCode(55296+(Je>>10)),Y[U++]=String.fromCharCode(56320+(1023&Je))}else{const j=re[H++],ie=re[H++];Y[U++]=String.fromCharCode((15&k)<<12|(63&j)<<6|63&ie)}}return Y.join("")}(this.decodeStringToByteArray(re,Y))},decodeStringToByteArray(re,Y){this.init_();const H=Y?this.charToByteMapWebSafe_:this.charToByteMap_,U=[];for(let k=0;k<re.length;){const j=H[re.charAt(k++)],Ce=k<re.length?H[re.charAt(k)]:0;++k;const Ze=k<re.length?H[re.charAt(k)]:64;++k;const gt=k<re.length?H[re.charAt(k)]:64;if(++k,null==j||null==Ce||null==Ze||null==gt)throw Error();U.push(j<<2|Ce>>4),64!==Ze&&(U.push(Ce<<4&240|Ze>>2),64!==gt&&U.push(Ze<<6&192|gt))}return U},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let re=0;re<this.ENCODED_VALS.length;re++)this.byteToCharMap_[re]=this.ENCODED_VALS.charAt(re),this.charToByteMap_[this.byteToCharMap_[re]]=re,this.byteToCharMapWebSafe_[re]=this.ENCODED_VALS_WEBSAFE.charAt(re),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[re]]=re,re>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(re)]=re,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(re)]=re)}}},Ne=function(re){const Y=he(re);return xe.encodeByteArray(Y,!0)},be=function(re){return Ne(re).replace(/\./g,"")},ge=function(re){try{return xe.decodeString(re,!0)}catch(Y){console.error("base64Decode failed: ",Y)}return null};function ne(re){return te(void 0,re)}function te(re,Y){if(!(Y instanceof Object))return Y;switch(Y.constructor){case Date:return new Date(Y.getTime());case Object:void 0===re&&(re={});break;case Array:re=[];break;default:return Y}for(const H in Y)!Y.hasOwnProperty(H)||!ce(H)||(re[H]=te(re[H],Y[H]));return re}function ce(re){return"__proto__"!==re}function We(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function de(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(We())}function qe(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function J(){return"object"==typeof self&&self.self===self}function X(){const re="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof re&&void 0!==re.id}function ae(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Fe(){const re=We();return re.indexOf("MSIE ")>=0||re.indexOf("Trident/")>=0}function Ue(){return!1}function Be(){return!qe()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function it(){return"object"==typeof indexedDB}function ue(){return new Promise((re,Y)=>{try{let H=!0;const U="validate-browser-context-for-indexeddb-analytics-module",k=self.indexedDB.open(U);k.onsuccess=()=>{k.result.close(),H||self.indexedDB.deleteDatabase(U),re(!0)},k.onupgradeneeded=()=>{H=!1},k.onerror=()=>{var j;Y((null===(j=k.error)||void 0===j?void 0:j.message)||"")}}catch(H){Y(H)}})}function Me(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}function je(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const Oe=()=>{try{return je().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const re=process.env.__FIREBASE_DEFAULTS__;return re?JSON.parse(re):void 0})()||(()=>{if(typeof document>"u")return;let re;try{re=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const Y=re&&ge(re[1]);return Y&&JSON.parse(Y)})()}catch(re){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${re}`)}},xt=()=>{var re;return null===(re=Oe())||void 0===re?void 0:re.config},In=re=>{var Y;return null===(Y=Oe())||void 0===Y?void 0:Y[`_${re}`]};class Cn{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((Y,H)=>{this.resolve=Y,this.reject=H})}wrapCallback(Y){return(H,U)=>{H?this.reject(H):this.resolve(U),"function"==typeof Y&&(this.promise.catch(()=>{}),1===Y.length?Y(H):Y(H,U))}}}function Ft(re,Y){if(re.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const U=Y||"demo-project",k=re.iat||0,j=re.sub||re.user_id;if(!j)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const ie=Object.assign({iss:`https://securetoken.google.com/${U}`,aud:U,iat:k,exp:k+3600,auth_time:k,sub:j,user_id:j,firebase:{sign_in_provider:"custom",identities:{}}},re);return[be(JSON.stringify({alg:"none",type:"JWT"})),be(JSON.stringify(ie)),""].join(".")}class Wt extends Error{constructor(Y,H,U){super(H),this.code=Y,this.customData=U,this.name="FirebaseError",Object.setPrototypeOf(this,Wt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Zn.prototype.create)}}class Zn{constructor(Y,H,U){this.service=Y,this.serviceName=H,this.errors=U}create(Y,...H){const U=H[0]||{},k=`${this.service}/${Y}`,j=this.errors[Y],ie=j?function Rr(re,Y){return re.replace(nn,(H,U)=>{const k=Y[U];return null!=k?String(k):`<${U}?>`})}(j,U):"Error";return new Wt(k,`${this.serviceName}: ${ie} (${k}).`,U)}}const nn=/\{\$([^}]+)}/g;function kt(re){return JSON.parse(re)}function Fn(re){return JSON.stringify(re)}const kr=function(re){let Y={},H={},U={},k="";try{const j=re.split(".");Y=kt(ge(j[0])||""),H=kt(ge(j[1])||""),k=j[2],U=H.d||{},delete H.d}catch{}return{header:Y,claims:H,data:U,signature:k}},Or=function(re){const H=kr(re).claims;return!!H&&"object"==typeof H&&H.hasOwnProperty("iat")},ki=function(re){const Y=kr(re).claims;return"object"==typeof Y&&!0===Y.admin};function ri(re,Y){return Object.prototype.hasOwnProperty.call(re,Y)}function wr(re,Y){if(Object.prototype.hasOwnProperty.call(re,Y))return re[Y]}function Br(re){for(const Y in re)if(Object.prototype.hasOwnProperty.call(re,Y))return!1;return!0}function ii(re,Y,H){const U={};for(const k in re)Object.prototype.hasOwnProperty.call(re,k)&&(U[k]=Y.call(H,re[k],k,re));return U}function jr(re,Y){if(re===Y)return!0;const H=Object.keys(re),U=Object.keys(Y);for(const k of H){if(!U.includes(k))return!1;const j=re[k],ie=Y[k];if(En(j)&&En(ie)){if(!jr(j,ie))return!1}else if(j!==ie)return!1}for(const k of U)if(!H.includes(k))return!1;return!0}function En(re){return null!==re&&"object"==typeof re}function Er(re){const Y=[];for(const[H,U]of Object.entries(re))Array.isArray(U)?U.forEach(k=>{Y.push(encodeURIComponent(H)+"="+encodeURIComponent(k))}):Y.push(encodeURIComponent(H)+"="+encodeURIComponent(U));return Y.length?"&"+Y.join("&"):""}function Qr(re){const Y={};return re.replace(/^\?/,"").split("&").forEach(U=>{if(U){const[k,j]=U.split("=");Y[decodeURIComponent(k)]=decodeURIComponent(j)}}),Y}function Yn(re){const Y=re.indexOf("?");if(!Y)return"";const H=re.indexOf("#",Y);return re.substring(Y,H>0?H:void 0)}class $r{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let Y=1;Y<this.blockSize;++Y)this.pad_[Y]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(Y,H){H||(H=0);const U=this.W_;if("string"==typeof Y)for(let gt=0;gt<16;gt++)U[gt]=Y.charCodeAt(H)<<24|Y.charCodeAt(H+1)<<16|Y.charCodeAt(H+2)<<8|Y.charCodeAt(H+3),H+=4;else for(let gt=0;gt<16;gt++)U[gt]=Y[H]<<24|Y[H+1]<<16|Y[H+2]<<8|Y[H+3],H+=4;for(let gt=16;gt<80;gt++){const Jt=U[gt-3]^U[gt-8]^U[gt-14]^U[gt-16];U[gt]=4294967295&(Jt<<1|Jt>>>31)}let Ze,Tt,k=this.chain_[0],j=this.chain_[1],ie=this.chain_[2],Ce=this.chain_[3],Je=this.chain_[4];for(let gt=0;gt<80;gt++){gt<40?gt<20?(Ze=Ce^j&(ie^Ce),Tt=1518500249):(Ze=j^ie^Ce,Tt=1859775393):gt<60?(Ze=j&ie|Ce&(j|ie),Tt=2400959708):(Ze=j^ie^Ce,Tt=3395469782);const Jt=(k<<5|k>>>27)+Ze+Je+Tt+U[gt]&4294967295;Je=Ce,Ce=ie,ie=4294967295&(j<<30|j>>>2),j=k,k=Jt}this.chain_[0]=this.chain_[0]+k&4294967295,this.chain_[1]=this.chain_[1]+j&4294967295,this.chain_[2]=this.chain_[2]+ie&4294967295,this.chain_[3]=this.chain_[3]+Ce&4294967295,this.chain_[4]=this.chain_[4]+Je&4294967295}update(Y,H){if(null==Y)return;void 0===H&&(H=Y.length);const U=H-this.blockSize;let k=0;const j=this.buf_;let ie=this.inbuf_;for(;k<H;){if(0===ie)for(;k<=U;)this.compress_(Y,k),k+=this.blockSize;if("string"==typeof Y){for(;k<H;)if(j[ie]=Y.charCodeAt(k),++ie,++k,ie===this.blockSize){this.compress_(j),ie=0;break}}else for(;k<H;)if(j[ie]=Y[k],++ie,++k,ie===this.blockSize){this.compress_(j),ie=0;break}}this.inbuf_=ie,this.total_+=H}digest(){const Y=[];let H=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let k=this.blockSize-1;k>=56;k--)this.buf_[k]=255&H,H/=256;this.compress_(this.buf_);let U=0;for(let k=0;k<5;k++)for(let j=24;j>=0;j-=8)Y[U]=this.chain_[k]>>j&255,++U;return Y}}function Pr(re,Y){const H=new bn(re,Y);return H.subscribe.bind(H)}class bn{constructor(Y,H){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=H,this.task.then(()=>{Y(this)}).catch(U=>{this.error(U)})}next(Y){this.forEachObserver(H=>{H.next(Y)})}error(Y){this.forEachObserver(H=>{H.error(Y)}),this.close(Y)}complete(){this.forEachObserver(Y=>{Y.complete()}),this.close()}subscribe(Y,H,U){let k;if(void 0===Y&&void 0===H&&void 0===U)throw new Error("Missing Observer.");k=function Nt(re,Y){if("object"!=typeof re||null===re)return!1;for(const H of Y)if(H in re&&"function"==typeof re[H])return!0;return!1}(Y,["next","error","complete"])?Y:{next:Y,error:H,complete:U},void 0===k.next&&(k.next=ht),void 0===k.error&&(k.error=ht),void 0===k.complete&&(k.complete=ht);const j=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?k.error(this.finalError):k.complete()}catch{}}),this.observers.push(k),j}unsubscribeOne(Y){void 0===this.observers||void 0===this.observers[Y]||(delete this.observers[Y],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(Y){if(!this.finalized)for(let H=0;H<this.observers.length;H++)this.sendOne(H,Y)}sendOne(Y,H){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[Y])try{H(this.observers[Y])}catch(U){typeof console<"u"&&console.error&&console.error(U)}})}close(Y){this.finalized||(this.finalized=!0,void 0!==Y&&(this.finalError=Y),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ht(){}const Gn=function(re,Y,H,U){let k;if(U<Y?k="at least "+Y:U>H&&(k=0===H?"none":"no more than "+H),k)throw new Error(re+" failed: Was called with "+U+(1===U?" argument.":" arguments.")+" Expects "+k+".")};function Hr(re,Y){return`${re} failed: ${Y} argument `}function di(re,Y,H,U){if((!U||H)&&"function"!=typeof H)throw new Error(Hr(re,Y)+"must be a valid function.")}function ar(re,Y,H,U){if((!U||H)&&("object"!=typeof H||null===H))throw new Error(Hr(re,Y)+"must be a valid context object.")}const Qn=function(re){const Y=[];let H=0;for(let U=0;U<re.length;U++){let k=re.charCodeAt(U);if(k>=55296&&k<=56319){const j=k-55296;U++,h(U<re.length,"Surrogate pair missing trail surrogate."),k=65536+(j<<10)+(re.charCodeAt(U)-56320)}k<128?Y[H++]=k:k<2048?(Y[H++]=k>>6|192,Y[H++]=63&k|128):k<65536?(Y[H++]=k>>12|224,Y[H++]=k>>6&63|128,Y[H++]=63&k|128):(Y[H++]=k>>18|240,Y[H++]=k>>12&63|128,Y[H++]=k>>6&63|128,Y[H++]=63&k|128)}return Y},Dn=function(re){let Y=0;for(let H=0;H<re.length;H++){const U=re.charCodeAt(H);U<128?Y++:U<2048?Y+=2:U>=55296&&U<=56319?(Y+=4,H++):Y+=3}return Y},Lr=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,re=>{const Y=16*Math.random()|0;return("x"===re?Y:3&Y|8).toString(16)})};function pt(re,Y=1e3,H=2){const U=Y*Math.pow(H,re),k=Math.round(.5*U*(Math.random()-.5)*2);return Math.min(144e5,U+k)}function dn(re){return re&&re._delegate?re._delegate:re}},3460:(we,pe,V)=>{"use strict";var O={};V.r(O),V.d(O,{afterMain:()=>t5,afterRead:()=>JG,afterWrite:()=>i5,applyStyles:()=>cU,arrow:()=>h5,auto:()=>IN,basePlacements:()=>o0,beforeMain:()=>XG,beforeRead:()=>YG,beforeWrite:()=>n5,bottom:()=>wa,clippingParents:()=>ZG,computeStyles:()=>pU,createPopper:()=>EU,createPopperBase:()=>Tte,createPopperLite:()=>xte,detectOverflow:()=>h0,end:()=>a0,eventListeners:()=>gU,flip:()=>y5,hide:()=>E5,left:()=>bo,main:()=>e5,modifierPhases:()=>s5,offset:()=>b5,placements:()=>uU,popper:()=>u0,popperGenerator:()=>AN,popperOffsets:()=>wU,preventOverflow:()=>I5,read:()=>QG,reference:()=>KG,right:()=>Ea,start:()=>Am,top:()=>Eo,variationPlacements:()=>aU,viewport:()=>oU,write:()=>r5});var h=V(4650);let G=null;function he(){return G}class Ne{}const be=new h.OlP("DocumentToken");let ge=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:function(){return function ne(){return(0,h.LFG)(ce)}()},providedIn:"platform"}),n})();const te=new h.OlP("Location Initialized");let ce=(()=>{class n extends ge{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return he().getBaseHref(this._doc)}onPopState(t){const r=he().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=he().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,r,i){We()?this._history.pushState(t,r,i):this.location.hash=i}replaceState(t,r,i){We()?this._history.replaceState(t,r,i):this.location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(be))},n.\u0275prov=h.Yz7({token:n,factory:function(){return function de(){return new ce((0,h.LFG)(be))}()},providedIn:"platform"}),n})();function We(){return!!window.history.pushState}function qe(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function J(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function X(n){return n&&"?"!==n[0]?"?"+n:n}let ae=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:function(){return(0,h.f3M)(Fe)},providedIn:"root"}),n})();const Se=new h.OlP("appBaseHref");let Fe=(()=>{class n extends ae{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??(0,h.f3M)(be).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return qe(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+X(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,u){const c=this.prepareExternalUrl(i+X(u));this._platformLocation.pushState(t,r,c)}replaceState(t,r,i,u){const c=this.prepareExternalUrl(i+X(u));this._platformLocation.replaceState(t,r,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(ge),h.LFG(Se,8))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),He=(()=>{class n extends ae{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=qe(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,u){let c=this.prepareExternalUrl(i+X(u));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.pushState(t,r,c)}replaceState(t,r,i,u){let c=this.prepareExternalUrl(i+X(u));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(ge),h.LFG(Se,8))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})(),Ue=(()=>{class n{constructor(t){this._subject=new h.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._baseHref=J(ue(r)),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+X(r))}normalize(t){return n.stripTrailingSlash(function it(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,ue(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+X(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+X(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}}return n.normalizeQueryParams=X,n.joinWithSlash=qe,n.stripTrailingSlash=J,n.\u0275fac=function(t){return new(t||n)(h.LFG(ae))},n.\u0275prov=h.Yz7({token:n,factory:function(){return function Be(){return new Ue((0,h.LFG)(ae))}()},providedIn:"root"}),n})();function ue(n){return n.replace(/\/index.html$/,"")}var me=(()=>((me=me||{})[me.Format=0]="Format",me[me.Standalone=1]="Standalone",me))(),Ie=(()=>((Ie=Ie||{})[Ie.Narrow=0]="Narrow",Ie[Ie.Abbreviated=1]="Abbreviated",Ie[Ie.Wide=2]="Wide",Ie[Ie.Short=3]="Short",Ie))(),Oe=(()=>((Oe=Oe||{})[Oe.Short=0]="Short",Oe[Oe.Medium=1]="Medium",Oe[Oe.Long=2]="Long",Oe[Oe.Full=3]="Full",Oe))(),Te=(()=>((Te=Te||{})[Te.Decimal=0]="Decimal",Te[Te.Group=1]="Group",Te[Te.List=2]="List",Te[Te.PercentSign=3]="PercentSign",Te[Te.PlusSign=4]="PlusSign",Te[Te.MinusSign=5]="MinusSign",Te[Te.Exponential=6]="Exponential",Te[Te.SuperscriptingExponent=7]="SuperscriptingExponent",Te[Te.PerMille=8]="PerMille",Te[Te.Infinity=9]="Infinity",Te[Te.NaN=10]="NaN",Te[Te.TimeSeparator=11]="TimeSeparator",Te[Te.CurrencyDecimal=12]="CurrencyDecimal",Te[Te.CurrencyGroup=13]="CurrencyGroup",Te))();function Rr(n,e){return En((0,h.cg1)(n)[h.wAp.DateFormat],e)}function nn(n,e){return En((0,h.cg1)(n)[h.wAp.TimeFormat],e)}function kt(n,e){return En((0,h.cg1)(n)[h.wAp.DateTimeFormat],e)}function Fn(n,e){const t=(0,h.cg1)(n),r=t[h.wAp.NumberSymbols][e];if(typeof r>"u"){if(e===Te.CurrencyDecimal)return t[h.wAp.NumberSymbols][Te.Decimal];if(e===Te.CurrencyGroup)return t[h.wAp.NumberSymbols][Te.Group]}return r}function wr(n){if(!n[h.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[h.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function En(n,e){for(let t=e;t>-1;t--)if(typeof n[t]<"u")return n[t];throw new Error("Locale data API: locale data undefined")}function It(n){const[e,t]=n.split(":");return{hours:+e,minutes:+t}}const $r=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Pr={},bn=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var Bn=(()=>((Bn=Bn||{})[Bn.Short=0]="Short",Bn[Bn.ShortGMT=1]="ShortGMT",Bn[Bn.Long=2]="Long",Bn[Bn.Extended=3]="Extended",Bn))(),Nt=(()=>((Nt=Nt||{})[Nt.FullYear=0]="FullYear",Nt[Nt.Month=1]="Month",Nt[Nt.Date=2]="Date",Nt[Nt.Hours=3]="Hours",Nt[Nt.Minutes=4]="Minutes",Nt[Nt.Seconds=5]="Seconds",Nt[Nt.FractionalSeconds=6]="FractionalSeconds",Nt[Nt.Day=7]="Day",Nt))(),ht=(()=>((ht=ht||{})[ht.DayPeriods=0]="DayPeriods",ht[ht.Days=1]="Days",ht[ht.Months=2]="Months",ht[ht.Eras=3]="Eras",ht))();function Gn(n,e,t,r){let i=function ie(n){if(Je(n))return n;if("number"==typeof n&&!isNaN(n))return new Date(n);if("string"==typeof n){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){const[i,u=1,c=1]=n.split("-").map(p=>+p);return Hr(i,u-1,c)}const t=parseFloat(n);if(!isNaN(n-t))return new Date(t);let r;if(r=n.match($r))return function Ce(n){const e=new Date(0);let t=0,r=0;const i=n[8]?e.setUTCFullYear:e.setFullYear,u=n[8]?e.setUTCHours:e.setHours;n[9]&&(t=Number(n[9]+n[10]),r=Number(n[9]+n[11])),i.call(e,Number(n[1]),Number(n[2])-1,Number(n[3]));const c=Number(n[4]||0)-t,p=Number(n[5]||0)-r,v=Number(n[6]||0),I=Math.floor(1e3*parseFloat("0."+(n[7]||0)));return u.call(e,c,p,v,I),e}(r)}const e=new Date(n);if(!Je(e))throw new Error(`Unable to convert "${n}" into a date`);return e}(n);e=br(t,e)||e;let p,c=[];for(;e;){if(p=bn.exec(e),!p){c.push(e);break}{c=c.concat(p.slice(1));const A=c.pop();if(!A)break;e=A}}let v=i.getTimezoneOffset();r&&(v=U(r,v),i=function j(n,e,t){const r=t?-1:1,i=n.getTimezoneOffset();return function k(n,e){return(n=new Date(n.getTime())).setMinutes(n.getMinutes()+e),n}(n,r*(U(e,i)-i))}(i,r,!0));let I="";return c.forEach(A=>{const M=function H(n){if(Y[n])return Y[n];let e;switch(n){case"G":case"GG":case"GGG":e=rn(ht.Eras,Ie.Abbreviated);break;case"GGGG":e=rn(ht.Eras,Ie.Wide);break;case"GGGGG":e=rn(ht.Eras,Ie.Narrow);break;case"y":e=Dn(Nt.FullYear,1,0,!1,!0);break;case"yy":e=Dn(Nt.FullYear,2,0,!0,!0);break;case"yyy":e=Dn(Nt.FullYear,3,0,!1,!0);break;case"yyyy":e=Dn(Nt.FullYear,4,0,!1,!0);break;case"Y":e=re(1);break;case"YY":e=re(2,!0);break;case"YYY":e=re(3);break;case"YYYY":e=re(4);break;case"M":case"L":e=Dn(Nt.Month,1,1);break;case"MM":case"LL":e=Dn(Nt.Month,2,1);break;case"MMM":e=rn(ht.Months,Ie.Abbreviated);break;case"MMMM":e=rn(ht.Months,Ie.Wide);break;case"MMMMM":e=rn(ht.Months,Ie.Narrow);break;case"LLL":e=rn(ht.Months,Ie.Abbreviated,me.Standalone);break;case"LLLL":e=rn(ht.Months,Ie.Wide,me.Standalone);break;case"LLLLL":e=rn(ht.Months,Ie.Narrow,me.Standalone);break;case"w":e=dn(1);break;case"ww":e=dn(2);break;case"W":e=dn(1,!0);break;case"d":e=Dn(Nt.Date,1);break;case"dd":e=Dn(Nt.Date,2);break;case"c":case"cc":e=Dn(Nt.Day,1);break;case"ccc":e=rn(ht.Days,Ie.Abbreviated,me.Standalone);break;case"cccc":e=rn(ht.Days,Ie.Wide,me.Standalone);break;case"ccccc":e=rn(ht.Days,Ie.Narrow,me.Standalone);break;case"cccccc":e=rn(ht.Days,Ie.Short,me.Standalone);break;case"E":case"EE":case"EEE":e=rn(ht.Days,Ie.Abbreviated);break;case"EEEE":e=rn(ht.Days,Ie.Wide);break;case"EEEEE":e=rn(ht.Days,Ie.Narrow);break;case"EEEEEE":e=rn(ht.Days,Ie.Short);break;case"a":case"aa":case"aaa":e=rn(ht.DayPeriods,Ie.Abbreviated);break;case"aaaa":e=rn(ht.DayPeriods,Ie.Wide);break;case"aaaaa":e=rn(ht.DayPeriods,Ie.Narrow);break;case"b":case"bb":case"bbb":e=rn(ht.DayPeriods,Ie.Abbreviated,me.Standalone,!0);break;case"bbbb":e=rn(ht.DayPeriods,Ie.Wide,me.Standalone,!0);break;case"bbbbb":e=rn(ht.DayPeriods,Ie.Narrow,me.Standalone,!0);break;case"B":case"BB":case"BBB":e=rn(ht.DayPeriods,Ie.Abbreviated,me.Format,!0);break;case"BBBB":e=rn(ht.DayPeriods,Ie.Wide,me.Format,!0);break;case"BBBBB":e=rn(ht.DayPeriods,Ie.Narrow,me.Format,!0);break;case"h":e=Dn(Nt.Hours,1,-12);break;case"hh":e=Dn(Nt.Hours,2,-12);break;case"H":e=Dn(Nt.Hours,1);break;case"HH":e=Dn(Nt.Hours,2);break;case"m":e=Dn(Nt.Minutes,1);break;case"mm":e=Dn(Nt.Minutes,2);break;case"s":e=Dn(Nt.Seconds,1);break;case"ss":e=Dn(Nt.Seconds,2);break;case"S":e=Dn(Nt.FractionalSeconds,1);break;case"SS":e=Dn(Nt.FractionalSeconds,2);break;case"SSS":e=Dn(Nt.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=Xe(Bn.Short);break;case"ZZZZZ":e=Xe(Bn.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=Xe(Bn.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=Xe(Bn.Long);break;default:return null}return Y[n]=e,e}(A);I+=M?M(i,t,v):"''"===A?"'":A.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),I}function Hr(n,e,t){const r=new Date(0);return r.setFullYear(n,e,t),r.setHours(0,0,0),r}function br(n,e){const t=function xt(n){return(0,h.cg1)(n)[h.wAp.LocaleId]}(n);if(Pr[t]=Pr[t]||{},Pr[t][e])return Pr[t][e];let r="";switch(e){case"shortDate":r=Rr(n,Oe.Short);break;case"mediumDate":r=Rr(n,Oe.Medium);break;case"longDate":r=Rr(n,Oe.Long);break;case"fullDate":r=Rr(n,Oe.Full);break;case"shortTime":r=nn(n,Oe.Short);break;case"mediumTime":r=nn(n,Oe.Medium);break;case"longTime":r=nn(n,Oe.Long);break;case"fullTime":r=nn(n,Oe.Full);break;case"short":const i=br(n,"shortTime"),u=br(n,"shortDate");r=di(kt(n,Oe.Short),[i,u]);break;case"medium":const c=br(n,"mediumTime"),p=br(n,"mediumDate");r=di(kt(n,Oe.Medium),[c,p]);break;case"long":const v=br(n,"longTime"),I=br(n,"longDate");r=di(kt(n,Oe.Long),[v,I]);break;case"full":const A=br(n,"fullTime"),M=br(n,"fullDate");r=di(kt(n,Oe.Full),[A,M])}return r&&(Pr[t][e]=r),r}function di(n,e){return e&&(n=n.replace(/\{([^}]+)}/g,function(t,r){return null!=e&&r in e?e[r]:t})),n}function ar(n,e,t="-",r,i){let u="";(n<0||i&&n<=0)&&(i?n=1-n:(n=-n,u=t));let c=String(n);for(;c.length<e;)c="0"+c;return r&&(c=c.slice(c.length-e)),u+c}function Dn(n,e,t=0,r=!1,i=!1){return function(u,c){let p=function Lr(n,e){switch(n){case Nt.FullYear:return e.getFullYear();case Nt.Month:return e.getMonth();case Nt.Date:return e.getDate();case Nt.Hours:return e.getHours();case Nt.Minutes:return e.getMinutes();case Nt.Seconds:return e.getSeconds();case Nt.FractionalSeconds:return e.getMilliseconds();case Nt.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}(n,u);if((t>0||p>-t)&&(p+=t),n===Nt.Hours)0===p&&-12===t&&(p=12);else if(n===Nt.FractionalSeconds)return function Qn(n,e){return ar(n,3).substring(0,e)}(p,e);const v=Fn(c,Te.MinusSign);return ar(p,e,v,r,i)}}function rn(n,e,t=me.Format,r=!1){return function(i,u){return function Gr(n,e,t,r,i,u){switch(t){case ht.Months:return function Ft(n,e,t){const r=(0,h.cg1)(n),u=En([r[h.wAp.MonthsFormat],r[h.wAp.MonthsStandalone]],e);return En(u,t)}(e,i,r)[n.getMonth()];case ht.Days:return function Cn(n,e,t){const r=(0,h.cg1)(n),u=En([r[h.wAp.DaysFormat],r[h.wAp.DaysStandalone]],e);return En(u,t)}(e,i,r)[n.getDay()];case ht.DayPeriods:const c=n.getHours(),p=n.getMinutes();if(u){const I=function Br(n){const e=(0,h.cg1)(n);return wr(e),(e[h.wAp.ExtraData][2]||[]).map(r=>"string"==typeof r?It(r):[It(r[0]),It(r[1])])}(e),A=function ii(n,e,t){const r=(0,h.cg1)(n);wr(r);const u=En([r[h.wAp.ExtraData][0],r[h.wAp.ExtraData][1]],e)||[];return En(u,t)||[]}(e,i,r),M=I.findIndex(P=>{if(Array.isArray(P)){const[$,Q]=P,le=c>=$.hours&&p>=$.minutes,ye=c<Q.hours||c===Q.hours&&p<Q.minutes;if($.hours<Q.hours){if(le&&ye)return!0}else if(le||ye)return!0}else if(P.hours===c&&P.minutes===p)return!0;return!1});if(-1!==M)return A[M]}return function In(n,e,t){const r=(0,h.cg1)(n),u=En([r[h.wAp.DayPeriodsFormat],r[h.wAp.DayPeriodsStandalone]],e);return En(u,t)}(e,i,r)[c<12?0:1];case ht.Eras:return function en(n,e){return En((0,h.cg1)(n)[h.wAp.Eras],e)}(e,r)[n.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${t}`)}}(i,u,n,e,t,r)}}function Xe(n){return function(e,t,r){const i=-1*r,u=Fn(t,Te.MinusSign),c=i>0?Math.floor(i/60):Math.ceil(i/60);switch(n){case Bn.Short:return(i>=0?"+":"")+ar(c,2,u)+ar(Math.abs(i%60),2,u);case Bn.ShortGMT:return"GMT"+(i>=0?"+":"")+ar(c,1,u);case Bn.Long:return"GMT"+(i>=0?"+":"")+ar(c,2,u)+":"+ar(Math.abs(i%60),2,u);case Bn.Extended:return 0===r?"Z":(i>=0?"+":"")+ar(c,2,u)+":"+ar(Math.abs(i%60),2,u);default:throw new Error(`Unknown zone width "${n}"`)}}}function Ht(n){return Hr(n.getFullYear(),n.getMonth(),n.getDate()+(4-n.getDay()))}function dn(n,e=!1){return function(t,r){let i;if(e){const u=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,c=t.getDate();i=1+Math.floor((c+u)/7)}else{const u=Ht(t),c=function Ot(n){const e=Hr(n,0,1).getDay();return Hr(n,0,1+(e<=4?4:11)-e)}(u.getFullYear()),p=u.getTime()-c.getTime();i=1+Math.round(p/6048e5)}return ar(i,n,Fn(r,Te.MinusSign))}}function re(n,e=!1){return function(t,r){return ar(Ht(t).getFullYear(),n,Fn(r,Te.MinusSign),e)}}const Y={};function U(n,e){n=n.replace(/:/g,"");const t=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(t)?e:t}function Je(n){return n instanceof Date&&!isNaN(n.valueOf())}let St=(()=>{class n{constructor(t,r,i,u){this._iterableDiffers=t,this._keyValueDiffers=r,this._ngEl=i,this._renderer=u,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&((0,h.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(r=>this._toggleClass(r.key,r.currentValue)),t.forEachChangedItem(r=>this._toggleClass(r.key,r.currentValue)),t.forEachRemovedItem(r=>{r.previousValue&&this._toggleClass(r.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(r=>{if("string"!=typeof r.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,h.AaK)(r.item)}`);this._toggleClass(r.item,!0)}),t.forEachRemovedItem(r=>this._toggleClass(r.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(r=>this._toggleClass(r,!0)):Object.keys(t).forEach(r=>this._toggleClass(r,!!t[r])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(r=>this._toggleClass(r,!1)):Object.keys(t).forEach(r=>this._toggleClass(r,!1)))}_toggleClass(t,r){(t=t.trim())&&t.split(/\s+/g).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(h.ZZ4),h.Y36(h.aQg),h.Y36(h.SBq),h.Y36(h.Qsj))},n.\u0275dir=h.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),n})();class Ws{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Sr=(()=>{class n{constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,u,c)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new Ws(i.item,this._ngForOf,-1,-1),null===c?void 0:c);else if(null==c)r.remove(null===u?void 0:u);else if(null!==u){const p=r.get(u);r.move(p,c),oo(p,i)}});for(let i=0,u=r.length;i<u;i++){const p=r.get(i).context;p.index=i,p.count=u,p.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{oo(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(h.s_b),h.Y36(h.Rgc),h.Y36(h.ZZ4))},n.\u0275dir=h.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function oo(n,e){n.context.$implicit=e.item}let fs=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new xa,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){un("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){un("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(h.s_b),h.Y36(h.Rgc))},n.\u0275dir=h.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class xa{constructor(){this.$implicit=null,this.ngIf=null}}function un(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,h.AaK)(e)}'.`)}function Mn(n,e){return new h.vHH(2100,!1)}class qs{createSubscription(e,t){return e.subscribe({next:t,error:r=>{throw r}})}dispose(e){e.unsubscribe()}}class du{createSubscription(e,t){return e.then(t,r=>{throw r})}dispose(e){}}const Ma=new du,dl=new qs;let ps=(()=>{class n{constructor(t){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=t}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,r=>this._updateLatestValue(t,r))}_selectStrategy(t){if((0,h.QGY)(t))return Ma;if((0,h.F4k)(t))return dl;throw Mn()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,r){t===this._obj&&(this._latestValue=r,this._ref.markForCheck())}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(h.sBO,16))},n.\u0275pipe=h.Yjl({name:"async",type:n,pure:!1,standalone:!0}),n})();const Ro=new h.OlP("DATE_PIPE_DEFAULT_TIMEZONE"),hl=new h.OlP("DATE_PIPE_DEFAULT_OPTIONS");let ka=(()=>{class n{constructor(t,r,i){this.locale=t,this.defaultTimezone=r,this.defaultOptions=i}transform(t,r,i,u){if(null==t||""===t||t!=t)return null;try{return Gn(t,r??this.defaultOptions?.dateFormat??"mediumDate",u||this.locale,i??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(c){throw Mn()}}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(h.soG,16),h.Y36(Ro,24),h.Y36(hl,24))},n.\u0275pipe=h.Yjl({name:"date",type:n,pure:!0,standalone:!0}),n})(),fu=(()=>{class n{constructor(t){this.differs=t,this.keyValues=[],this.compareFn=Qd}transform(t,r=Qd){if(!t||!(t instanceof Map)&&"object"!=typeof t)return null;this.differ||(this.differ=this.differs.find(t).create());const i=this.differ.diff(t),u=r!==this.compareFn;return i&&(this.keyValues=[],i.forEachItem(c=>{this.keyValues.push(function hu(n,e){return{key:n,value:e}}(c.key,c.currentValue))})),(i||u)&&(this.keyValues.sort(r),this.compareFn=r),this.keyValues}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(h.aQg,16))},n.\u0275pipe=h.Yjl({name:"keyvalue",type:n,pure:!1,standalone:!0}),n})();function Qd(n,e){const t=n.key,r=e.key;if(t===r)return 0;if(void 0===t)return 1;if(void 0===r)return-1;if(null===t)return 1;if(null===r)return-1;if("string"==typeof t&&"string"==typeof r)return t<r?-1:1;if("number"==typeof t&&"number"==typeof r)return t-r;if("boolean"==typeof t&&"boolean"==typeof r)return t<r?-1:1;const i=String(t),u=String(r);return i==u?0:i<u?-1:1}let pl=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({}),n})();const gu="browser";function Oa(n){return"server"===n}let gl=(()=>{class n{}return n.\u0275prov=(0,h.Yz7)({token:n,providedIn:"root",factory:()=>new mu((0,h.LFG)(be),window)}),n})();class mu{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function Zs(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const u=i.shadowRoot;if(u){const c=u.getElementById(e)||u.querySelector(`[name="${e}"]`);if(c)return c}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,u=this.offset();this.window.scrollTo(r-u[0],i-u[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=_u(this.window.history)||_u(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function _u(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class Eu extends Ne{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class fr extends Eu{static makeCurrent(){!function xe(n){G||(G=n)}(new fr)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function ww(){return bu=bu||document.querySelector("base"),bu?bu.getAttribute("href"):null}();return null==t?null:function p_(n){Iu=Iu||document.createElement("a"),Iu.setAttribute("href",n);const e=Iu.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){bu=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function zi(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,u]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(u)}return null}(document.cookie,e)}}let Iu,bu=null;const g_=new h.OlP("TRANSITION_ID"),th=[{provide:h.ip1,useFactory:function Ew(n,e,t){return()=>{t.get(h.CZH).donePromise.then(()=>{const r=he(),i=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let u=0;u<i.length;u++)r.remove(i[u])})}},deps:[g_,be,h.zs3],multi:!0}];let Sc=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();const Ac=new h.OlP("EventManagerPlugins");let Cu=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>i.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}addGlobalEventListener(t,r,i){return this._findPluginFor(r).addGlobalEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const i=this._plugins;for(let u=0;u<i.length;u++){const c=i[u];if(c.supports(t))return this._eventNameToPlugin.set(t,c),c}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(Ac),h.LFG(h.R0b))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();class m_{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const i=he().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,r)}}let Du=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})(),Ms=(()=>{class n extends Du{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,i){t.forEach(u=>{const c=this._doc.createElement("style");c.textContent=u,i.push(r.appendChild(c))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(__),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(t,i,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(__))}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(be))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();function __(n){he().remove(n)}const Jr={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},xc=/%COMP%/g;function Nc(n,e,t){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?Nc(n,i,t):(i=i.replace(xc,n),t.push(i))}return t}function wl(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let Fa=(()=>{class n{constructor(t,r,i){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new Tu(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case h.ifc.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new Rc(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(t),i}case 1:case h.ifc.ShadowDom:return new sh(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const i=Nc(r.id,r.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(Cu),h.LFG(Ms),h.LFG(h.AFp))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();class Tu{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(Jr[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){(El(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(El(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const u=Jr[i];u?e.setAttributeNS(u,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=Jr[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(h.JOm.DashCase|h.JOm.Important)?e.style.setProperty(t,r,i&h.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&h.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,wl(r)):this.eventManager.addEventListener(e,t,wl(r))}}function El(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class Rc extends Tu{constructor(e,t,r,i){super(e),this.component=r;const u=Nc(i+"-"+r.id,r.styles,[]);t.addStyles(u),this.contentAttr=function sT(n){return"_ngcontent-%COMP%".replace(xc,n)}(i+"-"+r.id),this.hostAttr=function nh(n){return"_nghost-%COMP%".replace(xc,n)}(i+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class sh extends Tu{constructor(e,t,r,i){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const u=Nc(i.id,i.styles,[]);for(let c=0;c<u.length;c++){const p=document.createElement("style");p.textContent=u[c],this.shadowRoot.appendChild(p)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let v_=(()=>{class n extends m_{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(be))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();const oh=["alt","control","meta","shift"],w_={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},bw={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let ia=(()=>{class n extends m_{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const u=n.parseEventName(r),c=n.eventCallback(u.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>he().onAndCancel(t,u.domEventName,c))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const u=n._normalizeKey(r.pop());let c="",p=r.indexOf("code");if(p>-1&&(r.splice(p,1),c="code."),oh.forEach(I=>{const A=r.indexOf(I);A>-1&&(r.splice(A,1),c+=I+".")}),c+=u,0!=r.length||0===u.length)return null;const v={};return v.domEventName=i,v.fullKey=c,v}static matchEventFullKeyCode(t,r){let i=w_[t.key]||t.key,u="";return r.indexOf("code.")>-1&&(i=t.code,u="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),oh.forEach(c=>{c!==i&&(0,bw[c])(t)&&(u+=c+".")}),u+=i,u===r)}static eventCallback(t,r,i){return u=>{n.matchEventFullKeyCode(u,t)&&i.runGuarded(()=>r(u))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(be))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();const I_=(0,h.eFA)(h._c5,"browser",[{provide:h.Lbi,useValue:gu},{provide:h.g9A,useValue:function kp(){fr.makeCurrent()},multi:!0},{provide:be,useFactory:function Op(){return(0,h.RDi)(document),document},deps:[]}]),bl=new h.OlP(""),C_=[{provide:h.rWj,useClass:class xp{addToWindow(e){h.dqk.getAngularTestability=(r,i=!0)=>{const u=e.findTestabilityInTree(r,i);if(null==u)throw new Error("Could not find testability for element.");return u},h.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),h.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),h.dqk.frameworkStabilizers||(h.dqk.frameworkStabilizers=[]),h.dqk.frameworkStabilizers.push(r=>{const i=h.dqk.getAllAngularTestabilities();let u=i.length,c=!1;const p=function(v){c=c||v,u--,0==u&&r(c)};i.forEach(function(v){v.whenStable(p)})})}findTestabilityInTree(e,t,r){return null==t?null:e.getTestability(t)??(r?he().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:h.lri,useClass:h.dDg,deps:[h.R0b,h.eoX,h.rWj]},{provide:h.dDg,useClass:h.dDg,deps:[h.R0b,h.eoX,h.rWj]}],kc=[{provide:h.zSh,useValue:"root"},{provide:h.qLn,useFactory:function b_(){return new h.qLn},deps:[]},{provide:Ac,useClass:v_,multi:!0,deps:[be,h.R0b,h.Lbi]},{provide:Ac,useClass:ia,multi:!0,deps:[be]},{provide:Fa,useClass:Fa,deps:[Cu,Ms,h.AFp]},{provide:h.FYo,useExisting:Fa},{provide:Du,useExisting:Ms},{provide:Ms,useClass:Ms,deps:[be]},{provide:Cu,useClass:Cu,deps:[Ac,h.R0b]},{provide:class lo{},useClass:Sc,deps:[]},[]];let Il=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:h.AFp,useValue:t.appId},{provide:g_,useExisting:h.AFp},th]}}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(bl,12))},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:[...kc,...C_],imports:[pl,h.hGG]}),n})(),Lp=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(be))},n.\u0275prov=h.Yz7({token:n,factory:function(t){let r=null;return r=t?new t:function Cl(){return new Lp((0,h.LFG)(be))}(),r},providedIn:"root"}),n})();typeof window<"u"&&window;var Hn=V(8996),Oo=V(7669);function Dt(...n){const e=(0,Oo.yG)(n);return(0,Hn.D)(n,e)}var Fi=V(7579);class Js extends Fi.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}const Su=(0,V(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var Xs=V(9751);const{isArray:x_}=Array,{getPrototypeOf:N_,prototype:_s,keys:fh}=Object;function Va(n){if(1===n.length){const e=n[0];if(x_(e))return{args:e,keys:null};if(function lT(n){return n&&"object"==typeof n&&N_(n)===_s}(e)){const t=fh(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}var Au=V(4671),At=V(4004);const{isArray:Nw}=Array;function ph(n){return(0,At.U)(e=>function Mw(n,e){return Nw(e)?n(...e):n(e)}(n,e))}function M_(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}var Xr=V(5403),Lc=V(9672);function Fc(...n){const e=(0,Oo.yG)(n),t=(0,Oo.jO)(n),{args:r,keys:i}=Va(n);if(0===r.length)return(0,Hn.D)([],e);const u=new Xs.y(function Uc(n,e,t=Au.y){return r=>{Ba(e,()=>{const{length:i}=n,u=new Array(i);let c=i,p=i;for(let v=0;v<i;v++)Ba(e,()=>{const I=(0,Hn.D)(n[v],e);let A=!1;I.subscribe((0,Xr.x)(r,M=>{u[v]=M,A||(A=!0,p--),p||r.next(t(u.slice()))},()=>{--c||r.complete()}))},r)},r)}}(r,e,i?c=>M_(i,c):Au.y));return t?u.pipe(ph(t)):u}function Ba(n,e,t){n?(0,Lc.f)(t,n,e):e()}var ja=V(8189);function Vc(...n){return function Al(){return(0,ja.J)(1)}()((0,Hn.D)(n,(0,Oo.yG)(n)))}var xu=V(8421);function Nu(n){return new Xs.y(e=>{(0,xu.Xf)(n()).subscribe(e)})}var Po=V(9635),Bc=V(576);function jc(n,e){const t=(0,Bc.m)(n)?n:()=>n,r=i=>i.error(t());return new Xs.y(e?i=>e.schedule(r,0,i):r)}var sa=V(515),oa=V(727),qr=V(4482);function Vp(){return(0,qr.e)((n,e)=>{let t=null;n._refCount++;const r=(0,Xr.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,u=t;t=null,i&&(!u||i===u)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class Rw extends Xs.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,qr.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new oa.w0;const t=this.getSubject();e.add(this.source.subscribe((0,Xr.x)(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=oa.w0.EMPTY)}return e}refCount(){return Vp()(this)}}function ir(n,e){return(0,qr.e)((t,r)=>{let i=null,u=0,c=!1;const p=()=>c&&!i&&r.complete();t.subscribe((0,Xr.x)(r,v=>{i?.unsubscribe();let I=0;const A=u++;(0,xu.Xf)(n(v,A)).subscribe(i=(0,Xr.x)(r,M=>r.next(e?e(v,M,A,I++):M),()=>{i=null,p()}))},()=>{c=!0,p()}))})}function xl(n){return n<=0?()=>sa.E:(0,qr.e)((e,t)=>{let r=0;e.subscribe((0,Xr.x)(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function gh(...n){const e=(0,Oo.yG)(n);return(0,qr.e)((t,r)=>{(e?Vc(n,t,e):Vc(n,t)).subscribe(r)})}function ys(n,e){return(0,qr.e)((t,r)=>{let i=0;t.subscribe((0,Xr.x)(r,u=>n.call(e,u,i++)&&r.next(u)))})}var Ji=V(5577);function Mu(n){return(0,qr.e)((e,t)=>{let r=!1;e.subscribe((0,Xr.x)(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function $c(n=R_){return(0,qr.e)((e,t)=>{let r=!1;e.subscribe((0,Xr.x)(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function R_(){return new Su}function aa(n,e){const t=arguments.length>=2;return r=>r.pipe(n?ys((i,u)=>n(i,u,r)):Au.y,xl(1),t?Mu(e):$c(()=>new Su))}function $a(n,e){return(0,Bc.m)(e)?(0,Ji.z)(n,e,1):(0,Ji.z)(n,1)}var as=V(8505);function ua(n){return(0,qr.e)((e,t)=>{let u,r=null,i=!1;r=e.subscribe((0,Xr.x)(t,void 0,void 0,c=>{u=(0,xu.Xf)(n(c,ua(n)(e))),r?(r.unsubscribe(),r=null,u.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,u.subscribe(t))})}function cT(n,e,t,r,i){return(u,c)=>{let p=t,v=e,I=0;u.subscribe((0,Xr.x)(c,A=>{const M=I++;v=p?n(v,A,M):(p=!0,A),r&&c.next(v)},i&&(()=>{p&&c.next(v),c.complete()})))}}function Ru(n,e){return(0,qr.e)(cT(n,e,arguments.length>=2,!0))}function Hc(n){return n<=0?()=>sa.E:(0,qr.e)((e,t)=>{let r=[];e.subscribe((0,Xr.x)(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function mh(n,e){const t=arguments.length>=2;return r=>r.pipe(n?ys((i,u)=>n(i,u,r)):Au.y,Hc(1),t?Mu(e):$c(()=>new Su))}function Gc(n){return(0,qr.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const Sn="primary",Wc=Symbol("RouteTitle");class fT{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function zc(n){return new fT(n)}function pT(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let u=0;u<r.length;u++){const c=r[u],p=n[u];if(c.startsWith(":"))i[c.substring(1)]=p;else if(c!==p.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function Rs(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let u=0;u<t.length;u++)if(i=t[u],!_h(n[i],e[i]))return!1;return!0}function _h(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,u)=>r[u]===i)}return n===e}function qc(n){return Array.prototype.concat.apply([],n)}function Bp(n){return n.length>0?n[n.length-1]:null}function mr(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function Lo(n){return(0,h.CqO)(n)?n:(0,h.QGY)(n)?(0,Hn.D)(Promise.resolve(n)):Dt(n)}const yh=!1,O_={exact:function P_(n,e,t){if(!S(n.segments,e.segments)||!Eh(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!P_(n.children[r],e.children[r],t))return!1;return!0},subset:jp},vh={exact:function Ow(n,e){return Rs(n,e)},subset:function Pw(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>_h(n[t],e[t]))},ignored:()=>!0};function wh(n,e,t){return O_[t.paths](n.root,e.root,t.matrixParams)&&vh[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function jp(n,e,t){return $p(n,e,e.segments,t)}function $p(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!S(i,t)||e.hasChildren()||!Eh(i,t,r))}if(n.segments.length===t.length){if(!S(n.segments,t)||!Eh(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!jp(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),u=t.slice(n.segments.length);return!!(S(n.segments,i)&&Eh(n.segments,i,r)&&n.children[Sn])&&$p(n.children[Sn],e,u,r)}}function Eh(n,e,t){return e.every((r,i)=>vh[t](n[i].parameters,r.parameters))}class fi{constructor(e=new C([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=zc(this.queryParams)),this._queryParamMap}toString(){return Ke.serialize(this)}}class C{constructor(e,t){this.segments=e,this.children=t,this.parent=null,mr(t,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Et(this)}}class y{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=zc(this.parameters)),this._parameterMap}toString(){return Nl(this)}}function S(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}let W=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:function(){return new ve},providedIn:"root"}),n})();class ve{parse(e){const t=new Ih(e);return new fi(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${Ut(e.root,!0)}`,r=function Hp(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${pr(t)}=${pr(i)}`).join("&"):`${pr(t)}=${pr(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function co(n){return encodeURI(n)}(e.fragment)}`:""}`}}const Ke=new ve;function Et(n){return n.segments.map(e=>Nl(e)).join("/")}function Ut(n,e){if(!n.hasChildren())return Et(n);if(e){const t=n.children[Sn]?Ut(n.children[Sn],!1):"",r=[];return mr(n.children,(i,u)=>{u!==Sn&&r.push(`${u}:${Ut(i,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function L(n,e){let t=[];return mr(n.children,(r,i)=>{i===Sn&&(t=t.concat(e(r,i)))}),mr(n.children,(r,i)=>{i!==Sn&&(t=t.concat(e(r,i)))}),t}(n,(r,i)=>i===Sn?[Ut(n.children[Sn],!1)]:[`${i}:${Ut(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Sn]?`${Et(n)}/${t[0]}`:`${Et(n)}/(${t.join("//")})`}}function mn(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function pr(n){return mn(n).replace(/%3B/gi,";")}function Fo(n){return mn(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ku(n){return decodeURIComponent(n)}function Zc(n){return ku(n.replace(/\+/g,"%20"))}function Nl(n){return`${Fo(n.path)}${function L_(n){return Object.keys(n).map(e=>`;${Fo(e)}=${Fo(n[e])}`).join("")}(n.parameters)}`}const Gp=/^[^\/()?;=#]+/;function la(n){const e=n.match(Gp);return e?e[0]:""}const F_=/^[^=?&#]+/,bh=/^[^&#]+/;class Ih{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new C([],{}):new C([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[Sn]=new C(e,t)),r}parseSegment(){const e=la(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new h.vHH(4009,yh);return this.capture(e),new y(ku(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=la(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=la(this.remaining);i&&(r=i,this.capture(r))}e[ku(t)]=ku(r)}parseQueryParam(e){const t=function Wp(n){const e=n.match(F_);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const c=function zp(n){const e=n.match(bh);return e?e[0]:""}(this.remaining);c&&(r=c,this.capture(r))}const i=Zc(t),u=Zc(r);if(e.hasOwnProperty(i)){let c=e[i];Array.isArray(c)||(c=[c],e[i]=c),c.push(u)}else e[i]=u}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=la(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new h.vHH(4010,yh);let u;r.indexOf(":")>-1?(u=r.slice(0,r.indexOf(":")),this.capture(u),this.capture(":")):e&&(u=Sn);const c=this.parseChildren();t[u]=1===Object.keys(c).length?c[Sn]:new C([],c),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new h.vHH(4011,yh)}}function U_(n){return n.segments.length>0?new C([],{[Sn]:n}):n}function Ou(n){const e={};for(const r of Object.keys(n.children)){const u=Ou(n.children[r]);(u.segments.length>0||u.hasChildren())&&(e[r]=u)}return function Lw(n){if(1===n.numberOfChildren&&n.children[Sn]){const e=n.children[Sn];return new C(n.segments.concat(e.segments),e.children)}return n}(new C(n.segments,e))}function Ml(n){return n instanceof fi}function CR(n,e,t,r,i){if(0===t.length)return Ch(e.root,e.root,e.root,r,i);const u=function Vw(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new V_(!0,0,n);let e=0,t=!1;const r=n.reduce((i,u,c)=>{if("object"==typeof u&&null!=u){if(u.outlets){const p={};return mr(u.outlets,(v,I)=>{p[I]="string"==typeof v?v.split("/"):v}),[...i,{outlets:p}]}if(u.segmentPath)return[...i,u.segmentPath]}return"string"!=typeof u?[...i,u]:0===c?(u.split("/").forEach((p,v)=>{0==v&&"."===p||(0==v&&""===p?t=!0:".."===p?e++:""!=p&&i.push(p))}),i):[...i,u]},[]);return new V_(t,e,r)}(t);return u.toRoot()?Ch(e.root,e.root,new C([],{}),r,i):function c(v){const I=function TR(n,e,t,r){if(n.isAbsolute)return new Rl(e.root,!0,0);if(-1===r)return new Rl(t,t===e.root,0);return function Bw(n,e,t){let r=n,i=e,u=t;for(;u>i;){if(u-=i,r=r.parent,!r)throw new h.vHH(4005,!1);i=r.segments.length}return new Rl(r,!1,i-u)}(t,r+(qp(n.commands[0])?0:1),n.numberOfDoubleDots)}(u,e,n.snapshot?._urlSegment,v),A=I.processChildren?Dh(I.segmentGroup,I.index,u.commands):Pu(I.segmentGroup,I.index,u.commands);return Ch(e.root,I.segmentGroup,A,r,i)}(n.snapshot?._lastPathIndex)}function qp(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Zp(n){return"object"==typeof n&&null!=n&&n.outlets}function Ch(n,e,t,r,i){let c,u={};r&&mr(r,(v,I)=>{u[I]=Array.isArray(v)?v.map(A=>`${A}`):`${v}`}),c=n===e?t:Uw(n,e,t);const p=U_(Ou(c));return new fi(p,u,i)}function Uw(n,e,t){const r={};return mr(n.children,(i,u)=>{r[u]=i===e?t:Uw(i,e,t)}),new C(n.segments,r)}class V_{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&qp(r[0]))throw new h.vHH(4003,!1);const i=r.find(Zp);if(i&&i!==Bp(r))throw new h.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Rl{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function Pu(n,e,t){if(n||(n=new C([],{})),0===n.segments.length&&n.hasChildren())return Dh(n,e,t);const r=function _T(n,e,t){let r=0,i=e;const u={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return u;const c=n.segments[i],p=t[r];if(Zp(p))break;const v=`${p}`,I=r<t.length-1?t[r+1]:null;if(i>0&&void 0===v)break;if(v&&I&&"object"==typeof I&&void 0===I.outlets){if(!yT(v,I,c))return u;r+=2}else{if(!yT(v,{},c))return u;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const u=new C(n.segments.slice(0,r.pathIndex),{});return u.children[Sn]=new C(n.segments.slice(r.pathIndex),n.children),Dh(u,0,i)}return r.match&&0===i.length?new C(n.segments,{}):r.match&&!n.hasChildren()?jw(n,e,t):r.match?Dh(n,0,i):jw(n,e,t)}function Dh(n,e,t){if(0===t.length)return new C(n.segments,{});{const r=function mT(n){return Zp(n[0])?n[0].outlets:{[Sn]:n}}(t),i={};return mr(r,(u,c)=>{"string"==typeof u&&(u=[u]),null!==u&&(i[c]=Pu(n.children[c],e,u))}),mr(n.children,(u,c)=>{void 0===r[c]&&(i[c]=u)}),new C(n.segments,i)}}function jw(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const u=t[i];if(Zp(u)){const v=SB(u.outlets);return new C(r,v)}if(0===i&&qp(t[0])){r.push(new y(n.segments[e].path,Kp(t[0]))),i++;continue}const c=Zp(u)?u.outlets[Sn]:`${u}`,p=i<t.length-1?t[i+1]:null;c&&p&&qp(p)?(r.push(new y(c,Kp(p))),i+=2):(r.push(new y(c,{})),i++)}return new C(r,{})}function SB(n){const e={};return mr(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=jw(new C([],{}),0,t))}),e}function Kp(n){const e={};return mr(n,(t,r)=>e[r]=`${t}`),e}function yT(n,e,t){return n==t.path&&Rs(e,t.parameters)}class Ha{constructor(e,t){this.id=e,this.url=t}}class B_ extends Ha{constructor(e,t,r="imperative",i=null){super(e,t),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class kl extends Ha{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Th extends Ha{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class $w extends Ha{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class j_ extends Ha{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class $_ extends Ha{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class vT extends Ha{constructor(e,t,r,i,u){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=u,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Hw extends Ha{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Gw extends Ha{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ww{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Yp{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class SR{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class wT{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class AR{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ET{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class bT{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class zw{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=Sh(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=Sh(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=Qp(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Qp(e,this._root).map(t=>t.value)}}function Sh(n,e){if(n===e.value)return e;for(const t of e.children){const r=Sh(n,t);if(r)return r}return null}function Qp(n,e){if(n===e.value)return[e];for(const t of e.children){const r=Qp(n,t);if(r.length)return r.unshift(e),r}return[]}class ks{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Ah(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class CT extends zw{constructor(e,t){super(e),this.snapshot=t,G_(this,e)}toString(){return this.snapshot.toString()}}function xR(n,e){const t=function NR(n,e){const c=new Kc([],{},{},"",{},Sn,e,null,n.root,-1,{});return new H_("",new ks(c,[]))}(n,e),r=new Js([new y("",{})]),i=new Js({}),u=new Js({}),c=new Js({}),p=new Js(""),v=new Lu(r,i,c,p,u,Sn,e,t.root);return v.snapshot=t.root,new CT(new ks(v,[]),t)}class Lu{constructor(e,t,r,i,u,c,p,v){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=u,this.outlet=c,this.component=p,this.title=this.data?.pipe((0,At.U)(I=>I[Wc]))??Dt(void 0),this._futureSnapshot=v}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,At.U)(e=>zc(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,At.U)(e=>zc(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function DT(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],u=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(u.component)break;r--}}return function TT(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class Kc{constructor(e,t,r,i,u,c,p,v,I,A,M){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=u,this.outlet=c,this.component=p,this.routeConfig=v,this._urlSegment=I,this._lastPathIndex=A,this._resolve=M}get title(){return this.data?.[Wc]}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=zc(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=zc(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class H_ extends zw{constructor(e,t){super(t),this.url=e,G_(this,t)}toString(){return qw(this._root)}}function G_(n,e){e.value._routerState=n,e.children.forEach(t=>G_(n,t))}function qw(n){const e=n.children.length>0?` { ${n.children.map(qw).join(", ")} } `:"";return`${n.value}${e}`}function W_(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Rs(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),Rs(e.params,t.params)||n.params.next(t.params),function kw(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Rs(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),Rs(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function z_(n,e){const t=Rs(n.params,e.params)&&function E(n,e){return S(n,e)&&n.every((t,r)=>Rs(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||z_(n.parent,e.parent))}function Jp(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function RR(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Jp(n,r,i);return Jp(n,r)})}(n,e,t);return new ks(r,i)}{if(n.shouldAttach(e.value)){const u=n.retrieve(e.value);if(null!==u){const c=u.route;return c.value._futureSnapshot=e.value,c.children=e.children.map(p=>Jp(n,p)),c}}const r=function kR(n){return new Lu(new Js(n.url),new Js(n.params),new Js(n.queryParams),new Js(n.fragment),new Js(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(u=>Jp(n,u));return new ks(r,i)}}const Zw="ngNavigationCancelingError";function Fu(n,e){const{redirectTo:t,navigationBehaviorOptions:r}=Ml(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=xh(!1,0,e);return i.url=t,i.navigationBehaviorOptions=r,i}function xh(n,e,t){const r=new Error("NavigationCancelingError: "+(n||""));return r[Zw]=!0,r.cancellationCode=e,t&&(r.url=t),r}function ST(n){return OR(n)&&Ml(n.url)}function OR(n){return n&&n[Zw]}class AB{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Xp,this.attachRef=null}}let Xp=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new AB,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Kw=!1;let AT=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=Sn,this.activateEvents=new h.vpe,this.deactivateEvents=new h.vpe,this.attachEvents=new h.vpe,this.detachEvents=new h.vpe,this.parentContexts=(0,h.f3M)(Xp),this.location=(0,h.f3M)(h.s_b),this.changeDetector=(0,h.f3M)(h.sBO),this.environmentInjector=(0,h.f3M)(h.lqb)}ngOnChanges(t){if(t.name){const{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new h.vHH(4012,Kw);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new h.vHH(4012,Kw);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new h.vHH(4012,Kw);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new h.vHH(4013,Kw);this._activatedRoute=t;const i=this.location,c=t.snapshot.component,p=this.parentContexts.getOrCreateContext(this.name).children,v=new xT(t,p,i.injector);if(r&&function PR(n){return!!n.resolveComponentFactory}(r)){const I=r.resolveComponentFactory(c);this.activated=i.createComponent(I,i.length,v)}else this.activated=i.createComponent(c,{index:i.length,injector:v,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=h.lG2({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[h.TTD]}),n})();class xT{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===Lu?this.route:e===Xp?this.childContexts:this.parent.get(e,t)}}let q_=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=h.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[h.jDz],decls:1,vars:0,template:function(t,r){1&t&&h._UZ(0,"router-outlet")},dependencies:[AT],encapsulation:2}),n})();function NT(n,e){return n.providers&&!n._injector&&(n._injector=(0,h.MMx)(n.providers,e,`Route: ${n.path}`)),n._injector??e}function OT(n){const e=n.children&&n.children.map(OT),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Sn&&(t.component=q_),t}function ca(n){return n.outlet||Sn}function Y_(n,e){const t=n.filter(r=>ca(r)===e);return t.push(...n.filter(r=>ca(r)!==e)),t}function Yc(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class RB{constructor(e,t,r,i){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),W_(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=Ah(t);e.children.forEach(u=>{const c=u.value.outlet;this.deactivateRoutes(u,i[c],r),delete i[c]}),mr(i,(u,c)=>{this.deactivateRouteAndItsChildren(u,r)})}deactivateRoutes(e,t,r){const i=e.value,u=t?t.value:null;if(i===u)if(i.component){const c=r.getContext(i.outlet);c&&this.deactivateChildRoutes(e,t,c.children)}else this.deactivateChildRoutes(e,t,r);else u&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,u=Ah(e);for(const c of Object.keys(u))this.deactivateRouteAndItsChildren(u[c],i);if(r&&r.outlet){const c=r.outlet.detach(),p=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:c,route:e,contexts:p})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,u=Ah(e);for(const c of Object.keys(u))this.deactivateRouteAndItsChildren(u[c],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const i=Ah(t);e.children.forEach(u=>{this.activateRoutes(u,i[u.value.outlet],r),this.forwardEvent(new ET(u.value.snapshot))}),e.children.length&&this.forwardEvent(new wT(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,u=t?t.value:null;if(W_(i),i===u)if(i.component){const c=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,c.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const c=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const p=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),c.children.onOutletReAttached(p.contexts),c.attachRef=p.componentRef,c.route=p.route.value,c.outlet&&c.outlet.attach(p.componentRef,p.route.value),W_(p.route.value),this.activateChildRoutes(e,null,c.children)}else{const p=Yc(i.snapshot),v=p?.get(h._Vd)??null;c.attachRef=null,c.route=i,c.resolver=v,c.injector=p,c.outlet&&c.outlet.activateWith(i,c.injector),this.activateChildRoutes(e,null,c.children)}}else this.activateChildRoutes(e,null,r)}}class Yw{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Q_{constructor(e,t){this.component=e,this.route=t}}function LR(n,e,t){const r=n._root;return Mh(r,e?e._root:null,t,[r.value])}function Nh(n,e){const t=Symbol(),r=e.get(n,t);return r===t?"function"!=typeof n||(0,h.Z0I)(n)?e.get(n):n:r}function Mh(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const u=Ah(e);return n.children.forEach(c=>{(function J_(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const u=n.value,c=e?e.value:null,p=t?t.getContext(n.value.outlet):null;if(c&&u.routeConfig===c.routeConfig){const v=function UR(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!S(n.url,e.url);case"pathParamsOrQueryParamsChange":return!S(n.url,e.url)||!Rs(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!z_(n,e)||!Rs(n.queryParams,e.queryParams);default:return!z_(n,e)}}(c,u,u.routeConfig.runGuardsAndResolvers);v?i.canActivateChecks.push(new Yw(r)):(u.data=c.data,u._resolvedData=c._resolvedData),Mh(n,e,u.component?p?p.children:null:t,r,i),v&&p&&p.outlet&&p.outlet.isActivated&&i.canDeactivateChecks.push(new Q_(p.outlet.component,c))}else c&&Qc(e,p,i),i.canActivateChecks.push(new Yw(r)),Mh(n,null,u.component?p?p.children:null:t,r,i)})(c,u[c.value.outlet],t,r.concat([c.value]),i),delete u[c.value.outlet]}),mr(u,(c,p)=>Qc(c,t.getContext(p),i)),i}function Qc(n,e,t){const r=Ah(n),i=n.value;mr(r,(u,c)=>{Qc(u,i.component?e?e.children.getContext(c):null:e,t)}),t.canDeactivateChecks.push(new Q_(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function eg(n){return"function"==typeof n}function Qw(n){return n instanceof Su||"EmptyError"===n?.name}const tg=Symbol("INITIAL_VALUE");function ng(){return ir(n=>Fc(n.map(e=>e.pipe(xl(1),gh(tg)))).pipe((0,At.U)(e=>{for(const t of e)if(!0!==t){if(t===tg)return tg;if(!1===t||t instanceof fi)return t}return!0}),ys(e=>e!==tg),xl(1)))}function Xw(n){return(0,Po.z)((0,as.b)(e=>{if(Ml(e))throw Fu(0,e)}),(0,At.U)(e=>!0===e))}const jT={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function X_(n,e,t,r,i){const u=tE(n,e,t);return u.matched?function eE(n,e,t,r){const i=e.canMatch;return i&&0!==i.length?Dt(i.map(c=>{const p=Nh(c,n);return Lo(function jR(n){return n&&eg(n.canMatch)}(p)?p.canMatch(e,t):n.runInContext(()=>p(e,t)))})).pipe(ng(),Xw()):Dt(!0)}(r=NT(e,r),e,t).pipe((0,At.U)(c=>!0===c?u:{...jT})):Dt(u)}function tE(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...jT}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const i=(e.matcher||pT)(t,n,e);if(!i)return{...jT};const u={};mr(i.posParams,(p,v)=>{u[v]=p.path});const c=i.consumed.length>0?{...u,...i.consumed[i.consumed.length-1].parameters}:u;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:c,positionalParamSegments:i.posParams??{}}}function Rh(n,e,t,r){if(t.length>0&&function Jc(n,e,t){return t.some(r=>kh(n,e,r)&&ca(r)!==Sn)}(n,t,r)){const u=new C(e,function HT(n,e,t,r){const i={};i[Sn]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const u of t)if(""===u.path&&ca(u)!==Sn){const c=new C([],{});c._sourceSegment=n,c._segmentIndexShift=e.length,i[ca(u)]=c}return i}(n,e,r,new C(t,n.children)));return u._sourceSegment=n,u._segmentIndexShift=e.length,{segmentGroup:u,slicedSegments:[]}}if(0===t.length&&function GR(n,e,t){return t.some(r=>kh(n,e,r))}(n,t,r)){const u=new C(n.segments,function $T(n,e,t,r,i){const u={};for(const c of r)if(kh(n,t,c)&&!i[ca(c)]){const p=new C([],{});p._sourceSegment=n,p._segmentIndexShift=e.length,u[ca(c)]=p}return{...i,...u}}(n,e,t,r,n.children));return u._sourceSegment=n,u._segmentIndexShift=e.length,{segmentGroup:u,slicedSegments:t}}const i=new C(n.segments,n.children);return i._sourceSegment=n,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:t}}function kh(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function ig(n,e,t,r){return!!(ca(n)===r||r!==Sn&&kh(e,t,n))&&("**"===n.path||tE(e,n,t).matched)}function GT(n,e,t){return 0===e.length&&!n.children[t]}const Oh=!1;class Xc{constructor(e){this.segmentGroup=e||null}}class Pl{constructor(e){this.urlTree=e}}function Ph(n){return jc(new Xc(n))}function ey(n){return jc(new Pl(n))}class Lh{constructor(e,t,r,i,u){this.injector=e,this.configLoader=t,this.urlSerializer=r,this.urlTree=i,this.config=u,this.allowRedirects=!0}apply(){const e=Rh(this.urlTree.root,[],[],this.config).segmentGroup,t=new C(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,t,Sn).pipe((0,At.U)(u=>this.createUrlTree(Ou(u),this.urlTree.queryParams,this.urlTree.fragment))).pipe(ua(u=>{if(u instanceof Pl)return this.allowRedirects=!1,this.match(u.urlTree);throw u instanceof Xc?this.noMatchError(u):u}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,Sn).pipe((0,At.U)(i=>this.createUrlTree(Ou(i),e.queryParams,e.fragment))).pipe(ua(i=>{throw i instanceof Xc?this.noMatchError(i):i}))}noMatchError(e){return new h.vHH(4002,Oh)}createUrlTree(e,t,r){const i=U_(e);return new fi(i,t,r)}expandSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe((0,At.U)(u=>new C([],u))):this.expandSegment(e,r,t,r.segments,i,!0)}expandChildren(e,t,r){const i=[];for(const u of Object.keys(r.children))"primary"===u?i.unshift(u):i.push(u);return(0,Hn.D)(i).pipe($a(u=>{const c=r.children[u],p=Y_(t,u);return this.expandSegmentGroup(e,p,c,u).pipe((0,At.U)(v=>({segment:v,outlet:u})))}),Ru((u,c)=>(u[c.outlet]=c.segment,u),{}),mh())}expandSegment(e,t,r,i,u,c){return(0,Hn.D)(r).pipe($a(p=>this.expandSegmentAgainstRoute(e,t,r,p,i,u,c).pipe(ua(I=>{if(I instanceof Xc)return Dt(null);throw I}))),aa(p=>!!p),ua((p,v)=>{if(Qw(p))return GT(t,i,u)?Dt(new C([],{})):Ph(t);throw p}))}expandSegmentAgainstRoute(e,t,r,i,u,c,p){return ig(i,t,u,c)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,t,i,u,c):p&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,i,u,c):Ph(t):Ph(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,u,c){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,c):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,u,c)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const u=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?ey(u):this.lineralizeSegments(r,u).pipe((0,Ji.z)(c=>{const p=new C(c,{});return this.expandSegment(e,p,t,c,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,u,c){const{matched:p,consumedSegments:v,remainingSegments:I,positionalParamSegments:A}=tE(t,i,u);if(!p)return Ph(t);const M=this.applyRedirectCommands(v,i.redirectTo,A);return i.redirectTo.startsWith("/")?ey(M):this.lineralizeSegments(i,M).pipe((0,Ji.z)(P=>this.expandSegment(e,t,r,P.concat(I),c,!1)))}matchSegmentAgainstRoute(e,t,r,i,u){return"**"===r.path?(e=NT(r,e),r.loadChildren?(r._loadedRoutes?Dt({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(e,r)).pipe((0,At.U)(p=>(r._loadedRoutes=p.routes,r._loadedInjector=p.injector,new C(i,{})))):Dt(new C(i,{}))):X_(t,r,i,e).pipe(ir(({matched:c,consumedSegments:p,remainingSegments:v})=>c?this.getChildConfig(e=r._injector??e,r,i).pipe((0,Ji.z)(A=>{const M=A.injector??e,P=A.routes,{segmentGroup:$,slicedSegments:Q}=Rh(t,p,v,P),le=new C($.segments,$.children);if(0===Q.length&&le.hasChildren())return this.expandChildren(M,P,le).pipe((0,At.U)(wt=>new C(p,wt)));if(0===P.length&&0===Q.length)return Dt(new C(p,{}));const ye=ca(r)===u;return this.expandSegment(M,le,P,Q,ye?Sn:u,!0).pipe((0,At.U)(dt=>new C(p.concat(dt.segments),dt.children)))})):Ph(t)))}getChildConfig(e,t,r){return t.children?Dt({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?Dt({routes:t._loadedRoutes,injector:t._loadedInjector}):function BT(n,e,t,r){const i=e.canLoad;return void 0===i||0===i.length?Dt(!0):Dt(i.map(c=>{const p=Nh(c,n);return Lo(function VR(n){return n&&eg(n.canLoad)}(p)?p.canLoad(e,t):n.runInContext(()=>p(e,t)))})).pipe(ng(),Xw())}(e,t,r).pipe((0,Ji.z)(i=>i?this.configLoader.loadChildren(e,t).pipe((0,as.b)(u=>{t._loadedRoutes=u.routes,t._loadedInjector=u.injector})):function zR(n){return jc(xh(Oh,3))}())):Dt({routes:[],injector:e})}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return Dt(r);if(i.numberOfChildren>1||!i.children[Sn])return jc(new h.vHH(4e3,Oh));i=i.children[Sn]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreateUrlTree(e,t,r,i){const u=this.createSegmentGroup(e,t.root,r,i);return new fi(u,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return mr(e,(i,u)=>{if("string"==typeof i&&i.startsWith(":")){const p=i.substring(1);r[u]=t[p]}else r[u]=i}),r}createSegmentGroup(e,t,r,i){const u=this.createSegments(e,t.segments,r,i);let c={};return mr(t.children,(p,v)=>{c[v]=this.createSegmentGroup(e,p,r,i)}),new C(u,c)}createSegments(e,t,r,i){return t.map(u=>u.path.startsWith(":")?this.findPosParam(e,u,i):this.findOrReturn(u,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new h.vHH(4001,Oh);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}class ZR{}class qT{constructor(e,t,r,i,u,c,p){this.injector=e,this.rootComponentType=t,this.config=r,this.urlTree=i,this.url=u,this.paramsInheritanceStrategy=c,this.urlSerializer=p}recognize(){const e=Rh(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,Sn).pipe((0,At.U)(t=>{if(null===t)return null;const r=new Kc([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Sn,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new ks(r,t),u=new H_(this.url,i);return this.inheritParamsAndData(u._root),u}))}inheritParamsAndData(e){const t=e.value,r=DT(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,i)}processChildren(e,t,r){return(0,Hn.D)(Object.keys(r.children)).pipe($a(i=>{const u=r.children[i],c=Y_(t,i);return this.processSegmentGroup(e,c,u,i)}),Ru((i,u)=>i&&u?(i.push(...u),i):null),function dT(n,e=!1){return(0,qr.e)((t,r)=>{let i=0;t.subscribe((0,Xr.x)(r,u=>{const c=n(u,i++);(c||e)&&r.next(u),!c&&r.complete()}))})}(i=>null!==i),Mu(null),mh(),(0,At.U)(i=>{if(null===i)return null;const u=KT(i);return function YR(n){n.sort((e,t)=>e.value.outlet===Sn?-1:t.value.outlet===Sn?1:e.value.outlet.localeCompare(t.value.outlet))}(u),u}))}processSegment(e,t,r,i,u){return(0,Hn.D)(t).pipe($a(c=>this.processSegmentAgainstRoute(c._injector??e,c,r,i,u)),aa(c=>!!c),ua(c=>{if(Qw(c))return GT(r,i,u)?Dt([]):Dt(null);throw c}))}processSegmentAgainstRoute(e,t,r,i,u){if(t.redirectTo||!ig(t,r,i,u))return Dt(null);let c;if("**"===t.path){const p=i.length>0?Bp(i).parameters:{},v=ed(r)+i.length;c=Dt({snapshot:new Kc(i,p,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,QT(t),ca(t),t.component??t._loadedComponent??null,t,YT(r),v,rE(t)),consumedSegments:[],remainingSegments:[]})}else c=X_(r,t,i,e).pipe((0,At.U)(({matched:p,consumedSegments:v,remainingSegments:I,parameters:A})=>{if(!p)return null;const M=ed(r)+v.length;return{snapshot:new Kc(v,A,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,QT(t),ca(t),t.component??t._loadedComponent??null,t,YT(r),M,rE(t)),consumedSegments:v,remainingSegments:I}}));return c.pipe(ir(p=>{if(null===p)return Dt(null);const{snapshot:v,consumedSegments:I,remainingSegments:A}=p;e=t._injector??e;const M=t._loadedInjector??e,P=function ZT(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(t),{segmentGroup:$,slicedSegments:Q}=Rh(r,I,A,P.filter(ye=>void 0===ye.redirectTo));if(0===Q.length&&$.hasChildren())return this.processChildren(M,P,$).pipe((0,At.U)(ye=>null===ye?null:[new ks(v,ye)]));if(0===P.length&&0===Q.length)return Dt([new ks(v,[])]);const le=ca(t)===u;return this.processSegment(M,P,$,Q,le?Sn:u).pipe((0,At.U)(ye=>null===ye?null:[new ks(v,ye)]))}))}}function LB(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function KT(n){const e=[],t=new Set;for(const r of n){if(!LB(r)){e.push(r);continue}const i=e.find(u=>r.value.routeConfig===u.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=KT(r.children);e.push(new ks(r.value,i))}return e.filter(r=>!t.has(r))}function YT(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function ed(n){let e=n,t=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift??0;return t-1}function QT(n){return n.data||{}}function rE(n){return n.resolve||{}}function ny(n){return"string"==typeof n.title||null===n.title}function sE(n){return ir(e=>{const t=n(e);return t?(0,Hn.D)(t).pipe((0,At.U)(()=>e)):Dt(e)})}const Uh=new h.OlP("ROUTES");let aE=(()=>{class n{constructor(t,r){this.injector=t,this.compiler=r,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return Dt(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=Lo(t.loadComponent()).pipe((0,At.U)(eS),(0,as.b)(u=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=u}),Gc(()=>{this.componentLoaders.delete(t)})),i=new Rw(r,()=>new Fi.x).pipe(Vp());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return Dt({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const u=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe((0,At.U)(p=>{this.onLoadEndListener&&this.onLoadEndListener(r);let v,I,A=!1;Array.isArray(p)?I=p:(v=p.create(t).injector,I=qc(v.get(Uh,[],h.XFs.Self|h.XFs.Optional)));return{routes:I.map(OT),injector:v}}),Gc(()=>{this.childrenLoaders.delete(r)})),c=new Rw(u,()=>new Fi.x).pipe(Vp());return this.childrenLoaders.set(r,c),c}loadModuleFactoryOrRoutes(t){return Lo(t()).pipe((0,At.U)(eS),(0,Ji.z)(i=>i instanceof h.YKP||Array.isArray(i)?Dt(i):(0,Hn.D)(this.compiler.compileModuleAsync(i))))}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(h.zs3),h.LFG(h.Sil))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function eS(n){return function ek(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let lE=(()=>{class n{constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new Fi.x,this.configLoader=(0,h.f3M)(aE),this.environmentInjector=(0,h.f3M)(h.lqb),this.urlSerializer=(0,h.f3M)(W),this.rootContexts=(0,h.f3M)(Xp),this.navigationId=0,this.configLoader.onLoadEndListener=i=>this.events.next(new Yp(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new Ww(i))}get hasRequestedNavigation(){return 0!==this.navigationId}complete(){this.transitions?.complete()}handleNavigationRequest(t){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:r})}setupNavigations(t){return this.transitions=new Js({id:0,targetPageId:0,currentUrlTree:t.currentUrlTree,currentRawUrl:t.currentUrlTree,extractedUrl:t.urlHandlingStrategy.extract(t.currentUrlTree),urlAfterRedirects:t.urlHandlingStrategy.extract(t.currentUrlTree),rawUrl:t.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:t.routerState.snapshot,targetSnapshot:null,currentRouterState:t.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(ys(r=>0!==r.id),(0,At.U)(r=>({...r,extractedUrl:t.urlHandlingStrategy.extract(r.rawUrl)})),ir(r=>{let i=!1,u=!1;return Dt(r).pipe((0,as.b)(c=>{this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),ir(c=>{const p=t.browserUrlTree.toString(),v=!t.navigated||c.extractedUrl.toString()!==p||p!==t.currentUrlTree.toString();if(("reload"===t.onSameUrlNavigation||v)&&t.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return tS(c.source)&&(t.browserUrlTree=c.extractedUrl),Dt(c).pipe(ir(A=>{const M=this.transitions?.getValue();return this.events.next(new B_(A.id,this.urlSerializer.serialize(A.extractedUrl),A.source,A.restoredState)),M!==this.transitions?.getValue()?sa.E:Promise.resolve(A)}),function qR(n,e,t,r){return ir(i=>function WT(n,e,t,r,i){return new Lh(n,e,t,r,i).apply()}(n,e,t,i.extractedUrl,r).pipe((0,At.U)(u=>({...i,urlAfterRedirects:u}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,t.config),(0,as.b)(A=>{this.currentNavigation={...this.currentNavigation,finalUrl:A.urlAfterRedirects},r.urlAfterRedirects=A.urlAfterRedirects}),function QR(n,e,t,r,i){return(0,Ji.z)(u=>function KR(n,e,t,r,i,u,c="emptyOnly"){return new qT(n,e,t,r,i,c,u).recognize().pipe(ir(p=>null===p?function nE(n){return new Xs.y(e=>e.error(n))}(new ZR):Dt(p)))}(n,e,t,u.urlAfterRedirects,r.serialize(u.urlAfterRedirects),r,i).pipe((0,At.U)(c=>({...u,targetSnapshot:c}))))}(this.environmentInjector,t.rootComponentType,t.config,this.urlSerializer,t.paramsInheritanceStrategy),(0,as.b)(A=>{if(r.targetSnapshot=A.targetSnapshot,"eager"===t.urlUpdateStrategy){if(!A.extras.skipLocationChange){const P=t.urlHandlingStrategy.merge(A.urlAfterRedirects,A.rawUrl);t.setBrowserUrl(P,A)}t.browserUrlTree=A.urlAfterRedirects}const M=new j_(A.id,this.urlSerializer.serialize(A.extractedUrl),this.urlSerializer.serialize(A.urlAfterRedirects),A.targetSnapshot);this.events.next(M)}));if(v&&t.rawUrlTree&&t.urlHandlingStrategy.shouldProcessUrl(t.rawUrlTree)){const{id:M,extractedUrl:P,source:$,restoredState:Q,extras:le}=c,ye=new B_(M,this.urlSerializer.serialize(P),$,Q);this.events.next(ye);const lt=xR(P,t.rootComponentType).snapshot;return Dt(r={...c,targetSnapshot:lt,urlAfterRedirects:P,extras:{...le,skipLocationChange:!1,replaceUrl:!1}})}return t.rawUrlTree=c.rawUrl,c.resolve(null),sa.E}),(0,as.b)(c=>{const p=new $_(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(p)}),(0,At.U)(c=>r={...c,guards:LR(c.targetSnapshot,c.currentSnapshot,this.rootContexts)}),function OB(n,e){return(0,Ji.z)(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:u,canDeactivateChecks:c}}=t;return 0===c.length&&0===u.length?Dt({...t,guardsResult:!0}):function rg(n,e,t,r){return(0,Hn.D)(n).pipe((0,Ji.z)(i=>function HR(n,e,t,r,i){const u=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return u&&0!==u.length?Dt(u.map(p=>{const v=Yc(e)??i,I=Nh(p,v);return Lo(function LT(n){return n&&eg(n.canDeactivate)}(I)?I.canDeactivate(n,e,t,r):v.runInContext(()=>I(n,e,t,r))).pipe(aa())})).pipe(ng()):Dt(!0)}(i.component,i.route,t,e,r)),aa(i=>!0!==i,!0))}(c,r,i,n).pipe((0,Ji.z)(p=>p&&function bi(n){return"boolean"==typeof n}(p)?function Jw(n,e,t,r){return(0,Hn.D)(e).pipe($a(i=>Vc(function UT(n,e){return null!==n&&e&&e(new SR(n)),Dt(!0)}(i.route.parent,r),function FT(n,e){return null!==n&&e&&e(new AR(n)),Dt(!0)}(i.route,r),function PB(n,e,t){const r=e[e.length-1],u=e.slice(0,e.length-1).reverse().map(c=>function FR(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(c)).filter(c=>null!==c).map(c=>Nu(()=>Dt(c.guards.map(v=>{const I=Yc(c.node)??t,A=Nh(v,I);return Lo(function PT(n){return n&&eg(n.canActivateChild)}(A)?A.canActivateChild(r,n):I.runInContext(()=>A(r,n))).pipe(aa())})).pipe(ng())));return Dt(u).pipe(ng())}(n,i.path,t),function VT(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return Dt(!0);const i=r.map(u=>Nu(()=>{const c=Yc(e)??t,p=Nh(u,c);return Lo(function BR(n){return n&&eg(n.canActivate)}(p)?p.canActivate(e,n):c.runInContext(()=>p(e,n))).pipe(aa())}));return Dt(i).pipe(ng())}(n,i.route,t))),aa(i=>!0!==i,!0))}(r,u,n,e):Dt(p)),(0,At.U)(p=>({...t,guardsResult:p})))})}(this.environmentInjector,c=>this.events.next(c)),(0,as.b)(c=>{if(r.guardsResult=c.guardsResult,Ml(c.guardsResult))throw Fu(0,c.guardsResult);const p=new vT(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(p)}),ys(c=>!!c.guardsResult||(t.restoreHistory(c),this.cancelNavigationTransition(c,"",3,t),!1)),sE(c=>{if(c.guards.canActivateChecks.length)return Dt(c).pipe((0,as.b)(p=>{const v=new Hw(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot);this.events.next(v)}),ir(p=>{let v=!1;return Dt(p).pipe(function JR(n,e){return(0,Ji.z)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return Dt(t);let u=0;return(0,Hn.D)(i).pipe($a(c=>function XR(n,e,t,r){const i=n.routeConfig,u=n._resolve;return void 0!==i?.title&&!ny(i)&&(u[Wc]=i.title),function JT(n,e,t,r){const i=function XT(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===i.length)return Dt({});const u={};return(0,Hn.D)(i).pipe((0,Ji.z)(c=>function iE(n,e,t,r){const i=Yc(e)??r,u=Nh(n,i);return Lo(u.resolve?u.resolve(e,t):i.runInContext(()=>u(e,t)))}(n[c],e,t,r).pipe(aa(),(0,as.b)(p=>{u[c]=p}))),Hc(1),function hT(n){return(0,At.U)(()=>n)}(u),ua(c=>Qw(c)?sa.E:jc(c)))}(u,n,e,r).pipe((0,At.U)(c=>(n._resolvedData=c,n.data=DT(n,t).resolve,i&&ny(i)&&(n.data[Wc]=i.title),null)))}(c.route,r,n,e)),(0,as.b)(()=>u++),Hc(1),(0,Ji.z)(c=>u===i.length?Dt(t):sa.E))})}(t.paramsInheritanceStrategy,this.environmentInjector),(0,as.b)({next:()=>v=!0,complete:()=>{v||(t.restoreHistory(p),this.cancelNavigationTransition(p,"",2,t))}}))}),(0,as.b)(p=>{const v=new Gw(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot);this.events.next(v)}))}),sE(c=>{const p=v=>{const I=[];v.routeConfig?.loadComponent&&!v.routeConfig._loadedComponent&&I.push(this.configLoader.loadComponent(v.routeConfig).pipe((0,as.b)(A=>{v.component=A}),(0,At.U)(()=>{})));for(const A of v.children)I.push(...p(A));return I};return Fc(p(c.targetSnapshot.root)).pipe(Mu(),xl(1))}),sE(()=>t.afterPreactivation()),(0,At.U)(c=>{const p=function MR(n,e,t){const r=Jp(n,e._root,t?t._root:void 0);return new CT(r,e)}(t.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return r={...c,targetRouterState:p}}),(0,as.b)(c=>{t.currentUrlTree=c.urlAfterRedirects,t.rawUrlTree=t.urlHandlingStrategy.merge(c.urlAfterRedirects,c.rawUrl),t.routerState=c.targetRouterState,"deferred"===t.urlUpdateStrategy&&(c.extras.skipLocationChange||t.setBrowserUrl(t.rawUrlTree,c),t.browserUrlTree=c.urlAfterRedirects)}),((n,e,t)=>(0,At.U)(r=>(new RB(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,t.routeReuseStrategy,c=>this.events.next(c)),(0,as.b)({next:c=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,t.navigated=!0,this.events.next(new kl(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(t.currentUrlTree))),t.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{i=!0}}),Gc(()=>{i||u||this.cancelNavigationTransition(r,"",1,t),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),ua(c=>{if(u=!0,OR(c)){ST(c)||(t.navigated=!0,t.restoreHistory(r,!0));const p=new Th(r.id,this.urlSerializer.serialize(r.extractedUrl),c.message,c.cancellationCode);if(this.events.next(p),ST(c)){const v=t.urlHandlingStrategy.merge(c.url,t.rawUrlTree),I={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===t.urlUpdateStrategy||tS(r.source)};t.scheduleNavigation(v,"imperative",null,I,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{t.restoreHistory(r,!0);const p=new $w(r.id,this.urlSerializer.serialize(r.extractedUrl),c,r.targetSnapshot??void 0);this.events.next(p);try{r.resolve(t.errorHandler(c))}catch(v){r.reject(v)}}return sa.E}))}))}cancelNavigationTransition(t,r,i,u){const c=new Th(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(c),t.resolve(!1)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function tS(n){return"imperative"!==n}let td=(()=>{class n{buildTitle(t){let r,i=t.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(u=>u.outlet===Sn);return r}getResolvedTitleForRoute(t){return t.data[Wc]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:function(){return(0,h.f3M)(Uu)},providedIn:"root"}),n})(),Uu=(()=>{class n extends td{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(Lp))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),tk=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:function(){return(0,h.f3M)(FB)},providedIn:"root"}),n})();class nk{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let FB=(()=>{class n extends nk{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=h.n5z(n)))(r||n)}}(),n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const og=new h.OlP("",{providedIn:"root",factory:()=>({})});let VB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:function(){return(0,h.f3M)(nS)},providedIn:"root"}),n})(),nS=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function rS(n){throw n}function ik(n,e,t){return e.parse("/")}const iS={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},sk={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function Uo(){const n=(0,h.f3M)(W),e=(0,h.f3M)(Xp),t=(0,h.f3M)(Ue),r=(0,h.f3M)(h.zs3),i=(0,h.f3M)(h.Sil),u=(0,h.f3M)(Uh,{optional:!0})??[],c=(0,h.f3M)(og,{optional:!0})??{},p=new Ii(null,n,e,t,r,i,qc(u));return function ok(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(c,p),p}let Ii=(()=>{class n{constructor(t,r,i,u,c,p,v){this.rootComponentType=t,this.urlSerializer=r,this.rootContexts=i,this.location=u,this.config=v,this.disposed=!1,this.currentPageId=0,this.isNgZoneEnabled=!1,this.errorHandler=rS,this.malformedUriErrorHandler=ik,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>Dt(void 0),this.urlHandlingStrategy=(0,h.f3M)(VB),this.routeReuseStrategy=(0,h.f3M)(tk),this.titleStrategy=(0,h.f3M)(td),this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.canceledNavigationResolution="replace",this.navigationTransitions=(0,h.f3M)(lE),this.console=c.get(h.c2e);const I=c.get(h.R0b);this.isNgZoneEnabled=I instanceof h.R0b&&h.R0b.isInAngularZone(),this.resetConfig(v),this.currentUrlTree=new fi,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=xR(this.currentUrlTree,this.rootComponentType),this.navigationTransitions.setupNavigations(this).subscribe(A=>{this.lastSuccessfulId=A.id,this.currentPageId=A.targetPageId},A=>{this.console.warn(`Unhandled Navigation Error: ${A}`)})}get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{const i={replaceUrl:!0},u=t.state?.navigationId?t.state:null;if(t.state){const p={...t.state};delete p.navigationId,delete p.\u0275routerPageId,0!==Object.keys(p).length&&(i.state=p)}const c=this.parseUrl(t.url);this.scheduleNavigation(c,r,u,i)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(t){this.config=t.map(OT),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:i,queryParams:u,fragment:c,queryParamsHandling:p,preserveFragment:v}=r,I=i||this.routerState.root,A=v?this.currentUrlTree.fragment:c;let M=null;switch(p){case"merge":M={...this.currentUrlTree.queryParams,...u};break;case"preserve":M=this.currentUrlTree.queryParams;break;default:M=u||null}return null!==M&&(M=this.removeEmptyProps(M)),CR(I,this.currentUrlTree,t,M,A??null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=Ml(t)?t:this.parseUrl(t),u=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(u,"imperative",null,r)}navigate(t,r={skipLocationChange:!1}){return function sS(n){for(let e=0;e<n.length;e++){if(null==n[e])throw new h.vHH(4008,!1)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?{...iS}:!1===r?{...sk}:r,Ml(t))return wh(this.currentUrlTree,t,i);const u=this.parseUrl(t);return wh(this.currentUrlTree,u,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const u=t[i];return null!=u&&(r[i]=u),r},{})}scheduleNavigation(t,r,i,u,c){if(this.disposed)return Promise.resolve(!1);let p,v,I,A;return c?(p=c.resolve,v=c.reject,I=c.promise):I=new Promise((M,P)=>{p=M,v=P}),"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(i=this.location.getState()),A=i&&i.\u0275routerPageId?i.\u0275routerPageId:u.replaceUrl||u.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):A=0,this.navigationTransitions.handleNavigationRequest({targetPageId:A,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:u,resolve:p,reject:v,promise:I,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),I.catch(M=>Promise.reject(M))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t),u={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",u):this.location.go(i,"",u)}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const i=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.getCurrentNavigation()?.finalUrl||0===i?this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===i&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(i)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){h.$Z()},n.\u0275prov=h.Yz7({token:n,factory:function(){return Uo()},providedIn:"root"}),n})(),nd=(()=>{class n{constructor(t,r,i,u,c,p){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=u,this.el=c,this.locationStrategy=p,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.href=null,this.commands=null,this.onChanges=new Fi.x;const v=c.nativeElement.tagName;this.isAnchorElement="A"===v||"AREA"===v,this.isAnchorElement?this.subscription=t.events.subscribe(I=>{I instanceof kl&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(t){this._preserveFragment=(0,h.D6c)(t)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(t){this._skipLocationChange=(0,h.D6c)(t)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(t){this._replaceUrl=(0,h.D6c)(t)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(t){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(t,r,i,u,c){return!!(null===this.urlTree||this.isAnchorElement&&(0!==t||r||i||u||c||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const t=null===this.href?null:(0,h.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",t)}applyAttributeValue(t,r){const i=this.renderer,u=this.el.nativeElement;null!==r?i.setAttribute(u,t,r):i.removeAttribute(u,t)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(Ii),h.Y36(Lu),h.$8M("tabindex"),h.Y36(h.Qsj),h.Y36(h.SBq),h.Y36(ae))},n.\u0275dir=h.lG2({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(t,r){1&t&&h.NdJ("click",function(u){return r.onClick(u.button,u.ctrlKey,u.shiftKey,u.altKey,u.metaKey)}),2&t&&h.uIk("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[h.TTD]}),n})();class oS{}let ck=(()=>{class n{constructor(t,r,i,u,c){this.router=t,this.injector=i,this.preloadingStrategy=u,this.loader=c}setUpPreloading(){this.subscription=this.router.events.pipe(ys(t=>t instanceof kl),$a(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const u of r){u.providers&&!u._injector&&(u._injector=(0,h.MMx)(u.providers,t,`Route: ${u.path}`));const c=u._injector??t,p=u._loadedInjector??c;u.loadChildren&&!u._loadedRoutes&&void 0===u.canLoad||u.loadComponent&&!u._loadedComponent?i.push(this.preloadConfig(c,u)):(u.children||u._loadedRoutes)&&i.push(this.processRoutes(p,u.children??u._loadedRoutes))}return(0,Hn.D)(i).pipe((0,ja.J)())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):Dt(null);const u=i.pipe((0,Ji.z)(c=>null===c?Dt(void 0):(r._loadedRoutes=c.routes,r._loadedInjector=c.injector,this.processRoutes(c.injector??t,c.routes))));if(r.loadComponent&&!r._loadedComponent){const c=this.loader.loadComponent(r);return(0,Hn.D)([u,c]).pipe((0,ja.J)())}return u})}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(Ii),h.LFG(h.Sil),h.LFG(h.lqb),h.LFG(oS),h.LFG(aE))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const cE=new h.OlP("");let gn=(()=>{class n{constructor(t,r,i,u,c={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=u,this.options=c,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},c.scrollPositionRestoration=c.scrollPositionRestoration||"disabled",c.anchorScrolling=c.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof B_?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof kl&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof bT&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new bT(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return n.\u0275fac=function(t){h.$Z()},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();function Vh(n,e){return{\u0275kind:n,\u0275providers:e}}function uS(){const n=(0,h.f3M)(h.zs3);return e=>{const t=n.get(h.z2F);if(e!==t.components[0])return;const r=n.get(Ii),i=n.get(lS);1===n.get(cS)&&r.initialNavigation(),n.get(fS,null,h.XFs.Optional)?.setUpPreloading(),n.get(cE,null,h.XFs.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.unsubscribe())}}const lS=new h.OlP("",{factory:()=>new Fi.x}),cS=new h.OlP("",{providedIn:"root",factory:()=>1});const fS=new h.OlP("");function fE(n){return Vh(0,[{provide:fS,useExisting:ck},{provide:oS,useExisting:n}])}const fk=new h.OlP("ROUTER_FORROOT_GUARD"),$B=[Ue,{provide:W,useClass:ve},{provide:Ii,useFactory:Uo},Xp,{provide:Lu,useFactory:function dE(n){return n.routerState.root},deps:[Ii]},aE,[]];function pk(){return new h.PXZ("Router",Ii)}let gS=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[$B,[],{provide:Uh,multi:!0,useValue:t},{provide:fk,useFactory:mk,deps:[[Ii,new h.FiY,new h.tp0]]},{provide:og,useValue:r||{}},r?.useHash?{provide:ae,useClass:He}:{provide:ae,useClass:Fe},{provide:cE,useFactory:()=>{const n=(0,h.f3M)(gl),e=(0,h.f3M)(h.R0b),t=(0,h.f3M)(og),r=(0,h.f3M)(lE),i=(0,h.f3M)(W);return t.scrollOffset&&n.setOffset(t.scrollOffset),new gn(i,r,n,e,t)}},r?.preloadingStrategy?fE(r.preloadingStrategy).\u0275providers:[],{provide:h.PXZ,multi:!0,useFactory:pk},r?.initialNavigation?mS(r):[],[{provide:ug,useFactory:uS},{provide:h.tb,multi:!0,useExisting:ug}]]}}static forChild(t){return{ngModule:n,providers:[{provide:Uh,multi:!0,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(fk,8))},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[q_]}),n})();function mk(n){return"guarded"}function mS(n){return["disabled"===n.initialNavigation?Vh(3,[{provide:h.ip1,multi:!0,useFactory:()=>{const e=(0,h.f3M)(Ii);return()=>{e.setUpLocationChangeListener()}}},{provide:cS,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?Vh(2,[{provide:cS,useValue:0},{provide:h.ip1,multi:!0,deps:[h.zs3],useFactory:e=>{const t=e.get(te,Promise.resolve());return()=>t.then(()=>new Promise(i=>{const u=e.get(Ii),c=e.get(lS);(function r(i){e.get(Ii).events.pipe(ys(c=>c instanceof kl||c instanceof Th||c instanceof $w),(0,At.U)(c=>c instanceof kl||c instanceof Th&&(0===c.code||1===c.code)&&null),ys(c=>null!==c),xl(1)).subscribe(()=>{i()})})(()=>{i(!0)}),u.afterPreactivation=()=>(i(!0),c.closed?Dt(void 0):c),u.initialNavigation()}))}}]).\u0275providers:[]]}const ug=new h.OlP("");let _S=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(h.Qsj),h.Y36(h.SBq))},n.\u0275dir=h.lG2({type:n}),n})(),sd=(()=>{class n extends _S{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=h.n5z(n)))(r||n)}}(),n.\u0275dir=h.lG2({type:n,features:[h.qOj]}),n})();const Ga=new h.OlP("NgValueAccessor"),wk={provide:Ga,useExisting:(0,h.Gpc)(()=>ry),multi:!0};let ry=(()=>{class n extends sd{writeValue(t){this.setProperty("checked",t)}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=h.n5z(n)))(r||n)}}(),n.\u0275dir=h.lG2({type:n,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(t,r){1&t&&h.NdJ("change",function(u){return r.onChange(u.target.checked)})("blur",function(){return r.onTouched()})},features:[h._Bn([wk]),h.qOj]}),n})();const Ek={provide:Ga,useExisting:(0,h.Gpc)(()=>Ll),multi:!0},vS=new h.OlP("CompositionEventMode");let Ll=(()=>{class n extends _S{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function yS(){const n=he()?he().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(h.Qsj),h.Y36(h.SBq),h.Y36(vS,8))},n.\u0275dir=h.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&h.NdJ("input",function(u){return r._handleInput(u.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(u){return r._compositionEnd(u.target.value)})},features:[h._Bn([Ek]),h.qOj]}),n})();const Os=new h.OlP("NgValidators"),ho=new h.OlP("NgAsyncValidators");function IS(n){return function Wa(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}(n.value)?{required:!0}:null}function ad(n){return null}function gE(n){return null!=n}function oy(n){return(0,h.QGY)(n)?(0,Hn.D)(n):n}function ay(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function uy(n,e){return e.map(t=>t(n))}function ly(n){return n.map(e=>function CS(n){return!n.validate}(e)?e:t=>e.validate(t))}function mE(n){return null!=n?function DS(n){if(!n)return null;const e=n.filter(gE);return 0==e.length?null:function(t){return ay(uy(t,e))}}(ly(n)):null}function yE(n){return null!=n?function _E(n){if(!n)return null;const e=n.filter(gE);return 0==e.length?null:function(t){return function vk(...n){const e=(0,Oo.jO)(n),{args:t,keys:r}=Va(n),i=new Xs.y(u=>{const{length:c}=t;if(!c)return void u.complete();const p=new Array(c);let v=c,I=c;for(let A=0;A<c;A++){let M=!1;(0,xu.Xf)(t[A]).subscribe((0,Xr.x)(u,P=>{M||(M=!0,I--),p[A]=P},()=>v--,void 0,()=>{(!v||!M)&&(I||u.next(r?M_(r,p):p),u.complete())}))}});return e?i.pipe(ph(e)):i}(uy(t,e).map(oy)).pipe((0,At.U)(ay))}}(ly(n)):null}function vE(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function wE(n){return n._rawValidators}function TS(n){return n._rawAsyncValidators}function EE(n){return n?Array.isArray(n)?n:[n]:[]}function vs(n,e){return Array.isArray(n)?n.includes(e):n===e}function bE(n,e){const t=EE(e);return EE(n).forEach(i=>{vs(t,i)||t.push(i)}),t}function SS(n,e){return EE(e).filter(t=>!vs(n,t))}class bk{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=mE(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=yE(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class us extends bk{get formDirective(){return null}get path(){return null}}class Vu extends bk{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class AS{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let cg=(()=>{class n extends AS{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(Vu,2))},n.\u0275dir=h.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&h.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[h.qOj]}),n})(),cy=(()=>{class n extends AS{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(us,10))},n.\u0275dir=h.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&h.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[h.qOj]}),n})();const Fl="VALID",Hh="INVALID",ju="PENDING",dy="DISABLED";function dg(n){return(hg(n)?n.validators:n)||null}function hy(n,e){return(hg(e)?e.asyncValidators:n)||null}function hg(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}function SE(n,e,t){const r=n.controls;if(!(e?Object.keys(r):r).length)throw new h.vHH(1e3,"");if(!r[t])throw new h.vHH(1001,"")}function fy(n,e,t){n._forEachChild((r,i)=>{if(void 0===t[i])throw new h.vHH(1002,"")})}class Vo{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Fl}get invalid(){return this.status===Hh}get pending(){return this.status==ju}get disabled(){return this.status===dy}get enabled(){return this.status!==dy}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(bE(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(bE(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(SS(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(SS(e,this._rawAsyncValidators))}hasValidator(e){return vs(this._rawValidators,e)}hasAsyncValidator(e){return vs(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=ju,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=dy,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Fl,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Fl||this.status===ju)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?dy:Fl}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=ju,this._hasOwnPendingAsyncValidator=!0;const t=oy(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new h.vpe,this.statusChanges=new h.vpe}_calculateStatus(){return this._allControlsDisabled()?dy:this.errors?Hh:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ju)?ju:this._anyControlsHaveStatus(Hh)?Hh:Fl}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){hg(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function JB(n){return Array.isArray(n)?mE(n):n||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function MS(n){return Array.isArray(n)?yE(n):n||null}(this._rawAsyncValidators)}}class Ul extends Vo{constructor(e,t,r){super(dg(t),hy(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){fy(this,0,e),Object.keys(e).forEach(r=>{SE(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{const i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,u)=>{r=t(r,i,u)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}class RS extends Ul{}const ud=new h.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>gy}),gy="always";function my(n,e){return[...e.path,n]}function $u(n,e,t=gy){NE(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||"always"===t)&&e.valueAccessor.setDisabledState?.(n.disabled),function Mk(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&kS(n,e)})}(n,e),function kk(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function Rk(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&kS(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function Nk(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function _y(n,e,t=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),yy(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function xE(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function NE(n,e){const t=wE(n);null!==e.validator?n.setValidators(vE(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=TS(n);null!==e.asyncValidator?n.setAsyncValidators(vE(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();xE(e._rawValidators,i),xE(e._rawAsyncValidators,i)}function yy(n,e){let t=!1;if(null!==n){if(null!==e.validator){const i=wE(n);if(Array.isArray(i)&&i.length>0){const u=i.filter(c=>c!==e.validator);u.length!==i.length&&(t=!0,n.setValidators(u))}}if(null!==e.asyncValidator){const i=TS(n);if(Array.isArray(i)&&i.length>0){const u=i.filter(c=>c!==e.asyncValidator);u.length!==i.length&&(t=!0,n.setAsyncValidators(u))}}}const r=()=>{};return xE(e._rawValidators,r),xE(e._rawAsyncValidators,r),t}function kS(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function ME(n,e){NE(n,e)}function PE(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}function OS(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function LE(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(u=>{u.constructor===Ll?t=u:function Ok(n){return Object.getPrototypeOf(n.constructor)===sd}(u)?r=u:i=u}),i||r||t||null}const Lk={provide:us,useExisting:(0,h.Gpc)(()=>fg)},vy=(()=>Promise.resolve())();let fg=(()=>{class n extends us{constructor(t,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._directives=new Set,this.ngSubmit=new h.vpe,this.form=new Ul({},mE(t),yE(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){vy.then(()=>{const r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),$u(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){vy.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){vy.then(()=>{const r=this._findContainer(t.path),i=new Ul({});ME(i,t),r.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){vy.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){vy.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,OS(this.form,this._directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(Os,10),h.Y36(ho,10),h.Y36(ud,8))},n.\u0275dir=h.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,r){1&t&&h.NdJ("submit",function(u){return r.onSubmit(u)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[h._Bn([Lk]),h.qOj]}),n})();function pg(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function Vl(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const gg=class extends Vo{constructor(e=null,t,r){super(dg(t),hy(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),hg(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=Vl(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){pg(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){pg(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){Vl(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};let LS=(()=>{class n extends us{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return my(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=h.n5z(n)))(r||n)}}(),n.\u0275dir=h.lG2({type:n,features:[h.qOj]}),n})();const by={provide:Vu,useExisting:(0,h.Gpc)(()=>Gh)},fo=(()=>Promise.resolve())();let Gh=(()=>{class n extends Vu{constructor(t,r,i,u,c,p){super(),this._changeDetectorRef=c,this.callSetDisabledState=p,this.control=new gg,this._registered=!1,this.update=new h.vpe,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=LE(0,u)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),PE(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){$u(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){fo.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){const r=t.isDisabled.currentValue,i=0!==r&&(0,h.D6c)(r);fo.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?my(t,this._parent):[t]}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(us,9),h.Y36(Os,10),h.Y36(ho,10),h.Y36(Ga,10),h.Y36(h.sBO,8),h.Y36(ud,8))},n.\u0275dir=h.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[h._Bn([by]),h.qOj,h.TTD]}),n})(),ld=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=h.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),dd=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({}),n})();const _g=new h.OlP("NgModelWithFormControlWarning"),US={provide:Vu,useExisting:(0,h.Gpc)(()=>Iy)};let Iy=(()=>{class n extends Vu{constructor(t,r,i,u,c){super(),this._ngModelWarningConfig=u,this.callSetDisabledState=c,this.update=new h.vpe,this._ngModelWarningSent=!1,this._setValidators(t),this._setAsyncValidators(r),this.valueAccessor=LE(0,i)}set isDisabled(t){}ngOnChanges(t){if(this._isControlChanged(t)){const r=t.form.previousValue;r&&_y(r,this,!1),$u(this.form,this,this.callSetDisabledState),this.form.updateValueAndValidity({emitEvent:!1})}PE(t,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&_y(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_isControlChanged(t){return t.hasOwnProperty("form")}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(t){return new(t||n)(h.Y36(Os,10),h.Y36(ho,10),h.Y36(Ga,10),h.Y36(_g,8),h.Y36(ud,8))},n.\u0275dir=h.lG2({type:n,selectors:[["","formControl",""]],inputs:{form:["formControl","form"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[h._Bn([US]),h.qOj,h.TTD]}),n})();const VS={provide:us,useExisting:(0,h.Gpc)(()=>Kh)};let Kh=(()=>{class n extends us{constructor(t,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new h.vpe,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(yy(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const r=this.form.get(t.path);return $u(r,t,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){_y(t.control||null,t,!1),function PS(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this.submitted=!0,OS(this.form,this.directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const r=t.control,i=this.form.get(t.path);r!==i&&(_y(r||null,t),(n=>n instanceof gg)(i)&&($u(i,t,this.callSetDisabledState),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const r=this.form.get(t.path);ME(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const r=this.form.get(t.path);r&&function RE(n,e){return yy(n,e)}(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){NE(this.form,this),this._oldForm&&yy(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(Os,10),h.Y36(ho,10),h.Y36(ud,8))},n.\u0275dir=h.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,r){1&t&&h.NdJ("submit",function(u){return r.onSubmit(u)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[h._Bn([VS]),h.qOj,h.TTD]}),n})();const BS={provide:us,useExisting:(0,h.Gpc)(()=>yg)};let yg=(()=>{class n extends LS{constructor(t,r,i){super(),this._parent=t,this._setValidators(r),this._setAsyncValidators(i)}_checkParentType(){$S(this._parent)}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(us,13),h.Y36(Os,10),h.Y36(ho,10))},n.\u0275dir=h.lG2({type:n,selectors:[["","formGroupName",""]],inputs:{name:["formGroupName","name"]},features:[h._Bn([BS]),h.qOj]}),n})();const jS={provide:us,useExisting:(0,h.Gpc)(()=>Cy)};let Cy=(()=>{class n extends us{constructor(t,r,i){super(),this._parent=t,this._setValidators(r),this._setAsyncValidators(i)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return my(null==this.name?this.name:this.name.toString(),this._parent)}_checkParentType(){$S(this._parent)}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(us,13),h.Y36(Os,10),h.Y36(ho,10))},n.\u0275dir=h.lG2({type:n,selectors:[["","formArrayName",""]],inputs:{name:["formArrayName","name"]},features:[h._Bn([jS]),h.qOj]}),n})();function $S(n){return!(n instanceof yg||n instanceof Kh||n instanceof Cy)}const HS={provide:Vu,useExisting:(0,h.Gpc)(()=>Dy)};let Dy=(()=>{class n extends Vu{constructor(t,r,i,u,c){super(),this._ngModelWarningConfig=c,this._added=!1,this.update=new h.vpe,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=LE(0,u)}set isDisabled(t){}ngOnChanges(t){this._added||this._setUpControl(),PE(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return my(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(t){return new(t||n)(h.Y36(us,13),h.Y36(Os,10),h.Y36(ho,10),h.Y36(Ga,10),h.Y36(_g,8))},n.\u0275dir=h.lG2({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[h._Bn([HS]),h.qOj,h.TTD]}),n})();const Uk={provide:Ga,useExisting:(0,h.Gpc)(()=>Sy),multi:!0};function Ty(n,e){return null==n?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let Sy=(()=>{class n extends sd{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;const i=Ty(this._getOptionId(t),t);this.setProperty("value",i)}registerOnChange(t){this.onChange=r=>{this.value=this._getOptionValue(r),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const r of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(r),t))return r;return null}_getOptionValue(t){const r=function UE(n){return n.split(":")[0]}(t);return this._optionMap.has(r)?this._optionMap.get(r):t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=h.n5z(n)))(r||n)}}(),n.\u0275dir=h.lG2({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,r){1&t&&h.NdJ("change",function(u){return r.onChange(u.target.value)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[h._Bn([Uk]),h.qOj]}),n})(),vg=(()=>{class n{constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(Ty(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(h.SBq),h.Y36(h.Qsj),h.Y36(Sy,9))},n.\u0275dir=h.lG2({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})();const Ay={provide:Ga,useExisting:(0,h.Gpc)(()=>Yh),multi:!0};function xy(n,e){return null==n?`${e}`:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let Yh=(()=>{class n extends sd{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){let r;if(this.value=t,Array.isArray(t)){const i=t.map(u=>this._getOptionId(u));r=(u,c)=>{u._setSelected(i.indexOf(c.toString())>-1)}}else r=(i,u)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(t){this.onChange=r=>{const i=[],u=r.selectedOptions;if(void 0!==u){const c=u;for(let p=0;p<c.length;p++){const I=this._getOptionValue(c[p].value);i.push(I)}}else{const c=r.options;for(let p=0;p<c.length;p++){const v=c[p];if(v.selected){const I=this._getOptionValue(v.value);i.push(I)}}}this.value=i,t(i)}}_registerOption(t){const r=(this._idCounter++).toString();return this._optionMap.set(r,t),r}_getOptionId(t){for(const r of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(r)._value,t))return r;return null}_getOptionValue(t){const r=function Vk(n){return n.split(":")[0]}(t);return this._optionMap.has(r)?this._optionMap.get(r)._value:t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=h.n5z(n)))(r||n)}}(),n.\u0275dir=h.lG2({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,r){1&t&&h.NdJ("change",function(u){return r.onChange(u.target)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[h._Bn([Ay]),h.qOj]}),n})(),BE=(()=>{class n{constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){null!=this._select&&(this._value=t,this._setElementValue(xy(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(xy(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(h.SBq),h.Y36(h.Qsj),h.Y36(Yh,9))},n.\u0275dir=h.lG2({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})(),jl=(()=>{class n{constructor(){this._validator=ad}ngOnChanges(t){if(this.inputName in t){const r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):ad,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=h.lG2({type:n,features:[h.TTD]}),n})();const qS={provide:Os,useExisting:(0,h.Gpc)(()=>Qh),multi:!0};let Qh=(()=>{class n extends jl{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=h.D6c,this.createValidator=t=>IS}enabled(t){return t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=h.n5z(n)))(r||n)}}(),n.\u0275dir=h.lG2({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(t,r){2&t&&h.uIk("required",r._enabled?"":null)},inputs:{required:"required"},features:[h._Bn([qS]),h.qOj]}),n})(),WE=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[dd]}),n})(),QS=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:ud,useValue:t.callSetDisabledState??gy}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[WE]}),n})(),wg=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:_g,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:ud,useValue:t.callSetDisabledState??gy}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[WE]}),n})();class Gu extends Vo{constructor(e,t,r){super(dg(t),hy(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),t&&(this.controls.splice(i,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){fy(this,0,e),e.forEach((r,i)=>{SE(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,r)=>!!r._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}}function Oy(n){return!!n&&(void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn)}let $l=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){const t=new n;return t.useNonNullable=!0,t}group(t,r=null){const i=this._reduceControls(t);let u={};return Oy(r)?u=r:null!==r&&(u.validators=r.validator,u.asyncValidators=r.asyncValidator),new Ul(i,u)}record(t,r=null){const i=this._reduceControls(t);return new RS(i,r)}control(t,r,i){let u={};return this.useNonNullable?(Oy(r)?u=r:(u.validators=r,u.asyncValidators=i),new gg(t,{...u,nonNullable:!0})):new gg(t,r,i)}array(t,r,i){const u=t.map(c=>this._createControl(c));return new Gu(u,r,i)}_reduceControls(t){const r={};return Object.keys(t).forEach(i=>{r[i]=this._createControl(t[i])}),r}_createControl(t){return t instanceof gg||t instanceof Vo?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:wg}),n})();var Dr=V(2011),Wk=V(655),fd=V(5363),zk=V(6063);class eA extends Fi.x{constructor(e=1/0,t=1/0,r=zk.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:u,_windowTime:c}=this;t||(r.push(e),!i&&r.push(u.now()+c)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,u=i.slice();for(let c=0;c<u.length&&!e.closed;c+=r?1:2)e.next(u[c]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:i}=this,u=(i?1:2)*e;if(e<1/0&&u<r.length&&r.splice(0,r.length-u),!i){const c=t.now();let p=0;for(let v=1;v<r.length&&r[v]<=c;v+=2)p=v;p&&r.splice(0,p+1)}}}var tA=V(3099);function si(n,e,t){let r,i=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:t}=n):r=n??1/0,(0,tA.B)({connector:()=>new eA(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}var _n=V(880),qk=V(7982),zE=V(6451);function qE(n,e){return(0,Bc.m)(e)?ir(()=>n,e):ir(()=>n)}var ZE=V(9468),Hl=V(5867);class Jh{constructor(e){return e}}class pd{constructor(){return(0,Hl.C6)()}}const Py=new h.OlP("angularfire2._apps"),Kk={provide:Jh,useFactory:function Zk(n){return n&&1===n.length?n[0]:new Jh((0,Hl.Mq)())},deps:[[new h.FiY,Py]]},nA={provide:pd,deps:[[new h.FiY,Py]]};function a3(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new Jh(r)}}let rA=(()=>{class n{constructor(t){(0,Hl.KN)("angularfire",_n.q4.full,"core"),(0,Hl.KN)("angularfire",_n.q4.full,"app"),(0,Hl.KN)("angular",h.q4F.full,t.toString())}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(h.Lbi))},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:[Kk,nA]}),n})();function KE(n,...e){return{ngModule:rA,providers:[{provide:Py,useFactory:a3(n),multi:!0,deps:[h.R0b,h.zs3,_n.HU,...e]}]}}const za=(0,_n.u3)(Hl.ZF,!0);var ke=V(5861),eo=V(9681),zu=V(4859),q=V(2090),da=V(1877);const Eg=new Map,Xh={activated:!1,tokenObservers:[]},Jk={initialized:!1,enabled:!1};function Xi(n){return Eg.get(n)||Object.assign({},Xh)}function bg(){return Jk}const Ly="https://content-firebaseappcheck.googleapis.com/v1";class Uy{constructor(e,t,r,i,u){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=u,this.pending=null,this.nextErrorWaitInterval=i,i>u)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,ke.Z)(function*(){t.stop();try{t.pending=new q.BH,yield function JE(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new q.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const Es=new q.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function Ig(n=!1){var e;return n?null===(e=self.grecaptcha)||void 0===e?void 0:e.enterprise:self.grecaptcha}function XE(n){if(!Xi(n).activated)throw Es.create("use-before-activation",{appName:n.name})}function Vy(n){const e=Math.round(n/1e3),t=Math.floor(e/86400),r=Math.floor((e-3600*t*24)/3600),i=Math.floor((e-3600*t*24-3600*r)/60),u=e-3600*t*24-3600*r-60*i;let c="";return t&&(c+=Cg(t)+"d:"),r&&(c+=Cg(r)+"h:"),c+=Cg(i)+"m:"+Cg(u)+"s",c}function Cg(n){return 0===n?"00":n>=10?n.toString():"0"+n}function By(n,e){return eb.apply(this,arguments)}function eb(){return(eb=(0,ke.Z)(function*({url:n,body:e},t){var r,i;const u={"Content-Type":"application/json"},c=t.getImmediate({optional:!0});if(c){const $=yield c.getHeartbeatsHeader();$&&(u["X-Firebase-Client"]=$)}const p={method:"POST",body:JSON.stringify(e),headers:u};let v,I;try{v=yield fetch(n,p)}catch($){throw Es.create("fetch-network-error",{originalErrorMessage:null===(r=$)||void 0===r?void 0:r.message})}if(200!==v.status)throw Es.create("fetch-status-error",{httpStatus:v.status});try{I=yield v.json()}catch($){throw Es.create("fetch-parse-error",{originalErrorMessage:null===(i=$)||void 0===i?void 0:i.message})}const A=I.ttl.match(/^([\d.]+)(s)$/);if(!A||!A[2]||isNaN(Number(A[1])))throw Es.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${I.ttl}`});const M=1e3*Number(A[1]),P=Date.now();return{token:I.token,expireTimeMillis:P+M,issuedAtTimeMillis:P}})).apply(this,arguments)}function rO(n,e){const{projectId:t,appId:r,apiKey:i}=n.options;return{url:`${Ly}/projects/${t}/apps/${r}:exchangeDebugToken?key=${i}`,body:{debug_token:e}}}const Dg="firebase-app-check-store",oA="debug-token";let jy=null;function aA(){return jy||(jy=new Promise((n,e)=>{var t;try{const r=indexedDB.open("firebase-app-check-database",1);r.onsuccess=i=>{n(i.target.result)},r.onerror=i=>{var u;e(Es.create("storage-open",{originalErrorMessage:null===(u=i.target.error)||void 0===u?void 0:u.message}))},r.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(Dg,{keyPath:"compositeKey"})}}catch(r){e(Es.create("storage-open",{originalErrorMessage:null===(t=r)||void 0===t?void 0:t.message}))}}),jy)}function oO(n){return lA(rb(n))}function uO(n){return uA(oA,n)}function lO(){return lA(oA)}function uA(n,e){return tb.apply(this,arguments)}function tb(){return(tb=(0,ke.Z)(function*(n,e){const r=(yield aA()).transaction(Dg,"readwrite"),u=r.objectStore(Dg).put({compositeKey:n,value:e});return new Promise((c,p)=>{u.onsuccess=v=>{c()},r.onerror=v=>{var I;p(Es.create("storage-set",{originalErrorMessage:null===(I=v.target.error)||void 0===I?void 0:I.message}))}})})).apply(this,arguments)}function lA(n){return nb.apply(this,arguments)}function nb(){return(nb=(0,ke.Z)(function*(n){const t=(yield aA()).transaction(Dg,"readonly"),i=t.objectStore(Dg).get(n);return new Promise((u,c)=>{i.onsuccess=p=>{const v=p.target.result;u(v?v.value:void 0)},t.onerror=p=>{var v;c(Es.create("storage-get",{originalErrorMessage:null===(v=p.target.error)||void 0===v?void 0:v.message}))}})})).apply(this,arguments)}function rb(n){return`${n.options.appId}-${n.name}`}const ef=new da.Yd("@firebase/app-check");function $y(){return($y=(0,ke.Z)(function*(n){if((0,q.hl)()){let e;try{e=yield oO(n)}catch(t){ef.warn(`Failed to read token from IndexedDB. Error: ${t}`)}return e}})).apply(this,arguments)}function Hy(n,e){return(0,q.hl)()?function aO(n,e){return uA(rb(n),e)}(n,e).catch(t=>{ef.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function Gy(){return(Gy=(0,ke.Z)(function*(){let n;try{n=yield lO()}catch{}if(n)return n;{const e=(0,q.k$)();return uO(e).catch(t=>ef.warn(`Failed to persist debug token to IndexedDB. Error: ${t}`)),e}})).apply(this,arguments)}function ib(){return bg().enabled}function sb(){return Wy.apply(this,arguments)}function Wy(){return(Wy=(0,ke.Z)(function*(){const n=bg();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const gd={error:"UNKNOWN_ERROR"};function cO(n){return q.US.encodeString(JSON.stringify(n),!1)}function zy(n){return Gl.apply(this,arguments)}function Gl(){return(Gl=(0,ke.Z)(function*(n,e=!1){const t=n.app;XE(t);const r=Xi(t);let u,i=r.token;if(i&&!Sg(i)&&(r.token=void 0,i=void 0),!i){const v=yield r.cachedTokenPromise;v&&(Sg(v)?i=v:yield Hy(t,void 0))}if(!e&&i&&Sg(i))return{token:i.token};let p,c=!1;if(ib()){r.exchangeTokenPromise||(r.exchangeTokenPromise=By(rO(t,yield sb()),n.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),c=!0);const v=yield r.exchangeTokenPromise;return yield Hy(t,v),r.token=v,{token:v.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),c=!0),i=yield Xi(t).exchangeTokenPromise}catch(v){"appCheck/throttled"===v.code?ef.warn(v.message):ef.error(v),u=v}return i?u?p=Sg(i)?{token:i.token,internalError:u}:Qt(u):(p={token:i.token},r.token=i,yield Hy(t,i)):p=Qt(u),c&&ob(t,p),p})).apply(this,arguments)}function fA(n,e,t,r){const{app:i}=n,u=Xi(i);if(u.tokenObservers=[...u.tokenObservers,{next:t,error:r,type:e}],u.token&&Sg(u.token)){const p=u.token;Promise.resolve().then(()=>{t({token:p.token}),dO(n)}).catch(()=>{})}u.cachedTokenPromise.then(()=>dO(n))}function Tg(n,e){const t=Xi(n),r=t.tokenObservers.filter(i=>i.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function dO(n){const{app:e}=n,t=Xi(e);let r=t.tokenRefresher;r||(r=function pA(n){const{app:e}=n;return new Uy((0,ke.Z)(function*(){let r;if(r=Xi(e).token?yield zy(n,!0):yield zy(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const t=Xi(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function ob(n,e){const t=Xi(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}function Sg(n){return n.expireTimeMillis-Date.now()>0}function Qt(n){return{token:cO(gd),error:n}}class hO{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=Xi(this.app);for(const t of e)Tg(this.app,t.next);return Promise.resolve()}}function oi(n,e){const t=new q.BH;Xi(n).reCAPTCHAState={initialized:t};const i=function ab(n){const e=`fire_app_check_${n.name}`,t=document.createElement("div");return t.id=e,t.style.display="none",document.body.appendChild(t),e}(n),u=Ig(!1);return u?Ag(n,e,u,i,t):function _A(n){const e=document.createElement("script");e.src="https://www.google.com/recaptcha/api.js",e.onload=n,document.head.appendChild(e)}(()=>{const c=Ig(!1);if(!c)throw new Error("no recaptcha");Ag(n,e,c,i,t)}),t.promise}function Ag(n,e,t,r,i){t.ready(()=>{(function mA(n,e,t,r){const i=t.render(r,{sitekey:e,size:"invisible"}),u=Xi(n);u.reCAPTCHAState=Object.assign(Object.assign({},u.reCAPTCHAState),{widgetId:i})})(n,e,t,r),i.resolve(t)})}function Ky(){return(Ky=(0,ke.Z)(function*(n){XE(n);const t=yield Xi(n).reCAPTCHAState.initialized.promise;return new Promise((r,i)=>{const u=Xi(n).reCAPTCHAState;t.ready(()=>{r(t.execute(u.widgetId,{action:"fire_app_check"}))})})})).apply(this,arguments)}class ub{constructor(e){this._siteKey=e,this._throttleData=null}getToken(){var e=this;return(0,ke.Z)(function*(){var t,r;!function EA(n){if(n&&Date.now()-n.allowRequestsAfter<=0)throw Es.create("throttled",{time:Vy(n.allowRequestsAfter-Date.now()),httpStatus:n.httpStatus})}(e._throttleData);const i=yield function gA(n){return Ky.apply(this,arguments)}(e._app).catch(c=>{throw Es.create("recaptcha-error")});let u;try{u=yield By(function tO(n,e){const{projectId:t,appId:r,apiKey:i}=n.options;return{url:`${Ly}/projects/${t}/apps/${r}:exchangeRecaptchaV3Token?key=${i}`,body:{recaptcha_v3_token:e}}}(e._app,i),e._heartbeatServiceProvider)}catch(c){throw null!==(t=c.code)&&void 0!==t&&t.includes("fetch-status-error")?(e._throttleData=function nf(n,e){if(404===n||403===n)return{backoffCount:1,allowRequestsAfter:Date.now()+864e5,httpStatus:n};{const t=e?e.backoffCount:0,r=(0,q.$s)(t,1e3,2);return{backoffCount:t+1,allowRequestsAfter:Date.now()+r,httpStatus:n}}}(Number(null===(r=c.customData)||void 0===r?void 0:r.httpStatus),e._throttleData),Es.create("throttled",{time:Vy(e._throttleData.allowRequestsAfter-Date.now()),httpStatus:e._throttleData.httpStatus})):c}return e._throttleData=null,u})()}initialize(e){this._app=e,this._heartbeatServiceProvider=(0,eo._getProvider)(e,"heartbeat"),oi(e,this._siteKey).catch(()=>{})}isEqual(e){return e instanceof ub&&this._siteKey===e._siteKey}}function mO(n=(0,eo.getApp)(),e){n=(0,q.m9)(n);const t=(0,eo._getProvider)(n,"app-check");if(bg().initialized||function hA(){const n=(0,q.Rd)(),e=bg();if(e.initialized=!0,"string"!=typeof n.FIREBASE_APPCHECK_DEBUG_TOKEN&&!0!==n.FIREBASE_APPCHECK_DEBUG_TOKEN)return;e.enabled=!0;const t=new q.BH;e.token=t,t.resolve("string"==typeof n.FIREBASE_APPCHECK_DEBUG_TOKEN?n.FIREBASE_APPCHECK_DEBUG_TOKEN:function dA(){return Gy.apply(this,arguments)}())}(),ib()&&sb().then(i=>console.log(`App Check debug token: ${i}. You will need to add it to your app's App Check settings in the Firebase console for it to work.`)),t.isInitialized()){const i=t.getImmediate(),u=t.getOptions();if(u.isTokenAutoRefreshEnabled===e.isTokenAutoRefreshEnabled&&u.provider.isEqual(e.provider))return i;throw Es.create("already-initialized",{appName:n.name})}const r=t.initialize({options:e});return function _O(n,e,t){const r=function Xk(n,e){return Eg.set(n,e),Eg.get(n)}(n,Object.assign({},Xh));r.activated=!0,r.provider=e,r.cachedTokenPromise=function cA(n){return $y.apply(this,arguments)}(n).then(i=>(i&&Sg(i)&&(r.token=i,ob(n,{token:i.token})),i)),r.isTokenAutoRefreshEnabled=void 0===t?n.automaticDataCollectionEnabled:t,r.provider.initialize(n)}(n,e.provider,e.isTokenAutoRefreshEnabled),Xi(n).isTokenAutoRefreshEnabled&&fA(r,"INTERNAL",()=>{}),r}const rf="app-check-internal";!function xg(){(0,eo._registerComponent)(new zu.wA("app-check",n=>function fO(n,e){return new hO(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(rf).initialize()})),(0,eo._registerComponent)(new zu.wA(rf,n=>function pO(n){return{getToken:e=>zy(n,e),addTokenListener:e=>fA(n,"INTERNAL",e),removeTokenListener:e=>Tg(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,eo.registerVersion)("@firebase/app-check","0.5.17")}();const bA="app-check";class cb{constructor(e){return e}}class Ng{constructor(){return(0,_n.vb)(bA)}}const Qy=new h.OlP("angularfire2.app-check-instances"),DO=typeof window<"u"&&["localhost","0.0.0.0","127.0.0.1"].includes(window.location.hostname);function TO(n){return(e,t,r)=>{var i;!Oa(r)&&((0,h.X6Q)()||DO)&&(null!==(i=globalThis.FIREBASE_APPCHECK_DEBUG_TOKEN)&&void 0!==i||(globalThis.FIREBASE_APPCHECK_DEBUG_TOKEN=!0));const u=e.runOutsideAngular(()=>n(t));return new cb(u)}}const c3={provide:Ng,deps:[[new h.FiY,Qy]]},d3={provide:cb,useFactory:function IO(n,e){const t=(0,_n.JM)(bA,n,e);return t&&new cb(t)},deps:[[new h.FiY,Qy],Jh,h.Lbi]};let h3=(()=>{class n{constructor(){(0,Hl.KN)("angularfire",_n.q4.full,"app-check")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:[d3,c3]}),n})();function f3(n,...e){return{ngModule:h3,providers:[{provide:Qy,useFactory:TO(n),multi:!0,deps:[h.R0b,h.zs3,h.Lbi,_n.HU,pd,...e]}]}}const p3=(0,_n.u3)(mO,!0);var $t=V(127);const Mg=new h.OlP("angularfire2.auth.use-emulator"),md=new h.OlP("angularfire2.auth.settings"),hb=new h.OlP("angularfire2.auth.tenant-id"),fb=new h.OlP("angularfire2.auth.langugage-code"),pb=new h.OlP("angularfire2.auth.use-device-language"),gb=new h.OlP("angularfire.auth.persistence"),mb=(n,e,t,r,i,u,c,p)=>(0,Dr.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const v=e.runOutsideAngular(()=>n.auth());if(t&&v.useEmulator(...t),r&&(v.tenantId=r),v.languageCode=i,u&&v.useDeviceLanguage(),c)for(const[I,A]of Object.entries(c))v.settings[I]=A;return p&&v.setPersistence(p),v},[t,r,i,u,c,p]);let to=(()=>{class n{constructor(t,r,i,u,c,p,v,I,A,M,P,$){const Q=new Fi.x,le=Dt(void 0).pipe((0,fd.Q)(c.outsideAngular),ir(()=>u.runOutsideAngular(()=>Promise.resolve().then(V.bind(V,5881)))),(0,At.U)(()=>(0,Dr.on)(t,u,r)),(0,At.U)(ye=>mb(ye,u,p,I,A,M,v,P)),si({bufferSize:1,refCount:!1}));if(Oa(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Dt(null);else{le.pipe(aa()).subscribe();const lt=le.pipe(ir(_t=>_t.getRedirectResult().then(ft=>ft,()=>null)),_n.iC,si({bufferSize:1,refCount:!1})),dt=le.pipe(ir(_t=>new Xs.y(ft=>({unsubscribe:u.runOutsideAngular(()=>_t.onAuthStateChanged(yt=>ft.next(yt),yt=>ft.error(yt),()=>ft.complete()))})))),wt=le.pipe(ir(_t=>new Xs.y(ft=>({unsubscribe:u.runOutsideAngular(()=>_t.onIdTokenChanged(yt=>ft.next(yt),yt=>ft.error(yt),()=>ft.complete()))}))));this.authState=lt.pipe(qE(dt),(0,ZE.R)(c.outsideAngular),(0,fd.Q)(c.insideAngular)),this.user=lt.pipe(qE(wt),(0,ZE.R)(c.outsideAngular),(0,fd.Q)(c.insideAngular)),this.idToken=this.user.pipe(ir(_t=>_t?(0,Hn.D)(_t.getIdToken()):Dt(null))),this.idTokenResult=this.user.pipe(ir(_t=>_t?(0,Hn.D)(_t.getIdTokenResult()):Dt(null))),this.credential=(0,zE.T)(lt,Q,this.authState.pipe(ys(_t=>!_t))).pipe((0,At.U)(_t=>_t?.user?_t:null),(0,ZE.R)(c.outsideAngular),(0,fd.Q)(c.insideAngular))}return(0,Dr.pX)(this,le,u,{spy:{apply:(ye,lt,dt)=>{(ye.startsWith("signIn")||ye.startsWith("createUser"))&&dt.then(wt=>Q.next(wt))}}})}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(Dr.Dh),h.LFG(Dr.xv,8),h.LFG(h.Lbi),h.LFG(h.R0b),h.LFG(_n.HU),h.LFG(Mg,8),h.LFG(md,8),h.LFG(hb,8),h.LFG(fb,8),h.LFG(pb,8),h.LFG(gb,8),h.LFG(Ng,8))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),xO=(()=>{class n{constructor(){$t.Z.registerVersion("angularfire",_n.q4.full,"auth-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:[to]}),n})();function _d(n,e=Au.y){return n=n??MO,(0,qr.e)((t,r)=>{let i,u=!0;t.subscribe((0,Xr.x)(r,c=>{const p=e(c);(u||!n(i,p))&&(u=!1,i=p,r.next(c))}))})}function MO(n,e){return n===e}function Rg(){return(0,qr.e)((n,e)=>{let t,r=!1;n.subscribe((0,Xr.x)(e,i=>{const u=t;t=i,r&&e.next([u,i]),r=!0}))})}const TA="firebase_screen_id",vb="outlet",sf="screen_class",AA="screen_name";let HO=Math.floor(Math.random()*(Math.pow(2,32)-1))-Math.pow(2,31);const wb={},Eb=n=>{const e=[n[sf],n[vb]].join("#");if(wb.hasOwnProperty(e))return wb[e];{const t=HO++;return wb[e]=t,t}},qO=new h.OlP("angularfire2.analytics.analyticsCollectionEnabled"),I3=new h.OlP("angularfire2.analytics.appVersion"),kA=new h.OlP("angularfire2.analytics.appName"),Ib=new h.OlP("angularfire2.analytics.debugMode"),ZO=new h.OlP("angularfire2.analytics.config"),Pg="dataLayer";let af=(()=>{class n{constructor(t,r,i,u,c,p,v,I,A){if(this.analyticsInitialized=new Promise(()=>{}),function bc(n){return n===gu}(v)){window[Pg]=window[Pg]||[];const P=(...le)=>"config"===le[0]&&"firebase"===le[2].origin&&(this.measurementId=le[1],!0),$=le=>{window.gtag=(...ye)=>{le&&le(...ye),"event"===ye[0]&&ye[2].send_to===this.measurementId&&(u&&(ye[2].app_name=u),i&&(ye[2].app_version=i)),c&&typeof console<"u"&&console.info(...ye),function(...lt){window[Pg].push(arguments)}(...ye)}};window[Pg].some(P)?(this.analyticsInitialized=Promise.resolve(),$()):this.analyticsInitialized=new Promise(le=>{$((...ye)=>{P(...ye)&&le()})}),p&&this.updateConfig(p),c&&this.updateConfig({debug_mode:1})}else this.analyticsInitialized=Promise.resolve();const M=Dt(void 0).pipe((0,fd.Q)(A.outsideAngular),ir(qk.Gb),ir(P=>P?I.runOutsideAngular(()=>V.e(643).then(V.bind(V,8643))):sa.E),(0,At.U)(()=>(0,Dr.cc)("analytics","AngularFireAnalytics",t.name,()=>{const P=t.analytics();return!1===r&&P.setAnalyticsCollectionEnabled(!1),P},[t,r,p,c])),si({bufferSize:1,refCount:!1}));return(0,Dr.pX)(this,M,I)}updateConfig(t){return(0,Wk.mG)(this,void 0,void 0,function*(){yield this.analyticsInitialized,window.gtag("config",this.measurementId,Object.assign(Object.assign({},t),{update:!0}))})}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(Dr.Ot),h.LFG(qO,8),h.LFG(I3,8),h.LFG(kA,8),h.LFG(Ib,8),h.LFG(ZO,8),h.LFG(h.Lbi),h.LFG(h.R0b),h.LFG(_n.HU))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),Jy=(()=>{class n{constructor(t,r,i,u){if(this.disposables=[],$t.Z.registerVersion("angularfire",_n.q4.full,"compat-user-tracking"),Oa(r))this.initialized=Promise.resolve();else{let c;this.initialized=u.runOutsideAngular(()=>new Promise(p=>c=p)),this.disposables=[i.authState.subscribe(p=>{t.setUserId(p?.uid),c()}),i.credential.subscribe(p=>{if(p){const v=p.user.isAnonymous?"anonymous":p.additionalUserInfo.providerId;p.additionalUserInfo.isNewUser&&t.logEvent("sign_up",{method:v}),t.logEvent("login",{method:v})}})]}}ngOnDestroy(){this.disposables.forEach(t=>t.unsubscribe())}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(af),h.LFG(h.Lbi),h.LFG(to),h.LFG(h.R0b))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})(),Sb=(()=>{class n{constructor(t,r,i,u,c,p){if($t.Z.registerVersion("angularfire",_n.q4.full,"compat-screen-tracking"),!r||!t)return this;c.runOutsideAngular(()=>{this.disposable=((n,e,t)=>n.events.pipe(ys(i=>i instanceof ET)).pipe(ir(i=>{var u;const p=(null===(u=n.parseUrl(n.url.replace(/(?:\().+(?:\))/g,$=>$.replace("://",":///"))).root.children[i.snapshot.outlet])||void 0===u?void 0:u.toString())||"",v=n.routerState.root.children.map($=>$).find($=>$.outlet===i.snapshot.outlet);if(!v)return Dt(null);let I=v;for(;I.firstChild;)I=I.firstChild;const A=I.pathFromRoot.map($=>{var Q;return null===(Q=$.routeConfig)||void 0===Q?void 0:Q.path}).filter($=>$).join("/")||"/",M={[AA]:A,page_path:`/${p}`,firebase_event_origin:"auto",firebase_screen:A,[vb]:i.snapshot.outlet};e&&(M.page_title=e.getTitle());let P=v.component;if(P){if(P===q_){let $=i.snapshot;for(;$.firstChild;)$=$.firstChild;P=$.component}}else P=i.snapshot.component;if("string"==typeof P)return Dt(Object.assign(Object.assign({},M),{[sf]:P}));if(P){const $=t.resolveComponentFactory(P);return Dt(Object.assign(Object.assign({},M),{[sf]:$.selector}))}return Dt(null)}),ys(i=>!!i),(0,At.U)(i=>Object.assign({firebase_screen_class:i[sf],[TA]:Eb(i)},i)),function NO(n,e,t,r){return(0,qr.e)((i,u)=>{let c;e&&"function"!=typeof e?({duration:t,element:c,connector:r}=e):c=e;const p=new Map,v=Q=>{p.forEach(Q),Q(u)},I=Q=>v(le=>le.error(Q));let A=0,M=!1;const P=new Xr.Q(u,Q=>{try{const le=n(Q);let ye=p.get(le);if(!ye){p.set(le,ye=r?r():new Fi.x);const lt=function $(Q,le){const ye=new Xs.y(lt=>{A++;const dt=le.subscribe(lt);return()=>{dt.unsubscribe(),0==--A&&M&&P.unsubscribe()}});return ye.key=Q,ye}(le,ye);if(u.next(lt),t){const dt=(0,Xr.x)(ye,()=>{ye.complete(),dt?.unsubscribe()},void 0,void 0,()=>p.delete(le));P.add((0,xu.Xf)(t(lt)).subscribe(dt))}}ye.next(c?c(Q):Q)}catch(le){I(le)}},()=>v(Q=>Q.complete()),I,()=>p.clear(),()=>(M=!0,0===A));i.subscribe(P)})}(i=>i[vb]),(0,Ji.z)(i=>i.pipe(_d((u,c)=>JSON.stringify(u)===JSON.stringify(c)),gh(void 0),Rg(),(0,At.U)(([u,c])=>u?Object.assign({firebase_previous_class:u[sf],firebase_previous_screen:u[AA],firebase_previous_id:u[TA]},c):c)))))(r,i,u).pipe(ir(v=>(0,Wk.mG)(this,void 0,void 0,function*(){return p&&(yield p.initialized),yield t.logEvent("screen_view",v)}))).subscribe()})}ngOnDestroy(){this.disposable&&this.disposable.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(af),h.LFG(Ii,8),h.LFG(Lp,8),h.LFG(h._Vd),h.LFG(h.R0b),h.LFG(Jy,8))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})(),QO=(()=>{class n{constructor(t,r,i){$t.Z.registerVersion("angularfire",_n.q4.full,"analytics-compat"),t.app.then(()=>{})}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(af),h.LFG(Sb,8),h.LFG(Jy,8))},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:[af]}),n})();var Ab=V(4986),C3=V(5032);V(5881);var XO=V(3942);const FA="@firebase/database",UA="0.13.10";let Xy="";function VA(n){Xy=n}class BA{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),(0,q.Wl)(t))}get(e){const t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:(0,q.cI)(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}class eP{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}get(e){return(0,q.r3)(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}const jA=function(n){try{if(typeof window<"u"&&typeof window[n]<"u"){const e=window[n];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new BA(e)}}catch{}return new eP},yd=jA("localStorage"),xb=jA("sessionStorage"),uf=new da.Yd("@firebase/database"),$A=function(){let n=1;return function(){return n++}}(),HA=function(n){const e=(0,q.dS)(n),t=new q.gQ;t.update(e);const r=t.digest();return q.US.encodeByteArray(r)},qu=function(...n){let e="";for(let t=0;t<n.length;t++){const r=n[t];Array.isArray(r)||r&&"object"==typeof r&&"number"==typeof r.length?e+=qu.apply(null,r):e+="object"==typeof r?(0,q.Wl)(r):r,e+=" "}return e};let Wl=null,Nb=!0;const Mb=function(n,e){(0,q.hu)(!e||!0===n||!1===n,"Can't turn on custom loggers persistently."),!0===n?(uf.logLevel=da.in.VERBOSE,Wl=uf.log.bind(uf),e&&xb.set("logging_enabled",!0)):"function"==typeof n?Wl=n:(Wl=null,xb.remove("logging_enabled"))},Ui=function(...n){if(!0===Nb&&(Nb=!1,null===Wl&&!0===xb.get("logging_enabled")&&Mb(!0)),Wl){const e=qu.apply(null,n);Wl(e)}},lf=function(n){return function(...e){Ui(n,...e)}},ev=function(...n){const e="FIREBASE INTERNAL ERROR: "+qu(...n);uf.error(e)},Ka=function(...n){const e=`FIREBASE FATAL ERROR: ${qu(...n)}`;throw uf.error(e),new Error(e)},Ps=function(...n){const e="FIREBASE WARNING: "+qu(...n);uf.warn(e)},Lg=function(n){return"number"==typeof n&&(n!=n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},Zu="[MIN_NAME]",Ya="[MAX_NAME]",ha=function(n,e){if(n===e)return 0;if(n===Zu||e===Ya)return-1;if(e===Zu||n===Ya)return 1;{const t=nv(n),r=nv(e);return null!==t?null!==r?t-r==0?n.length-e.length:t-r:-1:null!==r?1:n<e?-1:1}},nP=function(n,e){return n===e?0:n<e?-1:1},vd=function(n,e){if(e&&n in e)return e[n];throw new Error("Missing required key ("+n+") in object: "+(0,q.Wl)(e))},Bo=function(n){if("object"!=typeof n||null===n)return(0,q.Wl)(n);const e=[];for(const r in n)e.push(r);e.sort();let t="{";for(let r=0;r<e.length;r++)0!==r&&(t+=","),t+=(0,q.Wl)(e[r]),t+=":",t+=Bo(n[e[r]]);return t+="}",t},WA=function(n,e){const t=n.length;if(t<=e)return[n];const r=[];for(let i=0;i<t;i+=e)r.push(n.substring(i,i+e>t?t:i+e));return r};function Ci(n,e){for(const t in n)n.hasOwnProperty(t)&&e(t,n[t])}const cf=function(n){(0,q.hu)(!Lg(n),"Invalid JSON number");const r=1023;let i,u,c,p,v;0===n?(u=0,c=0,i=1/n==-1/0?1:0):(i=n<0,(n=Math.abs(n))>=Math.pow(2,1-r)?(p=Math.min(Math.floor(Math.log(n)/Math.LN2),r),u=p+r,c=Math.round(n*Math.pow(2,52-p)-Math.pow(2,52))):(u=0,c=Math.round(n/Math.pow(2,-1074))));const I=[];for(v=52;v;v-=1)I.push(c%2?1:0),c=Math.floor(c/2);for(v=11;v;v-=1)I.push(u%2?1:0),u=Math.floor(u/2);I.push(i?1:0),I.reverse();const A=I.join("");let M="";for(v=0;v<64;v+=8){let P=parseInt(A.substr(v,8),2).toString(16);1===P.length&&(P="0"+P),M+=P}return M.toLowerCase()},tv=new RegExp("^-?(0*)\\d{1,10}$"),Fg=-2147483648,Rb=2147483647,nv=function(n){if(tv.test(n)){const e=Number(n);if(e>=Fg&&e<=Rb)return e}return null},wd=function(n){try{n()}catch(e){setTimeout(()=>{throw Ps("Exception was thrown by user callback.",e.stack||""),e},Math.floor(0))}},Ed=function(n,e){const t=setTimeout(n,e);return"number"==typeof t&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(t):"object"==typeof t&&t.unref&&t.unref(),t};class qA{constructor(e,t){this.appName_=e,this.appCheckProvider=t,this.appCheck=t?.getImmediate({optional:!0}),this.appCheck||t?.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((t,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(t,r):t(null)},0)})}addTokenChangeListener(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){Ps(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class oP{constructor(e,t,r){this.appName_=e,this.firebaseOptions_=t,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(t=>t&&"auth/token-not-initialized"===t.code?(Ui("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)):new Promise((t,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(t,r):t(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(t=>t.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(t=>t.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';e+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Ps(e)}}let Ug=(()=>{class n{constructor(t){this.accessToken=t}getToken(t){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(t){t(this.accessToken)}removeTokenChangeListener(t){}notifyForInvalidToken(){}}return n.OWNER="owner",n})();const ov=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,YA="websocket",Lb="long_polling";class Vg{constructor(e,t,r,i,u=!1,c="",p=!1){this.secure=t,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=u,this.persistenceKey=c,this.includeNamespaceInQueryParams=p,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=yd.get("host:"+e)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&yd.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function Fb(n,e,t){let r;if((0,q.hu)("string"==typeof e,"typeof type must == string"),(0,q.hu)("object"==typeof t,"typeof params must == object"),e===YA)r=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else{if(e!==Lb)throw new Error("Unknown connection type: "+e);r=(n.secure?"https://":"http://")+n.internalHost+"/.lp?"}(function QA(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams})(n)&&(t.ns=n.namespace);const i=[];return Ci(t,(u,c)=>{i.push(u+"="+c)}),r+i.join("&")}class JA{constructor(){this.counters_={}}incrementCounter(e,t=1){(0,q.r3)(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return(0,q.p$)(this.counters_)}}const av={},Ub={};function uv(n){const e=n.toString();return av[e]||(av[e]=new JA),av[e]}class aP{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){for(this.pendingResponses[e]=t;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&wd(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class zl{constructor(e,t,r,i,u,c,p){this.connId=e,this.repoInfo=t,this.applicationId=r,this.appCheckToken=i,this.authToken=u,this.transportSessionId=c,this.lastSessionId=p,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=lf(e),this.stats_=uv(t),this.urlFn=v=>(this.appCheckToken&&(v.ac=this.appCheckToken),Fb(t,Lb,v))}open(e,t){this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new aP(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(n){if((0,q.Yr)()||"complete"===document.readyState)n();else{let e=!1;const t=function(){document.body?e||(e=!0,n()):setTimeout(t,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",t,!1),window.addEventListener("load",t,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&t()}),window.attachEvent("onload",t))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new jg((...u)=>{const[c,p,v,I,A]=u;if(this.incrementIncomingBytes_(u),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===c)this.id=p,this.password=v;else{if("close"!==c)throw new Error("Unrecognized command received: "+c);p?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(p,()=>{this.onClosed_()})):this.onClosed_()}},(...u)=>{const[c,p]=u;this.incrementIncomingBytes_(u),this.myPacketOrderer.handleResponse(c,p)},()=>{this.onClosed_()},this.urlFn);const r={start:"t"};r.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(r.cb=this.scriptTagHolder.uniqueCallbackIdentifier),r.v="5",this.transportSessionId&&(r.s=this.transportSessionId),this.lastSessionId&&(r.ls=this.lastSessionId),this.applicationId&&(r.p=this.applicationId),this.appCheckToken&&(r.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&ov.test(location.hostname)&&(r.r="f");const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){zl.forceAllow_=!0}static forceDisallow(){zl.forceDisallow_=!0}static isAvailable(){return!((0,q.Yr)()||!zl.forceAllow_&&(zl.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const t=(0,q.Wl)(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const r=(0,q.h$)(t),i=WA(r,1840);for(let u=0;u<i.length;u++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[u]),this.curSegmentNum++}addDisconnectPingFrame(e,t){if((0,q.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const r={dframe:"t"};r.id=e,r.pw=t,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const t=(0,q.Wl)(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}class jg{constructor(e,t,r,i){if(this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,q.Yr)())this.commandCB=e,this.onMessageCB=t;else{this.uniqueCallbackIdentifier=$A(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=t,this.myIFrame=jg.createIFrame_();let u="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(u='<script>document.domain="'+document.domain+'";<\/script>');const c="<html><body>"+u+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(c),this.myIFrame.doc.close()}catch(p){Ui("frame writing exception"),p.stack&&Ui(p.stack),Ui(p)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||Ui("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;let t=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+r.length<=1870;){const c=this.pendingSegs.shift();r=r+"&seg"+i+"="+c.seg+"&ts"+i+"="+c.ts+"&d"+i+"="+c.d,i++}return t+=r,this.addLongPollTag_(t,this.currentSerial),!0}return!1}enqueueSegment(e,t,r){this.pendingSegs.push({seg:e,ts:t,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);const r=()=>{this.outstandingRequests.delete(t),this.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(e,()=>{clearTimeout(i),r()})}addTag(e,t){(0,q.Yr)()?this.doNodeLongPoll(e,t):setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||"loaded"===i||"complete"===i)&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),t())},r.onerror=()=>{Ui("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}let bd=null;typeof MozWebSocket<"u"?bd=MozWebSocket:typeof WebSocket<"u"&&(bd=WebSocket);let ql=(()=>{class n{constructor(t,r,i,u,c,p,v){this.connId=t,this.applicationId=i,this.appCheckToken=u,this.authToken=c,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=lf(this.connId),this.stats_=uv(r),this.connURL=n.connectionURL_(r,p,v,u,i),this.nodeAdmin=r.nodeAdmin}static connectionURL_(t,r,i,u,c){const p={v:"5"};return!(0,q.Yr)()&&typeof location<"u"&&location.hostname&&ov.test(location.hostname)&&(p.r="f"),r&&(p.s=r),i&&(p.ls=i),u&&(p.ac=u),c&&(p.p=c),Fb(t,YA,p)}open(t,r){this.onDisconnect=r,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,yd.set("previous_websocket_failure",!0);try{let i;if((0,q.Yr)()){i={headers:{"User-Agent":`Firebase/5/${Xy}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(i.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(i.headers["X-Firebase-AppCheck"]=this.appCheckToken);const c=process.env,p=0===this.connURL.indexOf("wss://")?c.HTTPS_PROXY||c.https_proxy:c.HTTP_PROXY||c.http_proxy;p&&(i.proxy={origin:p})}this.mySock=new bd(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");const u=i.message||i.data;return u&&this.log_(u),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");const u=i.message||i.data;u&&this.log_(u),this.onClosed_()}}start(){}static forceDisallow(){n.forceDisallow_=!0}static isAvailable(){let t=!1;if(typeof navigator<"u"&&navigator.userAgent){const i=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);i&&i.length>1&&parseFloat(i[1])<4.4&&(t=!0)}return!t&&null!==bd&&!n.forceDisallow_}static previouslyFailed(){return yd.isInMemoryStorage||!0===yd.get("previous_websocket_failure")}markConnectionHealthy(){yd.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){const r=this.frames.join("");this.frames=null;const i=(0,q.cI)(r);this.onMessage(i)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if((0,q.hu)(null===this.frames,"We already have a frame buffer"),t.length<=6){const r=Number(t);if(!isNaN(r))return this.handleNewFrameCount_(r),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(null===this.mySock)return;const r=t.data;if(this.bytesReceived+=r.length,this.stats_.incrementCounter("bytes_received",r.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(r);else{const i=this.extractFrameCount_(r);null!==i&&this.appendFrame_(i)}}send(t){this.resetKeepAlive();const r=(0,q.Wl)(t);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);const i=WA(r,16384);i.length>1&&this.sendString_(String(i.length));for(let u=0;u<i.length;u++)this.sendString_(i[u])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(t){try{this.mySock.send(t)}catch(r){this.log_("Exception thrown from WebSocket.send():",r.message||r.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return n.responsesRequiredToBeHealthy=2,n.healthyTimeout=3e4,n})(),fP=(()=>{class n{constructor(t){this.initTransports_(t)}static get ALL_TRANSPORTS(){return[zl,ql]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(t){const r=ql&&ql.isAvailable();let i=r&&!ql.previouslyFailed();if(t.webSocketOnly&&(r||Ps("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[ql];else{const u=this.transports_=[];for(const c of n.ALL_TRANSPORTS)c&&c.isAvailable()&&u.push(c);n.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return n.globalTransportInitialized_=!1,n})();class Hb{constructor(e,t,r,i,u,c,p,v,I,A){this.id=e,this.repoInfo_=t,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=u,this.onMessage_=c,this.onReady_=p,this.onDisconnect_=v,this.onKill_=I,this.lastSessionId=A,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=lf("c:"+this.id+":"),this.transportManager_=new fP(t),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(t,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=Ed(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return t=>{2!==this.state_&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(e){this.sendData_({t:"d",d:e})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if("t"in e){const t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const t=vd("t",e),r=vd("d",e);if("c"===t)this.onSecondaryControl_(r);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(r)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const t=vd("t",e),r=vd("d",e);"c"===t?this.onControl_(r):"d"===t&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const t=vd("t",e);if("d"in e){const r=e.d;if("h"===t)this.onHandshake_(r);else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(r):"r"===t?this.onReset_(r):"e"===t?ev("Server Error: "+r):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):ev("Unknown control packet command: "+t)}}onHandshake_(e){const t=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),"5"!==r&&Ps("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,r),Ed(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Ed(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(yd.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class g1{put(e,t,r,i){}merge(e,t,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,r){}onDisconnectMerge(e,t,r){}onDisconnectCancel(e,t){}reportStats(e){}}class Gb{constructor(e){this.allowedEvents_=e,this.listeners_={},(0,q.hu)(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...t){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,t)}}on(e,t,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:r});const i=this.getInitialEvent(e);i&&t.apply(r,i)}off(e,t,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let u=0;u<i.length;u++)if(i[u].callback===t&&(!r||r===i[u].context))return void i.splice(u,1)}validateEventType_(e){(0,q.hu)(this.allowedEvents_.find(t=>t===e),"Unknown event: "+e)}}class $g extends Gb{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!(0,q.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new $g}getInitialEvent(e){return(0,q.hu)("online"===e,"Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}class sr{constructor(e,t){if(void 0===t){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}function tr(){return new sr("")}function An(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function Ku(n){return n.pieces_.length-n.pieceNum_}function _r(n){let e=n.pieceNum_;return e<n.pieces_.length&&e++,new sr(n.pieces_,e)}function cv(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function Hg(n,e=0){return n.pieces_.slice(n.pieceNum_+e)}function vP(n){if(n.pieceNum_>=n.pieces_.length)return null;const e=[];for(let t=n.pieceNum_;t<n.pieces_.length-1;t++)e.push(n.pieces_[t]);return new sr(e,0)}function Ur(n,e){const t=[];for(let r=n.pieceNum_;r<n.pieces_.length;r++)t.push(n.pieces_[r]);if(e instanceof sr)for(let r=e.pieceNum_;r<e.pieces_.length;r++)t.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&t.push(r[i])}return new sr(t,0)}function On(n){return n.pieceNum_>=n.pieces_.length}function no(n,e){const t=An(n),r=An(e);if(null===t)return e;if(t===r)return no(_r(n),_r(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+n+")")}function S3(n,e){const t=Hg(n,0),r=Hg(e,0);for(let i=0;i<t.length&&i<r.length;i++){const u=ha(t[i],r[i]);if(0!==u)return u}return t.length===r.length?0:t.length<r.length?-1:1}function y1(n,e){if(Ku(n)!==Ku(e))return!1;for(let t=n.pieceNum_,r=e.pieceNum_;t<=n.pieces_.length;t++,r++)if(n.pieces_[t]!==e.pieces_[r])return!1;return!0}function fa(n,e){let t=n.pieceNum_,r=e.pieceNum_;if(Ku(n)>Ku(e))return!1;for(;t<n.pieces_.length;){if(n.pieces_[t]!==e.pieces_[r])return!1;++t,++r}return!0}class A3{constructor(e,t){this.errorPrefix_=t,this.parts_=Hg(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=(0,q.ug)(this.parts_[r]);Gg(this)}}function Gg(n){if(n.byteLength_>768)throw new Error(n.errorPrefix_+"has a key path longer than 768 bytes ("+n.byteLength_+").");if(n.parts_.length>32)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+ff(n))}function ff(n){return 0===n.parts_.length?"":"in property '"+n.parts_.join(".")+"'"}class dv extends Gb{constructor(){let e,t;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(t="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(t="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(t="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new dv}getInitialEvent(e){return(0,q.hu)("visible"===e,"Unknown event type: "+e),[this.visible_]}}const Zl=1e3;let hv,Kl=(()=>{class n extends g1{constructor(t,r,i,u,c,p,v,I){if(super(),this.repoInfo_=t,this.applicationId_=r,this.onDataUpdate_=i,this.onConnectStatus_=u,this.onServerInfoUpdate_=c,this.authTokenProvider_=p,this.appCheckTokenProvider_=v,this.authOverride_=I,this.id=n.nextPersistentConnectionId_++,this.log_=lf("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Zl,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,I&&!(0,q.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");dv.getInstance().on("visible",this.onVisible_,this),-1===t.host.indexOf("fblocal")&&$g.getInstance().on("online",this.onOnline_,this)}sendRequest(t,r,i){const u=++this.requestNumber_,c={r:u,a:t,b:r};this.log_((0,q.Wl)(c)),(0,q.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(c),i&&(this.requestCBHash_[u]=i)}get(t){this.initConnection_();const r=new q.BH,u={action:"g",request:{p:t._path.toString(),q:t._queryObject},onComplete:p=>{const v=p.d;"ok"===p.s?r.resolve(v):r.reject(v)}};return this.outstandingGets_.push(u),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),r.promise}listen(t,r,i,u){this.initConnection_();const c=t._queryIdentifier,p=t._path.toString();this.log_("Listen called for "+p+" "+c),this.listens.has(p)||this.listens.set(p,new Map),(0,q.hu)(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,q.hu)(!this.listens.get(p).has(c),"listen() called twice for same path/queryId.");const v={onComplete:u,hashFn:r,query:t,tag:i};this.listens.get(p).set(c,v),this.connected_&&this.sendListen_(v)}sendGet_(t){const r=this.outstandingGets_[t];this.sendRequest("g",r.request,i=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),r.onComplete&&r.onComplete(i)})}sendListen_(t){const r=t.query,i=r._path.toString(),u=r._queryIdentifier;this.log_("Listen on "+i+" for "+u);const c={p:i};t.tag&&(c.q=r._queryObject,c.t=t.tag),c.h=t.hashFn(),this.sendRequest("q",c,v=>{const I=v.d,A=v.s;n.warnOnListenWarnings_(I,r),(this.listens.get(i)&&this.listens.get(i).get(u))===t&&(this.log_("listen response",v),"ok"!==A&&this.removeListen_(i,u),t.onComplete&&t.onComplete(A,I))})}static warnOnListenWarnings_(t,r){if(t&&"object"==typeof t&&(0,q.r3)(t,"w")){const i=(0,q.DV)(t,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){const u='".indexOn": "'+r._queryParams.getIndex().toString()+'"',c=r._path.toString();Ps(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${u} at ${c} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&40===t.length||(0,q.GJ)(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const t=this.authToken_,r=(0,q.w9)(t)?"auth":"gauth",i={cred:t};null===this.authOverride_?i.noauth=!0:"object"==typeof this.authOverride_&&(i.authvar=this.authOverride_),this.sendRequest(r,i,u=>{const c=u.s,p=u.d||"error";this.authToken_===t&&("ok"===c?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(c,p))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{const r=t.s,i=t.d||"error";"ok"===r?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(r,i)})}unlisten(t,r){const i=t._path.toString(),u=t._queryIdentifier;this.log_("Unlisten called for "+i+" "+u),(0,q.hu)(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,u)&&this.connected_&&this.sendUnlisten_(i,u,t._queryObject,r)}sendUnlisten_(t,r,i,u){this.log_("Unlisten on "+t+" for "+r);const c={p:t};u&&(c.q=i,c.t=u),this.sendRequest("n",c)}onDisconnectPut(t,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,r,i):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:r,onComplete:i})}onDisconnectMerge(t,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,r,i):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:r,onComplete:i})}onDisconnectCancel(t,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:r})}sendOnDisconnect_(t,r,i,u){const c={p:r,d:i};this.log_("onDisconnect "+t,c),this.sendRequest(t,c,p=>{u&&setTimeout(()=>{u(p.s,p.d)},Math.floor(0))})}put(t,r,i,u){this.putInternal("p",t,r,i,u)}merge(t,r,i,u){this.putInternal("m",t,r,i,u)}putInternal(t,r,i,u,c){this.initConnection_();const p={p:r,d:i};void 0!==c&&(p.h=c),this.outstandingPuts_.push({action:t,request:p,onComplete:u}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+r)}sendPut_(t){const r=this.outstandingPuts_[t].action,i=this.outstandingPuts_[t].request,u=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(r,i,c=>{this.log_(r+" response",c),delete this.outstandingPuts_[t],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),u&&u(c.s,c.d)})}reportStats(t){if(this.connected_){const r={c:t};this.log_("reportStats",r),this.sendRequest("s",r,i=>{"ok"!==i.s&&this.log_("reportStats","Error sending stats: "+i.d)})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+(0,q.Wl)(t));const r=t.r,i=this.requestCBHash_[r];i&&(delete this.requestCBHash_[r],i(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,r){this.log_("handleServerMessage",t,r),"d"===t?this.onDataUpdate_(r.p,r.d,!1,r.t):"m"===t?this.onDataUpdate_(r.p,r.d,!0,r.t):"c"===t?this.onListenRevoked_(r.p,r.q):"ac"===t?this.onAuthRevoked_(r.s,r.d):"apc"===t?this.onAppCheckRevoked_(r.s,r.d):"sd"===t?this.onSecurityDebugPacket_(r):ev("Unrecognized action received from server: "+(0,q.Wl)(t)+"\nAre you using the latest client?")}onReady_(t,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(t),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){(0,q.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Zl,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=Zl,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Zl),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const t=(new Date).getTime()-this.lastConnectionAttemptTime_;let r=Math.max(0,this.reconnectDelay_-t);r=Math.random()*r,this.log_("Trying to reconnect in "+r+"ms"),this.scheduleConnect_(r),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var t=this;return(0,ke.Z)(function*(){if(t.shouldReconnect_()){t.log_("Making a connection attempt"),t.lastConnectionAttemptTime_=(new Date).getTime(),t.lastConnectionEstablishedTime_=null;const r=t.onDataMessage_.bind(t),i=t.onReady_.bind(t),u=t.onRealtimeDisconnect_.bind(t),c=t.id+":"+n.nextConnectionId_++,p=t.lastSessionId;let v=!1,I=null;const A=function(){I?I.close():(v=!0,u())};t.realtime_={close:A,sendRequest:function($){(0,q.hu)(I,"sendRequest call when we're not connected not allowed."),I.sendRequest($)}};const P=t.forceTokenRefresh_;t.forceTokenRefresh_=!1;try{const[$,Q]=yield Promise.all([t.authTokenProvider_.getToken(P),t.appCheckTokenProvider_.getToken(P)]);v?Ui("getToken() completed but was canceled"):(Ui("getToken() completed. Creating connection."),t.authToken_=$&&$.accessToken,t.appCheckToken_=Q&&Q.token,I=new Hb(c,t.repoInfo_,t.applicationId_,t.appCheckToken_,t.authToken_,r,i,u,le=>{Ps(le+" ("+t.repoInfo_.toString()+")"),t.interrupt("server_kill")},p))}catch($){t.log_("Failed to get token: "+$),v||(t.repoInfo_.nodeAdmin&&Ps($),A())}}})()}interrupt(t){Ui("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){Ui("Resuming connection for reason: "+t),delete this.interruptReasons_[t],(0,q.xb)(this.interruptReasons_)&&(this.reconnectDelay_=Zl,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){const r=t-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:r})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){const r=this.outstandingPuts_[t];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(t,r){let i;i=r?r.map(c=>Bo(c)).join("$"):"default";const u=this.removeListen_(t,i);u&&u.onComplete&&u.onComplete("permission_denied")}removeListen_(t,r){const i=new sr(t).toString();let u;if(this.listens.has(i)){const c=this.listens.get(i);u=c.get(r),c.delete(r),0===c.size&&this.listens.delete(i)}else u=void 0;return u}onAuthRevoked_(t,r){Ui("Auth token revoked: "+t+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===t||"permission_denied"===t)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,r){Ui("App check token revoked: "+t+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===t||"permission_denied"===t)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const t of this.listens.values())for(const r of t.values())this.sendListen_(r);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){const t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){const t={};let r="js";(0,q.Yr)()&&(r=this.repoInfo_.nodeAdmin?"admin_node":"node"),t["sdk."+r+"."+Xy.replace(/\./g,"-")]=1,(0,q.uI)()?t["framework.cordova"]=1:(0,q.b$)()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){const t=$g.getInstance().currentlyOnline();return(0,q.xb)(this.interruptReasons_)&&t}}return n.nextPersistentConnectionId_=0,n.nextConnectionId_=0,n})();class Un{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new Un(e,t)}}class qb{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){const r=new Un(Zu,e),i=new Un(Zu,t);return 0!==this.compare(r,i)}minPost(){return Un.MIN}}class b1 extends qb{static get __EMPTY_NODE(){return hv}static set __EMPTY_NODE(e){hv=e}compare(e,t){return ha(e.name,t.name)}isDefinedOn(e){throw(0,q.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,t){return!1}minPost(){return Un.MIN}maxPost(){return new Un(Ya,hv)}makePost(e,t){return(0,q.hu)("string"==typeof e,"KeyIndex indexValue must always be a string."),new Un(e,hv)}toString(){return".key"}}const po=new b1;class fv{constructor(e,t,r,i,u=null){this.isReverse_=i,this.resultGenerator_=u,this.nodeStack_=[];let c=1;for(;!e.isEmpty();)if(c=t?r(e.key,t):1,i&&(c*=-1),c<0)e=this.isReverse_?e.left:e.right;else{if(0===c){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}getNext(){if(0===this.nodeStack_.length)return null;let t,e=this.nodeStack_.pop();if(t=this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}let Kb,Qa=(()=>{class n{constructor(t,r,i,u,c){this.key=t,this.value=r,this.color=i??n.RED,this.left=u??go.EMPTY_NODE,this.right=c??go.EMPTY_NODE}copy(t,r,i,u,c){return new n(t??this.key,r??this.value,i??this.color,u??this.left,c??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,r,i){let u=this;const c=i(t,u.key);return u=c<0?u.copy(null,null,null,u.left.insert(t,r,i),null):0===c?u.copy(null,r,null,null,null):u.copy(null,null,null,null,u.right.insert(t,r,i)),u.fixUp_()}removeMin_(){if(this.left.isEmpty())return go.EMPTY_NODE;let t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,r){let i,u;if(i=this,r(t,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(t,r),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),0===r(t,i.key)){if(i.right.isEmpty())return go.EMPTY_NODE;u=i.right.min_(),i=i.copy(u.key,u.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(t,r))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){const t=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){const t=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){const t=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,r)}checkMaxDepth_(){const t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}}return n.RED=!0,n.BLACK=!1,n})();class go{constructor(e,t=go.EMPTY_NODE){this.comparator_=e,this.root_=t}insert(e,t){return new go(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,Qa.BLACK,null,null))}remove(e){return new go(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Qa.BLACK,null,null))}get(e){let t,r=this.root_;for(;!r.isEmpty();){if(t=this.comparator_(e,r.key),0===t)return r.value;t<0?r=r.left:t>0&&(r=r.right)}return null}getPredecessorKey(e){let t,r=this.root_,i=null;for(;!r.isEmpty();){if(t=this.comparator_(e,r.key),0===t){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}t<0?r=r.left:t>0&&(i=r,r=r.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new fv(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new fv(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new fv(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new fv(this.root_,null,this.comparator_,!0,e)}}function wP(n,e){return ha(n.name,e.name)}function Zb(n,e){return ha(n,e)}go.EMPTY_NODE=new class R3{copy(e,t,r,i,u){return this}insert(e,t,r){return new Qa(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const I1=function(n){return"number"==typeof n?"number:"+cf(n):"string:"+n},Yb=function(n){if(n.isLeafNode()){const e=n.val();(0,q.hu)("string"==typeof e||"number"==typeof e||"object"==typeof e&&(0,q.r3)(e,".sv"),"Priority must be a string or number.")}else(0,q.hu)(n===Kb||n.isEmpty(),"priority of unexpected type.");(0,q.hu)(n===Kb||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let Qb,jo,C1,Wg=(()=>{class n{constructor(t,r=n.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=r,this.lazyHash_=null,(0,q.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),Yb(this.priorityNode_)}static set __childrenNodeConstructor(t){Qb=t}static get __childrenNodeConstructor(){return Qb}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new n(this.value_,t)}getImmediateChild(t){return".priority"===t?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return On(t)?this:".priority"===An(t)?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,r){return null}updateImmediateChild(t,r){return".priority"===t?this.updatePriority(r):r.isEmpty()&&".priority"!==t?this:n.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,r).updatePriority(this.priorityNode_)}updateChild(t,r){const i=An(t);return null===i?r:r.isEmpty()&&".priority"!==i?this:((0,q.hu)(".priority"!==i||1===Ku(t),".priority must be the last token in a path"),this.updateImmediateChild(i,n.__childrenNodeConstructor.EMPTY_NODE.updateChild(_r(t),r)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,r){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+I1(this.priorityNode_.val())+":");const r=typeof this.value_;t+=r+":",t+="number"===r?cf(this.value_):this.value_,this.lazyHash_=HA(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===n.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof n.__childrenNodeConstructor?-1:((0,q.hu)(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){const r=typeof t.value_,i=typeof this.value_,u=n.VALUE_TYPE_ORDER.indexOf(r),c=n.VALUE_TYPE_ORDER.indexOf(i);return(0,q.hu)(u>=0,"Unknown leaf type: "+r),(0,q.hu)(c>=0,"Unknown leaf type: "+i),u===c?"object"===i?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:c-u}withIndex(){return this}isIndexed(){return!0}equals(t){if(t===this)return!0;if(t.isLeafNode()){const r=t;return this.value_===r.value_&&this.priorityNode_.equals(r.priorityNode_)}return!1}}return n.VALUE_TYPE_ORDER=["object","boolean","number","string"],n})();const Vn=new class O3 extends qb{compare(e,t){const r=e.node.getPriority(),i=t.node.getPriority(),u=r.compareTo(i);return 0===u?ha(e.name,t.name):u}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return Un.MIN}maxPost(){return new Un(Ya,new Wg("[PRIORITY-POST]",C1))}makePost(e,t){const r=jo(e);return new Un(t,new Wg("[PRIORITY-POST]",r))}toString(){return".priority"}},bP=Math.log(2);class Xb{constructor(e){this.count=parseInt(Math.log(e+1)/bP,10),this.current_=this.count-1;const i=(u=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const pv=function(n,e,t,r){n.sort(e);const i=function(v,I){const A=I-v;let M,P;if(0===A)return null;if(1===A)return M=n[v],P=t?t(M):M,new Qa(P,M.node,Qa.BLACK,null,null);{const $=parseInt(A/2,10)+v,Q=i(v,$),le=i($+1,I);return M=n[$],P=t?t(M):M,new Qa(P,M.node,Qa.BLACK,Q,le)}},p=function(v){let I=null,A=null,M=n.length;const P=function(Q,le){const ye=M-Q,lt=M;M-=Q;const dt=i(ye+1,lt),wt=n[ye],_t=t?t(wt):wt;$(new Qa(_t,wt.node,le,null,dt))},$=function(Q){I?(I.left=Q,I=Q):(A=Q,I=Q)};for(let Q=0;Q<v.count;++Q){const le=v.nextBitIsOne(),ye=Math.pow(2,v.count-(Q+1));le?P(ye,Qa.BLACK):(P(ye,Qa.BLACK),P(ye,Qa.RED))}return A}(new Xb(n.length));return new go(r||e,p)};let eI;const Yl={};class Ja{constructor(e,t){this.indexes_=e,this.indexSet_=t}static get Default(){return(0,q.hu)(Yl&&Vn,"ChildrenNode.ts has not been loaded"),eI=eI||new Ja({".priority":Yl},{".priority":Vn}),eI}get(e){const t=(0,q.DV)(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof go?t:null}hasIndex(e){return(0,q.r3)(this.indexSet_,e.toString())}addIndex(e,t){(0,q.hu)(e!==po,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const u=t.getIterator(Un.Wrap);let p,c=u.getNext();for(;c;)i=i||e.isDefinedOn(c.node),r.push(c),c=u.getNext();p=i?pv(r,e.getCompare()):Yl;const v=e.toString(),I=Object.assign({},this.indexSet_);I[v]=e;const A=Object.assign({},this.indexes_);return A[v]=p,new Ja(A,I)}addToIndexes(e,t){const r=(0,q.UI)(this.indexes_,(i,u)=>{const c=(0,q.DV)(this.indexSet_,u);if((0,q.hu)(c,"Missing index implementation for "+u),i===Yl){if(c.isDefinedOn(e.node)){const p=[],v=t.getIterator(Un.Wrap);let I=v.getNext();for(;I;)I.name!==e.name&&p.push(I),I=v.getNext();return p.push(e),pv(p,c.getCompare())}return Yl}{const p=t.get(e.name);let v=i;return p&&(v=v.remove(new Un(e.name,p))),v.insert(e,e.node)}});return new Ja(r,this.indexSet_)}removeFromIndexes(e,t){const r=(0,q.UI)(this.indexes_,i=>{if(i===Yl)return i;{const u=t.get(e.name);return u?i.remove(new Un(e.name,u)):i}});return new Ja(r,this.indexSet_)}}let pf,yn=(()=>{class n{constructor(t,r,i){this.children_=t,this.priorityNode_=r,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&Yb(this.priorityNode_),this.children_.isEmpty()&&(0,q.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return pf||(pf=new n(new go(Zb),null,Ja.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||pf}updatePriority(t){return this.children_.isEmpty()?this:new n(this.children_,t,this.indexMap_)}getImmediateChild(t){if(".priority"===t)return this.getPriority();{const r=this.children_.get(t);return null===r?pf:r}}getChild(t){const r=An(t);return null===r?this:this.getImmediateChild(r).getChild(_r(t))}hasChild(t){return null!==this.children_.get(t)}updateImmediateChild(t,r){if((0,q.hu)(r,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(r);{const i=new Un(t,r);let u,c;r.isEmpty()?(u=this.children_.remove(t),c=this.indexMap_.removeFromIndexes(i,this.children_)):(u=this.children_.insert(t,r),c=this.indexMap_.addToIndexes(i,this.children_));const p=u.isEmpty()?pf:this.priorityNode_;return new n(u,p,c)}}updateChild(t,r){const i=An(t);if(null===i)return r;{(0,q.hu)(".priority"!==An(t)||1===Ku(t),".priority must be the last token in a path");const u=this.getImmediateChild(i).updateChild(_r(t),r);return this.updateImmediateChild(i,u)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;const r={};let i=0,u=0,c=!0;if(this.forEachChild(Vn,(p,v)=>{r[p]=v.val(t),i++,c&&n.INTEGER_REGEXP_.test(p)?u=Math.max(u,Number(p)):c=!1}),!t&&c&&u<2*i){const p=[];for(const v in r)p[v]=r[v];return p}return t&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r}hash(){if(null===this.lazyHash_){let t="";this.getPriority().isEmpty()||(t+="priority:"+I1(this.getPriority().val())+":"),this.forEachChild(Vn,(r,i)=>{const u=i.hash();""!==u&&(t+=":"+r+":"+u)}),this.lazyHash_=""===t?"":HA(t)}return this.lazyHash_}getPredecessorChildName(t,r,i){const u=this.resolveIndex_(i);if(u){const c=u.getPredecessorKey(new Un(t,r));return c?c.name:null}return this.children_.getPredecessorKey(t)}getFirstChildName(t){const r=this.resolveIndex_(t);if(r){const i=r.minKey();return i&&i.name}return this.children_.minKey()}getFirstChild(t){const r=this.getFirstChildName(t);return r?new Un(r,this.children_.get(r)):null}getLastChildName(t){const r=this.resolveIndex_(t);if(r){const i=r.maxKey();return i&&i.name}return this.children_.maxKey()}getLastChild(t){const r=this.getLastChildName(t);return r?new Un(r,this.children_.get(r)):null}forEachChild(t,r){const i=this.resolveIndex_(t);return i?i.inorderTraversal(u=>r(u.name,u.node)):this.children_.inorderTraversal(r)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,r){const i=this.resolveIndex_(r);if(i)return i.getIteratorFrom(t,u=>u);{const u=this.children_.getIteratorFrom(t.name,Un.Wrap);let c=u.peek();for(;null!=c&&r.compare(c,t)<0;)u.getNext(),c=u.peek();return u}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,r){const i=this.resolveIndex_(r);if(i)return i.getReverseIteratorFrom(t,u=>u);{const u=this.children_.getReverseIteratorFrom(t.name,Un.Wrap);let c=u.peek();for(;null!=c&&r.compare(c,t)>0;)u.getNext(),c=u.peek();return u}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===gf?-1:0}withIndex(t){if(t===po||this.indexMap_.hasIndex(t))return this;{const r=this.indexMap_.addIndex(t,this.children_);return new n(this.children_,this.priorityNode_,r)}}isIndexed(t){return t===po||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{const r=t;if(this.getPriority().equals(r.getPriority())){if(this.children_.count()===r.children_.count()){const i=this.getIterator(Vn),u=r.getIterator(Vn);let c=i.getNext(),p=u.getNext();for(;c&&p;){if(c.name!==p.name||!c.node.equals(p.node))return!1;c=i.getNext(),p=u.getNext()}return null===c&&null===p}return!1}return!1}}resolveIndex_(t){return t===po?null:this.indexMap_.get(t.toString())}}return n.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,n})();const gf=new class D1 extends yn{constructor(){super(new go(Zb),yn.EMPTY_NODE,Ja.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return yn.EMPTY_NODE}isEmpty(){return!1}};function Zr(n,e=null){if(null===n)return yn.EMPTY_NODE;if("object"==typeof n&&".priority"in n&&(e=n[".priority"]),(0,q.hu)(null===e||"string"==typeof e||"number"==typeof e||"object"==typeof e&&".sv"in e,"Invalid priority type found: "+typeof e),"object"==typeof n&&".value"in n&&null!==n[".value"]&&(n=n[".value"]),"object"!=typeof n||".sv"in n)return new Wg(n,Zr(e));if(n instanceof Array){let t=yn.EMPTY_NODE;return Ci(n,(r,i)=>{if((0,q.r3)(n,r)&&"."!==r.substring(0,1)){const u=Zr(i);(u.isLeafNode()||!u.isEmpty())&&(t=t.updateImmediateChild(r,u))}}),t.updatePriority(Zr(e))}{const t=[];let r=!1;if(Ci(n,(c,p)=>{if("."!==c.substring(0,1)){const v=Zr(p);v.isEmpty()||(r=r||!v.getPriority().isEmpty(),t.push(new Un(c,v)))}}),0===t.length)return yn.EMPTY_NODE;const u=pv(t,wP,c=>c.name,Zb);if(r){const c=pv(t,Vn.getCompare());return new yn(u,Zr(e),new Ja({".priority":c},{".priority":Vn}))}return new yn(u,Zr(e),Ja.Default)}}Object.defineProperties(Un,{MIN:{value:new Un(Zu,yn.EMPTY_NODE)},MAX:{value:new Un(Ya,gf)}}),b1.__EMPTY_NODE=yn.EMPTY_NODE,Wg.__childrenNodeConstructor=yn,function k3(n){Kb=n}(gf),function EP(n){C1=n}(gf),function Jb(n){jo=n}(Zr);class tI extends qb{constructor(e){super(),this.indexPath_=e,(0,q.hu)(!On(e)&&".priority"!==An(e),"Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,t){const r=this.extractChild(e.node),i=this.extractChild(t.node),u=r.compareTo(i);return 0===u?ha(e.name,t.name):u}makePost(e,t){const r=Zr(e),i=yn.EMPTY_NODE.updateChild(this.indexPath_,r);return new Un(t,i)}maxPost(){const e=yn.EMPTY_NODE.updateChild(this.indexPath_,gf);return new Un(Ya,e)}toString(){return Hg(this.indexPath_,0).join("/")}}const Xa=new class nI extends qb{compare(e,t){const r=e.node.compareTo(t.node);return 0===r?ha(e.name,t.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,t){return!e.equals(t)}minPost(){return Un.MIN}maxPost(){return Un.MAX}makePost(e,t){const r=Zr(e);return new Un(t,r)}toString(){return".value"}},Id="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",P3=function(){let n=0;const e=[];return function(t){const r=t===n;let i;n=t;const u=new Array(8);for(i=7;i>=0;i--)u[i]=Id.charAt(t%64),t=Math.floor(t/64);(0,q.hu)(0===t,"Cannot push at time == 0");let c=u.join("");if(r){for(i=11;i>=0&&63===e[i];i--)e[i]=0;e[i]++}else for(i=0;i<12;i++)e[i]=Math.floor(64*Math.random());for(i=0;i<12;i++)c+=Id.charAt(e[i]);return(0,q.hu)(20===c.length,"nextPushId: Length should be 20."),c}}(),S1=function(n){if(n===""+Rb)return"-";const e=nv(n);if(null!=e)return""+(e+1);const t=new Array(n.length);for(let c=0;c<t.length;c++)t[c]=n.charAt(c);if(t.length<786)return t.push("-"),t.join("");let r=t.length-1;for(;r>=0&&"z"===t[r];)r--;if(-1===r)return Ya;const u=Id.charAt(Id.indexOf(t[r])+1);return t[r]=u,t.slice(0,r+1).join("")},A1=function(n){if(n===""+Fg)return Zu;const e=nv(n);if(null!=e)return""+(e-1);const t=new Array(n.length);for(let r=0;r<t.length;r++)t[r]=n.charAt(r);return"-"===t[t.length-1]?1===t.length?""+Rb:(delete t[t.length-1],t.join("")):(t[t.length-1]=Id.charAt(Id.indexOf(t[t.length-1])-1),t.join("")+"z".repeat(786-t.length))};function x1(n){return{type:"value",snapshotNode:n}}function mf(n,e){return{type:"child_added",snapshotNode:e,childName:n}}function _f(n,e){return{type:"child_removed",snapshotNode:e,childName:n}}function gv(n,e,t){return{type:"child_changed",snapshotNode:e,childName:n,oldSnap:t}}class rI{constructor(e){this.index_=e}updateChild(e,t,r,i,u,c){(0,q.hu)(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const p=e.getImmediateChild(t);return p.getChild(i).equals(r.getChild(i))&&p.isEmpty()===r.isEmpty()||(null!=c&&(r.isEmpty()?e.hasChild(t)?c.trackChildChange(_f(t,p)):(0,q.hu)(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):p.isEmpty()?c.trackChildChange(mf(t,r)):c.trackChildChange(gv(t,r,p))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(t,r).withIndex(this.index_)}updateFullNode(e,t,r){return null!=r&&(e.isLeafNode()||e.forEachChild(Vn,(i,u)=>{t.hasChild(i)||r.trackChildChange(_f(i,u))}),t.isLeafNode()||t.forEachChild(Vn,(i,u)=>{if(e.hasChild(i)){const c=e.getImmediateChild(i);c.equals(u)||r.trackChildChange(gv(i,u,c))}else r.trackChildChange(mf(i,u))})),t.withIndex(this.index_)}updatePriority(e,t){return e.isEmpty()?yn.EMPTY_NODE:e.updatePriority(t)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class yf{constructor(e){this.indexedFilter_=new rI(e.getIndex()),this.index_=e.getIndex(),this.startPost_=yf.getStartPost_(e),this.endPost_=yf.getEndPost_(e)}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){return this.index_.compare(this.getStartPost(),e)<=0&&this.index_.compare(e,this.getEndPost())<=0}updateChild(e,t,r,i,u,c){return this.matches(new Un(t,r))||(r=yn.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,r,i,u,c)}updateFullNode(e,t,r){t.isLeafNode()&&(t=yn.EMPTY_NODE);let i=t.withIndex(this.index_);i=i.updatePriority(yn.EMPTY_NODE);const u=this;return t.forEachChild(Vn,(c,p)=>{u.matches(new Un(c,p))||(i=i.updateImmediateChild(c,yn.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,i,r)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}return e.getIndex().maxPost()}}class L3{constructor(e){this.rangedFilter_=new yf(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft()}updateChild(e,t,r,i,u,c){return this.rangedFilter_.matches(new Un(t,r))||(r=yn.EMPTY_NODE),e.getImmediateChild(t).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,r,i,u,c):this.fullLimitUpdateChild_(e,t,r,u,c)}updateFullNode(e,t,r){let i;if(t.isLeafNode()||t.isEmpty())i=yn.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){let u;i=yn.EMPTY_NODE.withIndex(this.index_),u=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let c=0;for(;u.hasNext()&&c<this.limit_;){const p=u.getNext();let v;if(v=this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),p)<=0:this.index_.compare(p,this.rangedFilter_.getEndPost())<=0,!v)break;i=i.updateImmediateChild(p.name,p.node),c++}}else{let u,c,p,v;if(i=t.withIndex(this.index_),i=i.updatePriority(yn.EMPTY_NODE),this.reverse_){v=i.getReverseIterator(this.index_),u=this.rangedFilter_.getEndPost(),c=this.rangedFilter_.getStartPost();const M=this.index_.getCompare();p=(P,$)=>M($,P)}else v=i.getIterator(this.index_),u=this.rangedFilter_.getStartPost(),c=this.rangedFilter_.getEndPost(),p=this.index_.getCompare();let I=0,A=!1;for(;v.hasNext();){const M=v.getNext();!A&&p(u,M)<=0&&(A=!0),A&&I<this.limit_&&p(M,c)<=0?I++:i=i.updateImmediateChild(M.name,yn.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,r)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,t,r,i,u){let c;if(this.reverse_){const M=this.index_.getCompare();c=(P,$)=>M($,P)}else c=this.index_.getCompare();const p=e;(0,q.hu)(p.numChildren()===this.limit_,"");const v=new Un(t,r),I=this.reverse_?p.getFirstChild(this.index_):p.getLastChild(this.index_),A=this.rangedFilter_.matches(v);if(p.hasChild(t)){const M=p.getImmediateChild(t);let P=i.getChildAfterChild(this.index_,I,this.reverse_);for(;null!=P&&(P.name===t||p.hasChild(P.name));)P=i.getChildAfterChild(this.index_,P,this.reverse_);const $=null==P?1:c(P,v);if(A&&!r.isEmpty()&&$>=0)return u?.trackChildChange(gv(t,r,M)),p.updateImmediateChild(t,r);{u?.trackChildChange(_f(t,M));const le=p.updateImmediateChild(t,yn.EMPTY_NODE);return null!=P&&this.rangedFilter_.matches(P)?(u?.trackChildChange(mf(P.name,P.node)),le.updateImmediateChild(P.name,P.node)):le}}return r.isEmpty()?e:A&&c(I,v)>=0?(null!=u&&(u.trackChildChange(_f(I.name,I.node)),u.trackChildChange(mf(t,r))),p.updateImmediateChild(t,r).updateImmediateChild(I.name,yn.EMPTY_NODE)):e}}class vf{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Vn}hasStart(){return this.startSet_}hasStartAfter(){return this.startAfterSet_}hasEndBefore(){return this.endBeforeSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,q.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,q.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Zu}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,q.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,q.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Ya}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,q.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Vn}copy(){const e=new vf;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function mv(n,e,t){const r=n.copy();return r.startSet_=!0,void 0===e&&(e=null),r.indexStartValue_=e,null!=t?(r.startNameSet_=!0,r.indexStartName_=t):(r.startNameSet_=!1,r.indexStartName_=""),r}function wf(n,e,t){const r=n.copy();return r.endSet_=!0,void 0===e&&(e=null),r.indexEndValue_=e,void 0!==t?(r.endNameSet_=!0,r.indexEndName_=t):(r.endNameSet_=!1,r.indexEndName_=""),r}function qg(n,e){const t=n.copy();return t.index_=e,t}function P1(n){const e={};if(n.isDefault())return e;let t;return n.index_===Vn?t="$priority":n.index_===Xa?t="$value":n.index_===po?t="$key":((0,q.hu)(n.index_ instanceof tI,"Unrecognized index type!"),t=n.index_.toString()),e.orderBy=(0,q.Wl)(t),n.startSet_&&(e.startAt=(0,q.Wl)(n.indexStartValue_),n.startNameSet_&&(e.startAt+=","+(0,q.Wl)(n.indexStartName_))),n.endSet_&&(e.endAt=(0,q.Wl)(n.indexEndValue_),n.endNameSet_&&(e.endAt+=","+(0,q.Wl)(n.indexEndName_))),n.limitSet_&&(n.isViewFromLeft()?e.limitToFirst=n.limit_:e.limitToLast=n.limit_),e}function L1(n){const e={};if(n.startSet_&&(e.sp=n.indexStartValue_,n.startNameSet_&&(e.sn=n.indexStartName_)),n.endSet_&&(e.ep=n.indexEndValue_,n.endNameSet_&&(e.en=n.indexEndName_)),n.limitSet_){e.l=n.limit_;let t=n.viewFrom_;""===t&&(t=n.isViewFromLeft()?"l":"r"),e.vf=t}return n.index_!==Vn&&(e.i=n.index_.toString()),e}class iI extends g1{constructor(e,t,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=t,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=lf("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,t){return void 0!==t?"tag$"+t:((0,q.hu)(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,t,r,i){const u=e._path.toString();this.log_("Listen called for "+u+" "+e._queryIdentifier);const c=iI.getListenId_(e,r),p={};this.listens_[c]=p;const v=P1(e._queryParams);this.restRequest_(u+".json",v,(I,A)=>{let M=A;if(404===I&&(M=null,I=null),null===I&&this.onDataUpdate_(u,M,!1,r),(0,q.DV)(this.listens_,c)===p){let P;P=I?401===I?"permission_denied":"rest_error:"+I:"ok",i(P,null)}})}unlisten(e,t){const r=iI.getListenId_(e,t);delete this.listens_[r]}get(e){const t=P1(e._queryParams),r=e._path.toString(),i=new q.BH;return this.restRequest_(r+".json",t,(u,c)=>{let p=c;404===u&&(p=null,u=null),null===u?(this.onDataUpdate_(r,p,!1,null),i.resolve(p)):i.reject(new Error(p))}),i.promise}refreshAuthToken(e){}restRequest_(e,t={},r){return t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,u])=>{i&&i.accessToken&&(t.auth=i.accessToken),u&&u.token&&(t.ac=u.token);const c=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+(0,q.xO)(t);this.log_("Sending REST request for "+c);const p=new XMLHttpRequest;p.onreadystatechange=()=>{if(r&&4===p.readyState){this.log_("REST Response for "+c+" received. status:",p.status,"response:",p.responseText);let v=null;if(p.status>=200&&p.status<300){try{v=(0,q.cI)(p.responseText)}catch{Ps("Failed to parse JSON response for "+c+": "+p.responseText)}r(null,v)}else 401!==p.status&&404!==p.status&&Ps("Got unsuccessful REST response for "+c+" Status: "+p.status),r(p.status);r=null}},p.open("GET",c,!0),p.send()})}}class F3{constructor(){this.rootNode_=yn.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}function sI(){return{value:null,children:new Map}}function Cd(n,e,t){if(On(e))n.value=t,n.children.clear();else if(null!==n.value)n.value=n.value.updateChild(e,t);else{const r=An(e);n.children.has(r)||n.children.set(r,sI()),Cd(n.children.get(r),e=_r(e),t)}}function oI(n,e){if(On(e))return n.value=null,n.children.clear(),!0;if(null!==n.value){if(n.value.isLeafNode())return!1;{const t=n.value;return n.value=null,t.forEachChild(Vn,(r,i)=>{Cd(n,new sr(r),i)}),oI(n,e)}}if(n.children.size>0){const t=An(e);return e=_r(e),n.children.has(t)&&oI(n.children.get(t),e)&&n.children.delete(t),0===n.children.size}return!0}function aI(n,e,t){null!==n.value?t(e,n.value):function CP(n,e){n.children.forEach((t,r)=>{e(r,t)})}(n,(r,i)=>{aI(i,new sr(e.toString()+"/"+r),t)})}class U3{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),t=Object.assign({},e);return this.last_&&Ci(this.last_,(r,i)=>{t[r]=t[r]-i}),this.last_=e,t}}class j3{constructor(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new U3(e);const r=1e4+2e4*Math.random();Ed(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),t={};let r=!1;Ci(e,(i,u)=>{u>0&&(0,q.r3)(this.statsToReport_,i)&&(t[i]=u,r=!0)}),r&&this.server_.reportStats(t),Ed(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var $o=(()=>{return(n=$o||($o={}))[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",$o;var n})();function lI(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}class Zg{constructor(e,t,r){this.path=e,this.affectedTree=t,this.revert=r,this.type=$o.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(e){if(On(this.path)){if(null!=this.affectedTree.value)return(0,q.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const t=this.affectedTree.subtree(new sr(e));return new Zg(tr(),t,this.revert)}}return(0,q.hu)(An(this.path)===e,"operationForChild called for unrelated child."),new Zg(_r(this.path),this.affectedTree,this.revert)}}class pa{constructor(e,t){this.source=e,this.path=t,this.type=$o.LISTEN_COMPLETE}operationForChild(e){return On(this.path)?new pa(this.source,tr()):new pa(this.source,_r(this.path))}}class Ql{constructor(e,t,r){this.source=e,this.path=t,this.snap=r,this.type=$o.OVERWRITE}operationForChild(e){return On(this.path)?new Ql(this.source,tr(),this.snap.getImmediateChild(e)):new Ql(this.source,_r(this.path),this.snap)}}class Jl{constructor(e,t,r){this.source=e,this.path=t,this.children=r,this.type=$o.MERGE}operationForChild(e){if(On(this.path)){const t=this.children.subtree(new sr(e));return t.isEmpty()?null:t.value?new Ql(this.source,tr(),t.value):new Jl(this.source,tr(),t)}return(0,q.hu)(An(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Jl(this.source,_r(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class tu{constructor(e,t,r){this.node_=e,this.fullyInitialized_=t,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(On(e))return this.isFullyInitialized()&&!this.filtered_;const t=An(e);return this.isCompleteForChild(t)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}class TP{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function Dd(n,e,t,r,i,u){const c=r.filter(p=>p.type===t);c.sort((p,v)=>function $3(n,e,t){if(null==e.childName||null==t.childName)throw(0,q.g5)("Should only compare child_ events.");const r=new Un(e.childName,e.snapshotNode),i=new Un(t.childName,t.snapshotNode);return n.index_.compare(r,i)}(n,p,v)),c.forEach(p=>{const v=function yv(n,e,t){return"value"===e.type||"child_removed"===e.type||(e.prevName=t.getPredecessorChildName(e.childName,e.snapshotNode,n.index_)),e}(n,p,u);i.forEach(I=>{I.respondsTo(p.type)&&e.push(I.createEvent(v,n.query_))})})}function dI(n,e){return{eventCache:n,serverCache:e}}function vv(n,e,t,r){return dI(new tu(e,t,r),n.serverCache)}function SP(n,e,t,r){return dI(n.eventCache,new tu(e,t,r))}function Kg(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function Td(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}let hI;class xr{constructor(e,t=(()=>(hI||(hI=new go(nP)),hI))()){this.value=e,this.children=t}static fromObject(e){let t=new xr(null);return Ci(e,(r,i)=>{t=t.set(new sr(r),i)}),t}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,t){if(null!=this.value&&t(this.value))return{path:tr(),value:this.value};if(On(e))return null;{const r=An(e),i=this.children.get(r);if(null!==i){const u=i.findRootMostMatchingPathAndValue(_r(e),t);return null!=u?{path:Ur(new sr(r),u.path),value:u.value}:null}return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(On(e))return this;{const t=An(e),r=this.children.get(t);return null!==r?r.subtree(_r(e)):new xr(null)}}set(e,t){if(On(e))return new xr(t,this.children);{const r=An(e),u=(this.children.get(r)||new xr(null)).set(_r(e),t),c=this.children.insert(r,u);return new xr(this.value,c)}}remove(e){if(On(e))return this.children.isEmpty()?new xr(null):new xr(null,this.children);{const t=An(e),r=this.children.get(t);if(r){const i=r.remove(_r(e));let u;return u=i.isEmpty()?this.children.remove(t):this.children.insert(t,i),null===this.value&&u.isEmpty()?new xr(null):new xr(this.value,u)}return this}}get(e){if(On(e))return this.value;{const t=An(e),r=this.children.get(t);return r?r.get(_r(e)):null}}setTree(e,t){if(On(e))return t;{const r=An(e),u=(this.children.get(r)||new xr(null)).setTree(_r(e),t);let c;return c=u.isEmpty()?this.children.remove(r):this.children.insert(r,u),new xr(this.value,c)}}fold(e){return this.fold_(tr(),e)}fold_(e,t){const r={};return this.children.inorderTraversal((i,u)=>{r[i]=u.fold_(Ur(e,i),t)}),t(e,this.value,r)}findOnPath(e,t){return this.findOnPath_(e,tr(),t)}findOnPath_(e,t,r){const i=!!this.value&&r(t,this.value);if(i)return i;if(On(e))return null;{const u=An(e),c=this.children.get(u);return c?c.findOnPath_(_r(e),Ur(t,u),r):null}}foreachOnPath(e,t){return this.foreachOnPath_(e,tr(),t)}foreachOnPath_(e,t,r){if(On(e))return this;{this.value&&r(t,this.value);const i=An(e),u=this.children.get(i);return u?u.foreachOnPath_(_r(e),Ur(t,i),r):new xr(null)}}foreach(e){this.foreach_(tr(),e)}foreach_(e,t){this.children.inorderTraversal((r,i)=>{i.foreach_(Ur(e,r),t)}),this.value&&t(e,this.value)}foreachChild(e){this.children.inorderTraversal((t,r)=>{r.value&&e(t,r.value)})}}class Ho{constructor(e){this.writeTree_=e}static empty(){return new Ho(new xr(null))}}function bf(n,e,t){if(On(e))return new Ho(new xr(t));{const r=n.writeTree_.findRootMostValueAndPath(e);if(null!=r){const i=r.path;let u=r.value;const c=no(i,e);return u=u.updateChild(c,t),new Ho(n.writeTree_.set(i,u))}{const i=new xr(t),u=n.writeTree_.setTree(e,i);return new Ho(u)}}}function wv(n,e,t){let r=n;return Ci(t,(i,u)=>{r=bf(r,Ur(e,i),u)}),r}function F1(n,e){if(On(e))return Ho.empty();{const t=n.writeTree_.setTree(e,new xr(null));return new Ho(t)}}function fI(n,e){return null!=Xl(n,e)}function Xl(n,e){const t=n.writeTree_.findRootMostValueAndPath(e);return null!=t?n.writeTree_.get(t.path).getChild(no(t.path,e)):null}function Ev(n){const e=[],t=n.writeTree_.value;return null!=t?t.isLeafNode()||t.forEachChild(Vn,(r,i)=>{e.push(new Un(r,i))}):n.writeTree_.children.inorderTraversal((r,i)=>{null!=i.value&&e.push(new Un(r,i.value))}),e}function Sd(n,e){if(On(e))return n;{const t=Xl(n,e);return new Ho(null!=t?new xr(t):n.writeTree_.subtree(e))}}function bv(n){return n.writeTree_.isEmpty()}function ec(n,e){return U1(tr(),n.writeTree_,e)}function U1(n,e,t){if(null!=e.value)return t.updateChild(n,e.value);{let r=null;return e.children.inorderTraversal((i,u)=>{".priority"===i?((0,q.hu)(null!==u.value,"Priority writes must always be leaf nodes"),r=u.value):t=U1(Ur(n,i),u,t)}),!t.getChild(n).isEmpty()&&null!==r&&(t=t.updateChild(Ur(n,".priority"),r)),t}}function Iv(n,e){return _(e,n)}function MP(n,e){if(n.snap)return fa(n.path,e);for(const t in n.children)if(n.children.hasOwnProperty(t)&&fa(Ur(n.path,t),e))return!0;return!1}function z3(n){return n.visible}function RP(n,e,t){let r=Ho.empty();for(let i=0;i<n.length;++i){const u=n[i];if(e(u)){const c=u.path;let p;if(u.snap)fa(t,c)?(p=no(t,c),r=bf(r,p,u.snap)):fa(c,t)&&(p=no(c,t),r=bf(r,tr(),u.snap.getChild(p)));else{if(!u.children)throw(0,q.g5)("WriteRecord should have .snap or .children");if(fa(t,c))p=no(t,c),r=wv(r,p,u.children);else if(fa(c,t))if(p=no(c,t),On(p))r=wv(r,tr(),u.children);else{const v=(0,q.DV)(u.children,An(p));if(v){const I=v.getChild(_r(p));r=bf(r,tr(),I)}}}}}return r}function kP(n,e,t,r,i){if(r||i){const u=Sd(n.visibleWrites,e);return!i&&bv(u)?t:i||null!=t||fI(u,tr())?ec(RP(n.allWrites,function(I){return(I.visible||i)&&(!r||!~r.indexOf(I.writeId))&&(fa(I.path,e)||fa(e,I.path))},e),t||yn.EMPTY_NODE):null}{const u=Xl(n.visibleWrites,e);if(null!=u)return u;{const c=Sd(n.visibleWrites,e);return bv(c)?t:null!=t||fI(c,tr())?ec(c,t||yn.EMPTY_NODE):null}}}function pI(n,e,t,r){return kP(n.writeTree,n.treePath,e,t,r)}function V1(n,e){return function q3(n,e,t){let r=yn.EMPTY_NODE;const i=Xl(n.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(Vn,(u,c)=>{r=r.updateImmediateChild(u,c)}),r;if(t){const u=Sd(n.visibleWrites,e);return t.forEachChild(Vn,(c,p)=>{const v=ec(Sd(u,new sr(c)),p);r=r.updateImmediateChild(c,v)}),Ev(u).forEach(c=>{r=r.updateImmediateChild(c.name,c.node)}),r}return Ev(Sd(n.visibleWrites,e)).forEach(c=>{r=r.updateImmediateChild(c.name,c.node)}),r}(n.writeTree,n.treePath,e)}function o(n,e,t,r){return function OP(n,e,t,r,i){(0,q.hu)(r||i,"Either existingEventSnap or existingServerSnap must exist");const u=Ur(e,t);if(fI(n.visibleWrites,u))return null;{const c=Sd(n.visibleWrites,u);return bv(c)?i.getChild(t):ec(c,i.getChild(t))}}(n.writeTree,n.treePath,e,t,r)}function a(n,e){return function K3(n,e){return Xl(n.visibleWrites,e)}(n.writeTree,Ur(n.treePath,e))}function f(n,e,t){return function Z3(n,e,t,r){const i=Ur(e,t),u=Xl(n.visibleWrites,i);return null!=u?u:r.isCompleteForChild(t)?ec(Sd(n.visibleWrites,i),r.getNode().getImmediateChild(t)):null}(n.writeTree,n.treePath,e,t)}function g(n,e){return _(Ur(n.treePath,e),n.writeTree)}function _(n,e){return{treePath:n,writeTree:e}}class b{constructor(){this.changeMap=new Map}trackChildChange(e){const t=e.type,r=e.childName;(0,q.hu)("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),(0,q.hu)(".priority"!==r,"Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const u=i.type;if("child_added"===t&&"child_removed"===u)this.changeMap.set(r,gv(r,e.snapshotNode,i.snapshotNode));else if("child_removed"===t&&"child_added"===u)this.changeMap.delete(r);else if("child_removed"===t&&"child_changed"===u)this.changeMap.set(r,_f(r,i.oldSnap));else if("child_changed"===t&&"child_added"===u)this.changeMap.set(r,mf(r,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==u)throw(0,q.g5)("Illegal combination of changes: "+e+" occurred after "+i);this.changeMap.set(r,gv(r,e.snapshotNode,i.oldSnap))}}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}const N=new class T{getCompleteChild(e){return null}getChildAfterChild(e,t,r){return null}};class R{constructor(e,t,r=null){this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=r}getCompleteChild(e){const t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);{const r=null!=this.optCompleteServerCache_?new tu(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return f(this.writes_,e,r)}}getChildAfterChild(e,t,r){const i=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Td(this.viewCache_),u=function l(n,e,t,r,i,u){return function Y3(n,e,t,r,i,u,c){let p;const v=Sd(n.visibleWrites,e),I=Xl(v,tr());if(null!=I)p=I;else{if(null==t)return[];p=ec(v,t)}if(p=p.withIndex(c),p.isEmpty()||p.isLeafNode())return[];{const A=[],M=c.getCompare(),P=u?p.getReverseIteratorFrom(r,c):p.getIteratorFrom(r,c);let $=P.getNext();for(;$&&A.length<i;)0!==M($,r)&&A.push($),$=P.getNext();return A}}(n.writeTree,n.treePath,e,t,r,i,u)}(this.writes_,i,t,1,r,e);return 0===u.length?null:u[0]}}function $e(n,e,t,r,i,u){const c=e.eventCache;if(null!=a(r,t))return e;{let p,v;if(On(t))if((0,q.hu)(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const I=Td(e),M=V1(r,I instanceof yn?I:yn.EMPTY_NODE);p=n.filter.updateFullNode(e.eventCache.getNode(),M,u)}else{const I=pI(r,Td(e));p=n.filter.updateFullNode(e.eventCache.getNode(),I,u)}else{const I=An(t);if(".priority"===I){(0,q.hu)(1===Ku(t),"Can't have a priority with additional path components");const A=c.getNode();v=e.serverCache.getNode();const M=o(r,t,A,v);p=null!=M?n.filter.updatePriority(A,M):c.getNode()}else{const A=_r(t);let M;if(c.isCompleteForChild(I)){v=e.serverCache.getNode();const P=o(r,t,c.getNode(),v);M=null!=P?c.getNode().getImmediateChild(I).updateChild(A,P):c.getNode().getImmediateChild(I)}else M=f(r,I,e.serverCache);p=null!=M?n.filter.updateChild(c.getNode(),I,M,A,i,u):c.getNode()}}return vv(e,p,c.isFullyInitialized()||On(t),n.filter.filtersNodes())}}function at(n,e,t,r,i,u,c,p){const v=e.serverCache;let I;const A=c?n.filter:n.filter.getIndexedFilter();if(On(t))I=A.updateFullNode(v.getNode(),r,null);else if(A.filtersNodes()&&!v.isFiltered()){const $=v.getNode().updateChild(t,r);I=A.updateFullNode(v.getNode(),$,null)}else{const $=An(t);if(!v.isCompleteForPath(t)&&Ku(t)>1)return e;const Q=_r(t),ye=v.getNode().getImmediateChild($).updateChild(Q,r);I=".priority"===$?A.updatePriority(v.getNode(),ye):A.updateChild(v.getNode(),$,ye,Q,N,null)}const M=SP(e,I,v.isFullyInitialized()||On(t),A.filtersNodes());return $e(n,M,t,i,new R(i,M,u),p)}function vt(n,e,t,r,i,u,c){const p=e.eventCache;let v,I;const A=new R(i,e,u);if(On(t))I=n.filter.updateFullNode(e.eventCache.getNode(),r,c),v=vv(e,I,!0,n.filter.filtersNodes());else{const M=An(t);if(".priority"===M)I=n.filter.updatePriority(e.eventCache.getNode(),r),v=vv(e,I,p.isFullyInitialized(),p.isFiltered());else{const P=_r(t),$=p.getNode().getImmediateChild(M);let Q;if(On(P))Q=r;else{const le=A.getCompleteChild(M);Q=null!=le?".priority"===cv(P)&&le.getChild(vP(P)).isEmpty()?le:le.updateChild(P,r):yn.EMPTY_NODE}v=$.equals(Q)?e:vv(e,n.filter.updateChild(p.getNode(),M,Q,P,A,c),p.isFullyInitialized(),n.filter.filtersNodes())}}return v}function Mt(n,e){return n.eventCache.isCompleteForChild(e)}function et(n,e,t){return t.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function ln(n,e,t,r,i,u,c,p){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let I,v=e;I=On(t)?r:new xr(null).setTree(t,r);const A=e.serverCache.getNode();return I.children.inorderTraversal((M,P)=>{if(A.hasChild(M)){const Q=et(0,e.serverCache.getNode().getImmediateChild(M),P);v=at(n,v,new sr(M),Q,i,u,c,p)}}),I.children.inorderTraversal((M,P)=>{const $=!e.serverCache.isCompleteForChild(M)&&null===P.value;if(!A.hasChild(M)&&!$){const le=et(0,e.serverCache.getNode().getImmediateChild(M),P);v=at(n,v,new sr(M),le,i,u,c,p)}}),v}class Wz{constructor(e,t){this.query_=e,this.eventRegistrations_=[];const r=this.query_._queryParams,i=new rI(r.getIndex()),u=function M1(n){return n.loadsAllData()?new rI(n.getIndex()):n.hasLimit()?new L3(n):new yf(n)}(r);this.processor_=function F(n){return{filter:n}}(u);const c=t.serverCache,p=t.eventCache,v=i.updateFullNode(yn.EMPTY_NODE,c.getNode(),null),I=u.updateFullNode(yn.EMPTY_NODE,p.getNode(),null),A=new tu(v,c.isFullyInitialized(),i.filtersNodes()),M=new tu(I,p.isFullyInitialized(),u.filtersNodes());this.viewCache_=dI(M,A),this.eventGenerator_=new TP(this.query_)}get query(){return this.query_}}function Zz(n,e){const t=Td(n.viewCache_);return t&&(n.query._queryParams.loadsAllData()||!On(e)&&!t.getImmediateChild(An(e)).isEmpty())?t.getChild(e):null}function X3(n){return 0===n.eventRegistrations_.length}function ej(n,e,t){const r=[];if(t){(0,q.hu)(null==e,"A cancel should cancel all event registrations.");const i=n.query._path;n.eventRegistrations_.forEach(u=>{const c=u.createCancelEvent(t,i);c&&r.push(c)})}if(e){let i=[];for(let u=0;u<n.eventRegistrations_.length;++u){const c=n.eventRegistrations_[u];if(c.matches(e)){if(e.hasAnyCallback()){i=i.concat(n.eventRegistrations_.slice(u+1));break}}else i.push(c)}n.eventRegistrations_=i}else n.eventRegistrations_=[];return r}function tj(n,e,t,r){e.type===$o.MERGE&&null!==e.source.queryId&&((0,q.hu)(Td(n.viewCache_),"We should always have a full cache before handling merges"),(0,q.hu)(Kg(n.viewCache_),"Missing event cache, even though we have a server cache"));const i=n.viewCache_,u=function oe(n,e,t,r,i){const u=new b;let c,p;if(t.type===$o.OVERWRITE){const I=t;I.source.fromUser?c=vt(n,e,I.path,I.snap,r,i,u):((0,q.hu)(I.source.fromServer,"Unknown source."),p=I.source.tagged||e.serverCache.isFiltered()&&!On(I.path),c=at(n,e,I.path,I.snap,r,i,p,u))}else if(t.type===$o.MERGE){const I=t;I.source.fromUser?c=function Xt(n,e,t,r,i,u,c){let p=e;return r.foreach((v,I)=>{const A=Ur(t,v);Mt(e,An(A))&&(p=vt(n,p,A,I,i,u,c))}),r.foreach((v,I)=>{const A=Ur(t,v);Mt(e,An(A))||(p=vt(n,p,A,I,i,u,c))}),p}(n,e,I.path,I.children,r,i,u):((0,q.hu)(I.source.fromServer,"Unknown source."),p=I.source.tagged||e.serverCache.isFiltered(),c=ln(n,e,I.path,I.children,r,i,p,u))}else if(t.type===$o.ACK_USER_WRITE){const I=t;c=I.revert?function J3(n,e,t,r,i,u){let c;if(null!=a(r,t))return e;{const p=new R(r,e,i),v=e.eventCache.getNode();let I;if(On(t)||".priority"===An(t)){let A;if(e.serverCache.isFullyInitialized())A=pI(r,Td(e));else{const M=e.serverCache.getNode();(0,q.hu)(M instanceof yn,"serverChildren would be complete if leaf node"),A=V1(r,M)}I=n.filter.updateFullNode(v,A,u)}else{const A=An(t);let M=f(r,A,e.serverCache);null==M&&e.serverCache.isCompleteForChild(A)&&(M=v.getImmediateChild(A)),I=null!=M?n.filter.updateChild(v,A,M,_r(t),p,u):e.eventCache.getNode().hasChild(A)?n.filter.updateChild(v,A,yn.EMPTY_NODE,_r(t),p,u):v,I.isEmpty()&&e.serverCache.isFullyInitialized()&&(c=pI(r,Td(e)),c.isLeafNode()&&(I=n.filter.updateFullNode(I,c,u)))}return c=e.serverCache.isFullyInitialized()||null!=a(r,tr()),vv(e,I,c,n.filter.filtersNodes())}}(n,e,I.path,r,i,u):function Kr(n,e,t,r,i,u,c){if(null!=a(i,t))return e;const p=e.serverCache.isFiltered(),v=e.serverCache;if(null!=r.value){if(On(t)&&v.isFullyInitialized()||v.isCompleteForPath(t))return at(n,e,t,v.getNode().getChild(t),i,u,p,c);if(On(t)){let I=new xr(null);return v.getNode().forEachChild(po,(A,M)=>{I=I.set(new sr(A),M)}),ln(n,e,t,I,i,u,p,c)}return e}{let I=new xr(null);return r.foreach((A,M)=>{const P=Ur(t,A);v.isCompleteForPath(P)&&(I=I.set(A,v.getNode().getChild(P)))}),ln(n,e,t,I,i,u,p,c)}}(n,e,I.path,I.affectedTree,r,i,u)}else{if(t.type!==$o.LISTEN_COMPLETE)throw(0,q.g5)("Unknown operation type: "+t.type);c=function pi(n,e,t,r,i){const u=e.serverCache;return $e(n,SP(e,u.getNode(),u.isFullyInitialized()||On(t),u.isFiltered()),t,r,N,i)}(n,e,t.path,r,u)}const v=u.getChanges();return function Ee(n,e,t){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),u=Kg(n);(t.length>0||!n.eventCache.isFullyInitialized()||i&&!r.getNode().equals(u)||!r.getNode().getPriority().equals(u.getPriority()))&&t.push(x1(Kg(e)))}}(e,c,v),{viewCache:c,changes:v}}(n.processor_,i,e,t,r);return function K(n,e){(0,q.hu)(e.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),(0,q.hu)(e.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}(n.processor_,u.viewCache),(0,q.hu)(u.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=u.viewCache,nj(n,u.changes,u.viewCache.eventCache.getNode(),null)}function nj(n,e,t,r){return function cI(n,e,t,r){const i=[],u=[];return e.forEach(c=>{"child_changed"===c.type&&n.index_.indexedValueChanged(c.oldSnap,c.snapshotNode)&&u.push(function N1(n,e){return{type:"child_moved",snapshotNode:e,childName:n}}(c.childName,c.snapshotNode))}),Dd(n,i,"child_removed",e,r,t),Dd(n,i,"child_added",e,r,t),Dd(n,i,"child_moved",u,r,t),Dd(n,i,"child_changed",e,r,t),Dd(n,i,"value",e,r,t),i}(n.eventGenerator_,e,t,r?[r]:n.eventRegistrations_)}let B1,$1;class rj{constructor(){this.views=new Map}}function PP(n,e,t,r){const i=e.source.queryId;if(null!==i){const u=n.views.get(i);return(0,q.hu)(null!=u,"SyncTree gave us an op for an invalid query."),tj(u,e,t,r)}{let u=[];for(const c of n.views.values())u=u.concat(tj(c,e,t,r));return u}}function ij(n,e,t,r,i){const c=n.views.get(e._queryIdentifier);if(!c){let p=pI(t,i?r:null),v=!1;p?v=!0:r instanceof yn?(p=V1(t,r),v=!1):(p=yn.EMPTY_NODE,v=!1);const I=dI(new tu(p,v,!1),new tu(r,i,!1));return new Wz(e,I)}return c}function sj(n){const e=[];for(const t of n.views.values())t.query._queryParams.loadsAllData()||e.push(t);return e}function If(n,e){let t=null;for(const r of n.views.values())t=t||Zz(r,e);return t}function oj(n,e){return e._queryParams.loadsAllData()?j1(n):n.views.get(e._queryIdentifier)}function aj(n,e){return null!=oj(n,e)}function Cf(n){return null!=j1(n)}function j1(n){for(const e of n.views.values())if(e.query._queryParams.loadsAllData())return e;return null}let iq=1;class uj{constructor(e){this.listenProvider_=e,this.syncPointTree_=new xr(null),this.pendingWriteTree_=function Q3(){return{visibleWrites:Ho.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function LP(n,e,t,r,i){return function H3(n,e,t,r,i){(0,q.hu)(r>n.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),n.allWrites.push({path:e,snap:t,writeId:r,visible:i}),i&&(n.visibleWrites=bf(n.visibleWrites,e,t)),n.lastWriteId=r}(n.pendingWriteTree_,e,t,r,i),i?Cv(n,new Ql({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,t)):[]}function Df(n,e,t=!1){const r=function xP(n,e){for(let t=0;t<n.allWrites.length;t++){const r=n.allWrites[t];if(r.writeId===e)return r}return null}(n.pendingWriteTree_,e);if(function NP(n,e){const t=n.allWrites.findIndex(p=>p.writeId===e);(0,q.hu)(t>=0,"removeWrite called with nonexistent writeId.");const r=n.allWrites[t];n.allWrites.splice(t,1);let i=r.visible,u=!1,c=n.allWrites.length-1;for(;i&&c>=0;){const p=n.allWrites[c];p.visible&&(c>=t&&MP(p,r.path)?i=!1:fa(r.path,p.path)&&(u=!0)),c--}return!!i&&(u?(function W3(n){n.visibleWrites=RP(n.allWrites,z3,tr()),n.lastWriteId=n.allWrites.length>0?n.allWrites[n.allWrites.length-1].writeId:-1}(n),!0):(r.snap?n.visibleWrites=F1(n.visibleWrites,r.path):Ci(r.children,v=>{n.visibleWrites=F1(n.visibleWrites,Ur(r.path,v))}),!0))}(n.pendingWriteTree_,e)){let u=new xr(null);return null!=r.snap?u=u.set(tr(),!0):Ci(r.children,c=>{u=u.set(new sr(c),!0)}),Cv(n,new Zg(r.path,u,t))}return[]}function gI(n,e,t){return Cv(n,new Ql({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,t))}function H1(n,e,t,r,i=!1){const u=e._path,c=n.syncPointTree_.get(u);let p=[];if(c&&("default"===e._queryIdentifier||aj(c,e))){const v=function tq(n,e,t,r){const i=e._queryIdentifier,u=[];let c=[];const p=Cf(n);if("default"===i)for(const[v,I]of n.views.entries())c=c.concat(ej(I,t,r)),X3(I)&&(n.views.delete(v),I.query._queryParams.loadsAllData()||u.push(I.query));else{const v=n.views.get(i);v&&(c=c.concat(ej(v,t,r)),X3(v)&&(n.views.delete(i),v.query._queryParams.loadsAllData()||u.push(v.query)))}return p&&!Cf(n)&&u.push(new(function Jz(){return(0,q.hu)(B1,"Reference.ts has not been loaded"),B1}())(e._repo,e._path)),{removed:u,events:c}}(c,e,t,r);(function Xz(n){return 0===n.views.size})(c)&&(n.syncPointTree_=n.syncPointTree_.remove(u));const I=v.removed;if(p=v.events,!i){const A=-1!==I.findIndex(P=>P._queryParams.loadsAllData()),M=n.syncPointTree_.findOnPath(u,(P,$)=>Cf($));if(A&&!M){const P=n.syncPointTree_.subtree(u);if(!P.isEmpty()){const $=function dq(n){return n.fold((e,t,r)=>{if(t&&Cf(t))return[j1(t)];{let i=[];return t&&(i=sj(t)),Ci(r,(u,c)=>{i=i.concat(c)}),i}})}(P);for(let Q=0;Q<$.length;++Q){const le=$[Q],ye=le.query,lt=hj(n,le);n.listenProvider_.startListening(_I(ye),mI(n,ye),lt.hashFn,lt.onComplete)}}}!M&&I.length>0&&!r&&(A?n.listenProvider_.stopListening(_I(e),null):I.forEach(P=>{const $=n.queryToTagMap.get(W1(P));n.listenProvider_.stopListening(_I(P),$)}))}!function hq(n,e){for(let t=0;t<e.length;++t){const r=e[t];if(!r._queryParams.loadsAllData()){const i=W1(r),u=n.queryToTagMap.get(i);n.queryToTagMap.delete(i),n.tagToQueryMap.delete(u)}}}(n,I)}return p}function lj(n,e,t,r){const i=UP(n,r);if(null!=i){const u=VP(i),c=u.path,p=u.queryId,v=no(c,e);return BP(n,c,new Ql(lI(p),v,t))}return[]}function FP(n,e,t,r=!1){const i=e._path;let u=null,c=!1;n.syncPointTree_.foreachOnPath(i,(P,$)=>{const Q=no(P,i);u=u||If($,Q),c=c||Cf($)});let v,p=n.syncPointTree_.get(i);p?(c=c||Cf(p),u=u||If(p,tr())):(p=new rj,n.syncPointTree_=n.syncPointTree_.set(i,p)),null!=u?v=!0:(v=!1,u=yn.EMPTY_NODE,n.syncPointTree_.subtree(i).foreachChild(($,Q)=>{const le=If(Q,tr());le&&(u=u.updateImmediateChild($,le))}));const I=aj(p,e);if(!I&&!e._queryParams.loadsAllData()){const P=W1(e);(0,q.hu)(!n.queryToTagMap.has(P),"View does not exist, but we have a tag");const $=function fq(){return iq++}();n.queryToTagMap.set(P,$),n.tagToQueryMap.set($,P)}let M=function eq(n,e,t,r,i,u){const c=ij(n,e,r,i,u);return n.views.has(e._queryIdentifier)||n.views.set(e._queryIdentifier,c),function Kz(n,e){n.eventRegistrations_.push(e)}(c,t),function Yz(n,e){const t=n.viewCache_.eventCache,r=[];return t.getNode().isLeafNode()||t.getNode().forEachChild(Vn,(u,c)=>{r.push(mf(u,c))}),t.isFullyInitialized()&&r.push(x1(t.getNode())),nj(n,r,t.getNode(),e)}(c,t)}(p,e,t,Iv(n.pendingWriteTree_,i),u,v);if(!I&&!c&&!r){const P=oj(p,e);M=M.concat(function pq(n,e,t){const r=e._path,i=mI(n,e),u=hj(n,t),c=n.listenProvider_.startListening(_I(e),i,u.hashFn,u.onComplete),p=n.syncPointTree_.subtree(r);if(i)(0,q.hu)(!Cf(p.value),"If we're adding a query, it shouldn't be shadowed");else{const v=p.fold((I,A,M)=>{if(!On(I)&&A&&Cf(A))return[j1(A).query];{let P=[];return A&&(P=P.concat(sj(A).map($=>$.query))),Ci(M,($,Q)=>{P=P.concat(Q)}),P}});for(let I=0;I<v.length;++I){const A=v[I];n.listenProvider_.stopListening(_I(A),mI(n,A))}}return c}(n,e,P))}return M}function G1(n,e,t){const i=n.pendingWriteTree_,u=n.syncPointTree_.findOnPath(e,(c,p)=>{const I=If(p,no(c,e));if(I)return I});return kP(i,e,u,t,!0)}function Cv(n,e){return cj(e,n.syncPointTree_,null,Iv(n.pendingWriteTree_,tr()))}function cj(n,e,t,r){if(On(n.path))return dj(n,e,t,r);{const i=e.get(tr());null==t&&null!=i&&(t=If(i,tr()));let u=[];const c=An(n.path),p=n.operationForChild(c),v=e.children.get(c);if(v&&p){const I=t?t.getImmediateChild(c):null,A=g(r,c);u=u.concat(cj(p,v,I,A))}return i&&(u=u.concat(PP(i,n,r,t))),u}}function dj(n,e,t,r){const i=e.get(tr());null==t&&null!=i&&(t=If(i,tr()));let u=[];return e.children.inorderTraversal((c,p)=>{const v=t?t.getImmediateChild(c):null,I=g(r,c),A=n.operationForChild(c);A&&(u=u.concat(dj(A,p,v,I)))}),i&&(u=u.concat(PP(i,n,r,t))),u}function hj(n,e){const t=e.query,r=mI(n,t);return{hashFn:()=>(function zz(n){return n.viewCache_.serverCache.getNode()}(e)||yn.EMPTY_NODE).hash(),onComplete:i=>{if("ok"===i)return r?function uq(n,e,t){const r=UP(n,t);if(r){const i=VP(r),u=i.path,c=i.queryId,p=no(u,e);return BP(n,u,new pa(lI(c),p))}return[]}(n,t._path,r):function aq(n,e){return Cv(n,new pa({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e))}(n,t._path);{const u=function sP(n,e){let t="Unknown Error";"too_big"===n?t="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===n?t="Client doesn't have permission to access the desired data.":"unavailable"===n&&(t="The service is unavailable");const r=new Error(n+" at "+e._path.toString()+": "+t);return r.code=n.toUpperCase(),r}(i,t);return H1(n,t,null,u)}}}}function mI(n,e){const t=W1(e);return n.queryToTagMap.get(t)}function W1(n){return n._path.toString()+"$"+n._queryIdentifier}function UP(n,e){return n.tagToQueryMap.get(e)}function VP(n){const e=n.indexOf("$");return(0,q.hu)(-1!==e&&e<n.length-1,"Bad queryKey."),{queryId:n.substr(e+1),path:new sr(n.substr(0,e))}}function BP(n,e,t){const r=n.syncPointTree_.get(e);return(0,q.hu)(r,"Missing sync point for query tag that we're tracking"),PP(r,t,Iv(n.pendingWriteTree_,e),null)}function _I(n){return n._queryParams.loadsAllData()&&!n._queryParams.isDefault()?new(function rq(){return(0,q.hu)($1,"Reference.ts has not been loaded"),$1}())(n._repo,n._path):n}class jP{constructor(e){this.node_=e}getImmediateChild(e){const t=this.node_.getImmediateChild(e);return new jP(t)}node(){return this.node_}}class $P{constructor(e,t){this.syncTree_=e,this.path_=t}getImmediateChild(e){const t=Ur(this.path_,e);return new $P(this.syncTree_,t)}node(){return G1(this.syncTree_,this.path_)}}const fj=function(n,e,t){return n&&"object"==typeof n?((0,q.hu)(".sv"in n,"Unexpected leaf node or priority contents"),"string"==typeof n[".sv"]?mq(n[".sv"],e,t):"object"==typeof n[".sv"]?_q(n[".sv"],e):void(0,q.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2))):n},mq=function(n,e,t){if("timestamp"===n)return t.timestamp;(0,q.hu)(!1,"Unexpected server value: "+n)},_q=function(n,e,t){n.hasOwnProperty("increment")||(0,q.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const r=n.increment;"number"!=typeof r&&(0,q.hu)(!1,"Unexpected increment value: "+r);const i=e.node();if((0,q.hu)(null!==i&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const c=i.getValue();return"number"!=typeof c?r:c+r},pj=function(n,e,t,r){return GP(e,new $P(t,n),r)},HP=function(n,e,t){return GP(n,new jP(e),t)};function GP(n,e,t){const r=n.getPriority().val(),i=fj(r,e.getImmediateChild(".priority"),t);let u;if(n.isLeafNode()){const c=n,p=fj(c.getValue(),e,t);return p!==c.getValue()||i!==c.getPriority().val()?new Wg(p,Zr(i)):n}{const c=n;return u=c,i!==c.getPriority().val()&&(u=u.updatePriority(new Wg(i))),c.forEachChild(Vn,(p,v)=>{const I=GP(v,e.getImmediateChild(p),t);I!==v&&(u=u.updateImmediateChild(p,I))}),u}}class WP{constructor(e="",t=null,r={children:{},childCount:0}){this.name=e,this.parent=t,this.node=r}}function z1(n,e){let t=e instanceof sr?e:new sr(e),r=n,i=An(t);for(;null!==i;){const u=(0,q.DV)(r.node.children,i)||{children:{},childCount:0};r=new WP(i,r,u),t=_r(t),i=An(t)}return r}function Yg(n){return n.node.value}function zP(n,e){n.node.value=e,qP(n)}function gj(n){return n.node.childCount>0}function q1(n,e){Ci(n.node.children,(t,r)=>{e(new WP(t,n,r))})}function mj(n,e,t,r){t&&!r&&e(n),q1(n,i=>{mj(i,e,!0,r)}),t&&r&&e(n)}function yI(n){return new sr(null===n.parent?n.name:yI(n.parent)+"/"+n.name)}function qP(n){null!==n.parent&&function wq(n,e,t){const r=function yq(n){return void 0===Yg(n)&&!gj(n)}(t),i=(0,q.r3)(n.node.children,e);r&&i?(delete n.node.children[e],n.node.childCount--,qP(n)):!r&&!i&&(n.node.children[e]=t.node,n.node.childCount++,qP(n))}(n.parent,n.name,n)}const Eq=/[\[\].#$\/\u0000-\u001F\u007F]/,bq=/[\[\].#$\u0000-\u001F\u007F]/,ZP=10485760,Z1=function(n){return"string"==typeof n&&0!==n.length&&!Eq.test(n)},_j=function(n){return"string"==typeof n&&0!==n.length&&!bq.test(n)},vI=function(n){return null===n||"string"==typeof n||"number"==typeof n&&!Lg(n)||n&&"object"==typeof n&&(0,q.r3)(n,".sv")},tc=function(n,e,t,r){r&&void 0===e||wI((0,q.gK)(n,"value"),e,t)},wI=function(n,e,t){const r=t instanceof sr?new A3(t,n):t;if(void 0===e)throw new Error(n+"contains undefined "+ff(r));if("function"==typeof e)throw new Error(n+"contains a function "+ff(r)+" with contents = "+e.toString());if(Lg(e))throw new Error(n+"contains "+e.toString()+" "+ff(r));if("string"==typeof e&&e.length>ZP/3&&(0,q.ug)(e)>ZP)throw new Error(n+"contains a string greater than "+ZP+" utf8 bytes "+ff(r)+" ('"+e.substring(0,50)+"...')");if(e&&"object"==typeof e){let i=!1,u=!1;if(Ci(e,(c,p)=>{if(".value"===c)i=!0;else if(".priority"!==c&&".sv"!==c&&(u=!0,!Z1(c)))throw new Error(n+" contains an invalid key ("+c+") "+ff(r)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function x3(n,e){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(e),n.byteLength_+=(0,q.ug)(e),Gg(n)})(r,c),wI(n,p,r),function N3(n){const e=n.parts_.pop();n.byteLength_-=(0,q.ug)(e),n.parts_.length>0&&(n.byteLength_-=1)}(r)}),i&&u)throw new Error(n+' contains ".value" child '+ff(r)+" in addition to actual children.")}},yj=function(n,e,t,r){if(r&&void 0===e)return;const i=(0,q.gK)(n,"values");if(!e||"object"!=typeof e||Array.isArray(e))throw new Error(i+" must be an object containing the children to replace.");const u=[];Ci(e,(c,p)=>{const v=new sr(c);if(wI(i,p,Ur(t,v)),".priority"===cv(v)&&!vI(p))throw new Error(i+"contains an invalid value for '"+v.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");u.push(v)}),function(n,e){let t,r;for(t=0;t<e.length;t++){r=e[t];const u=Hg(r);for(let c=0;c<u.length;c++)if((".priority"!==u[c]||c!==u.length-1)&&!Z1(u[c]))throw new Error(n+"contains an invalid key ("+u[c]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}e.sort(S3);let i=null;for(t=0;t<e.length;t++){if(r=e[t],null!==i&&fa(i,r))throw new Error(n+"contains a path "+i.toString()+" that is ancestor of another path "+r.toString());i=r}}(i,u)},KP=function(n,e,t){if(!t||void 0!==e){if(Lg(e))throw new Error((0,q.gK)(n,"priority")+"is "+e.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!vI(e))throw new Error((0,q.gK)(n,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},EI=function(n,e,t,r){if(!(r&&void 0===t||Z1(t)))throw new Error((0,q.gK)(n,e)+'was an invalid key = "'+t+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},bI=function(n,e,t,r){if(!(r&&void 0===t||_j(t)))throw new Error((0,q.gK)(n,e)+'was an invalid path = "'+t+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},nu=function(n,e){if(".info"===An(e))throw new Error(n+" failed = Can't modify data under /.info/")},vj=function(n,e){const t=e.path.toString();if("string"!=typeof e.repoInfo.host||0===e.repoInfo.host.length||!Z1(e.repoInfo.namespace)&&"localhost"!==e.repoInfo.host.split(":")[0]||0!==t.length&&!function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),_j(n)}(t))throw new Error((0,q.gK)(n,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class Tq{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function K1(n,e){let t=null;for(let r=0;r<e.length;r++){const i=e[r],u=i.getPath();null!==t&&!y1(u,t.path)&&(n.eventLists_.push(t),t=null),null===t&&(t={events:[],path:u}),t.events.push(i)}t&&n.eventLists_.push(t)}function wj(n,e,t){K1(n,t),Ej(n,r=>y1(r,e))}function ga(n,e,t){K1(n,t),Ej(n,r=>fa(r,e)||fa(e,r))}function Ej(n,e){n.recursionDepth_++;let t=!0;for(let r=0;r<n.eventLists_.length;r++){const i=n.eventLists_[r];i&&(e(i.path)?(Sq(n.eventLists_[r]),n.eventLists_[r]=null):t=!1)}t&&(n.eventLists_=[]),n.recursionDepth_--}function Sq(n){for(let e=0;e<n.events.length;e++){const t=n.events[e];if(null!==t){n.events[e]=null;const r=t.getEventRunner();Wl&&Ui("event: "+t.toString()),wd(r)}}}const bj="repo_interrupt";class xq{constructor(e,t,r,i){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Tq,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=sI(),this.transactionQueueTree_=new WP,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function Ij(n){const t=n.infoData_.getNode(new sr(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function II(n){return function(n){return(n=n||{}).timestamp=n.timestamp||(new Date).getTime(),n}({timestamp:Ij(n)})}function Cj(n,e,t,r,i){n.dataUpdateCount++;const u=new sr(e);t=n.interceptServerDataCallback_?n.interceptServerDataCallback_(e,t):t;let c=[];if(i)if(r){const v=(0,q.UI)(t,I=>Zr(I));c=function lq(n,e,t,r){const i=UP(n,r);if(i){const u=VP(i),c=u.path,p=u.queryId,v=no(c,e),I=xr.fromObject(t);return BP(n,c,new Jl(lI(p),v,I))}return[]}(n.serverSyncTree_,u,v,i)}else{const v=Zr(t);c=lj(n.serverSyncTree_,u,v,i)}else if(r){const v=(0,q.UI)(t,I=>Zr(I));c=function oq(n,e,t){const r=xr.fromObject(t);return Cv(n,new Jl({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,r))}(n.serverSyncTree_,u,v)}else{const v=Zr(t);c=gI(n.serverSyncTree_,u,v)}let p=u;c.length>0&&(p=Tv(n,u)),ga(n.eventQueue_,p,c)}function Dj(n,e){YP(n,"connected",e),!1===e&&function Oq(n){Dv(n,"onDisconnectEvents");const e=II(n),t=sI();aI(n.onDisconnect_,tr(),(i,u)=>{const c=pj(i,u,n.serverSyncTree_,e);Cd(t,i,c)});let r=[];aI(t,tr(),(i,u)=>{r=r.concat(gI(n.serverSyncTree_,i,u));const c=eL(n,i);Tv(n,c)}),n.onDisconnect_=sI(),ga(n.eventQueue_,tr(),r)}(n)}function YP(n,e,t){const r=new sr("/.info/"+e),i=Zr(t);n.infoData_.updateSnapshot(r,i);const u=gI(n.infoSyncTree_,r,i);ga(n.eventQueue_,r,u)}function Y1(n){return n.nextWriteId_++}function QP(n,e,t,r,i){Dv(n,"set",{path:e.toString(),value:t,priority:r});const u=II(n),c=Zr(t,r),p=G1(n.serverSyncTree_,e),v=HP(c,p,u),I=Y1(n),A=LP(n.serverSyncTree_,e,v,I,!0);K1(n.eventQueue_,A),n.server_.put(e.toString(),c.val(!0),(P,$)=>{const Q="ok"===P;Q||Ps("set at "+e+" failed: "+P);const le=Df(n.serverSyncTree_,I,!Q);ga(n.eventQueue_,e,le),Tf(0,i,P,$)});const M=eL(n,e);Tv(n,M),ga(n.eventQueue_,M,[])}function Pq(n,e,t){n.server_.onDisconnectCancel(e.toString(),(r,i)=>{"ok"===r&&oI(n.onDisconnect_,e),Tf(0,t,r,i)})}function Tj(n,e,t,r){const i=Zr(t);n.server_.onDisconnectPut(e.toString(),i.val(!0),(u,c)=>{"ok"===u&&Cd(n.onDisconnect_,e,i),Tf(0,r,u,c)})}function JP(n,e,t){let r;r=".info"===An(e._path)?H1(n.infoSyncTree_,e,t):H1(n.serverSyncTree_,e,t),wj(n.eventQueue_,e._path,r)}function Sj(n){n.persistentConnection_&&n.persistentConnection_.interrupt(bj)}function Dv(n,...e){let t="";n.persistentConnection_&&(t=n.persistentConnection_.id+":"),Ui(t,...e)}function Tf(n,e,t,r){e&&wd(()=>{if("ok"===t)e(null);else{const i=(t||"error").toUpperCase();let u=i;r&&(u+=": "+r);const c=new Error(u);c.code=i,e(c)}})}function XP(n,e,t){return G1(n.serverSyncTree_,e,t)||yn.EMPTY_NODE}function Q1(n,e=n.transactionQueueTree_){if(e||J1(n,e),Yg(e)){const t=xj(n,e);(0,q.hu)(t.length>0,"Sending zero length transaction queue"),t.every(i=>0===i.status)&&function jq(n,e,t){const r=t.map(I=>I.currentWriteId),i=XP(n,e,r);let u=i;const c=i.hash();for(let I=0;I<t.length;I++){const A=t[I];(0,q.hu)(0===A.status,"tryToSendTransactionQueue_: items in queue should all be run."),A.status=1,A.retryCount++;const M=no(e,A.path);u=u.updateChild(M,A.currentOutputSnapshotRaw)}const p=u.val(!0),v=e;n.server_.put(v.toString(),p,I=>{Dv(n,"transaction put response",{path:v.toString(),status:I});let A=[];if("ok"===I){const M=[];for(let P=0;P<t.length;P++)t[P].status=2,A=A.concat(Df(n.serverSyncTree_,t[P].currentWriteId)),t[P].onComplete&&M.push(()=>t[P].onComplete(null,!0,t[P].currentOutputSnapshotResolved)),t[P].unwatcher();J1(n,z1(n.transactionQueueTree_,e)),Q1(n,n.transactionQueueTree_),ga(n.eventQueue_,e,A);for(let P=0;P<M.length;P++)wd(M[P])}else{if("datastale"===I)for(let M=0;M<t.length;M++)t[M].status=3===t[M].status?4:0;else{Ps("transaction at "+v.toString()+" failed: "+I);for(let M=0;M<t.length;M++)t[M].status=4,t[M].abortReason=I}Tv(n,e)}},c)}(n,yI(e),t)}else gj(e)&&q1(e,t=>{Q1(n,t)})}function Tv(n,e){const t=Aj(n,e),r=yI(t);return function $q(n,e,t){if(0===e.length)return;const r=[];let i=[];const c=e.filter(p=>0===p.status).map(p=>p.currentWriteId);for(let p=0;p<e.length;p++){const v=e[p],I=no(t,v.path);let M,A=!1;if((0,q.hu)(null!==I,"rerunTransactionsUnderNode_: relativePath should not be null."),4===v.status)A=!0,M=v.abortReason,i=i.concat(Df(n.serverSyncTree_,v.currentWriteId,!0));else if(0===v.status)if(v.retryCount>=25)A=!0,M="maxretry",i=i.concat(Df(n.serverSyncTree_,v.currentWriteId,!0));else{const P=XP(n,v.path,c);v.currentInputSnapshot=P;const $=e[p].update(P.val());if(void 0!==$){wI("transaction failed: Data returned ",$,v.path);let Q=Zr($);"object"==typeof $&&null!=$&&(0,q.r3)($,".priority")||(Q=Q.updatePriority(P.getPriority()));const ye=v.currentWriteId,lt=II(n),dt=HP(Q,P,lt);v.currentOutputSnapshotRaw=Q,v.currentOutputSnapshotResolved=dt,v.currentWriteId=Y1(n),c.splice(c.indexOf(ye),1),i=i.concat(LP(n.serverSyncTree_,v.path,dt,v.currentWriteId,v.applyLocally)),i=i.concat(Df(n.serverSyncTree_,ye,!0))}else A=!0,M="nodata",i=i.concat(Df(n.serverSyncTree_,v.currentWriteId,!0))}ga(n.eventQueue_,t,i),i=[],A&&(e[p].status=2,setTimeout(e[p].unwatcher,Math.floor(0)),e[p].onComplete&&r.push("nodata"===M?()=>e[p].onComplete(null,!1,e[p].currentInputSnapshot):()=>e[p].onComplete(new Error(M),!1,null)))}J1(n,n.transactionQueueTree_);for(let p=0;p<r.length;p++)wd(r[p]);Q1(n,n.transactionQueueTree_)}(n,xj(n,t),r),r}function Aj(n,e){let t,r=n.transactionQueueTree_;for(t=An(e);null!==t&&void 0===Yg(r);)r=z1(r,t),t=An(e=_r(e));return r}function xj(n,e){const t=[];return Nj(n,e,t),t.sort((r,i)=>r.order-i.order),t}function Nj(n,e,t){const r=Yg(e);if(r)for(let i=0;i<r.length;i++)t.push(r[i]);q1(e,i=>{Nj(n,i,t)})}function J1(n,e){const t=Yg(e);if(t){let r=0;for(let i=0;i<t.length;i++)2!==t[i].status&&(t[r]=t[i],r++);t.length=r,zP(e,t.length>0?t:void 0)}q1(e,r=>{J1(n,r)})}function eL(n,e){const t=yI(Aj(n,e)),r=z1(n.transactionQueueTree_,e);return function vq(n,e,t){let r=t?n:n.parent;for(;null!==r;){if(e(r))return!0;r=r.parent}}(r,i=>{tL(n,i)}),tL(n,r),mj(r,i=>{tL(n,i)}),t}function tL(n,e){const t=Yg(e);if(t){const r=[];let i=[],u=-1;for(let c=0;c<t.length;c++)3===t[c].status||(1===t[c].status?((0,q.hu)(u===c-1,"All SENT items should be at beginning of queue."),u=c,t[c].status=3,t[c].abortReason="set"):((0,q.hu)(0===t[c].status,"Unexpected transaction status in abort"),t[c].unwatcher(),i=i.concat(Df(n.serverSyncTree_,t[c].currentWriteId,!0)),t[c].onComplete&&r.push(t[c].onComplete.bind(null,new Error("set"),!1,null))));-1===u?zP(e,void 0):t.length=u+1,ga(n.eventQueue_,yI(e),i);for(let c=0;c<r.length;c++)wd(r[c])}}const nL=function(n,e){const t=Wq(n),r=t.namespace;return"firebase.com"===t.domain&&Ka(t.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||"undefined"===r)&&"localhost"!==t.domain&&Ka("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),t.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&Ps("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new Vg(t.host,t.secure,r,"ws"===t.scheme||"wss"===t.scheme,e,"",r!==t.subdomain),path:new sr(t.pathString)}},Wq=function(n){let e="",t="",r="",i="",u="",c=!0,p="https",v=443;if("string"==typeof n){let I=n.indexOf("//");I>=0&&(p=n.substring(0,I-1),n=n.substring(I+2));let A=n.indexOf("/");-1===A&&(A=n.length);let M=n.indexOf("?");-1===M&&(M=n.length),e=n.substring(0,Math.min(A,M)),A<M&&(i=function Hq(n){let e="";const t=n.split("/");for(let r=0;r<t.length;r++)if(t[r].length>0){let i=t[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}(n.substring(A,M)));const P=function Gq(n){const e={};"?"===n.charAt(0)&&(n=n.substring(1));for(const t of n.split("&")){if(0===t.length)continue;const r=t.split("=");2===r.length?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):Ps(`Invalid query segment '${t}' in query '${n}'`)}return e}(n.substring(Math.min(n.length,M)));I=e.indexOf(":"),I>=0?(c="https"===p||"wss"===p,v=parseInt(e.substring(I+1),10)):I=e.length;const $=e.slice(0,I);if("localhost"===$.toLowerCase())t="localhost";else if($.split(".").length<=2)t=$;else{const Q=e.indexOf(".");r=e.substring(0,Q).toLowerCase(),t=e.substring(Q+1),u=r}"ns"in P&&(u=P.ns)}return{host:e,port:v,domain:t,subdomain:r,secure:c,scheme:p,pathString:i,namespace:u}};class Mj{constructor(e,t,r,i){this.eventType=e,this.eventRegistration=t,this.snapshot=r,this.prevName=i}getPath(){const e=this.snapshot.ref;return"value"===this.eventType?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,q.Wl)(this.snapshot.exportVal())}}class Rj{constructor(e,t,r){this.eventRegistration=e,this.error=t,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class rL{constructor(e,t){this.snapshotCallback=e,this.cancelCallback=t}onValue(e,t){this.snapshotCallback.call(null,e,t)}onCancel(e){return(0,q.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}class kj{constructor(e,t){this._repo=e,this._path=t}cancel(){const e=new q.BH;return Pq(this._repo,this._path,e.wrapCallback(()=>{})),e.promise}remove(){nu("OnDisconnect.remove",this._path);const e=new q.BH;return Tj(this._repo,this._path,null,e.wrapCallback(()=>{})),e.promise}set(e){nu("OnDisconnect.set",this._path),tc("OnDisconnect.set",e,this._path,!1);const t=new q.BH;return Tj(this._repo,this._path,e,t.wrapCallback(()=>{})),t.promise}setWithPriority(e,t){nu("OnDisconnect.setWithPriority",this._path),tc("OnDisconnect.setWithPriority",e,this._path,!1),KP("OnDisconnect.setWithPriority",t,!1);const r=new q.BH;return function Lq(n,e,t,r,i){const u=Zr(t,r);n.server_.onDisconnectPut(e.toString(),u.val(!0),(c,p)=>{"ok"===c&&Cd(n.onDisconnect_,e,u),Tf(0,i,c,p)})}(this._repo,this._path,e,t,r.wrapCallback(()=>{})),r.promise}update(e){nu("OnDisconnect.update",this._path),yj("OnDisconnect.update",e,this._path,!1);const t=new q.BH;return function Fq(n,e,t,r){if((0,q.xb)(t))return Ui("onDisconnect().update() called with empty data.  Don't do anything."),void Tf(0,r,"ok",void 0);n.server_.onDisconnectMerge(e.toString(),t,(i,u)=>{"ok"===i&&Ci(t,(c,p)=>{const v=Zr(p);Cd(n.onDisconnect_,Ur(e,c),v)}),Tf(0,r,i,u)})}(this._repo,this._path,e,t.wrapCallback(()=>{})),t.promise}}class Go{constructor(e,t,r,i){this._repo=e,this._path=t,this._queryParams=r,this._orderByCalled=i}get key(){return On(this._path)?null:cv(this._path)}get ref(){return new ru(this._repo,this._path)}get _queryIdentifier(){const e=L1(this._queryParams),t=Bo(e);return"{}"===t?"default":t}get _queryObject(){return L1(this._queryParams)}isEqual(e){if(!((e=(0,q.m9)(e))instanceof Go))return!1;const t=this._repo===e._repo,r=y1(this._path,e._path);return t&&r&&this._queryIdentifier===e._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function yP(n){let e="";for(let t=n.pieceNum_;t<n.pieces_.length;t++)""!==n.pieces_[t]&&(e+="/"+encodeURIComponent(String(n.pieces_[t])));return e||"/"}(this._path)}}function X1(n,e){if(!0===n._orderByCalled)throw new Error(e+": You can't combine multiple orderBy calls.")}function Sf(n){let e=null,t=null;if(n.hasStart()&&(e=n.getIndexStartValue()),n.hasEnd()&&(t=n.getIndexEndValue()),n.getIndex()===po){const r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(n.hasStart()){if(n.getIndexStartName()!==Zu)throw new Error(r);if("string"!=typeof e)throw new Error(i)}if(n.hasEnd()){if(n.getIndexEndName()!==Ya)throw new Error(r);if("string"!=typeof t)throw new Error(i)}}else if(n.getIndex()===Vn){if(null!=e&&!vI(e)||null!=t&&!vI(t))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,q.hu)(n.getIndex()instanceof tI||n.getIndex()===Xa,"unknown index type."),null!=e&&"object"==typeof e||null!=t&&"object"==typeof t)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function ex(n){if(n.hasStart()&&n.hasEnd()&&n.hasLimit()&&!n.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class ru extends Go{constructor(e,t){super(e,t,new vf,!1)}get parent(){const e=vP(this._path);return null===e?null:new ru(this._repo,e)}get root(){let e=this;for(;null!==e.parent;)e=e.parent;return e}}class Qg{constructor(e,t,r){this._node=e,this.ref=t,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const t=new sr(e),r=Jg(this.ref,e);return new Qg(this._node.getChild(t),r,Vn)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(r,i)=>e(new Qg(i,Jg(this.ref,r),Vn)))}hasChild(e){const t=new sr(e);return!this._node.getChild(t).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Oj(n,e){return(n=(0,q.m9)(n))._checkNotDeleted("ref"),void 0!==e?Jg(n._root,e):n._root}function Pj(n,e){(n=(0,q.m9)(n))._checkNotDeleted("refFromURL");const t=nL(e,n._repo.repoInfo_.nodeAdmin);vj("refFromURL",t);const r=t.repoInfo;return!n._repo.repoInfo_.isCustomHost()&&r.host!==n._repo.repoInfo_.host&&Ka("refFromURL: Host name does not match the current database: (found "+r.host+" but expected "+n._repo.repoInfo_.host+")"),Oj(n,t.path.toString())}function Jg(n,e){return null===An((n=(0,q.m9)(n))._path)?(t=e,t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),bI("child","path",t,!1)):bI("child","path",e,!1),new ru(n._repo,Ur(n._path,e));var t}function iL(n,e){n=(0,q.m9)(n),nu("set",n._path),tc("set",e,n._path,!1);const t=new q.BH;return QP(n._repo,n._path,e,null,t.wrapCallback(()=>{})),t.promise}function Yq(n,e){yj("update",e,n._path,!1);const t=new q.BH;return function kq(n,e,t,r){Dv(n,"update",{path:e.toString(),value:t});let i=!0;const u=II(n),c={};if(Ci(t,(p,v)=>{i=!1,c[p]=pj(Ur(e,p),Zr(v),n.serverSyncTree_,u)}),i)Ui("update() called with empty data.  Don't do anything."),Tf(0,r,"ok",void 0);else{const p=Y1(n),v=function sq(n,e,t,r){!function G3(n,e,t,r){(0,q.hu)(r>n.lastWriteId,"Stacking an older merge on top of newer ones"),n.allWrites.push({path:e,children:t,writeId:r,visible:!0}),n.visibleWrites=wv(n.visibleWrites,e,t),n.lastWriteId=r}(n.pendingWriteTree_,e,t,r);const i=xr.fromObject(t);return Cv(n,new Jl({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,i))}(n.serverSyncTree_,e,c,p);K1(n.eventQueue_,v),n.server_.merge(e.toString(),t,(I,A)=>{const M="ok"===I;M||Ps("update at "+e+" failed: "+I);const P=Df(n.serverSyncTree_,p,!M),$=P.length>0?Tv(n,e):e;ga(n.eventQueue_,$,P),Tf(0,r,I,A)}),Ci(t,I=>{const A=eL(n,Ur(e,I));Tv(n,A)}),ga(n.eventQueue_,e,[])}}(n._repo,n._path,e,t.wrapCallback(()=>{})),t.promise}function Qq(n){n=(0,q.m9)(n);const e=new rL(()=>{}),t=new CI(e);return function Rq(n,e,t){const r=function cq(n,e){const t=e._path;let r=null;n.syncPointTree_.foreachOnPath(t,(I,A)=>{const M=no(I,t);r=r||If(A,M)});let i=n.syncPointTree_.get(t);i?r=r||If(i,tr()):(i=new rj,n.syncPointTree_=n.syncPointTree_.set(t,i));const u=null!=r,c=u?new tu(r,!0,!1):null;return function qz(n){return Kg(n.viewCache_)}(ij(i,e,Iv(n.pendingWriteTree_,e._path),u?c.getNode():yn.EMPTY_NODE,u))}(n.serverSyncTree_,e);return null!=r?Promise.resolve(r):n.server_.get(e).then(i=>{const u=Zr(i).withIndex(e._queryParams.getIndex());let c;if(FP(n.serverSyncTree_,e,t,!0),e._queryParams.loadsAllData())c=gI(n.serverSyncTree_,e._path,u);else{const p=mI(n.serverSyncTree_,e);c=lj(n.serverSyncTree_,e._path,u,p)}return ga(n.eventQueue_,e._path,c),H1(n.serverSyncTree_,e,t,null,!0),u},i=>(Dv(n,"get for query "+(0,q.Wl)(e)+" failed: "+i),Promise.reject(new Error(i))))}(n._repo,n,t).then(r=>new Qg(r,new ru(n._repo,n._path),n._queryParams.getIndex()))}class CI{constructor(e){this.callbackContext=e}respondsTo(e){return"value"===e}createEvent(e,t){const r=t._queryParams.getIndex();return new Mj("value",this,new Qg(e.snapshotNode,new ru(t._repo,t._path),r))}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new Rj(this,e,t):null}matches(e){return e instanceof CI&&(!e.callbackContext||!this.callbackContext||e.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class tx{constructor(e,t){this.eventType=e,this.callbackContext=t}respondsTo(e){let t="children_added"===e?"child_added":e;return t="children_removed"===t?"child_removed":t,this.eventType===t}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new Rj(this,e,t):null}createEvent(e,t){(0,q.hu)(null!=e.childName,"Child events should have a childName.");const r=Jg(new ru(t._repo,t._path),e.childName),i=t._queryParams.getIndex();return new Mj(e.type,this,new Qg(e.snapshotNode,r,i),e.prevName)}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof tx&&this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function DI(n,e,t,r,i){let u;if("object"==typeof r&&(u=void 0,i=r),"function"==typeof r&&(u=r),i&&i.onlyOnce){const v=t,I=(A,M)=>{JP(n._repo,n,p),v(A,M)};I.userCallback=t.userCallback,I.context=t.context,t=I}const c=new rL(t,u||void 0),p="value"===e?new CI(c):new tx(e,c);return function Uq(n,e,t){let r;r=".info"===An(e._path)?FP(n.infoSyncTree_,e,t):FP(n.serverSyncTree_,e,t),wj(n.eventQueue_,e._path,r)}(n._repo,n,p),()=>JP(n._repo,n,p)}function sL(n,e,t,r){return DI(n,"value",e,t,r)}function Lj(n,e,t,r){return DI(n,"child_added",e,t,r)}function Fj(n,e,t,r){return DI(n,"child_changed",e,t,r)}function Uj(n,e,t,r){return DI(n,"child_moved",e,t,r)}function Vj(n,e,t,r){return DI(n,"child_removed",e,t,r)}function Bj(n,e,t){let r=null;const i=t?new rL(t):null;"value"===e?r=new CI(i):e&&(r=new tx(e,i)),JP(n._repo,n,r)}class Yu{}class jj extends Yu{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){tc("endAt",this._value,e._path,!0);const t=wf(e._queryParams,this._value,this._key);if(ex(t),Sf(t),e._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Go(e._repo,e._path,t,e._orderByCalled)}}class Xq extends Yu{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){tc("endBefore",this._value,e._path,!1);const t=function _v(n,e,t){let r,i;return n.index_===po?("string"==typeof e&&(e=A1(e)),i=wf(n,e,t)):(r=null==t?Zu:A1(t),i=wf(n,e,r)),i.endBeforeSet_=!0,i}(e._queryParams,this._value,this._key);if(ex(t),Sf(t),e._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Go(e._repo,e._path,t,e._orderByCalled)}}class $j extends Yu{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){tc("startAt",this._value,e._path,!0);const t=mv(e._queryParams,this._value,this._key);if(ex(t),Sf(t),e._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Go(e._repo,e._path,t,e._orderByCalled)}}class nZ extends Yu{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){tc("startAfter",this._value,e._path,!1);const t=function O1(n,e,t){let r;if(n.index_===po)"string"==typeof e&&(e=S1(e)),r=mv(n,e,t);else{let i;i=null==t?Ya:S1(t),r=mv(n,e,i)}return r.startAfterSet_=!0,r}(e._queryParams,this._value,this._key);if(ex(t),Sf(t),e._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new Go(e._repo,e._path,t,e._orderByCalled)}}class iZ extends Yu{constructor(e){super(),this._limit=e}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new Go(e._repo,e._path,function R1(n,e){const t=n.copy();return t.limitSet_=!0,t.limit_=e,t.viewFrom_="l",t}(e._queryParams,this._limit),e._orderByCalled)}}class oZ extends Yu{constructor(e){super(),this._limit=e}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new Go(e._repo,e._path,function k1(n,e){const t=n.copy();return t.limitSet_=!0,t.limit_=e,t.viewFrom_="r",t}(e._queryParams,this._limit),e._orderByCalled)}}class uZ extends Yu{constructor(e){super(),this._path=e}_apply(e){X1(e,"orderByChild");const t=new sr(this._path);if(On(t))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const r=new tI(t),i=qg(e._queryParams,r);return Sf(i),new Go(e._repo,e._path,i,!0)}}class cZ extends Yu{_apply(e){X1(e,"orderByKey");const t=qg(e._queryParams,po);return Sf(t),new Go(e._repo,e._path,t,!0)}}class hZ extends Yu{_apply(e){X1(e,"orderByPriority");const t=qg(e._queryParams,Vn);return Sf(t),new Go(e._repo,e._path,t,!0)}}class pZ extends Yu{_apply(e){X1(e,"orderByValue");const t=qg(e._queryParams,Xa);return Sf(t),new Go(e._repo,e._path,t,!0)}}class mZ extends Yu{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){if(tc("equalTo",this._value,e._path,!1),e._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(e._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new jj(this._value,this._key)._apply(new $j(this._value,this._key)._apply(e))}}function Qu(n,...e){let t=(0,q.m9)(n);for(const r of e)t=r._apply(t);return t}(function Qz(n){(0,q.hu)(!B1,"__referenceConstructor has already been defined"),B1=n})(ru),function nq(n){(0,q.hu)(!$1,"__referenceConstructor has already been defined"),$1=n}(ru);const oL={};function Gj(n,e,t,r,i){let u=r||n.options.databaseURL;void 0===u&&(n.options.projectId||Ka("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Ui("Using default host for project ",n.options.projectId),u=`${n.options.projectId}-default-rtdb.firebaseio.com`);let v,I,c=nL(u,i),p=c.repoInfo;typeof process<"u"&&process.env&&(I=process.env.FIREBASE_DATABASE_EMULATOR_HOST),I?(v=!0,u=`http://${I}?ns=${p.namespace}`,c=nL(u,i),p=c.repoInfo):v=!c.repoInfo.secure;const A=i&&v?new Ug(Ug.OWNER):new oP(n.name,n.options,e);vj("Invalid Firebase Database URL",c),On(c.path)||Ka("Database URL must point to the root of a Firebase Database (not including a child path).");const M=function EZ(n,e,t,r){let i=oL[e.name];i||(i={},oL[e.name]=i);let u=i[n.toURLString()];return u&&Ka("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),u=new xq(n,false,t,r),i[n.toURLString()]=u,u}(p,n,A,new qA(n.name,t));return new IZ(M,n)}class IZ{constructor(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function Nq(n,e,t){if(n.stats_=uv(n.repoInfo_),n.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)n.server_=new iI(n.repoInfo_,(r,i,u,c)=>{Cj(n,r,i,u,c)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>Dj(n,!0),0);else{if(typeof t<"u"&&null!==t){if("object"!=typeof t)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,q.Wl)(t)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}n.persistentConnection_=new Kl(n.repoInfo_,e,(r,i,u,c)=>{Cj(n,r,i,u,c)},r=>{Dj(n,r)},r=>{!function Mq(n,e){Ci(e,(t,r)=>{YP(n,t,r)})}(n,r)},n.authTokenProvider_,n.appCheckProvider_,t),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(r=>{n.server_.refreshAuthToken(r)}),n.appCheckProvider_.addTokenChangeListener(r=>{n.server_.refreshAppCheckToken(r.token)}),n.statsReporter_=function XA(n,e){const t=n.toString();return Ub[t]||(Ub[t]=e()),Ub[t]}(n.repoInfo_,()=>new j3(n.stats_,n.server_)),n.infoData_=new F3,n.infoSyncTree_=new uj({startListening:(r,i,u,c)=>{let p=[];const v=n.infoData_.getNode(r._path);return v.isEmpty()||(p=gI(n.infoSyncTree_,r._path,v),setTimeout(()=>{c("ok")},0)),p},stopListening:()=>{}}),YP(n,"connected",!1),n.serverSyncTree_=new uj({startListening:(r,i,u,c)=>(n.server_.listen(r,u,i,(p,v)=>{const I=c(p,v);ga(n.eventQueue_,r._path,I)}),[]),stopListening:(r,i)=>{n.server_.unlisten(r,i)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new ru(this._repo,tr())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function wZ(n,e){const t=oL[e];(!t||t[n.key]!==n)&&Ka(`Database ${e}(${n.repoInfo_}) has already been deleted.`),Sj(n),delete t[n.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){null===this._rootInternal&&Ka("Cannot call "+e+" on a deleted database.")}}function Wj(){fP.IS_TRANSPORT_INITIALIZED&&Ps("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function CZ(){Wj(),zl.forceDisallow()}function DZ(){Wj(),ql.forceDisallow(),zl.forceAllow()}function AZ(n,e){Mb(n,e)}const NZ={".sv":"timestamp"};class kZ{constructor(e,t){this.committed=e,this.snapshot=t}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}Kl.prototype.simpleListen=function(n,e){this.sendRequest("q",{p:n},e)},Kl.prototype.echo=function(n,e){this.sendRequest("echo",{d:n},e)},function xZ(n){VA(eo.SDK_VERSION),(0,eo._registerComponent)(new zu.wA("database",(e,{instanceIdentifier:t})=>Gj(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),t),"PUBLIC").setMultipleInstances(!0)),(0,eo.registerVersion)(FA,UA,n),(0,eo.registerVersion)(FA,UA,"esm2017")}();const FZ=new da.Yd("@firebase/database-compat"),qj=function(n){FZ.warn("FIREBASE WARNING: "+n)};class BZ{constructor(e){this._delegate=e}cancel(e){(0,q.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,q.Wj)("OnDisconnect.cancel","onComplete",e,!0);const t=this._delegate.cancel();return e&&t.then(()=>e(null),r=>e(r)),t}remove(e){(0,q.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,q.Wj)("OnDisconnect.remove","onComplete",e,!0);const t=this._delegate.remove();return e&&t.then(()=>e(null),r=>e(r)),t}set(e,t){(0,q.Dv)("OnDisconnect.set",1,2,arguments.length),(0,q.Wj)("OnDisconnect.set","onComplete",t,!0);const r=this._delegate.set(e);return t&&r.then(()=>t(null),i=>t(i)),r}setWithPriority(e,t,r){(0,q.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,q.Wj)("OnDisconnect.setWithPriority","onComplete",r,!0);const i=this._delegate.setWithPriority(e,t);return r&&i.then(()=>r(null),u=>r(u)),i}update(e,t){if((0,q.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(e)){const i={};for(let u=0;u<e.length;++u)i[""+u]=e[u];e=i,qj("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,q.Wj)("OnDisconnect.update","onComplete",t,!0);const r=this._delegate.update(e);return t&&r.then(()=>t(null),i=>t(i)),r}}class jZ{constructor(e,t){this.committed=e,this.snapshot=t}toJSON(){return(0,q.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class Af{constructor(e,t){this._database=e,this._delegate=t}val(){return(0,q.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,q.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,q.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,q.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(e){return(0,q.Dv)("DataSnapshot.child",0,1,arguments.length),e=String(e),bI("DataSnapshot.child","path",e,!1),new Af(this._database,this._delegate.child(e))}hasChild(e){return(0,q.Dv)("DataSnapshot.hasChild",1,1,arguments.length),bI("DataSnapshot.hasChild","path",e,!1),this._delegate.hasChild(e)}getPriority(){return(0,q.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(e){return(0,q.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,q.Wj)("DataSnapshot.forEach","action",e,!1),this._delegate.forEach(t=>e(new Af(this._database,t)))}hasChildren(){return(0,q.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,q.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,q.Dv)("DataSnapshot.ref",0,0,arguments.length),new ma(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class Fs{constructor(e,t){this.database=e,this._delegate=t}on(e,t,r,i){var u;(0,q.Dv)("Query.on",2,4,arguments.length),(0,q.Wj)("Query.on","callback",t,!1);const c=Fs.getCancelAndContextArgs_("Query.on",r,i),p=(I,A)=>{t.call(c.context,new Af(this.database,I),A)};p.userCallback=t,p.context=c.context;const v=null===(u=c.cancel)||void 0===u?void 0:u.bind(c.context);switch(e){case"value":return sL(this._delegate,p,v),t;case"child_added":return Lj(this._delegate,p,v),t;case"child_removed":return Vj(this._delegate,p,v),t;case"child_changed":return Fj(this._delegate,p,v),t;case"child_moved":return Uj(this._delegate,p,v),t;default:throw new Error((0,q.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(e,t,r){if((0,q.Dv)("Query.off",0,3,arguments.length),function(n,e,t){if(void 0!==e)switch(e){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,q.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,e),(0,q.Wj)("Query.off","callback",t,!0),(0,q.lb)("Query.off","context",r,!0),t){const i=()=>{};i.userCallback=t,i.context=r,Bj(this._delegate,e,i)}else Bj(this._delegate,e)}get(){return Qq(this._delegate).then(e=>new Af(this.database,e))}once(e,t,r,i){(0,q.Dv)("Query.once",1,4,arguments.length),(0,q.Wj)("Query.once","callback",t,!0);const u=Fs.getCancelAndContextArgs_("Query.once",r,i),c=new q.BH,p=(I,A)=>{const M=new Af(this.database,I);t&&t.call(u.context,M,A),c.resolve(M)};p.userCallback=t,p.context=u.context;const v=I=>{u.cancel&&u.cancel.call(u.context,I),c.reject(I)};switch(e){case"value":sL(this._delegate,p,v,{onlyOnce:!0});break;case"child_added":Lj(this._delegate,p,v,{onlyOnce:!0});break;case"child_removed":Vj(this._delegate,p,v,{onlyOnce:!0});break;case"child_changed":Fj(this._delegate,p,v,{onlyOnce:!0});break;case"child_moved":Uj(this._delegate,p,v,{onlyOnce:!0});break;default:throw new Error((0,q.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return c.promise}limitToFirst(e){return(0,q.Dv)("Query.limitToFirst",1,1,arguments.length),new Fs(this.database,Qu(this._delegate,function sZ(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new iZ(n)}(e)))}limitToLast(e){return(0,q.Dv)("Query.limitToLast",1,1,arguments.length),new Fs(this.database,Qu(this._delegate,function aZ(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new oZ(n)}(e)))}orderByChild(e){return(0,q.Dv)("Query.orderByChild",1,1,arguments.length),new Fs(this.database,Qu(this._delegate,function lZ(n){if("$key"===n)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===n)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===n)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return bI("orderByChild","path",n,!1),new uZ(n)}(e)))}orderByKey(){return(0,q.Dv)("Query.orderByKey",0,0,arguments.length),new Fs(this.database,Qu(this._delegate,function dZ(){return new cZ}()))}orderByPriority(){return(0,q.Dv)("Query.orderByPriority",0,0,arguments.length),new Fs(this.database,Qu(this._delegate,function fZ(){return new hZ}()))}orderByValue(){return(0,q.Dv)("Query.orderByValue",0,0,arguments.length),new Fs(this.database,Qu(this._delegate,function gZ(){return new pZ}()))}startAt(e=null,t){return(0,q.Dv)("Query.startAt",0,2,arguments.length),new Fs(this.database,Qu(this._delegate,function tZ(n=null,e){return EI("startAt","key",e,!0),new $j(n,e)}(e,t)))}startAfter(e=null,t){return(0,q.Dv)("Query.startAfter",0,2,arguments.length),new Fs(this.database,Qu(this._delegate,function rZ(n,e){return EI("startAfter","key",e,!0),new nZ(n,e)}(e,t)))}endAt(e=null,t){return(0,q.Dv)("Query.endAt",0,2,arguments.length),new Fs(this.database,Qu(this._delegate,function Jq(n,e){return EI("endAt","key",e,!0),new jj(n,e)}(e,t)))}endBefore(e=null,t){return(0,q.Dv)("Query.endBefore",0,2,arguments.length),new Fs(this.database,Qu(this._delegate,function eZ(n,e){return EI("endBefore","key",e,!0),new Xq(n,e)}(e,t)))}equalTo(e,t){return(0,q.Dv)("Query.equalTo",1,2,arguments.length),new Fs(this.database,Qu(this._delegate,function _Z(n,e){return EI("equalTo","key",e,!0),new mZ(n,e)}(e,t)))}toString(){return(0,q.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,q.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(e){if((0,q.Dv)("Query.isEqual",1,1,arguments.length),!(e instanceof Fs))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(e._delegate)}static getCancelAndContextArgs_(e,t,r){const i={cancel:void 0,context:void 0};if(t&&r)i.cancel=t,(0,q.Wj)(e,"cancel",i.cancel,!0),i.context=r,(0,q.lb)(e,"context",i.context,!0);else if(t)if("object"==typeof t&&null!==t)i.context=t;else{if("function"!=typeof t)throw new Error((0,q.gK)(e,"cancelOrContext")+" must either be a cancel callback or a context object.");i.cancel=t}return i}get ref(){return new ma(this.database,new ru(this._delegate._repo,this._delegate._path))}}class ma extends Fs{constructor(e,t){super(e,new Go(t._repo,t._path,new vf,!1)),this.database=e,this._delegate=t}getKey(){return(0,q.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(e){return(0,q.Dv)("Reference.child",1,1,arguments.length),"number"==typeof e&&(e=String(e)),new ma(this.database,Jg(this._delegate,e))}getParent(){(0,q.Dv)("Reference.parent",0,0,arguments.length);const e=this._delegate.parent;return e?new ma(this.database,e):null}getRoot(){return(0,q.Dv)("Reference.root",0,0,arguments.length),new ma(this.database,this._delegate.root)}set(e,t){(0,q.Dv)("Reference.set",1,2,arguments.length),(0,q.Wj)("Reference.set","onComplete",t,!0);const r=iL(this._delegate,e);return t&&r.then(()=>t(null),i=>t(i)),r}update(e,t){if((0,q.Dv)("Reference.update",1,2,arguments.length),Array.isArray(e)){const i={};for(let u=0;u<e.length;++u)i[""+u]=e[u];e=i,qj("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}nu("Reference.update",this._delegate._path),(0,q.Wj)("Reference.update","onComplete",t,!0);const r=Yq(this._delegate,e);return t&&r.then(()=>t(null),i=>t(i)),r}setWithPriority(e,t,r){(0,q.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,q.Wj)("Reference.setWithPriority","onComplete",r,!0);const i=function Kq(n,e,t){if(nu("setWithPriority",n._path),tc("setWithPriority",e,n._path,!1),KP("setWithPriority",t,!1),".length"===n.key||".keys"===n.key)throw"setWithPriority failed: "+n.key+" is a read-only object.";const r=new q.BH;return QP(n._repo,n._path,e,t,r.wrapCallback(()=>{})),r.promise}(this._delegate,e,t);return r&&i.then(()=>r(null),u=>r(u)),i}remove(e){(0,q.Dv)("Reference.remove",0,1,arguments.length),(0,q.Wj)("Reference.remove","onComplete",e,!0);const t=function qq(n){return nu("remove",n._path),iL(n,null)}(this._delegate);return e&&t.then(()=>e(null),r=>e(r)),t}transaction(e,t,r){(0,q.Dv)("Reference.transaction",1,3,arguments.length),(0,q.Wj)("Reference.transaction","transactionUpdate",e,!1),(0,q.Wj)("Reference.transaction","onComplete",t,!0),function(n,e,t,r){if(void 0!==t&&"boolean"!=typeof t)throw new Error((0,q.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,r);const i=function OZ(n,e,t){var r;if(n=(0,q.m9)(n),nu("Reference.transaction",n._path),".length"===n.key||".keys"===n.key)throw"Reference.transaction failed: "+n.key+" is a read-only object.";const i=null===(r=t?.applyLocally)||void 0===r||r,u=new q.BH,p=sL(n,()=>{});return function Bq(n,e,t,r,i,u){Dv(n,"transaction on "+e);const c={path:e,update:t,onComplete:r,status:null,order:$A(),applyLocally:u,retryCount:0,unwatcher:i,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},p=XP(n,e,void 0);c.currentInputSnapshot=p;const v=c.update(p.val());if(void 0===v)c.unwatcher(),c.currentOutputSnapshotRaw=null,c.currentOutputSnapshotResolved=null,c.onComplete&&c.onComplete(null,!1,c.currentInputSnapshot);else{wI("transaction failed: Data returned ",v,c.path),c.status=0;const I=z1(n.transactionQueueTree_,e),A=Yg(I)||[];let M;A.push(c),zP(I,A),"object"==typeof v&&null!==v&&(0,q.r3)(v,".priority")?(M=(0,q.DV)(v,".priority"),(0,q.hu)(vI(M),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):M=(G1(n.serverSyncTree_,e)||yn.EMPTY_NODE).getPriority().val();const P=II(n),$=Zr(v,M),Q=HP($,p,P);c.currentOutputSnapshotRaw=$,c.currentOutputSnapshotResolved=Q,c.currentWriteId=Y1(n);const le=LP(n.serverSyncTree_,e,Q,c.currentWriteId,c.applyLocally);ga(n.eventQueue_,e,le),Q1(n,n.transactionQueueTree_)}}(n._repo,n._path,e,(v,I,A)=>{let M=null;v?u.reject(v):(M=new Qg(A,new ru(n._repo,n._path),Vn),u.resolve(new kZ(I,M)))},p,i),u.promise}(this._delegate,e,{applyLocally:r}).then(u=>new jZ(u.committed,new Af(this.database,u.snapshot)));return t&&i.then(u=>t(null,u.committed,u.snapshot),u=>t(u,!1,null)),i}setPriority(e,t){(0,q.Dv)("Reference.setPriority",1,2,arguments.length),(0,q.Wj)("Reference.setPriority","onComplete",t,!0);const r=function Zq(n,e){n=(0,q.m9)(n),nu("setPriority",n._path),KP("setPriority",e,!1);const t=new q.BH;return QP(n._repo,Ur(n._path,".priority"),e,null,t.wrapCallback(()=>{})),t.promise}(this._delegate,e);return t&&r.then(()=>t(null),i=>t(i)),r}push(e,t){(0,q.Dv)("Reference.push",0,2,arguments.length),(0,q.Wj)("Reference.push","onComplete",t,!0);const r=function zq(n,e){n=(0,q.m9)(n),nu("push",n._path),tc("push",e,n._path,!0);const t=Ij(n._repo),r=P3(t),i=Jg(n,r),u=Jg(n,r);let c;return c=null!=e?iL(u,e).then(()=>u):Promise.resolve(u),i.then=c.then.bind(c),i.catch=c.then.bind(c,void 0),i}(this._delegate,e),i=r.then(c=>new ma(this.database,c));t&&i.then(()=>t(null),c=>t(c));const u=new ma(this.database,r);return u.then=i.then.bind(i),u.catch=i.catch.bind(i,void 0),u}onDisconnect(){return nu("Reference.onDisconnect",this._delegate._path),new BZ(new kj(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class TI{constructor(e,t){this._delegate=e,this.app=t,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:CZ,forceLongPolling:DZ}}useEmulator(e,t,r={}){!function zj(n,e,t,r={}){(n=(0,q.m9)(n))._checkNotDeleted("useEmulator"),n._instanceStarted&&Ka("Cannot call useEmulator() after instance has already been initialized.");const i=n._repoInternal;let u;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&Ka('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),u=new Ug(Ug.OWNER);else if(r.mockUserToken){const c="string"==typeof r.mockUserToken?r.mockUserToken:(0,q.Sg)(r.mockUserToken,n.app.options.projectId);u=new Ug(c)}!function vZ(n,e,t,r){n.repoInfo_=new Vg(`${e}:${t}`,!1,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams),r&&(n.authTokenProvider_=r)}(i,e,t,u)}(this._delegate,e,t,r)}ref(e){if((0,q.Dv)("database.ref",0,1,arguments.length),e instanceof ma){const t=Pj(this._delegate,e.toString());return new ma(this,t)}{const t=Oj(this._delegate,e);return new ma(this,t)}}refFromURL(e){(0,q.Dv)("database.refFromURL",1,1,arguments.length);const r=Pj(this._delegate,e);return new ma(this,r)}goOffline(){return(0,q.Dv)("database.goOffline",0,0,arguments.length),function TZ(n){(n=(0,q.m9)(n))._checkNotDeleted("goOffline"),Sj(n._repo)}(this._delegate)}goOnline(){return(0,q.Dv)("database.goOnline",0,0,arguments.length),function SZ(n){(n=(0,q.m9)(n))._checkNotDeleted("goOnline"),function Vq(n){n.persistentConnection_&&n.persistentConnection_.resume(bj)}(n._repo)}(this._delegate)}}TI.ServerValue={TIMESTAMP:function MZ(){return NZ}(),increment:n=>function RZ(n){return{".sv":{increment:n}}}(n)};var HZ=Object.freeze({__proto__:null,initStandalone:function $Z({app:n,url:e,version:t,customAuthImpl:r,namespace:i,nodeAdmin:u=!1}){VA(t);const c=new zu.zt("auth-internal",new zu.H0("database-standalone"));return c.setComponent(new zu.wA("auth-internal",()=>r,"PRIVATE")),{instance:new TI(Gj(n,c,void 0,e,u),n),namespace:i}}});const GZ=TI.ServerValue;function Zj(n){return null==n}function Kj(n){return"function"==typeof n.set}function Yj(n,e){return Kj(e)?e:n.ref(e)}function Qj(n,e){if(function zZ(n){return"string"==typeof n}(n))return e.stringCase();if(Kj(n))return e.firebaseCase();if(function qZ(n){return"function"==typeof n.exportVal}(n))return e.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof n)}function SI(n,e,t="on",r=Ab.z){return new Xs.y(i=>{let u=null;return u=n[t](e,(c,p)=>{r.schedule(()=>{i.next({snapshot:c,prevKey:p})}),"once"===t&&r.schedule(()=>i.complete())},c=>{r.schedule(()=>i.error(c))}),"on"===t?{unsubscribe(){null!=u&&n.off(e,u)}}:{unsubscribe(){}}}).pipe((0,At.U)(i=>{const{snapshot:u,prevKey:c}=i;let p=null;return u.exists()&&(p=u.key),{type:e,payload:u,prevKey:c,key:p}}),(0,tA.B)())}function Jj(n,e){const t=n.length;for(let r=0;r<t;r++)if(n[r].payload.key===e)return r;return-1}function YZ(n,e){const{payload:t,prevKey:r,key:i}=e,u=Jj(n,i),c=function KZ(n,e){if(Zj(e))return 0;{const t=Jj(n,e);return-1===t?n.length:t+1}}(n,r);switch(e.type){case"value":if(e.payload&&e.payload.exists()){let p=null;e.payload.forEach(v=>{const I={payload:v,type:"value",prevKey:p,key:v.key};return p=v.key,n=[...n,I],!1})}return n;case"child_added":if(u>-1){const p=n[u-1];(p&&p.key||null)!==r&&(n=n.filter(v=>v.payload.key!==t.key)).splice(c,0,e)}else{if(null==r)return[e,...n];(n=n.slice()).splice(c,0,e)}return n;case"child_removed":return n.filter(p=>p.payload.key!==t.key);case"child_changed":return n.map(p=>p.payload.key===i?e:p);case"child_moved":if(u>-1){const p=n.splice(u,1)[0];return(n=n.slice()).splice(c,0,p),n}return n;default:return n}}function Xj(n){return(Zj(n)||0===n.length)&&(n=["child_added","child_removed","child_changed","child_moved"]),n}function e$(n,e,t){return function ZZ(n,e,t){return SI(n,"value","once",t).pipe(ir(r=>{const i=[Dt(r)];return e.forEach(u=>i.push(SI(n,u,"on",t))),(0,zE.T)(...i).pipe(Ru(YZ,[]))}),_d())}(n,e=Xj(e),t)}function t$(n,e,t){const r=(e=Xj(e)).map(i=>SI(n,i,"on",t));return(0,zE.T)(...r)}function n$(n,e){return function(r,i){return Qj(r,{stringCase:()=>n.child(r)[e](i),firebaseCase:()=>r[e](i),snapshotCase:()=>r.ref[e](i)})}}function eK(n){return function(t){return t?Qj(t,{stringCase:()=>n.child(t).remove(),firebaseCase:()=>t.remove(),snapshotCase:()=>t.ref.remove()}):n.remove()}}function r$(n,e){return function(){return SI(n,"value","on",e)}}!function WZ(n){n.INTERNAL.registerComponent(new zu.wA("database-compat",(e,{instanceIdentifier:t})=>{const r=e.getProvider("app-compat").getImmediate(),i=e.getProvider("database").getImmediate({identifier:t});return new TI(i,r)},"PUBLIC").setServiceProps({Reference:ma,Query:Fs,Database:TI,DataSnapshot:Af,enableLogging:AZ,INTERNAL:HZ,ServerValue:GZ}).setMultipleInstances(!0)),n.registerVersion("@firebase/database-compat","0.2.10")}(XO.Z);const rK=new h.OlP("angularfire2.realtimeDatabaseURL"),iK=new h.OlP("angularfire2.database.use-emulator");let Sv=(()=>{class n{constructor(t,r,i,u,c,p,v,I,A,M,P,$,Q,le,ye){this.schedulers=p;const lt=v,dt=(0,Dr.on)(t,c,r);I&&mb(dt,c,A,P,$,Q,M,le),this.database=(0,Dr.cc)(`${dt.name}.database.${i}`,"AngularFireDatabase",dt.name,()=>{const wt=c.runOutsideAngular(()=>dt.database(i||void 0));return lt&&wt.useEmulator(...lt),wt},[lt])}list(t,r){const i=this.schedulers.ngZone.runOutsideAngular(()=>Yj(this.database,t));let u=i;return r&&(u=r(i)),function tK(n,e){const t=e.schedulers.outsideAngular,r=e.schedulers.ngZone.run(()=>n.ref);return{query:n,update:n$(r,"update"),set:n$(r,"set"),push:i=>r.push(i),remove:eK(r),snapshotChanges:i=>e$(n,i,t).pipe(_n.iC),stateChanges:i=>t$(n,i,t).pipe(_n.iC),auditTrail:i=>function QZ(n,e,t){return function XZ(n,e,t){return function JZ(n,e){return SI(n,"value","on",e).pipe((0,At.U)(t=>{let r;return t.payload.forEach(i=>(r=i.key,!1)),{data:t,lastKeyToLoad:r}}))}(n,t).pipe(function LA(...n){const e=(0,Oo.jO)(n);return(0,qr.e)((t,r)=>{const i=n.length,u=new Array(i);let c=n.map(()=>!1),p=!1;for(let v=0;v<i;v++)(0,xu.Xf)(n[v]).subscribe((0,Xr.x)(r,I=>{u[v]=I,!p&&!c[v]&&(c[v]=!0,(p=c.every(Au.y))&&(c=null))},C3.Z));t.subscribe((0,Xr.x)(r,v=>{if(p){const I=[v,...u];r.next(e?e(...I):I)}}))})}(e),(0,At.U)(([i,u])=>{const c=i.lastKeyToLoad,p=u.map(v=>v.key);return{actions:u,lastKeyToLoad:c,loadedKeys:p}}),function JO(n){return(0,qr.e)((e,t)=>{let r=!1,i=0;e.subscribe((0,Xr.x)(t,u=>(r||(r=!n(u,i++)))&&t.next(u)))})}(i=>-1===i.loadedKeys.indexOf(i.lastKeyToLoad)),(0,At.U)(i=>i.actions))}(n,t$(n,e).pipe(Ru((i,u)=>[...i,u],[])),t)}(n,i,t).pipe(_n.iC),valueChanges:(i,u)=>e$(n,i,t).pipe((0,At.U)(p=>p.map(v=>u&&u.idField?Object.assign(Object.assign({},v.payload.val()),{[u.idField]:v.key}):v.payload.val())),_n.iC)}}(u,this)}object(t){return function nK(n,e){return{query:n,snapshotChanges:()=>r$(n,e.schedulers.outsideAngular)().pipe(_n.iC),update:t=>n.ref.update(t),set:t=>n.ref.set(t),remove:()=>n.ref.remove(),valueChanges:()=>r$(n,e.schedulers.outsideAngular)().pipe(_n.iC,(0,At.U)(r=>r.payload.exists()?r.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>Yj(this.database,t)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(Dr.Dh),h.LFG(Dr.xv,8),h.LFG(rK,8),h.LFG(h.Lbi),h.LFG(h.R0b),h.LFG(_n.HU),h.LFG(iK,8),h.LFG(to,8),h.LFG(Mg,8),h.LFG(md,8),h.LFG(hb,8),h.LFG(fb,8),h.LFG(pb,8),h.LFG(gb,8),h.LFG(Ng,8))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),sK=(()=>{class n{constructor(){$t.Z.registerVersion("angularfire",_n.q4.full,"rtdb-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:[Sv]}),n})();var qt,oK=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ad={},aL=aL||{},vn=oK||self;function nx(){}function rx(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function AI(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var uL="closure_uid_"+(1e9*Math.random()>>>0),uK=0;function lK(n,e,t){return n.call.apply(n.bind,arguments)}function cK(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function ro(n,e,t){return(ro=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?lK:cK).apply(null,arguments)}function ix(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function Us(n,e){function t(){}t.prototype=e.prototype,n.X=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Wb=function(r,i,u){for(var c=Array(arguments.length-2),p=2;p<arguments.length;p++)c[p-2]=arguments[p];return e.prototype[i].apply(r,c)}}function xf(){this.s=this.s,this.o=this.o}xf.prototype.s=!1,xf.prototype.na=function(){!this.s&&(this.s=!0,this.M(),0)&&function aK(n){Object.prototype.hasOwnProperty.call(n,uL)&&n[uL]||(n[uL]=++uK)}(this)},xf.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const i$=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function lL(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function s$(n,e){for(let t=1;t<arguments.length;t++){const r=arguments[t];if(rx(r)){const i=n.length||0,u=r.length||0;n.length=i+u;for(let c=0;c<u;c++)n[i+c]=r[c]}else n.push(r)}}function io(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}io.prototype.h=function(){this.defaultPrevented=!0};var hK=function(){if(!vn.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{vn.addEventListener("test",nx,e),vn.removeEventListener("test",nx,e)}catch{}return n}();function sx(n){return/^[\s\xa0]*$/.test(n)}var o$=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function cL(n,e){return n<e?-1:n>e?1:0}function ox(){var n=vn.navigator;return n&&(n=n.userAgent)?n:""}function nc(n){return-1!=ox().indexOf(n)}function dL(n){return dL[" "](n),n}dL[" "]=nx;var ax,n,pK=nc("Opera"),Av=nc("Trident")||nc("MSIE"),a$=nc("Edge"),hL=a$||Av,u$=nc("Gecko")&&!(-1!=ox().toLowerCase().indexOf("webkit")&&!nc("Edge"))&&!(nc("Trident")||nc("MSIE"))&&!nc("Edge"),gK=-1!=ox().toLowerCase().indexOf("webkit")&&!nc("Edge");function l$(){var n=vn.document;return n?n.documentMode:void 0}e:{var fL="",pL=(n=ox(),u$?/rv:([^\);]+)(\)|;)/.exec(n):a$?/Edge\/([\d\.]+)/.exec(n):Av?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):gK?/WebKit\/(\S+)/.exec(n):pK?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(pL&&(fL=pL?pL[1]:""),Av){var gL=l$();if(null!=gL&&gL>parseFloat(fL)){ax=String(gL);break e}}ax=fL}var mK={};var yK=vn.document&&Av&&(l$()||parseInt(ax,10))||void 0;function xI(n,e){if(io.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(u$){e:{try{dL(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:vK[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&xI.X.h.call(this)}}Us(xI,io);var vK={2:"touch",3:"pen",4:"mouse"};xI.prototype.h=function(){xI.X.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var NI="closure_listenable_"+(1e6*Math.random()|0),wK=0;function EK(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.ha=i,this.key=++wK,this.ba=this.ea=!1}function ux(n){n.ba=!0,n.listener=null,n.proxy=null,n.src=null,n.ha=null}function _L(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function d$(n){const e={};for(const t in n)e[t]=n[t];return e}const h$="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function f$(n,e){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)n[t]=r[t];for(let u=0;u<h$.length;u++)t=h$[u],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function lx(n){this.src=n,this.g={},this.h=0}function yL(n,e){var t=e.type;if(t in n.g){var u,r=n.g[t],i=i$(r,e);(u=0<=i)&&Array.prototype.splice.call(r,i,1),u&&(ux(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function vL(n,e,t,r){for(var i=0;i<n.length;++i){var u=n[i];if(!u.ba&&u.listener==e&&u.capture==!!t&&u.ha==r)return i}return-1}lx.prototype.add=function(n,e,t,r,i){var u=n.toString();(n=this.g[u])||(n=this.g[u]=[],this.h++);var c=vL(n,e,r,i);return-1<c?(e=n[c],t||(e.ea=!1)):((e=new EK(e,this.src,u,!!r,i)).ea=t,n.push(e)),e};var wL="closure_lm_"+(1e6*Math.random()|0),EL={};function p$(n,e,t,r,i){if(r&&r.once)return m$(n,e,t,r,i);if(Array.isArray(e)){for(var u=0;u<e.length;u++)p$(n,e[u],t,r,i);return null}return t=DL(t),n&&n[NI]?n.N(e,t,AI(r)?!!r.capture:!!r,i):g$(n,e,t,!1,r,i)}function g$(n,e,t,r,i,u){if(!e)throw Error("Invalid event type");var c=AI(i)?!!i.capture:!!i,p=IL(n);if(p||(n[wL]=p=new lx(n)),(t=p.add(e,t,r,c,u)).proxy)return t;if(r=function bK(){const e=IK;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)hK||(i=c),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(y$(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function m$(n,e,t,r,i){if(Array.isArray(e)){for(var u=0;u<e.length;u++)m$(n,e[u],t,r,i);return null}return t=DL(t),n&&n[NI]?n.O(e,t,AI(r)?!!r.capture:!!r,i):g$(n,e,t,!0,r,i)}function _$(n,e,t,r,i){if(Array.isArray(e))for(var u=0;u<e.length;u++)_$(n,e[u],t,r,i);else r=AI(r)?!!r.capture:!!r,t=DL(t),n&&n[NI]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=vL(u=n.g[e],t,r,i))&&(ux(u[t]),Array.prototype.splice.call(u,t,1),0==u.length&&(delete n.g[e],n.h--))):n&&(n=IL(n))&&(e=n.g[e.toString()],n=-1,e&&(n=vL(e,t,r,i)),(t=-1<n?e[n]:null)&&bL(t))}function bL(n){if("number"!=typeof n&&n&&!n.ba){var e=n.src;if(e&&e[NI])yL(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(y$(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=IL(e))?(yL(t,n),0==t.h&&(t.src=null,e[wL]=null)):ux(n)}}}function y$(n){return n in EL?EL[n]:EL[n]="on"+n}function IK(n,e){if(n.ba)n=!0;else{e=new xI(e,this);var t=n.listener,r=n.ha||n.src;n.ea&&bL(n),n=t.call(r,e)}return n}function IL(n){return(n=n[wL])instanceof lx?n:null}var CL="__closure_events_fn_"+(1e9*Math.random()>>>0);function DL(n){return"function"==typeof n?n:(n[CL]||(n[CL]=function(e){return n.handleEvent(e)}),n[CL])}function bs(){xf.call(this),this.i=new lx(this),this.P=this,this.I=null}function Vs(n,e){var t,r=n.I;if(r)for(t=[];r;r=r.I)t.push(r);if(n=n.P,r=e.type||e,"string"==typeof e)e=new io(e,n);else if(e instanceof io)e.target=e.target||n;else{var i=e;f$(e=new io(r,n),i)}if(i=!0,t)for(var u=t.length-1;0<=u;u--){var c=e.g=t[u];i=cx(c,r,!0,e)&&i}if(i=cx(c=e.g=n,r,!0,e)&&i,i=cx(c,r,!1,e)&&i,t)for(u=0;u<t.length;u++)i=cx(c=e.g=t[u],r,!1,e)&&i}function cx(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,u=0;u<e.length;++u){var c=e[u];if(c&&!c.ba&&c.capture==t){var p=c.listener,v=c.ha||c.src;c.ea&&yL(n.i,c),i=!1!==p.call(v,r)&&i}}return i&&!r.defaultPrevented}Us(bs,xf),bs.prototype[NI]=!0,bs.prototype.removeEventListener=function(n,e,t,r){_$(this,n,e,t,r)},bs.prototype.M=function(){if(bs.X.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)ux(t[r]);delete n.g[e],n.h--}}this.I=null},bs.prototype.N=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},bs.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var TL=vn.JSON.stringify;function CK(){var n=E$;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var SL,v$=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new TK,n=>n.reset());class TK{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function SK(n){vn.setTimeout(()=>{throw n},0)}function w$(n,e){SL||function AK(){var n=vn.Promise.resolve(void 0);SL=function(){n.then(xK)}}(),AL||(SL(),AL=!0),E$.add(n,e)}var AL=!1,E$=new class DK{constructor(){this.h=this.g=null}add(e,t){const r=v$.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}};function xK(){for(var n;n=CK();){try{n.h.call(n.g)}catch(t){SK(t)}var e=v$;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}AL=!1}function dx(n,e){bs.call(this),this.h=n||1,this.g=e||vn,this.j=ro(this.lb,this),this.l=Date.now()}function xL(n){n.ca=!1,n.R&&(n.g.clearTimeout(n.R),n.R=null)}function NL(n,e,t){if("function"==typeof n)t&&(n=ro(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=ro(n.handleEvent,n)}return 2147483647<Number(e)?-1:vn.setTimeout(n,e||0)}function b$(n){n.g=NL(()=>{n.g=null,n.i&&(n.i=!1,b$(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Us(dx,bs),(qt=dx.prototype).ca=!1,qt.R=null,qt.lb=function(){if(this.ca){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-n):(this.R&&(this.g.clearTimeout(this.R),this.R=null),Vs(this,"tick"),this.ca&&(xL(this),this.start()))}},qt.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},qt.M=function(){dx.X.M.call(this),xL(this),delete this.g};class NK extends xf{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:b$(this)}M(){super.M(),this.g&&(vn.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function MI(n){xf.call(this),this.h=n,this.g={}}Us(MI,xf);var I$=[];function C$(n,e,t,r){Array.isArray(t)||(t&&(I$[0]=t.toString()),t=I$);for(var i=0;i<t.length;i++){var u=p$(e,t[i],r||n.handleEvent,!1,n.h||n);if(!u)break;n.g[u.key]=u}}function D$(n){_L(n.g,function(e,t){this.g.hasOwnProperty(t)&&bL(e)},n),n.g={}}function hx(){this.g=!0}function xv(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function OK(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var u=i[0];if("noop"!=u&&"stop"!=u&&"close"!=u)for(var c=1;c<i.length;c++)i[c]=""}}}return TL(t)}catch{return e}}(n,t)+(r?" "+r:"")})}MI.prototype.M=function(){MI.X.M.call(this),D$(this)},MI.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},hx.prototype.Aa=function(){this.g=!1},hx.prototype.info=function(){};var Xg={},T$=null;function fx(){return T$=T$||new bs}function S$(n){io.call(this,Xg.Pa,n)}function RI(n){const e=fx();Vs(e,new S$(e))}function A$(n,e){io.call(this,Xg.STAT_EVENT,n),this.stat=e}function mo(n){const e=fx();Vs(e,new A$(e,n))}function x$(n,e){io.call(this,Xg.Qa,n),this.size=e}function kI(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return vn.setTimeout(function(){n()},e)}Xg.Pa="serverreachability",Us(S$,io),Xg.STAT_EVENT="statevent",Us(A$,io),Xg.Qa="timingevent",Us(x$,io);var px={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},N$={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function ML(){}function R$(){}ML.prototype.h=null;var OL,OI={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function RL(){io.call(this,"d")}function kL(){io.call(this,"c")}function gx(){}function PI(n,e,t,r){this.l=n,this.j=e,this.m=t,this.U=r||1,this.S=new MI(this),this.O=PK,this.T=new dx(n=hL?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new k$}function k$(){this.i=null,this.g="",this.h=!1}Us(RL,io),Us(kL,io),Us(gx,ML),gx.prototype.g=function(){return new XMLHttpRequest},gx.prototype.i=function(){return{}},OL=new gx;var PK=45e3,PL={},mx={};function LL(n,e,t){n.K=1,n.v=wx(xd(e)),n.s=t,n.P=!0,O$(n,null)}function O$(n,e){n.F=Date.now(),LI(n),n.A=xd(n.v);var t=n.A,r=n.U;Array.isArray(r)||(r=[String(r)]),G$(t.i,"t",r),n.C=0,t=n.l.H,n.h=new k$,n.g=p6(n.l,t?e:null,!n.s),0<n.N&&(n.L=new NK(ro(n.La,n,n.g),n.N)),C$(n.S,n.g,"readystatechange",n.ib),e=n.H?d$(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.da(n.A,n.u,n.s,e)):(n.u="GET",n.g.da(n.A,n.u,null,e)),RI(),function MK(n,e,t,r,i,u){n.info(function(){if(n.g)if(u)for(var c="",p=u.split("&"),v=0;v<p.length;v++){var I=p[v].split("=");if(1<I.length){var A=I[0];I=I[1];var M=A.split("_");c=2<=M.length&&"type"==M[1]?c+(A+"=")+I+"&":c+(A+"=redacted&")}}else c=null;else c=u;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+c})}(n.j,n.u,n.A,n.m,n.U,n.s)}function P$(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Da}function L$(n,e,t){let i,r=!0;for(;!n.I&&n.C<t.length;){if(i=LK(n,t),i==mx){4==e&&(n.o=4,mo(14),r=!1),xv(n.j,n.m,null,"[Incomplete Response]");break}if(i==PL){n.o=4,mo(15),xv(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}xv(n.j,n.m,i,null),FL(n,i)}P$(n)&&i!=mx&&i!=PL&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,mo(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.$&&(n.$=!0,(e=n.l).g==n&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+t.length),WL(e),e.K=!0,mo(11))):(xv(n.j,n.m,t,"[Invalid Chunked Response]"),em(n),FI(n))}function LK(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?mx:(t=Number(e.substring(t,r)),isNaN(t)?PL:(r+=1)+t>e.length?mx:(e=e.substr(r,t),n.C=r+t,e))}function LI(n){n.V=Date.now()+n.O,F$(n,n.O)}function F$(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=kI(ro(n.gb,n),e)}function _x(n){n.B&&(vn.clearTimeout(n.B),n.B=null)}function FI(n){0==n.l.G||n.I||c6(n.l,n)}function em(n){_x(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,xL(n.T),D$(n.S),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function FL(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||UL(t.h,n)))if(!n.J&&UL(t.h,n)&&3==t.G){try{var r=t.Fa.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!t.u){if(t.g){if(!(t.g.F+3e3<n.F))break e;Tx(t),Cx(t)}GL(t),mo(18)}}else t.Ba=i[1],0<t.Ba-t.T&&37500>i[2]&&t.L&&0==t.A&&!t.v&&(t.v=kI(ro(t.cb,t),6e3));if(1>=q$(t.h)&&t.ja){try{t.ja()}catch{}t.ja=void 0}}else nm(t,11)}else if((n.J||t.g==n)&&Tx(t),!sx(e))for(i=t.Fa.g.parse(e),e=0;e<i.length;e++){let I=i[e];if(t.T=I[0],I=I[1],2==t.G)if("c"==I[0]){t.I=I[1],t.ka=I[2];const A=I[3];null!=A&&(t.ma=A,t.j.info("VER="+t.ma));const M=I[4];null!=M&&(t.Ca=M,t.j.info("SVER="+t.Ca));const P=I[5];null!=P&&"number"==typeof P&&0<P&&(t.J=r=1.5*P,t.j.info("backChannelRequestTimeoutMs_="+r)),r=t;const $=n.g;if($){const Q=$.g?$.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Q){var u=r.h;u.g||-1==Q.indexOf("spdy")&&-1==Q.indexOf("quic")&&-1==Q.indexOf("h2")||(u.j=u.l,u.g=new Set,u.h&&(VL(u,u.h),u.h=null))}if(r.D){const le=$.g?$.g.getResponseHeader("X-HTTP-Session-Id"):null;le&&(r.za=le,ai(r.F,r.D,le))}}t.G=3,t.l&&t.l.xa(),t.$&&(t.P=Date.now()-n.F,t.j.info("Handshake RTT: "+t.P+"ms"));var c=n;if((r=t).sa=f6(r,r.H?r.ka:null,r.V),c.J){Z$(r.h,c);var p=c,v=r.J;v&&p.setTimeout(v),p.B&&(_x(p),LI(p)),r.g=c}else u6(r);0<t.i.length&&Dx(t)}else"stop"!=I[0]&&"close"!=I[0]||nm(t,7);else 3==t.G&&("stop"==I[0]||"close"==I[0]?"stop"==I[0]?nm(t,7):HL(t):"noop"!=I[0]&&t.l&&t.l.wa(I),t.A=0)}RI()}catch{}}function U$(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(rx(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function UK(n){if(n.oa&&"function"==typeof n.oa)return n.oa();if(!n.W||"function"!=typeof n.W){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(rx(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const r in n)e[t++]=r;return e}}}(n),r=function FK(n){if(n.W&&"function"==typeof n.W)return n.W();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(rx(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),i=r.length,u=0;u<i;u++)e.call(void 0,r[u],t&&t[u],n)}(qt=PI.prototype).setTimeout=function(n){this.O=n},qt.ib=function(n){n=n.target;const e=this.L;e&&3==Nd(n)?e.l():this.La(n)},qt.La=function(n){try{if(n==this.g)e:{const A=Nd(this.g);var e=this.g.Ea();if(this.g.aa(),!(3>A)&&(3!=A||hL||this.g&&(this.h.h||this.g.fa()||n6(this.g)))){this.I||4!=A||7==e||RI(),_x(this);var t=this.g.aa();this.Y=t;t:if(P$(this)){var r=n6(this.g);n="";var i=r.length,u=4==Nd(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){em(this),FI(this);var c="";break t}this.h.i=new vn.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:u&&e==i-1});r.splice(0,i),this.h.g+=n,this.C=0,c=this.h.g}else c=this.g.fa();if(this.i=200==t,function RK(n,e,t,r,i,u,c){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+u+" "+c})}(this.j,this.u,this.A,this.m,this.U,A,t),this.i){if(this.Z&&!this.J){t:{if(this.g){var p,v=this.g;if((p=v.g?v.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!sx(p)){var I=p;break t}}I=null}if(!(t=I)){this.i=!1,this.o=3,mo(12),em(this),FI(this);break e}xv(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,FL(this,t)}this.P?(L$(this,A,c),hL&&this.i&&3==A&&(C$(this.S,this.T,"tick",this.hb),this.T.start())):(xv(this.j,this.m,c,null),FL(this,c)),4==A&&em(this),this.i&&!this.I&&(4==A?c6(this.l,this):(this.i=!1,LI(this)))}else 400==t&&0<c.indexOf("Unknown SID")?(this.o=3,mo(12)):(this.o=0,mo(13)),em(this),FI(this)}}}catch{}},qt.hb=function(){if(this.g){var n=Nd(this.g),e=this.g.fa();this.C<e.length&&(_x(this),L$(this,n,e),this.i&&4!=n&&LI(this))}},qt.cancel=function(){this.I=!0,em(this)},qt.gb=function(){this.B=null;const n=Date.now();0<=n-this.V?(function kK(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(RI(),mo(17)),em(this),this.o=2,FI(this)):F$(this,this.V-n)};var V$=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function tm(n,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof tm){this.h=void 0!==e?e:n.h,yx(this,n.j),this.s=n.s,this.g=n.g,vx(this,n.m),this.l=n.l,e=n.i;var t=new BI;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),B$(this,t),this.o=n.o}else n&&(t=String(n).match(V$))?(this.h=!!e,yx(this,t[1]||"",!0),this.s=UI(t[2]||""),this.g=UI(t[3]||"",!0),vx(this,t[4]),this.l=UI(t[5]||"",!0),B$(this,t[6]||"",!0),this.o=UI(t[7]||"")):(this.h=!!e,this.i=new BI(null,this.h))}function xd(n){return new tm(n)}function yx(n,e,t){n.j=t?UI(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function vx(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function B$(n,e,t){e instanceof BI?(n.i=e,function WK(n,e){e&&!n.j&&(Nf(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&($$(this,r),G$(this,i,t))},n)),n.j=e}(n.i,n.h)):(t||(e=VI(e,HK)),n.i=new BI(e,n.h))}function ai(n,e,t){n.i.set(e,t)}function wx(n){return ai(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function UI(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function VI(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,BK),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function BK(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}tm.prototype.toString=function(){var n=[],e=this.j;e&&n.push(VI(e,j$,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(VI(e,j$,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(VI(t,"/"==t.charAt(0)?$K:jK,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",VI(t,GK)),n.join("")};var j$=/[#\/\?@]/g,jK=/[#\?:]/g,$K=/[#\?]/g,HK=/[#\?@]/g,GK=/#/g;function BI(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function Nf(n){n.g||(n.g=new Map,n.h=0,n.i&&function VK(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var u=n[t].substring(0,r);i=n[t].substring(r+1)}else u=n[t];e(u,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function $$(n,e){Nf(n),e=Nv(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function H$(n,e){return Nf(n),e=Nv(n,e),n.g.has(e)}function G$(n,e,t){$$(n,e),0<t.length&&(n.i=null,n.g.set(Nv(n,e),lL(t)),n.h+=t.length)}function Nv(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function W$(n){this.l=n||qK,n=vn.PerformanceNavigationTiming?0<(n=vn.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(vn.g&&vn.g.Ga&&vn.g.Ga()&&vn.g.Ga().$b),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(qt=BI.prototype).add=function(n,e){Nf(this),this.i=null,n=Nv(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},qt.forEach=function(n,e){Nf(this),this.g.forEach(function(t,r){t.forEach(function(i){n.call(e,i,r,this)},this)},this)},qt.oa=function(){Nf(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let r=0;r<e.length;r++){const i=n[r];for(let u=0;u<i.length;u++)t.push(e[r])}return t},qt.W=function(n){Nf(this);let e=[];if("string"==typeof n)H$(this,n)&&(e=e.concat(this.g.get(Nv(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},qt.set=function(n,e){return Nf(this),this.i=null,H$(this,n=Nv(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},qt.get=function(n,e){return n&&0<(n=this.W(n)).length?String(n[0]):e},qt.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var r=e[t];const u=encodeURIComponent(String(r)),c=this.W(r);for(r=0;r<c.length;r++){var i=u;""!==c[r]&&(i+="="+encodeURIComponent(String(c[r]))),n.push(i)}}return this.i=n.join("&")};var qK=10;function z$(n){return!!n.h||!!n.g&&n.g.size>=n.j}function q$(n){return n.h?1:n.g?n.g.size:0}function UL(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function VL(n,e){n.g?n.g.add(e):n.h=e}function Z$(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function K$(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return lL(n.i)}function BL(){}function ZK(){this.g=new BL}function KK(n,e,t){const r=t||"";try{U$(n,function(i,u){let c=i;AI(i)&&(c=TL(i)),e.push(r+u+"="+encodeURIComponent(c))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function Ex(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function jI(n){this.l=n.ac||null,this.j=n.jb||!1}function bx(n,e){bs.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=jL,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}W$.prototype.cancel=function(){if(this.i=K$(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},BL.prototype.stringify=function(n){return vn.JSON.stringify(n,void 0)},BL.prototype.parse=function(n){return vn.JSON.parse(n,void 0)},Us(jI,ML),jI.prototype.g=function(){return new bx(this.l,this.j)},jI.prototype.i=function(n){return function(){return n}}({}),Us(bx,bs);var jL=0;function Y$(n){n.j.read().then(n.Ta.bind(n)).catch(n.ga.bind(n))}function $I(n){n.readyState=4,n.l=null,n.j=null,n.A=null,HI(n)}function HI(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(qt=bx.prototype).open=function(n,e){if(this.readyState!=jL)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,HI(this)},qt.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||vn).fetch(new Request(this.B,e)).then(this.Wa.bind(this),this.ga.bind(this))},qt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,$I(this)),this.readyState=jL},qt.Wa=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,HI(this)),this.g&&(this.readyState=3,HI(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(typeof vn.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Y$(this)}else n.text().then(this.Va.bind(this),this.ga.bind(this))},qt.Ta=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?$I(this):HI(this),3==this.readyState&&Y$(this)}},qt.Va=function(n){this.g&&(this.response=this.responseText=n,$I(this))},qt.Ua=function(n){this.g&&(this.response=n,$I(this))},qt.ga=function(){this.g&&$I(this)},qt.setRequestHeader=function(n,e){this.v.append(n,e)},qt.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},qt.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(bx.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var QK=vn.JSON.parse;function Di(n){bs.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Q$,this.K=this.L=!1}Us(Di,bs);var Q$="",JK=/^https?$/i,XK=["POST","PUT"];function J$(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,X$(n),Ix(n)}function X$(n){n.D||(n.D=!0,Vs(n,"complete"),Vs(n,"error"))}function e6(n){if(n.h&&typeof aL<"u"&&(!n.C[1]||4!=Nd(n)||2!=n.aa()))if(n.v&&4==Nd(n))NL(n.Ha,0,n);else if(Vs(n,"readystatechange"),4==Nd(n)){n.h=!1;try{const p=n.aa();e:switch(p){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===p){var i=String(n.H).match(V$)[1]||null;if(!i&&vn.self&&vn.self.location){var u=vn.self.location.protocol;i=u.substr(0,u.length-1)}r=!JK.test(i?i.toLowerCase():"")}t=r}if(t)Vs(n,"complete"),Vs(n,"success");else{n.m=6;try{var c=2<Nd(n)?n.g.statusText:""}catch{c=""}n.j=c+" ["+n.aa()+"]",X$(n)}}finally{Ix(n)}}}function Ix(n,e){if(n.g){t6(n);const t=n.g,r=n.C[0]?nx:null;n.g=null,n.C=null,e||Vs(n,"ready");try{t.onreadystatechange=r}catch{}}}function t6(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(vn.clearTimeout(n.A),n.A=null)}function Nd(n){return n.g?n.g.readyState:0}function n6(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case Q$:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function r6(n){let e="";return _L(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}function $L(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=r6(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):ai(n,e,t))}function GI(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function i6(n){this.Ca=0,this.i=[],this.j=new hx,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=GI("failFast",!1,n),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=GI("baseRetryDelayMs",5e3,n),this.bb=GI("retryDelaySeedMs",1e4,n),this.$a=GI("forwardChannelMaxRetries",2,n),this.ta=GI("forwardChannelRequestTimeoutMs",2e4,n),this.ra=n&&n.xmlHttpFactory||void 0,this.Da=n&&n.Zb||!1,this.J=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.I="",this.h=new W$(n&&n.concurrentRequestLimit),this.Fa=new ZK,this.O=n&&n.fastHandshake||!1,this.N=n&&n.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=n&&n.Xb||!1,n&&n.Aa&&this.j.Aa(),n&&n.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&n&&n.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function HL(n){if(s6(n),3==n.G){var e=n.U++,t=xd(n.F);ai(t,"SID",n.I),ai(t,"RID",e),ai(t,"TYPE","terminate"),WI(n,t),(e=new PI(n,n.j,e,void 0)).K=2,e.v=wx(xd(t)),t=!1,vn.navigator&&vn.navigator.sendBeacon&&(t=vn.navigator.sendBeacon(e.v.toString(),"")),!t&&vn.Image&&((new Image).src=e.v,t=!0),t||(e.g=p6(e.l,null),e.g.da(e.v)),e.F=Date.now(),LI(e)}h6(n)}function Cx(n){n.g&&(WL(n),n.g.cancel(),n.g=null)}function s6(n){Cx(n),n.u&&(vn.clearTimeout(n.u),n.u=null),Tx(n),n.h.cancel(),n.m&&("number"==typeof n.m&&vn.clearTimeout(n.m),n.m=null)}function Dx(n){z$(n.h)||n.m||(n.m=!0,w$(n.Ja,n),n.C=0)}function o6(n,e){var t;t=e?e.m:n.U++;const r=xd(n.F);ai(r,"SID",n.I),ai(r,"RID",t),ai(r,"AID",n.T),WI(n,r),n.o&&n.s&&$L(r,n.o,n.s),t=new PI(n,n.j,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.i=e.D.concat(n.i)),e=a6(n,t,1e3),t.setTimeout(Math.round(.5*n.ta)+Math.round(.5*n.ta*Math.random())),VL(n.h,t),LL(t,r,e)}function WI(n,e){n.ia&&_L(n.ia,function(t,r){ai(e,r,t)}),n.l&&U$({},function(t,r){ai(e,r,t)})}function a6(n,e,t){t=Math.min(n.i.length,t);var r=n.l?ro(n.l.Ra,n.l,n):null;e:{var i=n.i;let u=-1;for(;;){const c=["count="+t];-1==u?0<t?(u=i[0].h,c.push("ofs="+u)):u=0:c.push("ofs="+u);let p=!0;for(let v=0;v<t;v++){let I=i[v].h;const A=i[v].g;if(I-=u,0>I)u=Math.max(0,i[v].h-100),p=!1;else try{KK(A,c,"req"+I+"_")}catch{r&&r(A)}}if(p){r=c.join("&");break e}}}return n=n.i.splice(0,t),e.D=n,r}function u6(n){n.g||n.u||(n.Z=1,w$(n.Ia,n),n.A=0)}function GL(n){return!(n.g||n.u||3<=n.A||(n.Z++,n.u=kI(ro(n.Ia,n),d6(n,n.A)),n.A++,0))}function WL(n){null!=n.B&&(vn.clearTimeout(n.B),n.B=null)}function l6(n){n.g=new PI(n,n.j,"rpc",n.Z),null===n.o&&(n.g.H=n.s),n.g.N=0;var e=xd(n.sa);ai(e,"RID","rpc"),ai(e,"SID",n.I),ai(e,"CI",n.L?"0":"1"),ai(e,"AID",n.T),ai(e,"TYPE","xmlhttp"),WI(n,e),n.o&&n.s&&$L(e,n.o,n.s),n.J&&n.g.setTimeout(n.J);var t=n.g;n=n.ka,t.K=1,t.v=wx(xd(e)),t.s=null,t.P=!0,O$(t,n)}function Tx(n){null!=n.v&&(vn.clearTimeout(n.v),n.v=null)}function c6(n,e){var t=null;if(n.g==e){Tx(n),WL(n),n.g=null;var r=2}else{if(!UL(n.h,e))return;t=e.D,Z$(n.h,e),r=1}if(0!=n.G)if(n.pa=e.Y,e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.F;var i=n.C;Vs(r=fx(),new x$(r,t)),Dx(n)}else u6(n);else if(3==(i=e.o)||0==i&&0<n.pa||!(1==r&&function tY(n,e){return!(q$(n.h)>=n.h.j-(n.m?1:0)||(n.m?(n.i=e.D.concat(n.i),0):1==n.G||2==n.G||n.C>=(n.Za?0:n.$a)||(n.m=kI(ro(n.Ja,n,e),d6(n,n.C)),n.C++,0)))}(n,e)||2==r&&GL(n)))switch(t&&0<t.length&&(e=n.h,e.i=e.i.concat(t)),i){case 1:nm(n,5);break;case 4:nm(n,10);break;case 3:nm(n,6);break;default:nm(n,2)}}function d6(n,e){let t=n.Xa+Math.floor(Math.random()*n.bb);return n.l||(t*=2),t*e}function nm(n,e){if(n.j.info("Error code "+e),2==e){var t=null;n.l&&(t=null);var r=ro(n.kb,n);t||(t=new tm("//www.google.com/images/cleardot.gif"),vn.location&&"http"==vn.location.protocol||yx(t,"https"),wx(t)),function YK(n,e){const t=new hx;if(vn.Image){const r=new Image;r.onload=ix(Ex,t,r,"TestLoadImage: loaded",!0,e),r.onerror=ix(Ex,t,r,"TestLoadImage: error",!1,e),r.onabort=ix(Ex,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=ix(Ex,t,r,"TestLoadImage: timeout",!1,e),vn.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else mo(2);n.G=0,n.l&&n.l.va(e),h6(n),s6(n)}function h6(n){if(n.G=0,n.la=[],n.l){const e=K$(n.h);(0!=e.length||0!=n.i.length)&&(s$(n.la,e),s$(n.la,n.i),n.h.i.length=0,lL(n.i),n.i.length=0),n.l.ua()}}function f6(n,e,t){var r=t instanceof tm?xd(t):new tm(t,void 0);if(""!=r.g)e&&(r.g=e+"."+r.g),vx(r,r.m);else{var i=vn.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var u=new tm(null,void 0);r&&yx(u,r),e&&(u.g=e),i&&vx(u,i),t&&(u.l=t),r=u}return e=n.za,(t=n.D)&&e&&ai(r,t,e),ai(r,"VER",n.ma),WI(n,r),r}function p6(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Di(t&&n.Da&&!n.ra?new jI({jb:!0}):n.ra)).Ka(n.H),e}function g6(){}function Sx(){if(Av&&!(10<=Number(yK)))throw Error("Environmental error: no available transport.")}function _a(n,e){bs.call(this),this.g=new i6(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.S=n,(n=e&&e.Yb)&&!sx(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!sx(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new Mv(this)}function m6(n){RL.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function _6(){kL.call(this),this.status=1}function Mv(n){this.g=n}(qt=Di.prototype).Ka=function(n){this.L=n},qt.da=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():OL.g(),this.C=function M$(n){return n.h||(n.h=n.i())}(this.u?this.u:OL),this.g.onreadystatechange=ro(this.Ha,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(u){return void J$(this,u)}if(n=t||"",t=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)t.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const u of r.keys())t.set(u,r.get(u))}r=Array.from(t.keys()).find(u=>"content-type"==u.toLowerCase()),i=vn.FormData&&n instanceof vn.FormData,!(0<=i$(XK,e))||r||i||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[u,c]of t)this.g.setRequestHeader(u,c);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{t6(this),0<this.B&&((this.K=function eY(n){return Av&&function _K(){return function fK(n){var e=mK;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=o$(String(ax)).split("."),t=o$("9").split("."),r=Math.max(e.length,t.length);for(let c=0;0==n&&c<r;c++){var i=e[c]||"",u=t[c]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],u=/(\d*)(\D*)(.*)/.exec(u)||["","","",""],0==i[0].length&&0==u[0].length)break;n=cL(0==i[1].length?0:parseInt(i[1],10),0==u[1].length?0:parseInt(u[1],10))||cL(0==i[2].length,0==u[2].length)||cL(i[2],u[2]),i=i[3],u=u[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=ro(this.qa,this)):this.A=NL(this.qa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(u){J$(this,u)}},qt.qa=function(){typeof aL<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Vs(this,"timeout"),this.abort(8))},qt.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Vs(this,"complete"),Vs(this,"abort"),Ix(this))},qt.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Ix(this,!0)),Di.X.M.call(this)},qt.Ha=function(){this.s||(this.F||this.v||this.l?e6(this):this.fb())},qt.fb=function(){e6(this)},qt.aa=function(){try{return 2<Nd(this)?this.g.status:-1}catch{return-1}},qt.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}},qt.Sa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),QK(e)}},qt.Ea=function(){return this.m},qt.Oa=function(){return"string"==typeof this.j?this.j:String(this.j)},(qt=i6.prototype).ma=8,qt.G=1,qt.Ja=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.U=Math.floor(1e5*Math.random()),n=this.U++;const i=new PI(this,this.j,n,void 0);let u=this.s;if(this.S&&(u?(u=d$(u),f$(u,this.S)):u=this.S),null!==this.o||this.N||(i.H=u,u=null),this.O)e:{for(var e=0,t=0;t<this.i.length;t++){var r=this.i[t];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.i.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=a6(this,i,e),ai(t=xd(this.F),"RID",n),ai(t,"CVER",22),this.D&&ai(t,"X-HTTP-Session-Id",this.D),WI(this,t),u&&(this.N?e="headers="+encodeURIComponent(String(r6(u)))+"&"+e:this.o&&$L(t,this.o,u)),VL(this.h,i),this.Ya&&ai(t,"TYPE","init"),this.O?(ai(t,"$req",e),ai(t,"SID","null"),i.Z=!0,LL(i,t,null)):LL(i,t,e),this.G=2}}else 3==this.G&&(n?o6(this,n):0==this.i.length||z$(this.h)||o6(this))},qt.Ia=function(){if(this.u=null,l6(this),this.$&&!(this.K||null==this.g||0>=this.P)){var n=2*this.P;this.j.info("BP detection timer enabled: "+n),this.B=kI(ro(this.eb,this),n)}},qt.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,mo(10),Cx(this),l6(this))},qt.cb=function(){null!=this.v&&(this.v=null,Cx(this),GL(this),mo(19))},qt.kb=function(n){n?(this.j.info("Successfully pinged google.com"),mo(2)):(this.j.info("Failed to ping google.com"),mo(1))},(qt=g6.prototype).xa=function(){},qt.wa=function(){},qt.va=function(){},qt.ua=function(){},qt.Ra=function(){},Sx.prototype.g=function(n,e){return new _a(n,e)},Us(_a,bs),_a.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;mo(0),n.V=e,n.ia=t||{},n.L=n.Y,n.F=f6(n,null,n.V),Dx(n)},_a.prototype.close=function(){HL(this.g)},_a.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=TL(n),n=t);e.i.push(new class{constructor(n,e){this.h=n,this.g=e}}(e.ab++,n)),3==e.G&&Dx(e)},_a.prototype.M=function(){this.g.l=null,delete this.j,HL(this.g),delete this.g,_a.X.M.call(this)},Us(m6,RL),Us(_6,kL),Us(Mv,g6),Mv.prototype.xa=function(){Vs(this.g,"a")},Mv.prototype.wa=function(n){Vs(this.g,new m6(n))},Mv.prototype.va=function(n){Vs(this.g,new _6)},Mv.prototype.ua=function(){Vs(this.g,"b")},Sx.prototype.createWebChannel=Sx.prototype.g,_a.prototype.send=_a.prototype.u,_a.prototype.open=_a.prototype.m,_a.prototype.close=_a.prototype.close,px.NO_ERROR=0,px.TIMEOUT=8,px.HTTP_ERROR=6,N$.COMPLETE="complete",R$.EventType=OI,OI.OPEN="a",OI.CLOSE="b",OI.ERROR="c",OI.MESSAGE="d",bs.prototype.listen=bs.prototype.N,Di.prototype.listenOnce=Di.prototype.O,Di.prototype.getLastError=Di.prototype.Oa,Di.prototype.getLastErrorCode=Di.prototype.Ea,Di.prototype.getStatus=Di.prototype.aa,Di.prototype.getResponseJson=Di.prototype.Sa,Di.prototype.getResponseText=Di.prototype.fa,Di.prototype.send=Di.prototype.da,Di.prototype.setWithCredentials=Di.prototype.Ka;var nY=Ad.createWebChannelTransport=function(){return new Sx},rY=Ad.getStatEventTarget=function(){return fx()},zL=Ad.ErrorCode=px,iY=Ad.EventType=N$,sY=Ad.Event=Xg,y6=Ad.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},oY=Ad.FetchXmlHttpFactory=jI,Ax=Ad.WebChannel=R$,aY=Ad.XhrIo=Di;const v6="@firebase/firestore";class Is{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Is.UNAUTHENTICATED=new Is(null),Is.GOOGLE_CREDENTIALS=new Is("google-credentials-uid"),Is.FIRST_PARTY=new Is("first-party-uid"),Is.MOCK_USER=new Is("mock-user");let Rv="9.14.0";const Mf=new da.Yd("@firebase/firestore");function qL(){return Mf.logLevel}function ut(n,...e){if(Mf.logLevel<=da.in.DEBUG){const t=e.map(ZL);Mf.debug(`Firestore (${Rv}): ${n}`,...t)}}function Vi(n,...e){if(Mf.logLevel<=da.in.ERROR){const t=e.map(ZL);Mf.error(`Firestore (${Rv}): ${n}`,...t)}}function rm(n,...e){if(Mf.logLevel<=da.in.WARN){const t=e.map(ZL);Mf.warn(`Firestore (${Rv}): ${n}`,...t)}}function ZL(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function Lt(n="Unexpected state"){const e=`FIRESTORE (${Rv}) INTERNAL ASSERTION FAILED: `+n;throw Vi(e),new Error(e)}function on(n,e){n||Lt()}function Ct(n,e){return n}const Pe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class nt extends q.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ls{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class w6{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class cY{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Is.UNAUTHENTICATED))}shutdown(){}}class dY{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class hY{constructor(e){this.t=e,this.currentUser=Is.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let i=this.i;const u=I=>this.i!==i?(i=this.i,t(I)):Promise.resolve();let c=new ls;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new ls,e.enqueueRetryable(()=>u(this.currentUser))};const p=()=>{const I=c;e.enqueueRetryable((0,ke.Z)(function*(){yield I.promise,yield u(r.currentUser)}))},v=I=>{ut("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=I,this.auth.addAuthTokenListener(this.o),p()};this.t.onInit(I=>v(I)),setTimeout(()=>{if(!this.auth){const I=this.t.getImmediate({optional:!0});I?v(I):(ut("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new ls)}},0),p()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(ut("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(on("string"==typeof r.accessToken),new w6(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return on(null===e||"string"==typeof e),new Is(e)}}class fY{constructor(e,t,r,i){this.h=e,this.l=t,this.m=r,this.g=i,this.type="FirstParty",this.user=Is.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(on(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class pY{constructor(e,t,r,i){this.h=e,this.l=t,this.m=r,this.g=i}getToken(){return Promise.resolve(new fY(this.h,this.l,this.m,this.g))}start(e,t){e.enqueueRetryable(()=>t(Is.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class E6{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class gY{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,t){const r=u=>{null!=u.error&&ut("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const c=u.token!==this.A;return this.A=u.token,ut("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>r(u))};const i=u=>{ut("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.appCheck.addTokenListener(this.o)};this.T.onInit(u=>i(u)),setTimeout(()=>{if(!this.appCheck){const u=this.T.getImmediate({optional:!0});u?i(u):ut("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(on("string"==typeof t.token),this.A=t.token,new E6(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function mY(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class b6{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=mY(40);for(let u=0;u<i.length;++u)r.length<20&&i[u]<t&&(r+=e.charAt(i[u]%e.length))}return r}}function wn(n,e){return n<e?-1:n>e?1:0}function kv(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}function I6(n){return n+"\0"}class ui{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new nt(Pe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new nt(Pe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new nt(Pe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new nt(Pe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return ui.fromMillis(Date.now())}static fromDate(e){return ui.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new ui(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?wn(this.nanoseconds,e.nanoseconds):wn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class an{constructor(e){this.timestamp=e}static fromTimestamp(e){return new an(e)}static min(){return new an(new ui(0,0))}static max(){return new an(new ui(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class zI{constructor(e,t,r){void 0===t?t=0:t>e.length&&Lt(),void 0===r?r=e.length-t:r>e.length-t&&Lt(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===zI.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof zI?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const u=e.get(i),c=t.get(i);if(u<c)return-1;if(u>c)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class nr extends zI{construct(e,t,r){return new nr(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new nt(Pe.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new nr(t)}static emptyPath(){return new nr([])}}const _Y=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ti extends zI{construct(e,t,r){return new Ti(e,t,r)}static isValidIdentifier(e){return _Y.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ti.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Ti(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const u=()=>{if(0===r.length)throw new nt(Pe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let c=!1;for(;i<e.length;){const p=e[i];if("\\"===p){if(i+1===e.length)throw new nt(Pe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const v=e[i+1];if("\\"!==v&&"."!==v&&"`"!==v)throw new nt(Pe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=v,i+=2}else"`"===p?(c=!c,i++):"."!==p||c?(r+=p,i++):(u(),i++)}if(u(),c)throw new nt(Pe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ti(t)}static emptyPath(){return new Ti([])}}class bt{constructor(e){this.path=e}static fromPath(e){return new bt(nr.fromString(e))}static fromName(e){return new bt(nr.fromString(e).popFirst(5))}static empty(){return new bt(nr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===nr.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return nr.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new bt(new nr(e.slice()))}}class xx{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}}function KL(n){return n.fields.find(e=>2===e.kind)}function im(n){return n.fields.filter(e=>2!==e.kind)}xx.UNKNOWN_ID=-1;class Nx{constructor(e,t){this.fieldPath=e,this.kind=t}}class qI{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new qI(0,ya.min())}}function C6(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=an.fromTimestamp(1e9===r?new ui(t+1,0):new ui(t,r));return new ya(i,bt.empty(),e)}function D6(n){return new ya(n.readTime,n.key,-1)}class ya{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new ya(an.min(),bt.empty(),-1)}static max(){return new ya(an.max(),bt.empty(),-1)}}function YL(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=bt.comparator(n.documentKey,e.documentKey),0!==t?t:wn(n.largestBatchId,e.largestBatchId))}const T6="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class S6{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Rf(n){return QL.apply(this,arguments)}function QL(){return QL=(0,ke.Z)(function*(n){if(n.code!==Pe.FAILED_PRECONDITION||n.message!==T6)throw n;ut("LocalStore","Unexpectedly lost primary lease")}),QL.apply(this,arguments)}class Ae{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Lt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Ae((r,i)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(r,i)},this.catchCallback=u=>{this.wrapFailure(t,u).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Ae?t:Ae.resolve(t)}catch(t){return Ae.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Ae.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Ae.reject(t)}static resolve(e){return new Ae((t,r)=>{t(e)})}static reject(e){return new Ae((t,r)=>{r(e)})}static waitFor(e){return new Ae((t,r)=>{let i=0,u=0,c=!1;e.forEach(p=>{++i,p.next(()=>{++u,c&&u===i&&t()},v=>r(v))}),c=!0,u===i&&t()})}static or(e){let t=Ae.resolve(!1);for(const r of e)t=t.next(i=>i?Ae.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,u)=>{r.push(t.call(this,i,u))}),this.waitFor(r)}static mapArray(e,t){return new Ae((r,i)=>{const u=e.length,c=new Array(u);let p=0;for(let v=0;v<u;v++){const I=v;t(e[I]).next(A=>{c[I]=A,++p,p===u&&r(c)},A=>i(A))}})}static doWhile(e,t){return new Ae((r,i)=>{const u=()=>{!0===e()?t().next(()=>{u()},i):r()};u()})}}class Mx{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.P=new ls,this.transaction.oncomplete=()=>{this.P.resolve()},this.transaction.onabort=()=>{t.error?this.P.reject(new ZI(e,t.error)):this.P.resolve()},this.transaction.onerror=r=>{const i=JL(r.target.error);this.P.reject(new ZI(e,i))}}static open(e,t,r,i){try{return new Mx(t,e.transaction(i,r))}catch(u){throw new ZI(t,u)}}get v(){return this.P.promise}abort(e){e&&this.P.reject(e),this.aborted||(ut("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}V(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new EY(t)}}class Ju{constructor(e,t,r){this.name=e,this.version=t,this.S=r,12.2===Ju.D((0,q.z$)())&&Vi("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return ut("SimpleDb","Removing database:",e),sm(window.indexedDB.deleteDatabase(e)).toPromise()}static C(){if(!(0,q.hl)())return!1;if(Ju.N())return!0;const e=(0,q.z$)(),t=Ju.D(e),r=0<t&&t<10,i=Ju.k(e),u=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||u)}static N(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.O)}static M(e,t){return e.store(t)}static D(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static k(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}F(e){var t=this;return(0,ke.Z)(function*(){return t.db||(ut("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,i)=>{const u=indexedDB.open(t.name,t.version);u.onsuccess=c=>{r(c.target.result)},u.onblocked=()=>{i(new ZI(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},u.onerror=c=>{const p=c.target.error;i("VersionError"===p.name?new nt(Pe.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===p.name?new nt(Pe.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+p):new ZI(e,p))},u.onupgradeneeded=c=>{ut("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',c.oldVersion),t.S.$(c.target.result,u.transaction,c.oldVersion,t.version).next(()=>{ut("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.B&&(t.db.onversionchange=r=>t.B(r)),t.db})()}L(e){this.B=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,i){var u=this;return(0,ke.Z)(function*(){const c="readonly"===t;let p=0;for(;;){++p;try{u.db=yield u.F(e);const v=Mx.open(u.db,e,c?"readonly":"readwrite",r),I=i(v).next(A=>(v.V(),A)).catch(A=>(v.abort(A),Ae.reject(A))).toPromise();return I.catch(()=>{}),yield v.v,I}catch(v){const I=v,A="FirebaseError"!==I.name&&p<3;if(ut("SimpleDb","Transaction failed with error:",I.message,"Retrying:",A),u.close(),!A)return Promise.reject(I)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class wY{constructor(e){this.U=e,this.q=!1,this.K=null}get isDone(){return this.q}get G(){return this.K}set cursor(e){this.U=e}done(){this.q=!0}j(e){this.K=e}delete(){return sm(this.U.delete())}}class ZI extends nt{constructor(e,t){super(Pe.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function kf(n){return"IndexedDbTransactionError"===n.name}class EY{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(ut("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(ut("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),sm(r)}add(e){return ut("SimpleDb","ADD",this.store.name,e,e),sm(this.store.add(e))}get(e){return sm(this.store.get(e)).next(t=>(void 0===t&&(t=null),ut("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return ut("SimpleDb","DELETE",this.store.name,e),sm(this.store.delete(e))}count(){return ut("SimpleDb","COUNT",this.store.name),sm(this.store.count())}W(e,t){const r=this.options(e,t);if(r.index||"function"!=typeof this.store.getAll){const i=this.cursor(r),u=[];return this.H(i,(c,p)=>{u.push(p)}).next(()=>u)}{const i=this.store.getAll(r.range);return new Ae((u,c)=>{i.onerror=p=>{c(p.target.error)},i.onsuccess=p=>{u(p.target.result)}})}}J(e,t){const r=this.store.getAll(e,null===t?void 0:t);return new Ae((i,u)=>{r.onerror=c=>{u(c.target.error)},r.onsuccess=c=>{i(c.target.result)}})}Y(e,t){ut("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.X=!1;const i=this.cursor(r);return this.H(i,(u,c,p)=>p.delete())}Z(e,t){let r;t?r=e:(r={},t=e);const i=this.cursor(r);return this.H(i,t)}tt(e){const t=this.cursor({});return new Ae((r,i)=>{t.onerror=u=>{const c=JL(u.target.error);i(c)},t.onsuccess=u=>{const c=u.target.result;c?e(c.primaryKey,c.value).next(p=>{p?c.continue():r()}):r()}})}H(e,t){const r=[];return new Ae((i,u)=>{e.onerror=c=>{u(c.target.error)},e.onsuccess=c=>{const p=c.target.result;if(!p)return void i();const v=new wY(p),I=t(p.primaryKey,p.value,v);if(I instanceof Ae){const A=I.catch(M=>(v.done(),Ae.reject(M)));r.push(A)}v.isDone?i():null===v.G?p.continue():p.continue(v.G)}}).next(()=>Ae.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.X?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function sm(n){return new Ae((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const i=JL(r.target.error);t(i)}})}let A6=!1;function JL(n){const e=Ju.D((0,q.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new nt("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return A6||(A6=!0,setTimeout(()=>{throw r},0)),r}}return n}class bY{constructor(e,t){this.asyncQueue=e,this.et=t,this.task=null}start(){this.nt(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}nt(e){var t=this;ut("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,ke.Z)(function*(){t.task=null;try{ut("IndexBackiller",`Documents written: ${yield t.et.st()}`)}catch(r){kf(r)?ut("IndexBackiller","Ignoring IndexedDB error during index backfill: ",r):yield Rf(r)}yield t.nt(6e4)}))}}class IY{constructor(e,t){this.localStore=e,this.persistence=t}st(e=50){var t=this;return(0,ke.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",r=>t.it(r,e))})()}it(e,t){const r=new Set;let i=t,u=!0;return Ae.doWhile(()=>!0===u&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(c=>{if(null!==c&&!r.has(c))return ut("IndexBackiller",`Processing collection: ${c}`),this.rt(e,c,i).next(p=>{i-=p,r.add(c)});u=!1})).next(()=>t-i)}rt(e,t,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(i=>this.localStore.localDocuments.getNextDocuments(e,t,i,r).next(u=>{const c=u.changes;return this.localStore.indexManager.updateIndexEntries(e,c).next(()=>this.ot(i,u)).next(p=>(ut("IndexBackiller",`Updating offset: ${p}`),this.localStore.indexManager.updateCollectionGroup(e,t,p))).next(()=>c.size)}))}ot(e,t){let r=e;return t.changes.forEach((i,u)=>{const c=D6(u);YL(c,r)>0&&(r=c)}),new ya(r.readTime,r.documentKey,Math.max(t.batchId,e.largestBatchId))}}class Wo{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ut(r),this.ct=r=>t.writeSequenceNumber(r))}ut(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ct&&this.ct(e),e}}function x6(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function om(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function N6(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}Wo.at=-1;class Si{constructor(e,t){this.comparator=e,this.root=t||Bs.EMPTY}insert(e,t){return new Si(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Bs.BLACK,null,null))}remove(e){return new Si(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Bs.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Rx(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Rx(this.root,e,this.comparator,!1)}getReverseIterator(){return new Rx(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Rx(this.root,e,this.comparator,!0)}}class Rx{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=t?r(e.key,t):1,t&&i&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(0===u){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Bs{constructor(e,t,r,i,u){this.key=e,this.value=t,this.color=r??Bs.RED,this.left=i??Bs.EMPTY,this.right=u??Bs.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,u){return new Bs(e??this.key,t??this.value,r??this.color,i??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const u=r(e,i.key);return i=u<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===u?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Bs.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return Bs.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Bs.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Bs.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Lt();const e=this.left.check();if(e!==this.right.check())throw Lt();return e+(this.isRed()?0:1)}}Bs.EMPTY=null,Bs.RED=!0,Bs.BLACK=!1,Bs.EMPTY=new class{constructor(){this.size=0}get key(){throw Lt()}get value(){throw Lt()}get color(){throw Lt()}get left(){throw Lt()}get right(){throw Lt()}copy(n,e,t,r,i){return this}insert(n,e,t){return new Bs(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Nr{constructor(e){this.comparator=e,this.data=new Si(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new M6(this.data.getIterator())}getIteratorFrom(e){return new M6(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Nr)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,u=r.getNext().key;if(0!==this.comparator(i,u))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Nr(this.comparator);return t.data=e,t}}class M6{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Ov(n){return n.hasNext()?n.getNext():void 0}class va{constructor(e){this.fields=e,e.sort(Ti.comparator)}static empty(){return new va([])}unionWith(e){let t=new Nr(Ti.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new va(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return kv(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class cs{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new cs(t)}static fromUint8Array(e){const t=function(r){let i="";for(let u=0;u<r.length;++u)i+=String.fromCharCode(r[u]);return i}(e);return new cs(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return wn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}cs.EMPTY_BYTE_STRING=new cs("");const DY=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Of(n){if(on(!!n),"string"==typeof n){let e=0;const t=DY.exec(n);if(on(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ai(n.seconds),nanos:Ai(n.nanos)}}function Ai(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function am(n){return"string"==typeof n?cs.fromBase64String(n):cs.fromUint8Array(n)}function XL(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function R6(n){const e=n.mapValue.fields.__previous_value__;return XL(e)?R6(e):e}function KI(n){const e=Of(n.mapValue.fields.__local_write_time__.timestampValue);return new ui(e.seconds,e.nanos)}class TY{constructor(e,t,r,i,u,c,p,v){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=u,this.forceLongPolling=c,this.autoDetectLongPolling=p,this.useFetchStreams=v}}class Pf{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Pf("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Pf&&e.projectId===this.projectId&&e.database===this.database}}function YI(n){return null==n}function QI(n){return 0===n&&1/n==-1/0}function k6(n){return"number"==typeof n&&Number.isInteger(n)&&!QI(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}const Lf={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},kx={nullValue:"NULL_VALUE"};function um(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?XL(n)?4:F6(n)?9007199254740991:10:Lt()}function rc(n,e){if(n===e)return!0;const t=um(n);if(t!==um(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return KI(n).isEqual(KI(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const u=Of(r.timestampValue),c=Of(i.timestampValue);return u.seconds===c.seconds&&u.nanos===c.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return i=e,am(n.bytesValue).isEqual(am(i.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,i){return Ai(r.geoPointValue.latitude)===Ai(i.geoPointValue.latitude)&&Ai(r.geoPointValue.longitude)===Ai(i.geoPointValue.longitude)}(n,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return Ai(r.integerValue)===Ai(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const u=Ai(r.doubleValue),c=Ai(i.doubleValue);return u===c?QI(u)===QI(c):isNaN(u)&&isNaN(c)}return!1}(n,e);case 9:return kv(n.arrayValue.values||[],e.arrayValue.values||[],rc);case 10:return function(r,i){const u=r.mapValue.fields||{},c=i.mapValue.fields||{};if(x6(u)!==x6(c))return!1;for(const p in u)if(u.hasOwnProperty(p)&&(void 0===c[p]||!rc(u[p],c[p])))return!1;return!0}(n,e);default:return Lt()}var i}function JI(n,e){return void 0!==(n.values||[]).find(t=>rc(t,e))}function Ff(n,e){if(n===e)return 0;const t=um(n),r=um(e);if(t!==r)return wn(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return wn(n.booleanValue,e.booleanValue);case 2:return function(i,u){const c=Ai(i.integerValue||i.doubleValue),p=Ai(u.integerValue||u.doubleValue);return c<p?-1:c>p?1:c===p?0:isNaN(c)?isNaN(p)?0:-1:1}(n,e);case 3:return O6(n.timestampValue,e.timestampValue);case 4:return O6(KI(n),KI(e));case 5:return wn(n.stringValue,e.stringValue);case 6:return function(i,u){const c=am(i),p=am(u);return c.compareTo(p)}(n.bytesValue,e.bytesValue);case 7:return function(i,u){const c=i.split("/"),p=u.split("/");for(let v=0;v<c.length&&v<p.length;v++){const I=wn(c[v],p[v]);if(0!==I)return I}return wn(c.length,p.length)}(n.referenceValue,e.referenceValue);case 8:return function(i,u){const c=wn(Ai(i.latitude),Ai(u.latitude));return 0!==c?c:wn(Ai(i.longitude),Ai(u.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(i,u){const c=i.values||[],p=u.values||[];for(let v=0;v<c.length&&v<p.length;++v){const I=Ff(c[v],p[v]);if(I)return I}return wn(c.length,p.length)}(n.arrayValue,e.arrayValue);case 10:return function(i,u){if(i===Lf.mapValue&&u===Lf.mapValue)return 0;if(i===Lf.mapValue)return 1;if(u===Lf.mapValue)return-1;const c=i.fields||{},p=Object.keys(c),v=u.fields||{},I=Object.keys(v);p.sort(),I.sort();for(let A=0;A<p.length&&A<I.length;++A){const M=wn(p[A],I[A]);if(0!==M)return M;const P=Ff(c[p[A]],v[I[A]]);if(0!==P)return P}return wn(p.length,I.length)}(n.mapValue,e.mapValue);default:throw Lt()}}function O6(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return wn(n,e);const t=Of(n),r=Of(e),i=wn(t.seconds,r.seconds);return 0!==i?i:wn(t.nanos,r.nanos)}function Pv(n){return eF(n)}function eF(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const i=Of(r);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?am(n.bytesValue).toBase64():"referenceValue"in n?bt.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let i="[",u=!0;for(const c of r.values||[])u?u=!1:i+=",",i+=eF(c);return i+"]"}(n.arrayValue):"mapValue"in n?function(r){const i=Object.keys(r.fields||{}).sort();let u="{",c=!0;for(const p of i)c?c=!1:u+=",",u+=`${p}:${eF(r.fields[p])}`;return u+"}"}(n.mapValue):Lt();var e}function lm(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function tF(n){return!!n&&"integerValue"in n}function XI(n){return!!n&&"arrayValue"in n}function P6(n){return!!n&&"nullValue"in n}function L6(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Ox(n){return!!n&&"mapValue"in n}function eC(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return om(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=eC(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=eC(n.arrayValue.values[t]);return e}return Object.assign({},n)}function F6(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function SY(n){return"nullValue"in n?kx:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?lm(Pf.empty(),bt.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:Lt()}function AY(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?lm(Pf.empty(),bt.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?Lf:Lt()}function U6(n,e){const t=Ff(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function V6(n,e){const t=Ff(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class js{constructor(e){this.value=e}static empty(){return new js({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Ox(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=eC(t)}setAll(e){let t=Ti.emptyPath(),r={},i=[];e.forEach((c,p)=>{if(!t.isImmediateParentOf(p)){const v=this.getFieldsMap(t);this.applyChanges(v,r,i),r={},i=[],t=p.popLast()}c?r[p.lastSegment()]=eC(c):i.push(p.lastSegment())});const u=this.getFieldsMap(t);this.applyChanges(u,r,i)}delete(e){const t=this.field(e.popLast());Ox(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return rc(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];Ox(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){om(t,(i,u)=>e[i]=u);for(const i of r)delete e[i]}clone(){return new js(eC(this.value))}}function B6(n){const e=[];return om(n.fields,(t,r)=>{const i=new Ti([t]);if(Ox(r)){const u=B6(r.mapValue).fields;if(0===u.length)e.push(i);else for(const c of u)e.push(i.child(c))}else e.push(i)}),new va(e)}class Yr{constructor(e,t,r,i,u,c){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.data=u,this.documentState=c}static newInvalidDocument(e){return new Yr(e,0,an.min(),an.min(),js.empty(),0)}static newFoundDocument(e,t,r){return new Yr(e,1,t,an.min(),r,0)}static newNoDocument(e,t){return new Yr(e,2,t,an.min(),js.empty(),0)}static newUnknownDocument(e,t){return new Yr(e,3,t,an.min(),js.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=js.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=js.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=an.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Yr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Yr(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class xY{constructor(e,t=null,r=[],i=[],u=null,c=null,p=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=u,this.startAt=c,this.endAt=p,this.ht=null}}function j6(n,e=null,t=[],r=[],i=null,u=null,c=null){return new xY(n,e,t,r,i,u,c)}function cm(n){const e=Ct(n);if(null===e.ht){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>{return(i=r).field.canonicalString()+i.op.toString()+Pv(i.value);var i}).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),YI(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Pv(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Pv(r)).join(",")),e.ht=t}return e.ht}function tC(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<n.orderBy.length;i++)if(!UY(n.orderBy[i],e.orderBy[i]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let i=0;i<n.filters.length;i++)if((t=n.filters[i]).op!==(r=e.filters[i]).op||!t.field.isEqual(r.field)||!rc(t.value,r.value))return!1;var t,r;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!z6(n.startAt,e.startAt)&&z6(n.endAt,e.endAt)}function Px(n){return bt.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function Lx(n,e){return n.filters.filter(t=>t instanceof $s&&t.field.isEqual(e))}function $6(n,e,t){let r=kx,i=!0;for(const u of Lx(n,e)){let c=kx,p=!0;switch(u.op){case"<":case"<=":c=SY(u.value);break;case"==":case"in":case">=":c=u.value;break;case">":c=u.value,p=!1;break;case"!=":case"not-in":c=kx}U6({value:r,inclusive:i},{value:c,inclusive:p})<0&&(r=c,i=p)}if(null!==t)for(let u=0;u<n.orderBy.length;++u)if(n.orderBy[u].field.isEqual(e)){const c=t.position[u];U6({value:r,inclusive:i},{value:c,inclusive:t.inclusive})<0&&(r=c,i=t.inclusive);break}return{value:r,inclusive:i}}function H6(n,e,t){let r=Lf,i=!0;for(const u of Lx(n,e)){let c=Lf,p=!0;switch(u.op){case">=":case">":c=AY(u.value),p=!1;break;case"==":case"in":case"<=":c=u.value;break;case"<":c=u.value,p=!1;break;case"!=":case"not-in":c=Lf}V6({value:r,inclusive:i},{value:c,inclusive:p})>0&&(r=c,i=p)}if(null!==t)for(let u=0;u<n.orderBy.length;++u)if(n.orderBy[u].field.isEqual(e)){const c=t.position[u];V6({value:r,inclusive:i},{value:c,inclusive:t.inclusive})>0&&(r=c,i=t.inclusive);break}return{value:r,inclusive:i}}class $s extends class{}{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.lt(e,t,r):new MY(e,t,r):"array-contains"===t?new OY(e,r):"in"===t?new PY(e,r):"not-in"===t?new LY(e,r):"array-contains-any"===t?new FY(e,r):new $s(e,t,r)}static lt(e,t,r){return"in"===t?new RY(e,r):new kY(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.ft(Ff(t,this.value)):null!==t&&um(this.value)===um(t)&&this.ft(Ff(t,this.value))}ft(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Lt()}}dt(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class MY extends $s{constructor(e,t,r){super(e,t,r),this.key=bt.fromName(r.referenceValue)}matches(e){const t=bt.comparator(e.key,this.key);return this.ft(t)}}class RY extends $s{constructor(e,t){super(e,"in",t),this.keys=G6(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class kY extends $s{constructor(e,t){super(e,"not-in",t),this.keys=G6(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function G6(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>bt.fromName(r.referenceValue))}class OY extends $s{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return XI(t)&&JI(t.arrayValue,this.value)}}class PY extends $s{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&JI(this.value.arrayValue,t)}}class LY extends $s{constructor(e,t){super(e,"not-in",t)}matches(e){if(JI(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!JI(this.value.arrayValue,t)}}class FY extends $s{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!XI(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>JI(this.value.arrayValue,r))}}class Uf{constructor(e,t){this.position=e,this.inclusive=t}}class Lv{constructor(e,t="asc"){this.field=e,this.dir=t}}function UY(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}function W6(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const u=e[i],c=n.position[i];if(r=u.field.isKeyField()?bt.comparator(bt.fromName(c.referenceValue),t.key):Ff(c,t.data.field(u.field)),"desc"===u.dir&&(r*=-1),0!==r)break}return r}function z6(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!rc(n.position[t],e.position[t]))return!1;return!0}class Md{constructor(e,t=null,r=[],i=[],u=null,c="F",p=null,v=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=u,this.limitType=c,this.startAt=p,this.endAt=v,this._t=null,this.wt=null}}function q6(n,e,t,r,i,u,c,p){return new Md(n,e,t,r,i,u,c,p)}function Fv(n){return new Md(n)}function Z6(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function nF(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function rF(n){for(const e of n.filters)if(e.dt())return e.field;return null}function iF(n){return null!==n.collectionGroup}function Uv(n){const e=Ct(n);if(null===e._t){e._t=[];const t=rF(e),r=nF(e);if(null!==t&&null===r)t.isKeyField()||e._t.push(new Lv(t)),e._t.push(new Lv(Ti.keyField(),"asc"));else{let i=!1;for(const u of e.explicitOrderBy)e._t.push(u),u.field.isKeyField()&&(i=!0);if(!i){const u=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e._t.push(new Lv(Ti.keyField(),u))}}}return e._t}function _o(n){const e=Ct(n);if(!e.wt)if("F"===e.limitType)e.wt=j6(e.path,e.collectionGroup,Uv(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const u of Uv(e))t.push(new Lv(u.field,"desc"===u.dir?"asc":"desc"));const r=e.endAt?new Uf(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new Uf(e.startAt.position,e.startAt.inclusive):null;e.wt=j6(e.path,e.collectionGroup,t,e.filters,e.limit,r,i)}return e.wt}function Fx(n,e,t){return new Md(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function nC(n,e){return tC(_o(n),_o(e))&&n.limitType===e.limitType}function K6(n){return`${cm(_o(n))}|lt:${n.limitType}`}function sF(n){return`Query(target=${function NY(n){let e=n.path.canonicalString();return null!==n.collectionGroup&&(e+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(e+=`, filters: [${n.filters.map(t=>{return`${(r=t).field.canonicalString()} ${r.op} ${Pv(r.value)}`;var r}).join(", ")}]`),YI(n.limit)||(e+=", limit: "+n.limit),n.orderBy.length>0&&(e+=`, orderBy: [${n.orderBy.map(t=>{return`${(r=t).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),n.startAt&&(e+=", startAt: ",e+=n.startAt.inclusive?"b:":"a:",e+=n.startAt.position.map(t=>Pv(t)).join(",")),n.endAt&&(e+=", endAt: ",e+=n.endAt.inclusive?"a:":"b:",e+=n.endAt.position.map(t=>Pv(t)).join(",")),`Target(${e})`}(_o(n))}; limitType=${n.limitType})`}function oF(n,e){return e.isFoundDocument()&&function(t,r){const i=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(i):bt.isDocumentKey(t.path)?t.path.isEqual(i):t.path.isImmediateParentOf(i)}(n,e)&&function(t,r){for(const i of t.explicitOrderBy)if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(n,e)&&function(t,r){for(const i of t.filters)if(!i.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(i,u,c){const p=W6(i,u,c);return i.inclusive?p<=0:p<0}(t.startAt,Uv(t),r)||t.endAt&&!function(i,u,c){const p=W6(i,u,c);return i.inclusive?p>=0:p>0}(t.endAt,Uv(t),r)));var t,r}function Y6(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function Q6(n){return(e,t)=>{let r=!1;for(const i of Uv(n)){const u=VY(i,e,t);if(0!==u)return u;r=r||i.field.isKeyField()}return 0}}function VY(n,e,t){const r=n.field.isKeyField()?bt.comparator(e.key,t.key):function(i,u,c){const p=u.data.field(i),v=c.data.field(i);return null!==p&&null!==v?Ff(p,v):Lt()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Lt()}}function J6(n,e){if(n.gt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:QI(e)?"-0":e}}function X6(n){return{integerValue:""+n}}function eH(n,e){return k6(e)?X6(e):J6(n,e)}class Ux{constructor(){this._=void 0}}function BY(n,e,t){return n instanceof Vv?function(r,i){const u={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(u.fields.__previous_value__=i),{mapValue:u}}(t,e):n instanceof dm?nH(n,e):n instanceof hm?rH(n,e):function(r,i){const u=tH(r,i),c=iH(u)+iH(r.yt);return tF(u)&&tF(r.yt)?X6(c):J6(r.It,c)}(n,e)}function jY(n,e,t){return n instanceof dm?nH(n,e):n instanceof hm?rH(n,e):t}function tH(n,e){return n instanceof Bv?tF(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class Vv extends Ux{}class dm extends Ux{constructor(e){super(),this.elements=e}}function nH(n,e){const t=sH(e);for(const r of n.elements)t.some(i=>rc(i,r))||t.push(r);return{arrayValue:{values:t}}}class hm extends Ux{constructor(e){super(),this.elements=e}}function rH(n,e){let t=sH(e);for(const r of n.elements)t=t.filter(i=>!rc(i,r));return{arrayValue:{values:t}}}class Bv extends Ux{constructor(e,t){super(),this.It=e,this.yt=t}}function iH(n){return Ai(n.integerValue||n.doubleValue)}function sH(n){return XI(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class rC{constructor(e,t){this.field=e,this.transform=t}}class HY{constructor(e,t){this.version=e,this.transformResults=t}}class li{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new li}static exists(e){return new li(void 0,e)}static updateTime(e){return new li(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Vx(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class Bx{}function oH(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new $v(n.key,li.none()):new jv(n.key,n.data,li.none());{const t=n.data,r=js.empty();let i=new Nr(Ti.comparator);for(let u of e.fields)if(!i.has(u)){let c=t.field(u);null===c&&u.length>1&&(u=u.popLast(),c=t.field(u)),null===c?r.delete(u):r.set(u,c),i=i.add(u)}return new Rd(n.key,r,new va(i.toArray()),li.none())}}function GY(n,e,t){n instanceof jv?function(r,i,u){const c=r.value.clone(),p=lH(r.fieldTransforms,i,u.transformResults);c.setAll(p),i.convertToFoundDocument(u.version,c).setHasCommittedMutations()}(n,e,t):n instanceof Rd?function(r,i,u){if(!Vx(r.precondition,i))return void i.convertToUnknownDocument(u.version);const c=lH(r.fieldTransforms,i,u.transformResults),p=i.data;p.setAll(uH(r)),p.setAll(c),i.convertToFoundDocument(u.version,p).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function iC(n,e,t,r){return n instanceof jv?function(i,u,c,p){if(!Vx(i.precondition,u))return c;const v=i.value.clone(),I=cH(i.fieldTransforms,p,u);return v.setAll(I),u.convertToFoundDocument(u.version,v).setHasLocalMutations(),null}(n,e,t,r):n instanceof Rd?function(i,u,c,p){if(!Vx(i.precondition,u))return c;const v=cH(i.fieldTransforms,p,u),I=u.data;return I.setAll(uH(i)),I.setAll(v),u.convertToFoundDocument(u.version,I).setHasLocalMutations(),null===c?null:c.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(A=>A.field))}(n,e,t,r):(c=t,Vx(n.precondition,u=e)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):c);var u,c}function WY(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),u=tH(r.transform,i||null);null!=u&&(null===t&&(t=js.empty()),t.set(r.field,u))}return t||null}function aH(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&kv(t,r,(i,u)=>function $Y(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof dm&&r instanceof dm||t instanceof hm&&r instanceof hm?kv(t.elements,r.elements,rc):t instanceof Bv&&r instanceof Bv?rc(t.yt,r.yt):t instanceof Vv&&r instanceof Vv);var t,r}(i,u))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}class jv extends Bx{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Rd extends Bx{constructor(e,t,r,i,u=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function uH(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function lH(n,e,t){const r=new Map;on(n.length===t.length);for(let i=0;i<t.length;i++){const u=n[i],c=u.transform,p=e.data.field(u.field);r.set(u.field,jY(c,p,t[i]))}return r}function cH(n,e,t){const r=new Map;for(const i of n){const u=i.transform,c=t.data.field(i.field);r.set(i.field,BY(u,c,e))}return r}class $v extends Bx{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class aF extends Bx{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class zY{constructor(e){this.count=e}}var es,rr;function dH(n){switch(n){default:return Lt();case Pe.CANCELLED:case Pe.UNKNOWN:case Pe.DEADLINE_EXCEEDED:case Pe.RESOURCE_EXHAUSTED:case Pe.INTERNAL:case Pe.UNAVAILABLE:case Pe.UNAUTHENTICATED:return!1;case Pe.INVALID_ARGUMENT:case Pe.NOT_FOUND:case Pe.ALREADY_EXISTS:case Pe.PERMISSION_DENIED:case Pe.FAILED_PRECONDITION:case Pe.ABORTED:case Pe.OUT_OF_RANGE:case Pe.UNIMPLEMENTED:case Pe.DATA_LOSS:return!0}}function hH(n){if(void 0===n)return Vi("GRPC error has no .code"),Pe.UNKNOWN;switch(n){case es.OK:return Pe.OK;case es.CANCELLED:return Pe.CANCELLED;case es.UNKNOWN:return Pe.UNKNOWN;case es.DEADLINE_EXCEEDED:return Pe.DEADLINE_EXCEEDED;case es.RESOURCE_EXHAUSTED:return Pe.RESOURCE_EXHAUSTED;case es.INTERNAL:return Pe.INTERNAL;case es.UNAVAILABLE:return Pe.UNAVAILABLE;case es.UNAUTHENTICATED:return Pe.UNAUTHENTICATED;case es.INVALID_ARGUMENT:return Pe.INVALID_ARGUMENT;case es.NOT_FOUND:return Pe.NOT_FOUND;case es.ALREADY_EXISTS:return Pe.ALREADY_EXISTS;case es.PERMISSION_DENIED:return Pe.PERMISSION_DENIED;case es.FAILED_PRECONDITION:return Pe.FAILED_PRECONDITION;case es.ABORTED:return Pe.ABORTED;case es.OUT_OF_RANGE:return Pe.OUT_OF_RANGE;case es.UNIMPLEMENTED:return Pe.UNIMPLEMENTED;case es.DATA_LOSS:return Pe.DATA_LOSS;default:return Lt()}}(rr=es||(es={}))[rr.OK=0]="OK",rr[rr.CANCELLED=1]="CANCELLED",rr[rr.UNKNOWN=2]="UNKNOWN",rr[rr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",rr[rr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",rr[rr.NOT_FOUND=5]="NOT_FOUND",rr[rr.ALREADY_EXISTS=6]="ALREADY_EXISTS",rr[rr.PERMISSION_DENIED=7]="PERMISSION_DENIED",rr[rr.UNAUTHENTICATED=16]="UNAUTHENTICATED",rr[rr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",rr[rr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",rr[rr.ABORTED=10]="ABORTED",rr[rr.OUT_OF_RANGE=11]="OUT_OF_RANGE",rr[rr.UNIMPLEMENTED=12]="UNIMPLEMENTED",rr[rr.INTERNAL=13]="INTERNAL",rr[rr.UNAVAILABLE=14]="UNAVAILABLE",rr[rr.DATA_LOSS=15]="DATA_LOSS";class Vf{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[i,u]of r)if(this.equalsFn(i,e))return u}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,t]],void this.innerSize++;for(let u=0;u<i.length;u++)if(this.equalsFn(i[u][0],e))return void(i[u]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){om(this.inner,(t,r)=>{for(const[i,u]of r)e(i,u)})}isEmpty(){return N6(this.inner)}size(){return this.innerSize}}const qY=new Si(bt.comparator);function zo(){return qY}const fH=new Si(bt.comparator);function sC(...n){let e=fH;for(const t of n)e=e.insert(t.key,t);return e}function pH(n){let e=fH;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function ic(){return oC()}function gH(){return oC()}function oC(){return new Vf(n=>n.toString(),(n,e)=>n.isEqual(e))}const ZY=new Si(bt.comparator),KY=new Nr(bt.comparator);function xn(...n){let e=KY;for(const t of n)e=e.add(t);return e}const YY=new Nr(wn);function jx(){return YY}class aC{constructor(e,t,r,i,u){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,uC.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new aC(an.min(),i,jx(),zo(),xn())}}class uC{constructor(e,t,r,i,u){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new uC(r,t,xn(),xn(),xn())}}class $x{constructor(e,t,r,i){this.Tt=e,this.removedTargetIds=t,this.key=r,this.Et=i}}class mH{constructor(e,t){this.targetId=e,this.At=t}}class _H{constructor(e,t,r=cs.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class yH{constructor(){this.Rt=0,this.bt=wH(),this.Pt=cs.EMPTY_BYTE_STRING,this.vt=!1,this.Vt=!0}get current(){return this.vt}get resumeToken(){return this.Pt}get St(){return 0!==this.Rt}get Dt(){return this.Vt}Ct(e){e.approximateByteSize()>0&&(this.Vt=!0,this.Pt=e)}xt(){let e=xn(),t=xn(),r=xn();return this.bt.forEach((i,u)=>{switch(u){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:Lt()}}),new uC(this.Pt,this.vt,e,t,r)}Nt(){this.Vt=!1,this.bt=wH()}kt(e,t){this.Vt=!0,this.bt=this.bt.insert(e,t)}Ot(e){this.Vt=!0,this.bt=this.bt.remove(e)}Mt(){this.Rt+=1}Ft(){this.Rt-=1}$t(){this.Vt=!0,this.vt=!0}}class QY{constructor(e){this.Bt=e,this.Lt=new Map,this.Ut=zo(),this.qt=vH(),this.Kt=new Nr(wn)}Gt(e){for(const t of e.Tt)e.Et&&e.Et.isFoundDocument()?this.Qt(t,e.Et):this.jt(t,e.key,e.Et);for(const t of e.removedTargetIds)this.jt(t,e.key,e.Et)}Wt(e){this.forEachTarget(e,t=>{const r=this.zt(t);switch(e.state){case 0:this.Ht(t)&&r.Ct(e.resumeToken);break;case 1:r.Ft(),r.St||r.Nt(),r.Ct(e.resumeToken);break;case 2:r.Ft(),r.St||this.removeTarget(t);break;case 3:this.Ht(t)&&(r.$t(),r.Ct(e.resumeToken));break;case 4:this.Ht(t)&&(this.Jt(t),r.Ct(e.resumeToken));break;default:Lt()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Lt.forEach((r,i)=>{this.Ht(i)&&t(i)})}Yt(e){const t=e.targetId,r=e.At.count,i=this.Xt(t);if(i){const u=i.target;if(Px(u))if(0===r){const c=new bt(u.path);this.jt(t,c,Yr.newNoDocument(c,an.min()))}else on(1===r);else this.Zt(t)!==r&&(this.Jt(t),this.Kt=this.Kt.add(t))}}te(e){const t=new Map;this.Lt.forEach((u,c)=>{const p=this.Xt(c);if(p){if(u.current&&Px(p.target)){const v=new bt(p.target.path);null!==this.Ut.get(v)||this.ee(c,v)||this.jt(c,v,Yr.newNoDocument(v,e))}u.Dt&&(t.set(c,u.xt()),u.Nt())}});let r=xn();this.qt.forEach((u,c)=>{let p=!0;c.forEachWhile(v=>{const I=this.Xt(v);return!I||2===I.purpose||(p=!1,!1)}),p&&(r=r.add(u))}),this.Ut.forEach((u,c)=>c.setReadTime(e));const i=new aC(e,t,this.Kt,this.Ut,r);return this.Ut=zo(),this.qt=vH(),this.Kt=new Nr(wn),i}Qt(e,t){if(!this.Ht(e))return;const r=this.ee(e,t.key)?2:0;this.zt(e).kt(t.key,r),this.Ut=this.Ut.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ne(t.key).add(e))}jt(e,t,r){if(!this.Ht(e))return;const i=this.zt(e);this.ee(e,t)?i.kt(t,1):i.Ot(t),this.qt=this.qt.insert(t,this.ne(t).delete(e)),r&&(this.Ut=this.Ut.insert(t,r))}removeTarget(e){this.Lt.delete(e)}Zt(e){const t=this.zt(e).xt();return this.Bt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Mt(e){this.zt(e).Mt()}zt(e){let t=this.Lt.get(e);return t||(t=new yH,this.Lt.set(e,t)),t}ne(e){let t=this.qt.get(e);return t||(t=new Nr(wn),this.qt=this.qt.insert(e,t)),t}Ht(e){const t=null!==this.Xt(e);return t||ut("WatchChangeAggregator","Detected inactive target",e),t}Xt(e){const t=this.Lt.get(e);return t&&t.St?null:this.Bt.se(e)}Jt(e){this.Lt.set(e,new yH),this.Bt.getRemoteKeysForTarget(e).forEach(t=>{this.jt(e,t,null)})}ee(e,t){return this.Bt.getRemoteKeysForTarget(e).has(t)}}function vH(){return new Si(bt.comparator)}function wH(){return new Si(bt.comparator)}const JY={asc:"ASCENDING",desc:"DESCENDING"},XY={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class eQ{constructor(e,t){this.databaseId=e,this.gt=t}}function lC(n,e){return n.gt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function EH(n,e){return n.gt?e.toBase64():e.toUint8Array()}function tQ(n,e){return lC(n,e.toTimestamp())}function Cs(n){return on(!!n),an.fromTimestamp(function(e){const t=Of(e);return new ui(t.seconds,t.nanos)}(n))}function uF(n,e){return(t=n,new nr(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function bH(n){const e=nr.fromString(n);return on(NH(e)),e}function cC(n,e){return uF(n.databaseId,e.path)}function sc(n,e){const t=bH(e);if(t.get(1)!==n.databaseId.projectId)throw new nt(Pe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new nt(Pe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new bt(CH(t))}function lF(n,e){return uF(n.databaseId,e)}function IH(n){const e=bH(n);return 4===e.length?nr.emptyPath():CH(e)}function dC(n){return new nr(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function CH(n){return on(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function DH(n,e,t){return{name:cC(n,e),fields:t.value.mapValue.fields}}function TH(n,e,t){const r=sc(n,e.name),i=Cs(e.updateTime),u=new js({mapValue:{fields:e.fields}}),c=Yr.newFoundDocument(r,i,u);return t&&c.setHasCommittedMutations(),t?c.setHasCommittedMutations():c}function hC(n,e){let t;if(e instanceof jv)t={update:DH(n,e.key,e.value)};else if(e instanceof $v)t={delete:cC(n,e.key)};else if(e instanceof Rd)t={update:DH(n,e.key,e.data),updateMask:cQ(e.fieldMask)};else{if(!(e instanceof aF))return Lt();t={verify:cC(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(i,u){const c=u.transform;if(c instanceof Vv)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof dm)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof hm)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof Bv)return{fieldPath:u.field.canonicalString(),increment:c.yt};throw Lt()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:tQ(n,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:Lt()),t;var i}function cF(n,e){const t=e.currentDocument?void 0!==(i=e.currentDocument).updateTime?li.updateTime(Cs(i.updateTime)):void 0!==i.exists?li.exists(i.exists):li.none():li.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(u,c){let p=null;"setToServerValue"in c?(on("REQUEST_TIME"===c.setToServerValue),p=new Vv):"appendMissingElements"in c?p=new dm(c.appendMissingElements.values||[]):"removeAllFromArray"in c?p=new hm(c.removeAllFromArray.values||[]):"increment"in c?p=new Bv(u,c.increment):Lt();const v=Ti.fromServerFormat(c.fieldPath);return new rC(v,p)}(n,i)):[];var i;if(e.update){const i=sc(n,e.update.name),u=new js({mapValue:{fields:e.update.fields}});if(e.updateMask){const c=new va((e.updateMask.fieldPaths||[]).map(I=>Ti.fromServerFormat(I)));return new Rd(i,u,c,t,r)}return new jv(i,u,t,r)}if(e.delete){const i=sc(n,e.delete);return new $v(i,t)}if(e.verify){const i=sc(n,e.verify);return new aF(i,t)}return Lt()}function SH(n,e){return{documents:[lF(n,e.path)]}}function dF(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=lF(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=lF(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(v){if(0===v.length)return;const I=v.map(A=>function(M){if("=="===M.op){if(L6(M.value))return{unaryFilter:{field:Hv(M.field),op:"IS_NAN"}};if(P6(M.value))return{unaryFilter:{field:Hv(M.field),op:"IS_NULL"}}}else if("!="===M.op){if(L6(M.value))return{unaryFilter:{field:Hv(M.field),op:"IS_NOT_NAN"}};if(P6(M.value))return{unaryFilter:{field:Hv(M.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Hv(M.field),op:aQ(M.op),value:M.value}}}(A));return 1===I.length?I[0]:{compositeFilter:{op:"AND",filters:I}}}(e.filters);i&&(t.structuredQuery.where=i);const u=function(v){if(0!==v.length)return v.map(I=>{return{field:Hv((A=I).field),direction:oQ(A.dir)};var A})}(e.orderBy);u&&(t.structuredQuery.orderBy=u);const c=(I=e.limit,n.gt||YI(I)?I:{value:I});var I,p,v;return null!==c&&(t.structuredQuery.limit=c),e.startAt&&(t.structuredQuery.startAt={before:(p=e.startAt).inclusive,values:p.position}),e.endAt&&(t.structuredQuery.endAt={before:!(v=e.endAt).inclusive,values:v.position}),t}function AH(n){let e=IH(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){on(1===r);const A=t.from[0];A.allDescendants?i=A.collectionId:e=e.child(A.collectionId)}let u=[];t.where&&(u=xH(t.where));let c=[];t.orderBy&&(c=t.orderBy.map(A=>{return new Lv(Gv((M=A).field),function(P){switch(P){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(M.direction));var M}));let p=null;t.limit&&(p=function(A){let M;return M="object"==typeof A?A.value:A,YI(M)?null:M}(t.limit));let v=null;var A;t.startAt&&(v=new Uf((A=t.startAt).values||[],!!A.before));let I=null;return t.endAt&&(I=function(A){return new Uf(A.values||[],!A.before)}(t.endAt)),q6(e,i,c,u,p,"F",v,I)}function xH(n){return n?void 0!==n.unaryFilter?[lQ(n)]:void 0!==n.fieldFilter?[uQ(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(e=>xH(e)).reduce((e,t)=>e.concat(t)):Lt():[]}function oQ(n){return JY[n]}function aQ(n){return XY[n]}function Hv(n){return{fieldPath:n.canonicalString()}}function Gv(n){return Ti.fromServerFormat(n.fieldPath)}function uQ(n){return $s.create(Gv(n.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Lt()}}(n.fieldFilter.op),n.fieldFilter.value)}function lQ(n){switch(n.unaryFilter.op){case"IS_NAN":const e=Gv(n.unaryFilter.field);return $s.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=Gv(n.unaryFilter.field);return $s.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Gv(n.unaryFilter.field);return $s.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=Gv(n.unaryFilter.field);return $s.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Lt()}}function cQ(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function NH(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function yo(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=MH(e)),e=dQ(n.get(t),e);return MH(e)}function dQ(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const u=n.charAt(i);switch(u){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=u}}return t}function MH(n){return n+"\x01\x01"}function oc(n){const e=n.length;if(on(e>=2),2===e)return on("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),nr.emptyPath();const t=e-2,r=[];let i="";for(let u=0;u<e;){const c=n.indexOf("\x01",u);switch((c<0||c>t)&&Lt(),n.charAt(c+1)){case"\x01":const p=n.substring(u,c);let v;0===i.length?v=p:(i+=p,v=i,i=""),r.push(v);break;case"\x10":i+=n.substring(u,c),i+="\0";break;case"\x11":i+=n.substring(u,c+1);break;default:Lt()}u=c+2}return new nr(r)}const RH=["userId","batchId"];function Hx(n,e){return[n,yo(e)]}function kH(n,e,t){return[n,yo(e),t]}const hQ={},fQ=["prefixPath","collectionGroup","readTime","documentId"],pQ=["prefixPath","collectionGroup","documentId"],gQ=["collectionGroup","readTime","prefixPath","documentId"],mQ=["canonicalId","targetId"],_Q=["targetId","path"],yQ=["path","targetId"],vQ=["collectionId","parent"],wQ=["indexId","uid"],EQ=["uid","sequenceNumber"],bQ=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],IQ=["indexId","uid","orderedDocumentKey"],CQ=["userId","collectionPath","documentId"],DQ=["userId","collectionPath","largestBatchId"],TQ=["userId","collectionGroup","largestBatchId"],OH=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],SQ=[...OH,"documentOverlays"],PH=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],LH=PH,AQ=[...LH,"indexConfiguration","indexState","indexEntries"];class hF extends S6{constructor(e,t){super(),this.ie=e,this.currentSequenceNumber=t}}function Ds(n,e){const t=Ct(n);return Ju.M(t.ie,e)}class fF{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const u=this.mutations[i];u.key.isEqual(e.key)&&GY(u,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=iC(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=iC(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=gH();return this.mutations.forEach(i=>{const u=e.get(i.key),c=u.overlayedDocument;let p=this.applyToLocalView(c,u.mutatedFields);p=t.has(i.key)?null:p;const v=oH(c,p);null!==v&&r.set(i.key,v),c.isValidDocument()||c.convertToNoDocument(an.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),xn())}isEqual(e){return this.batchId===e.batchId&&kv(this.mutations,e.mutations,(t,r)=>aH(t,r))&&kv(this.baseMutations,e.baseMutations,(t,r)=>aH(t,r))}}class pF{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){on(e.mutations.length===r.length);let i=ZY;const u=e.mutations;for(let c=0;c<u.length;c++)i=i.insert(u[c].key,r[c].version);return new pF(e,t,r,i)}}class gF{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Bf{constructor(e,t,r,i,u=an.min(),c=an.min(),p=cs.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=p}withSequenceNumber(e){return new Bf(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new Bf(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Bf(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class FH{constructor(e){this.re=e}}function UH(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:Gx(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document={name:cC(i=n.re,(u=e).key),fields:u.data.value.mapValue.fields,updateTime:lC(i,u.version.toTimestamp())};else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:fm(e.version)};else{if(!e.isUnknownDocument())return Lt();r.unknownDocument={path:t.path.toArray(),version:fm(e.version)}}var i,u;return r}function Gx(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function fm(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function pm(n){const e=new ui(n.seconds,n.nanoseconds);return an.fromTimestamp(e)}function gm(n,e){const t=(e.baseMutations||[]).map(u=>cF(n.re,u));for(let u=0;u<e.mutations.length-1;++u){const c=e.mutations[u];u+1<e.mutations.length&&void 0!==e.mutations[u+1].transform&&(c.updateTransforms=e.mutations[u+1].transform.fieldTransforms,e.mutations.splice(u+1,1),++u)}const r=e.mutations.map(u=>cF(n.re,u)),i=ui.fromMillis(e.localWriteTimeMs);return new fF(e.batchId,i,t,r)}function fC(n){const e=pm(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?pm(n.lastLimboFreeSnapshotVersion):an.min();let r;var i;return void 0!==n.query.documents?(on(1===(i=n.query).documents.length),r=_o(Fv(IH(i.documents[0])))):r=_o(AH(n.query)),new Bf(r,n.targetId,0,n.lastListenSequenceNumber,e,t,cs.fromBase64String(n.resumeToken))}function VH(n,e){const t=fm(e.snapshotVersion),r=fm(e.lastLimboFreeSnapshotVersion);let i;i=Px(e.target)?SH(n.re,e.target):dF(n.re,e.target);const u=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:cm(e.target),readTime:t,resumeToken:u,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function mF(n){const e=AH({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?Fx(e,e.limit,"L"):e}function _F(n,e){return new gF(e.largestBatchId,cF(n.re,e.overlayMutation))}function BH(n,e){const t=e.path.lastSegment();return[n,yo(e.path.popLast()),t]}function jH(n,e,t,r){return{indexId:n,uid:e.uid||"",sequenceNumber:t,readTime:fm(r.readTime),documentKey:yo(r.documentKey.path),largestBatchId:r.largestBatchId}}class NQ{getBundleMetadata(e,t){return $H(e).get(t).next(r=>{if(r)return{id:(i=r).bundleId,createTime:pm(i.createTime),version:i.version};var i})}saveBundleMetadata(e,t){return $H(e).put({bundleId:(r=t).id,createTime:fm(Cs(r.createTime)),version:r.version});var r}getNamedQuery(e,t){return HH(e).get(t).next(r=>{if(r)return{name:(i=r).name,query:mF(i.bundledQuery),readTime:pm(i.readTime)};var i})}saveNamedQuery(e,t){return HH(e).put({name:(r=t).name,readTime:fm(Cs(r.readTime)),bundledQuery:r.bundledQuery});var r}}function $H(n){return Ds(n,"bundles")}function HH(n){return Ds(n,"namedQueries")}class Wx{constructor(e,t){this.It=e,this.userId=t}static oe(e,t){return new Wx(e,t.uid||"")}getOverlay(e,t){return pC(e).get(BH(this.userId,t)).next(r=>r?_F(this.It,r):null)}getOverlays(e,t){const r=ic();return Ae.forEach(t,i=>this.getOverlay(e,i).next(u=>{null!==u&&r.set(i,u)})).next(()=>r)}saveOverlays(e,t,r){const i=[];return r.forEach((u,c)=>{const p=new gF(t,c);i.push(this.ue(e,p))}),Ae.waitFor(i)}removeOverlaysForBatchId(e,t,r){const i=new Set;t.forEach(c=>i.add(yo(c.getCollectionPath())));const u=[];return i.forEach(c=>{const p=IDBKeyRange.bound([this.userId,c,r],[this.userId,c,r+1],!1,!0);u.push(pC(e).Y("collectionPathOverlayIndex",p))}),Ae.waitFor(u)}getOverlaysForCollection(e,t,r){const i=ic(),u=yo(t),c=IDBKeyRange.bound([this.userId,u,r],[this.userId,u,Number.POSITIVE_INFINITY],!0);return pC(e).W("collectionPathOverlayIndex",c).next(p=>{for(const v of p){const I=_F(this.It,v);i.set(I.getKey(),I)}return i})}getOverlaysForCollectionGroup(e,t,r,i){const u=ic();let c;const p=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return pC(e).Z({index:"collectionGroupOverlayIndex",range:p},(v,I,A)=>{const M=_F(this.It,I);u.size()<i||M.largestBatchId===c?(u.set(M.getKey(),M),c=M.largestBatchId):A.done()}).next(()=>u)}ue(e,t){return pC(e).put(function(r,i,u){const[c,p,v]=BH(i,u.mutation.key);return{userId:i,collectionPath:p,documentId:v,collectionGroup:u.mutation.key.getCollectionGroup(),largestBatchId:u.largestBatchId,overlayMutation:hC(r.re,u.mutation)}}(this.It,this.userId,t))}}function pC(n){return Ds(n,"documentOverlays")}class mm{constructor(){}ce(e,t){this.ae(e,t),t.he()}ae(e,t){if("nullValue"in e)this.le(t,5);else if("booleanValue"in e)this.le(t,10),t.fe(e.booleanValue?1:0);else if("integerValue"in e)this.le(t,15),t.fe(Ai(e.integerValue));else if("doubleValue"in e){const r=Ai(e.doubleValue);isNaN(r)?this.le(t,13):(this.le(t,15),QI(r)?t.fe(0):t.fe(r))}else if("timestampValue"in e){const r=e.timestampValue;this.le(t,20),"string"==typeof r?t.de(r):(t.de(`${r.seconds||""}`),t.fe(r.nanos||0))}else if("stringValue"in e)this._e(e.stringValue,t),this.we(t);else if("bytesValue"in e)this.le(t,30),t.me(am(e.bytesValue)),this.we(t);else if("referenceValue"in e)this.ge(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.le(t,45),t.fe(r.latitude||0),t.fe(r.longitude||0)}else"mapValue"in e?F6(e)?this.le(t,Number.MAX_SAFE_INTEGER):(this.ye(e.mapValue,t),this.we(t)):"arrayValue"in e?(this.pe(e.arrayValue,t),this.we(t)):Lt()}_e(e,t){this.le(t,25),this.Ie(e,t)}Ie(e,t){t.de(e)}ye(e,t){const r=e.fields||{};this.le(t,55);for(const i of Object.keys(r))this._e(i,t),this.ae(r[i],t)}pe(e,t){const r=e.values||[];this.le(t,50);for(const i of r)this.ae(i,t)}ge(e,t){this.le(t,37),bt.fromName(e).path.forEach(r=>{this.le(t,60),this.Ie(r,t)})}le(e,t){e.fe(t)}we(e){e.fe(2)}}function MQ(n){if(0===n)return 8;let e=0;return n>>4==0&&(e+=4,n<<=4),n>>6==0&&(e+=2,n<<=2),n>>7==0&&(e+=1),e}function GH(n){const e=64-function(t){let r=0;for(let i=0;i<8;++i){const u=MQ(255&t[i]);if(r+=u,8!==u)break}return r}(n);return Math.ceil(e/8)}mm.Te=new mm;class RQ{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ee(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Ae(r.value),r=t.next();this.Re()}be(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Pe(r.value),r=t.next();this.ve()}Ve(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Ae(r);else if(r<2048)this.Ae(960|r>>>6),this.Ae(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.Ae(480|r>>>12),this.Ae(128|63&r>>>6),this.Ae(128|63&r);else{const i=t.codePointAt(0);this.Ae(240|i>>>18),this.Ae(128|63&i>>>12),this.Ae(128|63&i>>>6),this.Ae(128|63&i)}}this.Re()}Se(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Pe(r);else if(r<2048)this.Pe(960|r>>>6),this.Pe(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.Pe(480|r>>>12),this.Pe(128|63&r>>>6),this.Pe(128|63&r);else{const i=t.codePointAt(0);this.Pe(240|i>>>18),this.Pe(128|63&i>>>12),this.Pe(128|63&i>>>6),this.Pe(128|63&i)}}this.ve()}De(e){const t=this.Ce(e),r=GH(t);this.xe(1+r),this.buffer[this.position++]=255&r;for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=255&t[i]}Ne(e){const t=this.Ce(e),r=GH(t);this.xe(1+r),this.buffer[this.position++]=~(255&r);for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=~(255&t[i])}ke(){this.Oe(255),this.Oe(255)}Me(){this.Fe(255),this.Fe(255)}reset(){this.position=0}seed(e){this.xe(e.length),this.buffer.set(e,this.position),this.position+=e.length}$e(){return this.buffer.slice(0,this.position)}Ce(e){const t=function(i){const u=new DataView(new ArrayBuffer(8));return u.setFloat64(0,i,!1),new Uint8Array(u.buffer)}(e),r=0!=(128&t[0]);t[0]^=r?255:128;for(let i=1;i<t.length;++i)t[i]^=r?255:0;return t}Ae(e){const t=255&e;0===t?(this.Oe(0),this.Oe(255)):255===t?(this.Oe(255),this.Oe(0)):this.Oe(t)}Pe(e){const t=255&e;0===t?(this.Fe(0),this.Fe(255)):255===t?(this.Fe(255),this.Fe(0)):this.Fe(e)}Re(){this.Oe(0),this.Oe(1)}ve(){this.Fe(0),this.Fe(1)}Oe(e){this.xe(1),this.buffer[this.position++]=e}Fe(e){this.xe(1),this.buffer[this.position++]=~e}xe(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class kQ{constructor(e){this.Be=e}me(e){this.Be.Ee(e)}de(e){this.Be.Ve(e)}fe(e){this.Be.De(e)}he(){this.Be.ke()}}class OQ{constructor(e){this.Be=e}me(e){this.Be.be(e)}de(e){this.Be.Se(e)}fe(e){this.Be.Ne(e)}he(){this.Be.Me()}}class gC{constructor(){this.Be=new RQ,this.Le=new kQ(this.Be),this.Ue=new OQ(this.Be)}seed(e){this.Be.seed(e)}qe(e){return 0===e?this.Le:this.Ue}$e(){return this.Be.$e()}reset(){this.Be.reset()}}class _m{constructor(e,t,r,i){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=i}Ke(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new _m(this.indexId,this.documentKey,this.arrayValue,r)}}function ym(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=WH(n.arrayValue,e.arrayValue),0!==t?t:(t=WH(n.directionalValue,e.directionalValue),0!==t?t:bt.comparator(n.documentKey,e.documentKey)))}function WH(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(0!==r)return r}return n.length-e.length}class PQ{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ge=e.orderBy,this.Qe=[];for(const t of e.filters){const r=t;r.dt()?this.je=r:this.Qe.push(r)}}We(e){const t=KL(e);if(void 0!==t&&!this.ze(t))return!1;const r=im(e);let i=0,u=0;for(;i<r.length&&this.ze(r[i]);++i);if(i===r.length)return!0;if(void 0!==this.je){const c=r[i];if(!this.He(this.je,c)||!this.Je(this.Ge[u++],c))return!1;++i}for(;i<r.length;++i){const c=r[i];if(u>=this.Ge.length||!this.Je(this.Ge[u++],c))return!1}return!0}ze(e){for(const t of this.Qe)if(this.He(t,e))return!0;return!1}He(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}Je(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}class LQ{constructor(){this.Ye=new yF}addToCollectionParentIndex(e,t){return this.Ye.add(t),Ae.resolve()}getCollectionParents(e,t){return Ae.resolve(this.Ye.getEntries(t))}addFieldIndex(e,t){return Ae.resolve()}deleteFieldIndex(e,t){return Ae.resolve()}getDocumentsMatchingTarget(e,t){return Ae.resolve(null)}getIndexType(e,t){return Ae.resolve(0)}getFieldIndexes(e,t){return Ae.resolve([])}getNextCollectionGroupToUpdate(e){return Ae.resolve(null)}getMinOffset(e,t){return Ae.resolve(ya.min())}getMinOffsetFromCollectionGroup(e,t){return Ae.resolve(ya.min())}updateCollectionGroup(e,t,r){return Ae.resolve()}updateIndexEntries(e,t){return Ae.resolve()}}class yF{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new Nr(nr.comparator),u=!i.has(r);return this.index[t]=i.add(r),u}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Nr(nr.comparator)).toArray()}}const zx=new Uint8Array(0);class FQ{constructor(e,t){this.user=e,this.databaseId=t,this.Xe=new yF,this.Ze=new Vf(r=>cm(r),(r,i)=>tC(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Xe.has(t)){const r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener(()=>{this.Xe.add(t)});const u={collectionId:r,parent:yo(i)};return zH(e).put(u)}return Ae.resolve()}getCollectionParents(e,t){const r=[],i=IDBKeyRange.bound([t,""],[I6(t),""],!1,!0);return zH(e).W(i).next(u=>{for(const c of u){if(c.collectionId!==t)break;r.push(oc(c.parent))}return r})}addFieldIndex(e,t){const r=qx(e),i={indexId:(c=t).indexId,collectionGroup:c.collectionGroup,fields:c.fields.map(p=>[p.fieldPath.canonicalString(),p.kind])};var c;delete i.indexId;const u=r.add(i);if(t.indexState){const c=_C(e);return u.next(p=>{c.put(jH(p,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return u.next()}deleteFieldIndex(e,t){const r=qx(e),i=_C(e),u=mC(e);return r.delete(t.indexId).next(()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>u.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const r=mC(e);let i=!0;const u=new Map;return Ae.forEach(this.tn(t),c=>this.en(e,c).next(p=>{i&&(i=!!p),u.set(c,p)})).next(()=>{if(i){let c=xn();const p=[];return Ae.forEach(u,(v,I)=>{var A;ut("IndexedDbIndexManager",`Using index ${A=v,`id=${A.indexId}|cg=${A.collectionGroup}|f=${A.fields.map(wt=>`${wt.fieldPath}:${wt.kind}`).join(",")}`} to execute ${cm(t)}`);const M=function(wt,_t){const ft=KL(_t);if(void 0===ft)return null;for(const yt of Lx(wt,ft.fieldPath))switch(yt.op){case"array-contains-any":return yt.value.arrayValue.values||[];case"array-contains":return[yt.value]}return null}(I,v),P=function(wt,_t){const ft=new Map;for(const yt of im(_t))for(const fn of Lx(wt,yt.fieldPath))switch(fn.op){case"==":case"in":ft.set(yt.fieldPath.canonicalString(),fn.value);break;case"not-in":case"!=":return ft.set(yt.fieldPath.canonicalString(),fn.value),Array.from(ft.values())}return null}(I,v),$=function(wt,_t){const ft=[];let yt=!0;for(const fn of im(_t)){const Mr=0===fn.kind?$6(wt,fn.fieldPath,wt.startAt):H6(wt,fn.fieldPath,wt.startAt);ft.push(Mr.value),yt&&(yt=Mr.inclusive)}return new Uf(ft,yt)}(I,v),Q=function(wt,_t){const ft=[];let yt=!0;for(const fn of im(_t)){const Mr=0===fn.kind?H6(wt,fn.fieldPath,wt.endAt):$6(wt,fn.fieldPath,wt.endAt);ft.push(Mr.value),yt&&(yt=Mr.inclusive)}return new Uf(ft,yt)}(I,v),le=this.nn(v,I,$),ye=this.nn(v,I,Q),lt=this.sn(v,I,P),dt=this.rn(v.indexId,M,le,$.inclusive,ye,Q.inclusive,lt);return Ae.forEach(dt,wt=>r.J(wt,t.limit).next(_t=>{_t.forEach(ft=>{const yt=bt.fromSegments(ft.documentKey);c.has(yt)||(c=c.add(yt),p.push(yt))})}))}).next(()=>p)}return Ae.resolve(null)})}tn(e){let t=this.Ze.get(e);return t||(t=[e],this.Ze.set(e,t),t)}rn(e,t,r,i,u,c,p){const v=(null!=t?t.length:1)*Math.max(r.length,u.length),I=v/(null!=t?t.length:1),A=[];for(let M=0;M<v;++M){const P=t?this.on(t[M/I]):zx,$=this.un(e,P,r[M%I],i),Q=this.cn(e,P,u[M%I],c),le=p.map(ye=>this.un(e,P,ye,!0));A.push(...this.createRange($,Q,le))}return A}un(e,t,r,i){const u=new _m(e,bt.empty(),t,r);return i?u:u.Ke()}cn(e,t,r,i){const u=new _m(e,bt.empty(),t,r);return i?u.Ke():u}en(e,t){const r=new PQ(t),i=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,i).next(u=>{let c=null;for(const p of u)r.We(p)&&(!c||p.fields.length>c.fields.length)&&(c=p);return c})}getIndexType(e,t){let r=2;return Ae.forEach(this.tn(t),i=>this.en(e,i).next(u=>{u?0!==r&&u.fields.length<function(c){let p=new Nr(Ti.comparator),v=!1;for(const I of c.filters){const A=I;A.field.isKeyField()||("array-contains"===A.op||"array-contains-any"===A.op?v=!0:p=p.add(A.field))}for(const I of c.orderBy)I.field.isKeyField()||(p=p.add(I.field));return p.size+(v?1:0)}(i)&&(r=1):r=0})).next(()=>r)}an(e,t){const r=new gC;for(const i of im(e)){const u=t.data.field(i.fieldPath);if(null==u)return null;const c=r.qe(i.kind);mm.Te.ce(u,c)}return r.$e()}on(e){const t=new gC;return mm.Te.ce(e,t.qe(0)),t.$e()}hn(e,t){const r=new gC;return mm.Te.ce(lm(this.databaseId,t),r.qe(function(i){const u=im(i);return 0===u.length?0:u[u.length-1].kind}(e))),r.$e()}sn(e,t,r){if(null===r)return[];let i=[];i.push(new gC);let u=0;for(const c of im(e)){const p=r[u++];for(const v of i)if(this.ln(t,c.fieldPath)&&XI(p))i=this.fn(i,c,p);else{const I=v.qe(c.kind);mm.Te.ce(p,I)}}return this.dn(i)}nn(e,t,r){return this.sn(e,t,r.position)}dn(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].$e();return t}fn(e,t,r){const i=[...e],u=[];for(const c of r.arrayValue.values||[])for(const p of i){const v=new gC;v.seed(p.$e()),mm.Te.ce(c,v.qe(t.kind)),u.push(v)}return u}ln(e,t){return!!e.filters.find(r=>r instanceof $s&&r.field.isEqual(t)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(e,t){const r=qx(e),i=_C(e);return(t?r.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.W()).next(u=>{const c=[];return Ae.forEach(u,p=>i.get([p.indexId,this.uid]).next(v=>{c.push(function(I,A){const M=A?new qI(A.sequenceNumber,new ya(pm(A.readTime),new bt(oc(A.documentKey)),A.largestBatchId)):qI.empty(),P=I.fields.map(([$,Q])=>new Nx(Ti.fromServerFormat($),Q));return new xx(I.indexId,I.collectionGroup,P,M)}(p,v))})).next(()=>c)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((r,i)=>{const u=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return 0!==u?u:wn(r.collectionGroup,i.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const i=qx(e),u=_C(e);return this._n(e).next(c=>i.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(p=>Ae.forEach(p,v=>u.put(jH(v.indexId,this.user,c,r)))))}updateIndexEntries(e,t){const r=new Map;return Ae.forEach(t,(i,u)=>{const c=r.get(i.collectionGroup);return(c?Ae.resolve(c):this.getFieldIndexes(e,i.collectionGroup)).next(p=>(r.set(i.collectionGroup,p),Ae.forEach(p,v=>this.wn(e,i,v).next(I=>{const A=this.mn(u,v);return I.isEqual(A)?Ae.resolve():this.gn(e,u,v,I,A)}))))})}yn(e,t,r,i){return mC(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.hn(r,t.key),documentKey:t.key.path.toArray()})}pn(e,t,r,i){return mC(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.hn(r,t.key),t.key.path.toArray()])}wn(e,t,r){const i=mC(e);let u=new Nr(ym);return i.Z({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.hn(r,t)])},(c,p)=>{u=u.add(new _m(r.indexId,t,p.arrayValue,p.directionalValue))}).next(()=>u)}mn(e,t){let r=new Nr(ym);const i=this.an(t,e);if(null==i)return r;const u=KL(t);if(null!=u){const c=e.data.field(u.fieldPath);if(XI(c))for(const p of c.arrayValue.values||[])r=r.add(new _m(t.indexId,e.key,this.on(p),i))}else r=r.add(new _m(t.indexId,e.key,zx,i));return r}gn(e,t,r,i,u){ut("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const c=[];return function(p,v,I,A,M){const P=p.getIterator(),$=v.getIterator();let Q=Ov(P),le=Ov($);for(;Q||le;){let ye=!1,lt=!1;if(Q&&le){const dt=I(Q,le);dt<0?lt=!0:dt>0&&(ye=!0)}else null!=Q?lt=!0:ye=!0;ye?(A(le),le=Ov($)):lt?(M(Q),Q=Ov(P)):(Q=Ov(P),le=Ov($))}}(i,u,ym,p=>{c.push(this.yn(e,t,r,p))},p=>{c.push(this.pn(e,t,r,p))}),Ae.waitFor(c)}_n(e){let t=1;return _C(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,u)=>{u.done(),t=i.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((c,p)=>ym(c,p)).filter((c,p,v)=>!p||0!==ym(c,v[p-1]));const i=[];i.push(e);for(const c of r){const p=ym(c,e),v=ym(c,t);if(0===p)i[0]=e.Ke();else if(p>0&&v<0)i.push(c),i.push(c.Ke());else if(v>0)break}i.push(t);const u=[];for(let c=0;c<i.length;c+=2)u.push(IDBKeyRange.bound([i[c].indexId,this.uid,i[c].arrayValue,i[c].directionalValue,zx,[]],[i[c+1].indexId,this.uid,i[c+1].arrayValue,i[c+1].directionalValue,zx,[]]));return u}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(qH)}getMinOffset(e,t){return Ae.mapArray(this.tn(t),r=>this.en(e,r).next(i=>i||Lt())).next(qH)}}function zH(n){return Ds(n,"collectionParents")}function mC(n){return Ds(n,"indexEntries")}function qx(n){return Ds(n,"indexConfiguration")}function _C(n){return Ds(n,"indexState")}function qH(n){on(0!==n.length);let e=n[0].indexState.offset,t=e.largestBatchId;for(let r=1;r<n.length;r++){const i=n[r].indexState.offset;YL(i,e)<0&&(e=i),t<i.largestBatchId&&(t=i.largestBatchId)}return new ya(e.readTime,e.documentKey,t)}const ZH={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class qo{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new qo(e,qo.DEFAULT_COLLECTION_PERCENTILE,qo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function KH(n,e,t){const r=n.store("mutations"),i=n.store("documentMutations"),u=[],c=IDBKeyRange.only(t.batchId);let p=0;const v=r.Z({range:c},(A,M,P)=>(p++,P.delete()));u.push(v.next(()=>{on(1===p)}));const I=[];for(const A of t.mutations){const M=kH(e,A.key.path,t.batchId);u.push(i.delete(M)),I.push(A.key)}return Ae.waitFor(u).next(()=>I)}function Zx(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw Lt();e=n.noDocument}return JSON.stringify(e).length}qo.DEFAULT_COLLECTION_PERCENTILE=10,qo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,qo.DEFAULT=new qo(41943040,qo.DEFAULT_COLLECTION_PERCENTILE,qo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),qo.DISABLED=new qo(-1,0,0);class Kx{constructor(e,t,r,i){this.userId=e,this.It=t,this.indexManager=r,this.referenceDelegate=i,this.In={}}static oe(e,t,r,i){on(""!==e.uid);const u=e.isAuthenticated()?e.uid:"";return new Kx(u,t,r,i)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return jf(e).Z({index:"userMutationsIndex",range:r},(i,u,c)=>{t=!1,c.done()}).next(()=>t)}addMutationBatch(e,t,r,i){const u=Wv(e),c=jf(e);return c.add({}).next(p=>{on("number"==typeof p);const v=new fF(p,t,r,i),I=function(P,$,Q){const le=Q.baseMutations.map(lt=>hC(P.re,lt)),ye=Q.mutations.map(lt=>hC(P.re,lt));return{userId:$,batchId:Q.batchId,localWriteTimeMs:Q.localWriteTime.toMillis(),baseMutations:le,mutations:ye}}(this.It,this.userId,v),A=[];let M=new Nr((P,$)=>wn(P.canonicalString(),$.canonicalString()));for(const P of i){const $=kH(this.userId,P.key.path,p);M=M.add(P.key.path.popLast()),A.push(c.put(I)),A.push(u.put($,hQ))}return M.forEach(P=>{A.push(this.indexManager.addToCollectionParentIndex(e,P))}),e.addOnCommittedListener(()=>{this.In[p]=v.keys()}),Ae.waitFor(A).next(()=>v)})}lookupMutationBatch(e,t){return jf(e).get(t).next(r=>r?(on(r.userId===this.userId),gm(this.It,r)):null)}Tn(e,t){return this.In[t]?Ae.resolve(this.In[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const i=r.keys();return this.In[t]=i,i}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]);let u=null;return jf(e).Z({index:"userMutationsIndex",range:i},(c,p,v)=>{p.userId===this.userId&&(on(p.batchId>=r),u=gm(this.It,p)),v.done()}).next(()=>u)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return jf(e).Z({index:"userMutationsIndex",range:t,reverse:!0},(i,u,c)=>{r=u.batchId,c.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return jf(e).W("userMutationsIndex",t).next(r=>r.map(i=>gm(this.It,i)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=Hx(this.userId,t.path),i=IDBKeyRange.lowerBound(r),u=[];return Wv(e).Z({range:i},(c,p,v)=>{const[I,A,M]=c,P=oc(A);if(I===this.userId&&t.path.isEqual(P))return jf(e).get(M).next($=>{if(!$)throw Lt();on($.userId===this.userId),u.push(gm(this.It,$))});v.done()}).next(()=>u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Nr(wn);const i=[];return t.forEach(u=>{const c=Hx(this.userId,u.path),p=IDBKeyRange.lowerBound(c),v=Wv(e).Z({range:p},(I,A,M)=>{const[P,$,Q]=I,le=oc($);P===this.userId&&u.path.isEqual(le)?r=r.add(Q):M.done()});i.push(v)}),Ae.waitFor(i).next(()=>this.En(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1,u=Hx(this.userId,r),c=IDBKeyRange.lowerBound(u);let p=new Nr(wn);return Wv(e).Z({range:c},(v,I,A)=>{const[M,P,$]=v,Q=oc(P);M===this.userId&&r.isPrefixOf(Q)?Q.length===i&&(p=p.add($)):A.done()}).next(()=>this.En(e,p))}En(e,t){const r=[],i=[];return t.forEach(u=>{i.push(jf(e).get(u).next(c=>{if(null===c)throw Lt();on(c.userId===this.userId),r.push(gm(this.It,c))}))}),Ae.waitFor(i).next(()=>r)}removeMutationBatch(e,t){return KH(e.ie,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.An(t.batchId)}),Ae.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}An(e){delete this.In[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return Ae.resolve();const r=IDBKeyRange.lowerBound([this.userId]),i=[];return Wv(e).Z({range:r},(u,c,p)=>{if(u[0]===this.userId){const v=oc(u[1]);i.push(v)}else p.done()}).next(()=>{on(0===i.length)})})}containsKey(e,t){return YH(e,this.userId,t)}Rn(e){return QH(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function YH(n,e,t){const r=Hx(e,t.path),i=r[1],u=IDBKeyRange.lowerBound(r);let c=!1;return Wv(n).Z({range:u,X:!0},(p,v,I)=>{const[A,M,P]=p;A===e&&M===i&&(c=!0),I.done()}).next(()=>c)}function jf(n){return Ds(n,"mutations")}function Wv(n){return Ds(n,"documentMutations")}function QH(n){return Ds(n,"mutationQueues")}class vm{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Pn(){return new vm(0)}static vn(){return new vm(-1)}}class UQ{constructor(e,t){this.referenceDelegate=e,this.It=t}allocateTargetId(e){return this.Vn(e).next(t=>{const r=new vm(t.highestTargetId);return t.highestTargetId=r.next(),this.Sn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Vn(e).next(t=>an.fromTimestamp(new ui(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Vn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.Vn(e).next(i=>(i.highestListenSequenceNumber=t,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),this.Sn(e,i)))}addTargetData(e,t){return this.Dn(e,t).next(()=>this.Vn(e).next(r=>(r.targetCount+=1,this.Cn(t,r),this.Sn(e,r))))}updateTargetData(e,t){return this.Dn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>zv(e).delete(t.targetId)).next(()=>this.Vn(e)).next(r=>(on(r.targetCount>0),r.targetCount-=1,this.Sn(e,r)))}removeTargets(e,t,r){let i=0;const u=[];return zv(e).Z((c,p)=>{const v=fC(p);v.sequenceNumber<=t&&null===r.get(v.targetId)&&(i++,u.push(this.removeTargetData(e,v)))}).next(()=>Ae.waitFor(u)).next(()=>i)}forEachTarget(e,t){return zv(e).Z((r,i)=>{const u=fC(i);t(u)})}Vn(e){return JH(e).get("targetGlobalKey").next(t=>(on(null!==t),t))}Sn(e,t){return JH(e).put("targetGlobalKey",t)}Dn(e,t){return zv(e).put(VH(this.It,t))}Cn(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.Vn(e).next(t=>t.targetCount)}getTargetData(e,t){const r=cm(t),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let u=null;return zv(e).Z({range:i,index:"queryTargetsIndex"},(c,p,v)=>{const I=fC(p);tC(t,I.target)&&(u=I,v.done())}).next(()=>u)}addMatchingKeys(e,t,r){const i=[],u=$f(e);return t.forEach(c=>{const p=yo(c.path);i.push(u.put({targetId:r,path:p})),i.push(this.referenceDelegate.addReference(e,r,c))}),Ae.waitFor(i)}removeMatchingKeys(e,t,r){const i=$f(e);return Ae.forEach(t,u=>{const c=yo(u.path);return Ae.waitFor([i.delete([r,c]),this.referenceDelegate.removeReference(e,r,u)])})}removeMatchingKeysForTargetId(e,t){const r=$f(e),i=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),i=$f(e);let u=xn();return i.Z({range:r,X:!0},(c,p,v)=>{const I=oc(c[1]),A=new bt(I);u=u.add(A)}).next(()=>u)}containsKey(e,t){const r=yo(t.path),i=IDBKeyRange.bound([r],[I6(r)],!1,!0);let u=0;return $f(e).Z({index:"documentTargetsIndex",X:!0,range:i},([c,p],v,I)=>{0!==c&&(u++,I.done())}).next(()=>u>0)}se(e,t){return zv(e).get(t).next(r=>r?fC(r):null)}}function zv(n){return Ds(n,"targets")}function JH(n){return Ds(n,"targetGlobal")}function $f(n){return Ds(n,"targetDocuments")}function XH([n,e],[t,r]){const i=wn(n,t);return 0===i?wn(e,r):i}class VQ{constructor(e){this.xn=e,this.buffer=new Nr(XH),this.Nn=0}kn(){return++this.Nn}On(e){const t=[e,this.kn()];if(this.buffer.size<this.xn)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();XH(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class BQ{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Mn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Fn(6e4)}stop(){this.Mn&&(this.Mn.cancel(),this.Mn=null)}get started(){return null!==this.Mn}Fn(e){var t=this;ut("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Mn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,ke.Z)(function*(){t.Mn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(r){kf(r)?ut("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):yield Rf(r)}yield t.Fn(3e5)}))}}class jQ{constructor(e,t){this.$n=e,this.params=t}calculateTargetCount(e,t){return this.$n.Bn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return Ae.resolve(Wo.at);const r=new VQ(t);return this.$n.forEachTarget(e,i=>r.On(i.sequenceNumber)).next(()=>this.$n.Ln(e,i=>r.On(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.$n.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.$n.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(ut("LruGarbageCollector","Garbage collection skipped; disabled"),Ae.resolve(ZH)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(ut("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),ZH):this.Un(e,t))}getCacheSize(e){return this.$n.getCacheSize(e)}Un(e,t){let r,i,u,c,p,v,I;const A=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(M=>(M>this.params.maximumSequenceNumbersToCollect?(ut("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${M}`),i=this.params.maximumSequenceNumbersToCollect):i=M,c=Date.now(),this.nthSequenceNumber(e,i))).next(M=>(r=M,p=Date.now(),this.removeTargets(e,r,t))).next(M=>(u=M,v=Date.now(),this.removeOrphanedDocuments(e,r))).next(M=>(I=Date.now(),qL()<=da.in.DEBUG&&ut("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${c-A}ms\n\tDetermined least recently used ${i} in `+(p-c)+`ms\n\tRemoved ${u} targets in `+(v-p)+`ms\n\tRemoved ${M} documents in `+(I-v)+`ms\nTotal Duration: ${I-A}ms`),Ae.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:u,documentsRemoved:M})))}}class $Q{constructor(e,t){this.db=e,this.garbageCollector=new jQ(this,t)}Bn(e){const t=this.qn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}qn(e){let t=0;return this.Ln(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Ln(e,t){return this.Kn(e,(r,i)=>t(i))}addReference(e,t,r){return Yx(e,r)}removeReference(e,t,r){return Yx(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return Yx(e,t)}Gn(e,t){return function(r,i){let u=!1;return QH(r).tt(c=>YH(r,c,i).next(p=>(p&&(u=!0),Ae.resolve(!p)))).next(()=>u)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let u=0;return this.Kn(e,(c,p)=>{if(p<=t){const v=this.Gn(e,c).next(I=>{if(!I)return u++,r.getEntry(e,c).next(()=>(r.removeEntry(c,an.min()),$f(e).delete([0,yo(c.path)])))});i.push(v)}}).next(()=>Ae.waitFor(i)).next(()=>r.apply(e)).next(()=>u)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return Yx(e,t)}Kn(e,t){const r=$f(e);let i,u=Wo.at;return r.Z({index:"documentTargetsIndex"},([c,p],{path:v,sequenceNumber:I})=>{0===c?(u!==Wo.at&&t(new bt(oc(i)),u),u=I,i=v):u=Wo.at}).next(()=>{u!==Wo.at&&t(new bt(oc(i)),u)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Yx(n,e){return $f(n).put((r=n.currentSequenceNumber,{targetId:0,path:yo(e.path),sequenceNumber:r}));var r}class e4{constructor(){this.changes=new Vf(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Yr.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?Ae.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class HQ{constructor(e){this.It=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return wm(e).put(r)}removeEntry(e,t,r){return wm(e).delete(function(i,u){const c=i.path.toArray();return[c.slice(0,c.length-2),c[c.length-2],Gx(u),c[c.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.Qn(e,r)))}getEntry(e,t){let r=Yr.newInvalidDocument(t);return wm(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(yC(t))},(i,u)=>{r=this.jn(t,u)}).next(()=>r)}Wn(e,t){let r={size:0,document:Yr.newInvalidDocument(t)};return wm(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(yC(t))},(i,u)=>{r={document:this.jn(t,u),size:Zx(u)}}).next(()=>r)}getEntries(e,t){let r=zo();return this.zn(e,t,(i,u)=>{const c=this.jn(i,u);r=r.insert(i,c)}).next(()=>r)}Hn(e,t){let r=zo(),i=new Si(bt.comparator);return this.zn(e,t,(u,c)=>{const p=this.jn(u,c);r=r.insert(u,p),i=i.insert(u,Zx(c))}).next(()=>({documents:r,Jn:i}))}zn(e,t,r){if(t.isEmpty())return Ae.resolve();let i=new Nr(i4);t.forEach(v=>i=i.add(v));const u=IDBKeyRange.bound(yC(i.first()),yC(i.last())),c=i.getIterator();let p=c.getNext();return wm(e).Z({index:"documentKeyIndex",range:u},(v,I,A)=>{const M=bt.fromSegments([...I.prefixPath,I.collectionGroup,I.documentId]);for(;p&&i4(p,M)<0;)r(p,null),p=c.getNext();p&&p.isEqual(M)&&(r(p,I),p=c.hasNext()?c.getNext():null),p?A.j(yC(p)):A.done()}).next(()=>{for(;p;)r(p,null),p=c.hasNext()?c.getNext():null})}getAllFromCollection(e,t,r){const i=[t.popLast().toArray(),t.lastSegment(),Gx(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],u=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return wm(e).W(IDBKeyRange.bound(i,u,!0)).next(c=>{let p=zo();for(const v of c){const I=this.jn(bt.fromSegments(v.prefixPath.concat(v.collectionGroup,v.documentId)),v);p=p.insert(I.key,I)}return p})}getAllFromCollectionGroup(e,t,r,i){let u=zo();const c=r4(t,r),p=r4(t,ya.max());return wm(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(c,p,!0)},(v,I,A)=>{const M=this.jn(bt.fromSegments(I.prefixPath.concat(I.collectionGroup,I.documentId)),I);u=u.insert(M.key,M),u.size===i&&A.done()}).next(()=>u)}newChangeBuffer(e){return new GQ(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return n4(e).get("remoteDocumentGlobalKey").next(t=>(on(!!t),t))}Qn(e,t){return n4(e).put("remoteDocumentGlobalKey",t)}jn(e,t){if(t){const r=function xQ(n,e){let t;if(e.document)t=TH(n.re,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=bt.fromSegments(e.noDocument.path),i=pm(e.noDocument.readTime);t=Yr.newNoDocument(r,i),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return Lt();{const r=bt.fromSegments(e.unknownDocument.path),i=pm(e.unknownDocument.version);t=Yr.newUnknownDocument(r,i)}}return e.readTime&&t.setReadTime(function(r){const i=new ui(r[0],r[1]);return an.fromTimestamp(i)}(e.readTime)),t}(this.It,t);if(!r.isNoDocument()||!r.version.isEqual(an.min()))return r}return Yr.newInvalidDocument(e)}}function t4(n){return new HQ(n)}class GQ extends e4{constructor(e,t){super(),this.Yn=e,this.trackRemovals=t,this.Xn=new Vf(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const t=[];let r=0,i=new Nr((u,c)=>wn(u.canonicalString(),c.canonicalString()));return this.changes.forEach((u,c)=>{const p=this.Xn.get(u);if(t.push(this.Yn.removeEntry(e,u,p.readTime)),c.isValidDocument()){const v=UH(this.Yn.It,c);i=i.add(u.path.popLast());const I=Zx(v);r+=I-p.size,t.push(this.Yn.addEntry(e,u,v))}else if(r-=p.size,this.trackRemovals){const v=UH(this.Yn.It,c.convertToNoDocument(an.min()));t.push(this.Yn.addEntry(e,u,v))}}),i.forEach(u=>{t.push(this.Yn.indexManager.addToCollectionParentIndex(e,u))}),t.push(this.Yn.updateMetadata(e,r)),Ae.waitFor(t)}getFromCache(e,t){return this.Yn.Wn(e,t).next(r=>(this.Xn.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this.Yn.Hn(e,t).next(({documents:r,Jn:i})=>(i.forEach((u,c)=>{this.Xn.set(u,{size:c,readTime:r.get(u).readTime})}),r))}}function n4(n){return Ds(n,"remoteDocumentGlobal")}function wm(n){return Ds(n,"remoteDocumentsV14")}function yC(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function r4(n,e){const t=e.documentKey.path.toArray();return[n,Gx(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function i4(n,e){const t=n.path.toArray(),r=e.path.toArray();let i=0;for(let u=0;u<t.length-2&&u<r.length-2;++u)if(i=wn(t[u],r[u]),i)return i;return i=wn(t.length,r.length),i||(i=wn(t[t.length-2],r[r.length-2]),i||wn(t[t.length-1],r[r.length-1]))}class WQ{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class s4{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.getBaseDocument(e,t,r))).next(i=>(null!==r&&iC(r.mutation,i,va.empty(),ui.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,xn()).next(()=>r))}getLocalViewOfDocuments(e,t,r=xn()){const i=ic();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(u=>{let c=sC();return u.forEach((p,v)=>{c=c.insert(p,v.overlayedDocument)}),c}))}getOverlayedDocuments(e,t){const r=ic();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,xn()))}populateOverlays(e,t,r){const i=[];return r.forEach(u=>{t.has(u)||i.push(u)}),this.documentOverlayCache.getOverlays(e,i).next(u=>{u.forEach((c,p)=>{t.set(c,p)})})}computeViews(e,t,r,i){let u=zo();const c=oC(),p=oC();return t.forEach((v,I)=>{const A=r.get(I.key);i.has(I.key)&&(void 0===A||A.mutation instanceof Rd)?u=u.insert(I.key,I):void 0!==A&&(c.set(I.key,A.mutation.getFieldMask()),iC(A.mutation,I,A.mutation.getFieldMask(),ui.now()))}),this.recalculateAndSaveOverlays(e,u).next(v=>(v.forEach((I,A)=>c.set(I,A)),t.forEach((I,A)=>{var M;return p.set(I,new WQ(A,null!==(M=c.get(I))&&void 0!==M?M:null))}),p))}recalculateAndSaveOverlays(e,t){const r=oC();let i=new Si((c,p)=>c-p),u=xn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(c=>{for(const p of c)p.keys().forEach(v=>{const I=t.get(v);if(null===I)return;let A=r.get(v)||va.empty();A=p.applyToLocalView(I,A),r.set(v,A);const M=(i.get(p.batchId)||xn()).add(v);i=i.insert(p.batchId,M)})}).next(()=>{const c=[],p=i.getReverseIterator();for(;p.hasNext();){const v=p.getNext(),I=v.key,A=v.value,M=gH();A.forEach(P=>{if(!u.has(P)){const $=oH(t.get(P),r.get(P));null!==$&&M.set(P,$),u=u.add(P)}}),c.push(this.documentOverlayCache.saveOverlays(e,I,M))}return Ae.waitFor(c)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r){return bt.isDocumentKey((i=t).path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):iF(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r):this.getDocumentsMatchingCollectionQuery(e,t,r);var i}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(u=>{const c=i-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-u.size):Ae.resolve(ic());let p=-1,v=u;return c.next(I=>Ae.forEach(I,(A,M)=>(p<M.largestBatchId&&(p=M.largestBatchId),u.get(A)?Ae.resolve():this.getBaseDocument(e,A,M).next(P=>{v=v.insert(A,P)}))).next(()=>this.populateOverlays(e,I,u)).next(()=>this.computeViews(e,v,I,xn())).next(A=>({batchId:p,changes:pH(A)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new bt(t)).next(r=>{let i=sC();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r){const i=t.collectionGroup;let u=sC();return this.indexManager.getCollectionParents(e,i).next(c=>Ae.forEach(c,p=>{const v=(I=t,A=p.child(i),new Md(A,null,I.explicitOrderBy.slice(),I.filters.slice(),I.limit,I.limitType,I.startAt,I.endAt));var I,A;return this.getDocumentsMatchingCollectionQuery(e,v,r).next(I=>{I.forEach((A,M)=>{u=u.insert(A,M)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,t,r){let i;return this.remoteDocumentCache.getAllFromCollection(e,t.path,r).next(u=>(i=u,this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId))).next(u=>{u.forEach((p,v)=>{const I=v.getKey();null===i.get(I)&&(i=i.insert(I,Yr.newInvalidDocument(I)))});let c=sC();return i.forEach((p,v)=>{const I=u.get(p);void 0!==I&&iC(I.mutation,v,va.empty(),ui.now()),oF(t,v)&&(c=c.insert(p,v))}),c})}getBaseDocument(e,t,r){return null===r||1===r.mutation.type?this.remoteDocumentCache.getEntry(e,t):Ae.resolve(Yr.newInvalidDocument(t))}}class zQ{constructor(e){this.It=e,this.Zn=new Map,this.ts=new Map}getBundleMetadata(e,t){return Ae.resolve(this.Zn.get(t))}saveBundleMetadata(e,t){var r;return this.Zn.set(t.id,{id:(r=t).id,version:r.version,createTime:Cs(r.createTime)}),Ae.resolve()}getNamedQuery(e,t){return Ae.resolve(this.ts.get(t))}saveNamedQuery(e,t){return this.ts.set(t.name,{name:(r=t).name,query:mF(r.bundledQuery),readTime:Cs(r.readTime)}),Ae.resolve();var r}}class qQ{constructor(){this.overlays=new Si(bt.comparator),this.es=new Map}getOverlay(e,t){return Ae.resolve(this.overlays.get(t))}getOverlays(e,t){const r=ic();return Ae.forEach(t,i=>this.getOverlay(e,i).next(u=>{null!==u&&r.set(i,u)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,u)=>{this.ue(e,t,u)}),Ae.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.es.get(r);return void 0!==i&&(i.forEach(u=>this.overlays=this.overlays.remove(u)),this.es.delete(r)),Ae.resolve()}getOverlaysForCollection(e,t,r){const i=ic(),u=t.length+1,c=new bt(t.child("")),p=this.overlays.getIteratorFrom(c);for(;p.hasNext();){const v=p.getNext().value,I=v.getKey();if(!t.isPrefixOf(I.path))break;I.path.length===u&&v.largestBatchId>r&&i.set(v.getKey(),v)}return Ae.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let u=new Si((I,A)=>I-A);const c=this.overlays.getIterator();for(;c.hasNext();){const I=c.getNext().value;if(I.getKey().getCollectionGroup()===t&&I.largestBatchId>r){let A=u.get(I.largestBatchId);null===A&&(A=ic(),u=u.insert(I.largestBatchId,A)),A.set(I.getKey(),I)}}const p=ic(),v=u.getIterator();for(;v.hasNext()&&(v.getNext().value.forEach((I,A)=>p.set(I,A)),!(p.size()>=i)););return Ae.resolve(p)}ue(e,t,r){const i=this.overlays.get(r.key);if(null!==i){const c=this.es.get(i.largestBatchId).delete(r.key);this.es.set(i.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new gF(t,r));let u=this.es.get(t);void 0===u&&(u=xn(),this.es.set(t,u)),this.es.set(t,u.add(r.key))}}class vF{constructor(){this.ns=new Nr(Ts.ss),this.rs=new Nr(Ts.os)}isEmpty(){return this.ns.isEmpty()}addReference(e,t){const r=new Ts(e,t);this.ns=this.ns.add(r),this.rs=this.rs.add(r)}us(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.cs(new Ts(e,t))}hs(e,t){e.forEach(r=>this.removeReference(r,t))}ls(e){const t=new bt(new nr([])),r=new Ts(t,e),i=new Ts(t,e+1),u=[];return this.rs.forEachInRange([r,i],c=>{this.cs(c),u.push(c.key)}),u}fs(){this.ns.forEach(e=>this.cs(e))}cs(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}ds(e){const t=new bt(new nr([])),r=new Ts(t,e),i=new Ts(t,e+1);let u=xn();return this.rs.forEachInRange([r,i],c=>{u=u.add(c.key)}),u}containsKey(e){const t=new Ts(e,0),r=this.ns.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class Ts{constructor(e,t){this.key=e,this._s=t}static ss(e,t){return bt.comparator(e.key,t.key)||wn(e._s,t._s)}static os(e,t){return wn(e._s,t._s)||bt.comparator(e.key,t.key)}}class ZQ{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.ws=1,this.gs=new Nr(Ts.ss)}checkEmpty(e){return Ae.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,i){const u=this.ws;this.ws++;const c=new fF(u,t,r,i);this.mutationQueue.push(c);for(const p of i)this.gs=this.gs.add(new Ts(p.key,u)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return Ae.resolve(c)}lookupMutationBatch(e,t){return Ae.resolve(this.ys(t))}getNextMutationBatchAfterBatchId(e,t){const i=this.ps(t+1),u=i<0?0:i;return Ae.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return Ae.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(e){return Ae.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Ts(t,0),i=new Ts(t,Number.POSITIVE_INFINITY),u=[];return this.gs.forEachInRange([r,i],c=>{const p=this.ys(c._s);u.push(p)}),Ae.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Nr(wn);return t.forEach(i=>{const u=new Ts(i,0),c=new Ts(i,Number.POSITIVE_INFINITY);this.gs.forEachInRange([u,c],p=>{r=r.add(p._s)})}),Ae.resolve(this.Is(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let u=r;bt.isDocumentKey(u)||(u=u.child(""));const c=new Ts(new bt(u),0);let p=new Nr(wn);return this.gs.forEachWhile(v=>{const I=v.key.path;return!!r.isPrefixOf(I)&&(I.length===i&&(p=p.add(v._s)),!0)},c),Ae.resolve(this.Is(p))}Is(e){const t=[];return e.forEach(r=>{const i=this.ys(r);null!==i&&t.push(i)}),t}removeMutationBatch(e,t){on(0===this.Ts(t.batchId,"removed")),this.mutationQueue.shift();let r=this.gs;return Ae.forEach(t.mutations,i=>{const u=new Ts(i.key,t.batchId);return r=r.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.gs=r})}An(e){}containsKey(e,t){const r=new Ts(t,0),i=this.gs.firstAfterOrEqual(r);return Ae.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return Ae.resolve()}Ts(e,t){return this.ps(e)}ps(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}ys(e){const t=this.ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class KQ{constructor(e){this.Es=e,this.docs=new Si(bt.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),u=i?i.size:0,c=this.Es(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:c}),this.size+=c-u,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return Ae.resolve(r?r.document.mutableCopy():Yr.newInvalidDocument(t))}getEntries(e,t){let r=zo();return t.forEach(i=>{const u=this.docs.get(i);r=r.insert(i,u?u.document.mutableCopy():Yr.newInvalidDocument(i))}),Ae.resolve(r)}getAllFromCollection(e,t,r){let i=zo();const u=new bt(t.child("")),c=this.docs.getIteratorFrom(u);for(;c.hasNext();){const{key:p,value:{document:v}}=c.getNext();if(!t.isPrefixOf(p.path))break;p.path.length>t.length+1||YL(D6(v),r)<=0||(i=i.insert(v.key,v.mutableCopy()))}return Ae.resolve(i)}getAllFromCollectionGroup(e,t,r,i){Lt()}As(e,t){return Ae.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new YQ(this)}getSize(e){return Ae.resolve(this.size)}}class YQ extends e4{constructor(e){super(),this.Yn=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Yn.addEntry(e,i)):this.Yn.removeEntry(r)}),Ae.waitFor(t)}getFromCache(e,t){return this.Yn.getEntry(e,t)}getAllFromCache(e,t){return this.Yn.getEntries(e,t)}}class QQ{constructor(e){this.persistence=e,this.Rs=new Vf(t=>cm(t),tC),this.lastRemoteSnapshotVersion=an.min(),this.highestTargetId=0,this.bs=0,this.Ps=new vF,this.targetCount=0,this.vs=vm.Pn()}forEachTarget(e,t){return this.Rs.forEach((r,i)=>t(i)),Ae.resolve()}getLastRemoteSnapshotVersion(e){return Ae.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Ae.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.vs.next(),Ae.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.bs&&(this.bs=t),Ae.resolve()}Dn(e){this.Rs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.vs=new vm(t),this.highestTargetId=t),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,t){return this.Dn(t),this.targetCount+=1,Ae.resolve()}updateTargetData(e,t){return this.Dn(t),Ae.resolve()}removeTargetData(e,t){return this.Rs.delete(t.target),this.Ps.ls(t.targetId),this.targetCount-=1,Ae.resolve()}removeTargets(e,t,r){let i=0;const u=[];return this.Rs.forEach((c,p)=>{p.sequenceNumber<=t&&null===r.get(p.targetId)&&(this.Rs.delete(c),u.push(this.removeMatchingKeysForTargetId(e,p.targetId)),i++)}),Ae.waitFor(u).next(()=>i)}getTargetCount(e){return Ae.resolve(this.targetCount)}getTargetData(e,t){const r=this.Rs.get(t)||null;return Ae.resolve(r)}addMatchingKeys(e,t,r){return this.Ps.us(t,r),Ae.resolve()}removeMatchingKeys(e,t,r){this.Ps.hs(t,r);const i=this.persistence.referenceDelegate,u=[];return i&&t.forEach(c=>{u.push(i.markPotentiallyOrphaned(e,c))}),Ae.waitFor(u)}removeMatchingKeysForTargetId(e,t){return this.Ps.ls(t),Ae.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Ps.ds(t);return Ae.resolve(r)}containsKey(e,t){return Ae.resolve(this.Ps.containsKey(t))}}class o4{constructor(e,t){this.Vs={},this.overlays={},this.Ss=new Wo(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=e(this),this.Cs=new QQ(this),this.indexManager=new LQ,this.remoteDocumentCache=new KQ(r=>this.referenceDelegate.xs(r)),this.It=new FH(t),this.Ns=new zQ(this.It)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new qQ,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Vs[e.toKey()];return r||(r=new ZQ(t,this.referenceDelegate),this.Vs[e.toKey()]=r),r}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(e,t,r){ut("MemoryPersistence","Starting transaction:",e);const i=new JQ(this.Ss.next());return this.referenceDelegate.ks(),r(i).next(u=>this.referenceDelegate.Os(i).next(()=>u)).toPromise().then(u=>(i.raiseOnCommittedEvent(),u))}Ms(e,t){return Ae.or(Object.values(this.Vs).map(r=>()=>r.containsKey(e,t)))}}class JQ extends S6{constructor(e){super(),this.currentSequenceNumber=e}}class Qx{constructor(e){this.persistence=e,this.Fs=new vF,this.$s=null}static Bs(e){return new Qx(e)}get Ls(){if(this.$s)return this.$s;throw Lt()}addReference(e,t,r){return this.Fs.addReference(r,t),this.Ls.delete(r.toString()),Ae.resolve()}removeReference(e,t,r){return this.Fs.removeReference(r,t),this.Ls.add(r.toString()),Ae.resolve()}markPotentiallyOrphaned(e,t){return this.Ls.add(t.toString()),Ae.resolve()}removeTarget(e,t){this.Fs.ls(t.targetId).forEach(i=>this.Ls.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(u=>this.Ls.add(u.toString()))}).next(()=>r.removeTargetData(e,t))}ks(){this.$s=new Set}Os(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ae.forEach(this.Ls,r=>{const i=bt.fromPath(r);return this.Us(e,i).next(u=>{u||t.removeEntry(i,an.min())})}).next(()=>(this.$s=null,t.apply(e)))}updateLimboDocument(e,t){return this.Us(e,t).next(r=>{r?this.Ls.delete(t.toString()):this.Ls.add(t.toString())})}xs(e){return 0}Us(e,t){return Ae.or([()=>Ae.resolve(this.Fs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ms(e,t)])}}class XQ{constructor(e){this.It=e}$(e,t,r,i){const u=new Mx("createOrUpgrade",t);var p;r<1&&i>=1&&(e.createObjectStore("owner"),(p=e).createObjectStore("mutationQueues",{keyPath:"userId"}),p.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",RH,{unique:!0}),p.createObjectStore("documentMutations"),a4(e),function(p){p.createObjectStore("remoteDocuments")}(e));let c=Ae.resolve();return r<3&&i>=3&&(0!==r&&(function(p){p.deleteObjectStore("targetDocuments"),p.deleteObjectStore("targets"),p.deleteObjectStore("targetGlobal")}(e),a4(e)),c=c.next(()=>function(p){const v=p.store("targetGlobal"),I={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:an.min().toTimestamp(),targetCount:0};return v.put("targetGlobalKey",I)}(u))),r<4&&i>=4&&(0!==r&&(c=c.next(()=>function(p,v){return v.store("mutations").W().next(I=>{p.deleteObjectStore("mutations"),p.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",RH,{unique:!0});const A=v.store("mutations"),M=I.map(P=>A.put(P));return Ae.waitFor(M)})}(e,u))),c=c.next(()=>{!function(p){p.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),r<5&&i>=5&&(c=c.next(()=>this.qs(u))),r<6&&i>=6&&(c=c.next(()=>(function(p){p.createObjectStore("remoteDocumentGlobal")}(e),this.Ks(u)))),r<7&&i>=7&&(c=c.next(()=>this.Gs(u))),r<8&&i>=8&&(c=c.next(()=>this.Qs(e,u))),r<9&&i>=9&&(c=c.next(()=>{!function(p){p.objectStoreNames.contains("remoteDocumentChanges")&&p.deleteObjectStore("remoteDocumentChanges")}(e)})),r<10&&i>=10&&(c=c.next(()=>this.js(u))),r<11&&i>=11&&(c=c.next(()=>{(function(p){p.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(p){p.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(c=c.next(()=>{!function(p){const v=p.createObjectStore("documentOverlays",{keyPath:CQ});v.createIndex("collectionPathOverlayIndex",DQ,{unique:!1}),v.createIndex("collectionGroupOverlayIndex",TQ,{unique:!1})}(e)})),r<13&&i>=13&&(c=c.next(()=>function(p){const v=p.createObjectStore("remoteDocumentsV14",{keyPath:fQ});v.createIndex("documentKeyIndex",pQ),v.createIndex("collectionGroupIndex",gQ)}(e)).next(()=>this.Ws(e,u)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(c=c.next(()=>this.zs(e,u))),r<15&&i>=15&&(c=c.next(()=>function(p){p.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),p.createObjectStore("indexState",{keyPath:wQ}).createIndex("sequenceNumberIndex",EQ,{unique:!1}),p.createObjectStore("indexEntries",{keyPath:bQ}).createIndex("documentKeyIndex",IQ,{unique:!1})}(e))),c}Ks(e){let t=0;return e.store("remoteDocuments").Z((r,i)=>{t+=Zx(i)}).next(()=>{const r={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}qs(e){const t=e.store("mutationQueues"),r=e.store("mutations");return t.W().next(i=>Ae.forEach(i,u=>{const c=IDBKeyRange.bound([u.userId,-1],[u.userId,u.lastAcknowledgedBatchId]);return r.W("userMutationsIndex",c).next(p=>Ae.forEach(p,v=>{on(v.userId===u.userId);const I=gm(this.It,v);return KH(e,u.userId,I).next(()=>{})}))}))}Gs(e){const t=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const u=[];return r.Z((c,p)=>{const v=new nr(c),I=[0,yo(v)];u.push(t.get(I).next(A=>A?Ae.resolve():t.put({targetId:0,path:yo(v),sequenceNumber:i.highestListenSequenceNumber})))}).next(()=>Ae.waitFor(u))})}Qs(e,t){e.createObjectStore("collectionParents",{keyPath:vQ});const r=t.store("collectionParents"),i=new yF,u=c=>{if(i.add(c)){const p=c.lastSegment(),v=c.popLast();return r.put({collectionId:p,parent:yo(v)})}};return t.store("remoteDocuments").Z({X:!0},(c,p)=>{const v=new nr(c);return u(v.popLast())}).next(()=>t.store("documentMutations").Z({X:!0},([c,p,v],I)=>{const A=oc(p);return u(A.popLast())}))}js(e){const t=e.store("targets");return t.Z((r,i)=>{const u=fC(i),c=VH(this.It,u);return t.put(c)})}Ws(e,t){const r=t.store("remoteDocuments"),i=[];return r.Z((u,c)=>{const p=t.store("remoteDocumentsV14"),v=(I=c,I.document?new bt(nr.fromString(I.document.name).popFirst(5)):I.noDocument?bt.fromSegments(I.noDocument.path):I.unknownDocument?bt.fromSegments(I.unknownDocument.path):Lt()).path.toArray();var I;const A={prefixPath:v.slice(0,v.length-2),collectionGroup:v[v.length-2],documentId:v[v.length-1],readTime:c.readTime||[0,0],unknownDocument:c.unknownDocument,noDocument:c.noDocument,document:c.document,hasCommittedMutations:!!c.hasCommittedMutations};i.push(p.put(A))}).next(()=>Ae.waitFor(i))}zs(e,t){const r=t.store("mutations"),i=t4(this.It),u=new o4(Qx.Bs,this.It.re);return r.W().next(c=>{const p=new Map;return c.forEach(v=>{var I;let A=null!==(I=p.get(v.userId))&&void 0!==I?I:xn();gm(this.It,v).keys().forEach(M=>A=A.add(M)),p.set(v.userId,A)}),Ae.forEach(p,(v,I)=>{const A=new Is(I),M=Wx.oe(this.It,A),P=u.getIndexManager(A),$=Kx.oe(A,this.It,P,u.referenceDelegate);return new s4(i,$,M,P).recalculateAndSaveOverlaysForDocumentKeys(new hF(t,Wo.at),v).next()})})}}function a4(n){n.createObjectStore("targetDocuments",{keyPath:_Q}).createIndex("documentTargetsIndex",yQ,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",mQ,{unique:!0}),n.createObjectStore("targetGlobal")}const wF="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class EF{constructor(e,t,r,i,u,c,p,v,I,A,M=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.Hs=u,this.window=c,this.document=p,this.Js=I,this.Ys=A,this.Xs=M,this.Ss=null,this.Ds=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.ti=null,this.ei=null,this.ni=Number.NEGATIVE_INFINITY,this.si=P=>Promise.resolve(),!EF.C())throw new nt(Pe.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new $Q(this,i),this.ii=t+"main",this.It=new FH(v),this.ri=new Ju(this.ii,this.Xs,new XQ(this.It)),this.Cs=new UQ(this.referenceDelegate,this.It),this.remoteDocumentCache=t4(this.It),this.Ns=new NQ,this.window&&this.window.localStorage?this.oi=this.window.localStorage:(this.oi=null,!1===A&&Vi("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ui().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new nt(Pe.FAILED_PRECONDITION,wF);return this.ci(),this.ai(),this.hi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Cs.getHighestSequenceNumber(e))}).then(e=>{this.Ss=new Wo(e,this.Js)}).then(()=>{this.Ds=!0}).catch(e=>(this.ri&&this.ri.close(),Promise.reject(e)))}li(e){var t=this;return this.si=function(){var r=(0,ke.Z)(function*(i){if(t.started)return e(i)});return function(i){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ri.L(function(){var t=(0,ke.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Hs.enqueueAndForget((0,ke.Z)(function*(){t.started&&(yield t.ui())})))}ui(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Jx(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(e).next(t=>{t||(this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)))})}).next(()=>this.di(e)).next(t=>this.isPrimary&&!t?this._i(e).next(()=>!1):!!t&&this.wi(e).next(()=>!0))).catch(e=>{if(kf(e))return ut("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return ut("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Hs.enqueueRetryable(()=>this.si(e)),this.isPrimary=e})}fi(e){return vC(e).get("owner").next(t=>Ae.resolve(this.mi(t)))}gi(e){return Jx(e).delete(this.clientId)}yi(){var e=this;return(0,ke.Z)(function*(){if(e.isPrimary&&!e.pi(e.ni,18e5)){e.ni=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const i=Ds(r,"clientMetadata");return i.W().next(u=>{const c=e.Ii(u,18e5),p=u.filter(v=>-1===c.indexOf(v));return Ae.forEach(p,v=>i.delete(v.clientId)).next(()=>p)})}).catch(()=>[]);if(e.oi)for(const r of t)e.oi.removeItem(e.Ti(r.clientId))}})()}hi(){this.ei=this.Hs.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ui().then(()=>this.yi()).then(()=>this.hi()))}mi(e){return!!e&&e.ownerId===this.clientId}di(e){return this.Ys?Ae.resolve(!0):vC(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)){if(this.mi(t)&&this.networkEnabled)return!0;if(!this.mi(t)){if(!t.allowTabSynchronization)throw new nt(Pe.FAILED_PRECONDITION,wF);return!1}}return!(!this.networkEnabled||!this.inForeground)||Jx(e).W().next(r=>void 0===this.Ii(r,5e3).find(i=>{if(this.clientId!==i.clientId){const c=!this.inForeground&&i.inForeground,p=this.networkEnabled===i.networkEnabled;if(!this.networkEnabled&&i.networkEnabled||c&&p)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&ut("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,ke.Z)(function*(){e.Ds=!1,e.Ai(),e.ei&&(e.ei.cancel(),e.ei=null),e.Ri(),e.bi(),yield e.ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const r=new hF(t,Wo.at);return e._i(r).next(()=>e.gi(r))}),e.ri.close(),e.Pi()})()}Ii(e,t){return e.filter(r=>this.pi(r.updateTimeMs,t)&&!this.Ei(r.clientId))}vi(){return this.runTransaction("getActiveClients","readonly",e=>Jx(e).W().next(t=>this.Ii(t,18e5).map(r=>r.clientId)))}get started(){return this.Ds}getMutationQueue(e,t){return Kx.oe(e,this.It,t,this.referenceDelegate)}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new FQ(e,this.It.re.databaseId)}getDocumentOverlayCache(e){return Wx.oe(this.It,e)}getBundleCache(){return this.Ns}runTransaction(e,t,r){ut("IndexedDbPersistence","Starting transaction:",e);const i="readonly"===t?"readonly":"readwrite",u=15===(c=this.Xs)?AQ:14===c?LH:13===c?PH:12===c?SQ:11===c?OH:void Lt();var c;let p;return this.ri.runTransaction(e,i,u,v=>(p=new hF(v,this.Ss?this.Ss.next():Wo.at),"readwrite-primary"===t?this.fi(p).next(I=>!!I||this.di(p)).next(I=>{if(!I)throw Vi(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)),new nt(Pe.FAILED_PRECONDITION,T6);return r(p)}).next(I=>this.wi(p).next(()=>I)):this.Vi(p).next(()=>r(p)))).then(v=>(p.raiseOnCommittedEvent(),v))}Vi(e){return vC(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)&&!this.mi(t)&&!(this.Ys||this.allowTabSynchronization&&t.allowTabSynchronization))throw new nt(Pe.FAILED_PRECONDITION,wF)})}wi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return vC(e).put("owner",t)}static C(){return Ju.C()}_i(e){const t=vC(e);return t.get("owner").next(r=>this.mi(r)?(ut("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):Ae.resolve())}pi(e,t){const r=Date.now();return!(e<r-t||e>r&&(Vi(`Detected an update time that is in the future: ${e} > ${r}`),1))}ci(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ti=()=>{this.Hs.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ui()))},this.document.addEventListener("visibilitychange",this.ti),this.inForeground="visible"===this.document.visibilityState)}Ri(){this.ti&&(this.document.removeEventListener("visibilitychange",this.ti),this.ti=null)}ai(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Zs=()=>{this.Ai(),(0,q.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Hs.enterRestrictedMode(!0),this.Hs.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Zs))}bi(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}Ei(e){var t;try{const r=null!==(null===(t=this.oi)||void 0===t?void 0:t.getItem(this.Ti(e)));return ut("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return Vi("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}Ai(){if(this.oi)try{this.oi.setItem(this.Ti(this.clientId),String(Date.now()))}catch(e){Vi("Failed to set zombie client id.",e)}}Pi(){if(this.oi)try{this.oi.removeItem(this.Ti(this.clientId))}catch{}}Ti(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function vC(n){return Ds(n,"owner")}function Jx(n){return Ds(n,"clientMetadata")}function bF(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class IF{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Si=r,this.Di=i}static Ci(e,t){let r=xn(),i=xn();for(const u of t.docChanges)switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:i=i.add(u.doc.key)}return new IF(e,t.fromCache,r,i)}}class u4{constructor(){this.xi=!1}initialize(e,t){this.Ni=e,this.indexManager=t,this.xi=!0}getDocumentsMatchingQuery(e,t,r,i){return this.ki(e,t).next(u=>u||this.Oi(e,t,i,r)).next(u=>u||this.Mi(e,t))}ki(e,t){if(Z6(t))return Ae.resolve(null);let r=_o(t);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==t.limit&&1===i&&(t=Fx(t,null,"F"),r=_o(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(u=>{const c=xn(...u);return this.Ni.getDocuments(e,c).next(p=>this.indexManager.getMinOffset(e,r).next(v=>{const I=this.Fi(t,p);return this.$i(t,I,c,v.readTime)?this.ki(e,Fx(t,null,"F")):this.Bi(e,I,t,v)}))})))}Oi(e,t,r,i){return Z6(t)||i.isEqual(an.min())?this.Mi(e,t):this.Ni.getDocuments(e,r).next(u=>{const c=this.Fi(t,u);return this.$i(t,c,r,i)?this.Mi(e,t):(qL()<=da.in.DEBUG&&ut("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),sF(t)),this.Bi(e,c,t,C6(i,-1)))})}Fi(e,t){let r=new Nr(Q6(e));return t.forEach((i,u)=>{oF(e,u)&&(r=r.add(u))}),r}$i(e,t,r,i){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const u="F"===e.limitType?t.last():t.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(i)>0)}Mi(e,t){return qL()<=da.in.DEBUG&&ut("QueryEngine","Using full collection scan to execute query:",sF(t)),this.Ni.getDocumentsMatchingQuery(e,t,ya.min())}Bi(e,t,r,i){return this.Ni.getDocumentsMatchingQuery(e,r,i).next(u=>(t.forEach(c=>{u=u.insert(c.key,c)}),u))}}class eJ{constructor(e,t,r,i){this.persistence=e,this.Li=t,this.It=i,this.Ui=new Si(wn),this.qi=new Vf(u=>cm(u),tC),this.Ki=new Map,this.Gi=e.getRemoteDocumentCache(),this.Cs=e.getTargetCache(),this.Ns=e.getBundleCache(),this.Qi(r)}Qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new s4(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ui))}}function l4(n,e,t,r){return new eJ(n,e,t,r)}function c4(n,e){return CF.apply(this,arguments)}function CF(){return CF=(0,ke.Z)(function*(n,e){const t=Ct(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(u=>(i=u,t.Qi(e),t.mutationQueue.getAllMutationBatches(r))).next(u=>{const c=[],p=[];let v=xn();for(const I of i){c.push(I.batchId);for(const A of I.mutations)v=v.add(A.key)}for(const I of u){p.push(I.batchId);for(const A of I.mutations)v=v.add(A.key)}return t.localDocuments.getDocuments(r,v).next(I=>({ji:I,removedBatchIds:c,addedBatchIds:p}))})})}),CF.apply(this,arguments)}function tJ(n,e){const t=Ct(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),u=t.Gi.newChangeBuffer({trackRemovals:!0});return function(c,p,v,I){const A=v.batch,M=A.keys();let P=Ae.resolve();return M.forEach($=>{P=P.next(()=>I.getEntry(p,$)).next(Q=>{const le=v.docVersions.get($);on(null!==le),Q.version.compareTo(le)<0&&(A.applyToRemoteDocument(Q,v),Q.isValidDocument()&&(Q.setReadTime(v.commitVersion),I.addEntry(Q)))})}),P.next(()=>c.mutationQueue.removeMutationBatch(p,A))}(t,r,e,u).next(()=>u.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(c){let p=xn();for(let v=0;v<c.mutationResults.length;++v)c.mutationResults[v].transformResults.length>0&&(p=p.add(c.batch.mutations[v].key));return p}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function d4(n){const e=Ct(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Cs.getLastRemoteSnapshotVersion(t))}function nJ(n,e){const t=Ct(n),r=e.snapshotVersion;let i=t.Ui;return t.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const c=t.Gi.newChangeBuffer({trackRemovals:!0});i=t.Ui;const p=[];e.targetChanges.forEach((A,M)=>{const P=i.get(M);if(!P)return;p.push(t.Cs.removeMatchingKeys(u,A.removedDocuments,M).next(()=>t.Cs.addMatchingKeys(u,A.addedDocuments,M)));let $=P.withSequenceNumber(u.currentSequenceNumber);var Q,le,ye;e.targetMismatches.has(M)?$=$.withResumeToken(cs.EMPTY_BYTE_STRING,an.min()).withLastLimboFreeSnapshotVersion(an.min()):A.resumeToken.approximateByteSize()>0&&($=$.withResumeToken(A.resumeToken,r)),i=i.insert(M,$),le=$,ye=A,(0===(Q=P).resumeToken.approximateByteSize()||le.snapshotVersion.toMicroseconds()-Q.snapshotVersion.toMicroseconds()>=3e8||ye.addedDocuments.size+ye.modifiedDocuments.size+ye.removedDocuments.size>0)&&p.push(t.Cs.updateTargetData(u,$))});let v=zo(),I=xn();if(e.documentUpdates.forEach(A=>{e.resolvedLimboDocuments.has(A)&&p.push(t.persistence.referenceDelegate.updateLimboDocument(u,A))}),p.push(h4(u,c,e.documentUpdates).next(A=>{v=A.Wi,I=A.zi})),!r.isEqual(an.min())){const A=t.Cs.getLastRemoteSnapshotVersion(u).next(M=>t.Cs.setTargetsMetadata(u,u.currentSequenceNumber,r));p.push(A)}return Ae.waitFor(p).next(()=>c.apply(u)).next(()=>t.localDocuments.getLocalViewOfDocuments(u,v,I)).next(()=>v)}).then(u=>(t.Ui=i,u))}function h4(n,e,t){let r=xn(),i=xn();return t.forEach(u=>r=r.add(u)),e.getEntries(n,r).next(u=>{let c=zo();return t.forEach((p,v)=>{const I=u.get(p);v.isFoundDocument()!==I.isFoundDocument()&&(i=i.add(p)),v.isNoDocument()&&v.version.isEqual(an.min())?(e.removeEntry(p,v.readTime),c=c.insert(p,v)):!I.isValidDocument()||v.version.compareTo(I.version)>0||0===v.version.compareTo(I.version)&&I.hasPendingWrites?(e.addEntry(v),c=c.insert(p,v)):ut("LocalStore","Ignoring outdated watch update for ",p,". Current version:",I.version," Watch version:",v.version)}),{Wi:c,zi:i}})}function rJ(n,e){const t=Ct(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function qv(n,e){const t=Ct(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Cs.getTargetData(r,e).next(u=>u?(i=u,Ae.resolve(i)):t.Cs.allocateTargetId(r).next(c=>(i=new Bf(e,c,0,r.currentSequenceNumber),t.Cs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.Ui.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Ui=t.Ui.insert(r.targetId,r),t.qi.set(e,r.targetId)),r})}function Zv(n,e,t){return DF.apply(this,arguments)}function DF(){return DF=(0,ke.Z)(function*(n,e,t){const r=Ct(n),i=r.Ui.get(e),u=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",u,c=>r.persistence.referenceDelegate.removeTarget(c,i)))}catch(c){if(!kf(c))throw c;ut("LocalStore",`Failed to update sequence numbers for target ${e}: ${c}`)}r.Ui=r.Ui.remove(e),r.qi.delete(i.target)}),DF.apply(this,arguments)}function Xx(n,e,t){const r=Ct(n);let i=an.min(),u=xn();return r.persistence.runTransaction("Execute query","readonly",c=>function(p,v,I){const A=Ct(p),M=A.qi.get(I);return void 0!==M?Ae.resolve(A.Ui.get(M)):A.Cs.getTargetData(v,I)}(r,c,_o(e)).next(p=>{if(p)return i=p.lastLimboFreeSnapshotVersion,r.Cs.getMatchingKeysForTargetId(c,p.targetId).next(v=>{u=v})}).next(()=>r.Li.getDocumentsMatchingQuery(c,e,t?i:an.min(),t?u:xn())).next(p=>(g4(r,Y6(e),p),{documents:p,Hi:u})))}function f4(n,e){const t=Ct(n),r=Ct(t.Cs),i=t.Ui.get(e);return i?Promise.resolve(i.target):t.persistence.runTransaction("Get target data","readonly",u=>r.se(u,e).next(c=>c?c.target:null))}function p4(n,e){const t=Ct(n),r=t.Ki.get(e)||an.min();return t.persistence.runTransaction("Get new document changes","readonly",i=>t.Gi.getAllFromCollectionGroup(i,e,C6(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>(g4(t,e,i),i))}function g4(n,e,t){let r=n.Ki.get(e)||an.min();t.forEach((i,u)=>{u.readTime.compareTo(r)>0&&(r=u.readTime)}),n.Ki.set(e,r)}function TF(){return TF=(0,ke.Z)(function*(n,e,t,r){const i=Ct(n);let u=xn(),c=zo();for(const I of t){const A=e.Ji(I.metadata.name);I.document&&(u=u.add(A));const M=e.Yi(I);M.setReadTime(e.Xi(I.metadata.readTime)),c=c.insert(A,M)}const p=i.Gi.newChangeBuffer({trackRemovals:!0}),v=yield qv(i,(I=r,_o(Fv(nr.fromString(`__bundle__/docs/${I}`)))));var I;return i.persistence.runTransaction("Apply bundle documents","readwrite",I=>h4(I,p,c).next(A=>(p.apply(I),A)).next(A=>i.Cs.removeMatchingKeysForTargetId(I,v.targetId).next(()=>i.Cs.addMatchingKeys(I,u,v.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(I,A.Wi,A.zi)).next(()=>A.Wi)))}),TF.apply(this,arguments)}function sJ(n,e){return SF.apply(this,arguments)}function SF(){return SF=(0,ke.Z)(function*(n,e,t=xn()){const r=yield qv(n,_o(mF(e.bundledQuery))),i=Ct(n);return i.persistence.runTransaction("Save named query","readwrite",u=>{const c=Cs(e.readTime);if(r.snapshotVersion.compareTo(c)>=0)return i.Ns.saveNamedQuery(u,e);const p=r.withResumeToken(cs.EMPTY_BYTE_STRING,c);return i.Ui=i.Ui.insert(p.targetId,p),i.Cs.updateTargetData(u,p).next(()=>i.Cs.removeMatchingKeysForTargetId(u,r.targetId)).next(()=>i.Cs.addMatchingKeys(u,t,r.targetId)).next(()=>i.Ns.saveNamedQuery(u,e))})}),SF.apply(this,arguments)}function m4(n,e){return`firestore_clients_${n}_${e}`}function _4(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function AF(n,e){return`firestore_targets_${n}_${e}`}class eN{constructor(e,t,r,i){this.user=e,this.batchId=t,this.state=r,this.error=i}static Zi(e,t,r){const i=JSON.parse(r);let u,c="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return c&&i.error&&(c="string"==typeof i.error.message&&"string"==typeof i.error.code,c&&(u=new nt(i.error.code,i.error.message))),c?new eN(e,t,i.state,u):(Vi("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class wC{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static Zi(e,t){const r=JSON.parse(t);let i,u="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return u&&r.error&&(u="string"==typeof r.error.message&&"string"==typeof r.error.code,u&&(i=new nt(r.error.code,r.error.message))),u?new wC(e,r.state,i):(Vi("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class tN{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Zi(e,t){const r=JSON.parse(t);let i="object"==typeof r&&r.activeTargetIds instanceof Array,u=jx();for(let c=0;i&&c<r.activeTargetIds.length;++c)i=k6(r.activeTargetIds[c]),u=u.add(r.activeTargetIds[c]);return i?new tN(e,u):(Vi("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class xF{constructor(e,t){this.clientId=e,this.onlineState=t}static Zi(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new xF(t.clientId,t.onlineState):(Vi("SharedClientState",`Failed to parse online state: ${e}`),null)}}class NF{constructor(){this.activeTargetIds=jx()}er(e){this.activeTargetIds=this.activeTargetIds.add(e)}nr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}tr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class MF{constructor(e,t,r,i,u){this.window=e,this.Hs=t,this.persistenceKey=r,this.sr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ir=this.rr.bind(this),this.ur=new Si(wn),this.started=!1,this.cr=[];const c=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=u,this.ar=m4(this.persistenceKey,this.sr),this.hr=`firestore_sequence_number_${this.persistenceKey}`,this.ur=this.ur.insert(this.sr,new NF),this.lr=new RegExp(`^firestore_clients_${c}_([^_]*)$`),this.dr=new RegExp(`^firestore_mutations_${c}_(\\d+)(?:_(.*))?$`),this._r=new RegExp(`^firestore_targets_${c}_(\\d+)$`),this.wr=`firestore_online_state_${this.persistenceKey}`,this.mr=function(p){return`firestore_bundle_loaded_v2_${p}`}(this.persistenceKey),this.window.addEventListener("storage",this.ir)}static C(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,ke.Z)(function*(){const t=yield e.syncEngine.vi();for(const i of t){if(i===e.sr)continue;const u=e.getItem(m4(e.persistenceKey,i));if(u){const c=tN.Zi(i,u);c&&(e.ur=e.ur.insert(c.clientId,c))}}e.gr();const r=e.storage.getItem(e.wr);if(r){const i=e.yr(r);i&&e.pr(i)}for(const i of e.cr)e.rr(i);e.cr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.hr,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Ir(this.ur)}isActiveQueryTarget(e){let t=!1;return this.ur.forEach((r,i)=>{i.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Tr(e,"pending")}updateMutationState(e,t,r){this.Tr(e,t,r),this.Er(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(AF(this.persistenceKey,e));if(r){const i=wC.Zi(e,r);i&&(t=i.state)}}return this.Ar.er(e),this.gr(),t}removeLocalQueryTarget(e){this.Ar.nr(e),this.gr()}isLocalQueryTarget(e){return this.Ar.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(AF(this.persistenceKey,e))}updateQueryState(e,t,r){this.Rr(e,t,r)}handleUserChange(e,t,r){t.forEach(i=>{this.Er(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.br(e)}notifyBundleLoaded(e){this.Pr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ir),this.removeItem(this.ar),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return ut("SharedClientState","READ",e,t),t}setItem(e,t){ut("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){ut("SharedClientState","REMOVE",e),this.storage.removeItem(e)}rr(e){var t=this;const r=e;if(r.storageArea===this.storage){if(ut("SharedClientState","EVENT",r.key,r.newValue),r.key===this.ar)return void Vi("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Hs.enqueueRetryable((0,ke.Z)(function*(){if(t.started){if(null!==r.key)if(t.lr.test(r.key)){if(null==r.newValue){const i=t.vr(r.key);return t.Vr(i,null)}{const i=t.Sr(r.key,r.newValue);if(i)return t.Vr(i.clientId,i)}}else if(t.dr.test(r.key)){if(null!==r.newValue){const i=t.Dr(r.key,r.newValue);if(i)return t.Cr(i)}}else if(t._r.test(r.key)){if(null!==r.newValue){const i=t.Nr(r.key,r.newValue);if(i)return t.kr(i)}}else if(r.key===t.wr){if(null!==r.newValue){const i=t.yr(r.newValue);if(i)return t.pr(i)}}else if(r.key===t.hr){const i=function(u){let c=Wo.at;if(null!=u)try{const p=JSON.parse(u);on("number"==typeof p),c=p}catch(p){Vi("SharedClientState","Failed to read sequence number from WebStorage",p)}return c}(r.newValue);i!==Wo.at&&t.sequenceNumberHandler(i)}else if(r.key===t.mr){const i=t.Or(r.newValue);yield Promise.all(i.map(u=>t.syncEngine.Mr(u)))}}else t.cr.push(r)}))}}get Ar(){return this.ur.get(this.sr)}gr(){this.setItem(this.ar,this.Ar.tr())}Tr(e,t,r){const i=new eN(this.currentUser,e,t,r),u=_4(this.persistenceKey,this.currentUser,e);this.setItem(u,i.tr())}Er(e){const t=_4(this.persistenceKey,this.currentUser,e);this.removeItem(t)}br(e){this.storage.setItem(this.wr,JSON.stringify({clientId:this.sr,onlineState:e}))}Rr(e,t,r){const i=AF(this.persistenceKey,e),u=new wC(e,t,r);this.setItem(i,u.tr())}Pr(e){const t=JSON.stringify(Array.from(e));this.setItem(this.mr,t)}vr(e){const t=this.lr.exec(e);return t?t[1]:null}Sr(e,t){const r=this.vr(e);return tN.Zi(r,t)}Dr(e,t){const r=this.dr.exec(e),i=Number(r[1]);return eN.Zi(new Is(void 0!==r[2]?r[2]:null),i,t)}Nr(e,t){const r=this._r.exec(e),i=Number(r[1]);return wC.Zi(i,t)}yr(e){return xF.Zi(e)}Or(e){return JSON.parse(e)}Cr(e){var t=this;return(0,ke.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.Fr(e.batchId,e.state,e.error);ut("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}kr(e){return this.syncEngine.$r(e.targetId,e.state,e.error)}Vr(e,t){const r=t?this.ur.insert(e,t):this.ur.remove(e),i=this.Ir(this.ur),u=this.Ir(r),c=[],p=[];return u.forEach(v=>{i.has(v)||c.push(v)}),i.forEach(v=>{u.has(v)||p.push(v)}),this.syncEngine.Br(c,p).then(()=>{this.ur=r})}pr(e){this.ur.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Ir(e){let t=jx();return e.forEach((r,i)=>{t=t.unionWith(i.activeTargetIds)}),t}}class y4{constructor(){this.Lr=new NF,this.Ur={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Lr.er(e),this.Ur[e]||"not-current"}updateQueryState(e,t,r){this.Ur[e]=t}removeLocalQueryTarget(e){this.Lr.nr(e)}isLocalQueryTarget(e){return this.Lr.activeTargetIds.has(e)}clearQueryState(e){delete this.Ur[e]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(e){return this.Lr.activeTargetIds.has(e)}start(){return this.Lr=new NF,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class oJ{qr(e){}shutdown(){}}class v4{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}qr(e){this.Wr.push(e)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){ut("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Wr)e(0)}jr(){ut("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Wr)e(1)}static C(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const aJ={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class uJ{constructor(e){this.Hr=e.Hr,this.Jr=e.Jr}Yr(e){this.Xr=e}Zr(e){this.eo=e}onMessage(e){this.no=e}close(){this.Jr()}send(e){this.Hr(e)}so(){this.Xr()}io(e){this.eo(e)}ro(e){this.no(e)}}class lJ extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.oo=(e.ssl?"https":"http")+"://"+e.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get co(){return!1}ao(e,t,r,i,u){const c=this.ho(e,t);ut("RestConnection","Sending: ",c,r);const p={};return this.lo(p,i,u),this.fo(e,c,p,r).then(v=>(ut("RestConnection","Received: ",v),v),v=>{throw rm("RestConnection",`${e} failed with error: `,v,"url: ",c,"request:",r),v})}_o(e,t,r,i,u,c){return this.ao(e,t,r,i,u)}lo(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+Rv,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,u)=>e[u]=i),r&&r.headers.forEach((i,u)=>e[u]=i)}ho(e,t){return`${this.oo}/v1/${t}:${aJ[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}fo(e,t,r,i){return new Promise((u,c)=>{const p=new aY;p.setWithCredentials(!0),p.listenOnce(iY.COMPLETE,()=>{var I;try{switch(p.getLastErrorCode()){case zL.NO_ERROR:const A=p.getResponseJson();ut("Connection","XHR received:",JSON.stringify(A)),u(A);break;case zL.TIMEOUT:ut("Connection",'RPC "'+e+'" timed out'),c(new nt(Pe.DEADLINE_EXCEEDED,"Request time out"));break;case zL.HTTP_ERROR:const M=p.getStatus();if(ut("Connection",'RPC "'+e+'" failed with status:',M,"response text:",p.getResponseText()),M>0){let P=p.getResponseJson();Array.isArray(P)&&(P=P[0]);const $=null===(I=P)||void 0===I?void 0:I.error;if($&&$.status&&$.message){const Q=function(le){const ye=le.toLowerCase().replace(/_/g,"-");return Object.values(Pe).indexOf(ye)>=0?ye:Pe.UNKNOWN}($.status);c(new nt(Q,$.message))}else c(new nt(Pe.UNKNOWN,"Server responded with status "+p.getStatus()))}else c(new nt(Pe.UNAVAILABLE,"Connection failed."));break;default:Lt()}}finally{ut("Connection",'RPC "'+e+'" completed.')}});const v=JSON.stringify(i);p.send(t,"POST",v,r,15)})}wo(e,t,r){const i=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=nY(),c=rY(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(p.xmlHttpFactory=new oY({})),this.lo(p.initMessageHeaders,t,r),p.encodeInitMessageHeaders=!0;const v=i.join("");ut("Connection","Creating WebChannel: "+v,p);const I=u.createWebChannel(v,p);let A=!1,M=!1;const P=new uJ({Hr:Q=>{M?ut("Connection","Not sending because WebChannel is closed:",Q):(A||(ut("Connection","Opening WebChannel transport."),I.open(),A=!0),ut("Connection","WebChannel sending:",Q),I.send(Q))},Jr:()=>I.close()}),$=(Q,le,ye)=>{Q.listen(le,lt=>{try{ye(lt)}catch(dt){setTimeout(()=>{throw dt},0)}})};return $(I,Ax.EventType.OPEN,()=>{M||ut("Connection","WebChannel transport opened.")}),$(I,Ax.EventType.CLOSE,()=>{M||(M=!0,ut("Connection","WebChannel transport closed"),P.io())}),$(I,Ax.EventType.ERROR,Q=>{M||(M=!0,rm("Connection","WebChannel transport errored:",Q),P.io(new nt(Pe.UNAVAILABLE,"The operation could not be completed")))}),$(I,Ax.EventType.MESSAGE,Q=>{var le;if(!M){const ye=Q.data[0];on(!!ye);const lt=ye,dt=lt.error||(null===(le=lt[0])||void 0===le?void 0:le.error);if(dt){ut("Connection","WebChannel received error:",dt);const wt=dt.status;let _t=function(yt){const fn=es[yt];if(void 0!==fn)return hH(fn)}(wt),ft=dt.message;void 0===_t&&(_t=Pe.INTERNAL,ft="Unknown error status: "+wt+" with message "+dt.message),M=!0,P.io(new nt(_t,ft)),I.close()}else ut("Connection","WebChannel received:",ye),P.ro(ye)}}),$(c,sY.STAT_EVENT,Q=>{Q.stat===y6.PROXY?ut("Connection","Detected buffering proxy"):Q.stat===y6.NOPROXY&&ut("Connection","Detected no buffering proxy")}),setTimeout(()=>{P.so()},0),P}}function w4(){return typeof window<"u"?window:null}function nN(){return typeof document<"u"?document:null}function EC(n){return new eQ(n,!0)}class RF{constructor(e,t,r=1e3,i=1.5,u=6e4){this.Hs=e,this.timerId=t,this.mo=r,this.yo=i,this.po=u,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(e){this.cancel();const t=Math.floor(this.Io+this.bo()),r=Math.max(0,Date.now()-this.Eo),i=Math.max(0,t-r);i>0&&ut("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Io} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.To=this.Hs.enqueueAfterDelay(this.timerId,i,()=>(this.Eo=Date.now(),e())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){null!==this.To&&(this.To.skipDelay(),this.To=null)}cancel(){null!==this.To&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}class E4{constructor(e,t,r,i,u,c,p,v){this.Hs=e,this.vo=r,this.Vo=i,this.connection=u,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=p,this.listener=v,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new RF(e,t)}No(){return 1===this.state||5===this.state||this.ko()}ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Oo()}stop(){var e=this;return(0,ke.Z)(function*(){e.No()&&(yield e.close(0))})()}Mo(){this.state=0,this.xo.reset()}Fo(){this.ko()&&null===this.Do&&(this.Do=this.Hs.enqueueAfterDelay(this.vo,6e4,()=>this.$o()))}Bo(e){this.Lo(),this.stream.send(e)}$o(){var e=this;return(0,ke.Z)(function*(){if(e.ko())return e.close(0)})()}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}Uo(){this.Co&&(this.Co.cancel(),this.Co=null)}close(e,t){var r=this;return(0,ke.Z)(function*(){r.Lo(),r.Uo(),r.xo.cancel(),r.So++,4!==e?r.xo.reset():t&&t.code===Pe.RESOURCE_EXHAUSTED?(Vi(t.toString()),Vi("Using maximum backoff delay to prevent overloading the backend."),r.xo.Ao()):t&&t.code===Pe.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.qo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Zr(t)})()}qo(){}auth(){this.state=1;const e=this.Ko(this.So),t=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.So===t&&this.Go(r,i)},r=>{e(()=>{const i=new nt(Pe.UNKNOWN,"Fetching auth token failed: "+r.message);return this.Qo(i)})})}Go(e,t){const r=this.Ko(this.So);this.stream=this.jo(e,t),this.stream.Yr(()=>{r(()=>(this.state=2,this.Co=this.Hs.enqueueAfterDelay(this.Vo,1e4,()=>(this.ko()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(i=>{r(()=>this.Qo(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Oo(){var e=this;this.state=5,this.xo.Ro((0,ke.Z)(function*(){e.state=0,e.start()}))}Qo(e){return ut("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Ko(e){return t=>{this.Hs.enqueueAndForget(()=>this.So===e?t():(ut("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class cJ extends E4{constructor(e,t,r,i,u,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,c),this.It=u}jo(e,t){return this.connection.wo("Listen",e,t)}onMessage(e){this.xo.reset();const t=function rQ(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(v=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===v?1:"REMOVE"===v?2:"CURRENT"===v?3:"RESET"===v?4:Lt(),i=e.targetChange.targetIds||[],u=function(v,I){return v.gt?(on(void 0===I||"string"==typeof I),cs.fromBase64String(I||"")):(on(void 0===I||I instanceof Uint8Array),cs.fromUint8Array(I||new Uint8Array))}(n,e.targetChange.resumeToken),c=e.targetChange.cause,p=c&&function(v){const I=void 0===v.code?Pe.UNKNOWN:hH(v.code);return new nt(I,v.message||"")}(c);t=new _H(r,i,u,p||null)}else if("documentChange"in e){const r=e.documentChange,i=sc(n,r.document.name),u=Cs(r.document.updateTime),c=new js({mapValue:{fields:r.document.fields}}),p=Yr.newFoundDocument(i,u,c);t=new $x(r.targetIds||[],r.removedTargetIds||[],p.key,p)}else if("documentDelete"in e){const r=e.documentDelete,i=sc(n,r.document),u=r.readTime?Cs(r.readTime):an.min(),c=Yr.newNoDocument(i,u);t=new $x([],r.removedTargetIds||[],c.key,c)}else if("documentRemove"in e){const r=e.documentRemove,i=sc(n,r.document);t=new $x([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return Lt();{const r=e.filter,u=new zY(r.count||0);t=new mH(r.targetId,u)}}var v;return t}(this.It,e),r=function(i){if(!("targetChange"in i))return an.min();const u=i.targetChange;return u.targetIds&&u.targetIds.length?an.min():u.readTime?Cs(u.readTime):an.min()}(e);return this.listener.Wo(t,r)}zo(e){const t={};t.database=dC(this.It),t.addTarget=function(i,u){let c;const p=u.target;return c=Px(p)?{documents:SH(i,p)}:{query:dF(i,p)},c.targetId=u.targetId,u.resumeToken.approximateByteSize()>0?c.resumeToken=EH(i,u.resumeToken):u.snapshotVersion.compareTo(an.min())>0&&(c.readTime=lC(i,u.snapshotVersion.toTimestamp())),c}(this.It,e);const r=function sQ(n,e){const t=function(r,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Lt()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Bo(t)}Ho(e){const t={};t.database=dC(this.It),t.removeTarget=e,this.Bo(t)}}class dJ extends E4{constructor(e,t,r,i,u,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,c),this.It=u,this.Jo=!1}get Yo(){return this.Jo}start(){this.Jo=!1,this.lastStreamToken=void 0,super.start()}qo(){this.Jo&&this.Xo([])}jo(e,t){return this.connection.wo("Write",e,t)}onMessage(e){if(on(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();const t=function iQ(n,e){return n&&n.length>0?(on(void 0!==e),n.map(t=>function(r,i){let u=Cs(r.updateTime?r.updateTime:i);return u.isEqual(an.min())&&(u=Cs(i)),new HY(u,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=Cs(e.commitTime);return this.listener.Zo(r,t)}return on(!e.writeResults||0===e.writeResults.length),this.Jo=!0,this.listener.tu()}eu(){const e={};e.database=dC(this.It),this.Bo(e)}Xo(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>hC(this.It,r))};this.Bo(t)}}class hJ extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.It=i,this.nu=!1}su(){if(this.nu)throw new nt(Pe.FAILED_PRECONDITION,"The client has already been terminated.")}ao(e,t,r){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,u])=>this.connection.ao(e,t,r,i,u)).catch(i=>{throw"FirebaseError"===i.name?(i.code===Pe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new nt(Pe.UNKNOWN,i.toString())})}_o(e,t,r,i){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,c])=>this.connection._o(e,t,r,u,c,i)).catch(u=>{throw"FirebaseError"===u.name?(u.code===Pe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new nt(Pe.UNKNOWN,u.toString())})}terminate(){this.nu=!0}}class pJ{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}uu(){0===this.iu&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ru=null,this.au("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}hu(e){"Online"===this.state?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.cu("Offline")))}set(e){this.lu(),this.iu=0,"Online"===e&&(this.ou=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}au(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ou?(Vi(t),this.ou=!1):ut("OnlineStateTracker",t)}lu(){null!==this.ru&&(this.ru.cancel(),this.ru=null)}}class gJ{constructor(e,t,r,i,u){var c=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=u,this.mu.qr(p=>{r.enqueueAndForget((0,ke.Z)(function*(){var v;kd(c)&&(ut("RemoteStore","Restarting streams for network reachability change."),yield(v=(0,ke.Z)(function*(I){const A=Ct(I);A._u.add(4),yield Kv(A),A.gu.set("Unknown"),A._u.delete(4),yield bC(A)}),function(I){return v.apply(this,arguments)})(c))}))}),this.gu=new pJ(r,i)}}function bC(n){return OF.apply(this,arguments)}function OF(){return OF=(0,ke.Z)(function*(n){if(kd(n))for(const e of n.wu)yield e(!0)}),OF.apply(this,arguments)}function Kv(n){return PF.apply(this,arguments)}function PF(){return PF=(0,ke.Z)(function*(n){for(const e of n.wu)yield e(!1)}),PF.apply(this,arguments)}function rN(n,e){const t=Ct(n);t.du.has(e.targetId)||(t.du.set(e.targetId,e),UF(t)?FF(t):Qv(t).ko()&&LF(t,e))}function IC(n,e){const t=Ct(n),r=Qv(t);t.du.delete(e),r.ko()&&b4(t,e),0===t.du.size&&(r.ko()?r.Fo():kd(t)&&t.gu.set("Unknown"))}function LF(n,e){n.yu.Mt(e.targetId),Qv(n).zo(e)}function b4(n,e){n.yu.Mt(e),Qv(n).Ho(e)}function FF(n){n.yu=new QY({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),se:e=>n.du.get(e)||null}),Qv(n).start(),n.gu.uu()}function UF(n){return kd(n)&&!Qv(n).No()&&n.du.size>0}function kd(n){return 0===Ct(n)._u.size}function I4(n){n.yu=void 0}function mJ(n){return VF.apply(this,arguments)}function VF(){return VF=(0,ke.Z)(function*(n){n.du.forEach((e,t)=>{LF(n,e)})}),VF.apply(this,arguments)}function _J(n,e){return BF.apply(this,arguments)}function BF(){return BF=(0,ke.Z)(function*(n,e){I4(n),UF(n)?(n.gu.hu(e),FF(n)):n.gu.set("Unknown")}),BF.apply(this,arguments)}function yJ(n,e,t){return jF.apply(this,arguments)}function jF(){return jF=(0,ke.Z)(function*(n,e,t){if(n.gu.set("Online"),e instanceof _H&&2===e.state&&e.cause)try{yield(r=(0,ke.Z)(function*(i,u){const c=u.cause;for(const p of u.targetIds)i.du.has(p)&&(yield i.remoteSyncer.rejectListen(p,c),i.du.delete(p),i.yu.removeTarget(p))}),function(i,u){return r.apply(this,arguments)})(n,e)}catch(r){ut("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield iN(n,r)}else if(e instanceof $x?n.yu.Gt(e):e instanceof mH?n.yu.Yt(e):n.yu.Wt(e),!t.isEqual(an.min()))try{const r=yield d4(n.localStore);t.compareTo(r)>=0&&(yield function(i,u){const c=i.yu.te(u);return c.targetChanges.forEach((p,v)=>{if(p.resumeToken.approximateByteSize()>0){const I=i.du.get(v);I&&i.du.set(v,I.withResumeToken(p.resumeToken,u))}}),c.targetMismatches.forEach(p=>{const v=i.du.get(p);if(!v)return;i.du.set(p,v.withResumeToken(cs.EMPTY_BYTE_STRING,v.snapshotVersion)),b4(i,p);const I=new Bf(v.target,p,1,v.sequenceNumber);LF(i,I)}),i.remoteSyncer.applyRemoteEvent(c)}(n,t))}catch(r){ut("RemoteStore","Failed to raise snapshot:",r),yield iN(n,r)}var r}),jF.apply(this,arguments)}function iN(n,e,t){return $F.apply(this,arguments)}function $F(){return $F=(0,ke.Z)(function*(n,e,t){if(!kf(e))throw e;n._u.add(1),yield Kv(n),n.gu.set("Offline"),t||(t=()=>d4(n.localStore)),n.asyncQueue.enqueueRetryable((0,ke.Z)(function*(){ut("RemoteStore","Retrying IndexedDB access"),yield t(),n._u.delete(1),yield bC(n)}))}),$F.apply(this,arguments)}function C4(n,e){return e().catch(t=>iN(n,t,e))}function Yv(n){return HF.apply(this,arguments)}function HF(){return HF=(0,ke.Z)(function*(n){const e=Ct(n),t=Hf(e);let r=e.fu.length>0?e.fu[e.fu.length-1].batchId:-1;for(;vJ(e);)try{const i=yield rJ(e.localStore,r);if(null===i){0===e.fu.length&&t.Fo();break}r=i.batchId,wJ(e,i)}catch(i){yield iN(e,i)}D4(e)&&T4(e)}),HF.apply(this,arguments)}function vJ(n){return kd(n)&&n.fu.length<10}function wJ(n,e){n.fu.push(e);const t=Hf(n);t.ko()&&t.Yo&&t.Xo(e.mutations)}function D4(n){return kd(n)&&!Hf(n).No()&&n.fu.length>0}function T4(n){Hf(n).start()}function EJ(n){return GF.apply(this,arguments)}function GF(){return GF=(0,ke.Z)(function*(n){Hf(n).eu()}),GF.apply(this,arguments)}function bJ(n){return WF.apply(this,arguments)}function WF(){return WF=(0,ke.Z)(function*(n){const e=Hf(n);for(const t of n.fu)e.Xo(t.mutations)}),WF.apply(this,arguments)}function IJ(n,e,t){return zF.apply(this,arguments)}function zF(){return zF=(0,ke.Z)(function*(n,e,t){const r=n.fu.shift(),i=pF.from(r,e,t);yield C4(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield Yv(n)}),zF.apply(this,arguments)}function CJ(n,e){return qF.apply(this,arguments)}function qF(){return qF=(0,ke.Z)(function*(n,e){var t;e&&Hf(n).Yo&&(yield(t=(0,ke.Z)(function*(r,i){if(dH(u=i.code)&&u!==Pe.ABORTED){const c=r.fu.shift();Hf(r).Mo(),yield C4(r,()=>r.remoteSyncer.rejectFailedWrite(c.batchId,i)),yield Yv(r)}var u}),function(r,i){return t.apply(this,arguments)})(n,e)),D4(n)&&T4(n)}),qF.apply(this,arguments)}function S4(n,e){return ZF.apply(this,arguments)}function ZF(){return ZF=(0,ke.Z)(function*(n,e){const t=Ct(n);t.asyncQueue.verifyOperationInProgress(),ut("RemoteStore","RemoteStore received new credentials");const r=kd(t);t._u.add(3),yield Kv(t),r&&t.gu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t._u.delete(3),yield bC(t)}),ZF.apply(this,arguments)}function KF(n,e){return YF.apply(this,arguments)}function YF(){return YF=(0,ke.Z)(function*(n,e){const t=Ct(n);e?(t._u.delete(2),yield bC(t)):e||(t._u.add(2),yield Kv(t),t.gu.set("Unknown"))}),YF.apply(this,arguments)}function Qv(n){return n.pu||(n.pu=function(e,t,r){const i=Ct(e);return i.su(),new cJ(t,i.connection,i.authCredentials,i.appCheckCredentials,i.It,r)}(n.datastore,n.asyncQueue,{Yr:mJ.bind(null,n),Zr:_J.bind(null,n),Wo:yJ.bind(null,n)}),n.wu.push(function(){var e=(0,ke.Z)(function*(t){t?(n.pu.Mo(),UF(n)?FF(n):n.gu.set("Unknown")):(yield n.pu.stop(),I4(n))});return function(t){return e.apply(this,arguments)}}())),n.pu}function Hf(n){return n.Iu||(n.Iu=function(e,t,r){const i=Ct(e);return i.su(),new dJ(t,i.connection,i.authCredentials,i.appCheckCredentials,i.It,r)}(n.datastore,n.asyncQueue,{Yr:EJ.bind(null,n),Zr:CJ.bind(null,n),tu:bJ.bind(null,n),Zo:IJ.bind(null,n)}),n.wu.push(function(){var e=(0,ke.Z)(function*(t){t?(n.Iu.Mo(),yield Yv(n)):(yield n.Iu.stop(),n.fu.length>0&&(ut("RemoteStore",`Stopping write stream with ${n.fu.length} pending writes`),n.fu=[]))});return function(t){return e.apply(this,arguments)}}())),n.Iu}class QF{constructor(e,t,r,i,u){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=u,this.deferred=new ls,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}static createAndSchedule(e,t,r,i,u){const c=Date.now()+r,p=new QF(e,t,c,i,u);return p.start(r),p}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new nt(Pe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Jv(n,e){if(Vi("AsyncQueue",`${e}: ${n}`),kf(n))return new nt(Pe.UNAVAILABLE,`${e}: ${n}`);throw n}class Xv{constructor(e){this.comparator=e?(t,r)=>e(t,r)||bt.comparator(t.key,r.key):(t,r)=>bt.comparator(t.key,r.key),this.keyedMap=sC(),this.sortedSet=new Si(this.comparator)}static emptySet(e){return new Xv(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Xv)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,u=r.getNext().key;if(!i.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new Xv;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class A4{constructor(){this.Tu=new Si(bt.comparator)}track(e){const t=e.doc.key,r=this.Tu.get(t);r?0!==e.type&&3===r.type?this.Tu=this.Tu.insert(t,e):3===e.type&&1!==r.type?this.Tu=this.Tu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Tu=this.Tu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Tu=this.Tu.remove(t):1===e.type&&2===r.type?this.Tu=this.Tu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):Lt():this.Tu=this.Tu.insert(t,e)}Eu(){const e=[];return this.Tu.inorderTraversal((t,r)=>{e.push(r)}),e}}class e0{constructor(e,t,r,i,u,c,p,v,I){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=u,this.fromCache=c,this.syncStateChanged=p,this.excludesMetadataChanges=v,this.hasCachedResults=I}static fromInitialDocuments(e,t,r,i,u){const c=[];return t.forEach(p=>{c.push({type:0,doc:p})}),new e0(e,t,Xv.emptySet(t),c,r,i,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&nC(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class DJ{constructor(){this.Au=void 0,this.listeners=[]}}class TJ{constructor(){this.queries=new Vf(e=>K6(e),nC),this.onlineState="Unknown",this.Ru=new Set}}function JF(n,e){return XF.apply(this,arguments)}function XF(){return XF=(0,ke.Z)(function*(n,e){const t=Ct(n),r=e.query;let i=!1,u=t.queries.get(r);if(u||(i=!0,u=new DJ),i)try{u.Au=yield t.onListen(r)}catch(c){const p=Jv(c,`Initialization of query '${sF(e.query)}' failed`);return void e.onError(p)}t.queries.set(r,u),u.listeners.push(e),e.bu(t.onlineState),u.Au&&e.Pu(u.Au)&&n2(t)}),XF.apply(this,arguments)}function e2(n,e){return t2.apply(this,arguments)}function t2(){return t2=(0,ke.Z)(function*(n,e){const t=Ct(n),r=e.query;let i=!1;const u=t.queries.get(r);if(u){const c=u.listeners.indexOf(e);c>=0&&(u.listeners.splice(c,1),i=0===u.listeners.length)}if(i)return t.queries.delete(r),t.onUnlisten(r)}),t2.apply(this,arguments)}function SJ(n,e){const t=Ct(n);let r=!1;for(const i of e){const c=t.queries.get(i.query);if(c){for(const p of c.listeners)p.Pu(i)&&(r=!0);c.Au=i}}r&&n2(t)}function AJ(n,e,t){const r=Ct(n),i=r.queries.get(e);if(i)for(const u of i.listeners)u.onError(t);r.queries.delete(e)}function n2(n){n.Ru.forEach(e=>{e.next()})}class r2{constructor(e,t,r){this.query=e,this.vu=t,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=r||{}}Pu(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new e0(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),t=!0):this.Cu(e,this.onlineState)&&(this.xu(e),t=!0),this.Su=e,t}onError(e){this.vu.error(e)}bu(e){this.onlineState=e;let t=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),t=!0),t}Cu(e,t){return!e.fromCache||(!this.options.Nu||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Du(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}xu(e){e=e0.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Vu=!0,this.vu.next(e)}}class xJ{constructor(e,t){this.ku=e,this.byteLength=t}Ou(){return"metadata"in this.ku}}class x4{constructor(e){this.It=e}Ji(e){return sc(this.It,e)}Yi(e){return e.metadata.exists?TH(this.It,e.document,!1):Yr.newNoDocument(this.Ji(e.metadata.name),this.Xi(e.metadata.readTime))}Xi(e){return Cs(e)}}class NJ{constructor(e,t,r){this.Mu=e,this.localStore=t,this.It=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=N4(e)}Fu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.ku.namedQuery)this.queries.push(e.ku.namedQuery);else if(e.ku.documentMetadata){this.documents.push({metadata:e.ku.documentMetadata}),e.ku.documentMetadata.exists||++t;const r=nr.fromString(e.ku.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.ku.document&&(this.documents[this.documents.length-1].document=e.ku.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}$u(e){const t=new Map,r=new x4(this.It);for(const i of e)if(i.metadata.queries){const u=r.Ji(i.metadata.name);for(const c of i.metadata.queries){const p=(t.get(c)||xn()).add(u);t.set(c,p)}}return t}complete(){var e=this;return(0,ke.Z)(function*(){const t=yield function iJ(n,e,t,r){return TF.apply(this,arguments)}(e.localStore,new x4(e.It),e.documents,e.Mu.id),r=e.$u(e.documents);for(const i of e.queries)yield sJ(e.localStore,i,r.get(i.name));return e.progress.taskState="Success",{progress:e.progress,Bu:e.collectionGroups,Lu:t}})()}}function N4(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class M4{constructor(e){this.key=e}}class R4{constructor(e){this.key=e}}class k4{constructor(e,t){this.query=e,this.Uu=t,this.qu=null,this.hasCachedResults=!1,this.current=!1,this.Ku=xn(),this.mutatedKeys=xn(),this.Gu=Q6(e),this.Qu=new Xv(this.Gu)}get ju(){return this.Uu}Wu(e,t){const r=t?t.zu:new A4,i=t?t.Qu:this.Qu;let u=t?t.mutatedKeys:this.mutatedKeys,c=i,p=!1;const v="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,I="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((A,M)=>{const P=i.get(A),$=oF(this.query,M)?M:null,Q=!!P&&this.mutatedKeys.has(P.key),le=!!$&&($.hasLocalMutations||this.mutatedKeys.has($.key)&&$.hasCommittedMutations);let ye=!1;P&&$?P.data.isEqual($.data)?Q!==le&&(r.track({type:3,doc:$}),ye=!0):this.Hu(P,$)||(r.track({type:2,doc:$}),ye=!0,(v&&this.Gu($,v)>0||I&&this.Gu($,I)<0)&&(p=!0)):!P&&$?(r.track({type:0,doc:$}),ye=!0):P&&!$&&(r.track({type:1,doc:P}),ye=!0,(v||I)&&(p=!0)),ye&&($?(c=c.add($),u=le?u.add(A):u.delete(A)):(c=c.delete(A),u=u.delete(A)))}),null!==this.query.limit)for(;c.size>this.query.limit;){const A="F"===this.query.limitType?c.last():c.first();c=c.delete(A.key),u=u.delete(A.key),r.track({type:1,doc:A})}return{Qu:c,zu:r,$i:p,mutatedKeys:u}}Hu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const i=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;const u=e.zu.Eu();u.sort((I,A)=>function(M,P){const $=Q=>{switch(Q){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Lt()}};return $(M)-$(P)}(I.type,A.type)||this.Gu(I.doc,A.doc)),this.Ju(r);const c=t?this.Yu():[],p=0===this.Ku.size&&this.current?1:0,v=p!==this.qu;return this.qu=p,0!==u.length||v?{snapshot:new e0(this.query,e.Qu,i,u,e.mutatedKeys,0===p,v,!1,!!r&&r.resumeToken.approximateByteSize()>0),Xu:c}:{Xu:c}}bu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new A4,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Xu:[]}}Zu(e){return!this.Uu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}Ju(e){e&&(e.addedDocuments.forEach(t=>this.Uu=this.Uu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Uu=this.Uu.delete(t)),this.current=e.current)}Yu(){if(!this.current)return[];const e=this.Ku;this.Ku=xn(),this.Qu.forEach(r=>{this.Zu(r.key)&&(this.Ku=this.Ku.add(r.key))});const t=[];return e.forEach(r=>{this.Ku.has(r)||t.push(new R4(r))}),this.Ku.forEach(r=>{e.has(r)||t.push(new M4(r))}),t}tc(e){this.Uu=e.Hi,this.Ku=xn();const t=this.Wu(e.documents);return this.applyChanges(t,!0)}ec(){return e0.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.qu,this.hasCachedResults)}}class MJ{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class RJ{constructor(e){this.key=e,this.nc=!1}}class kJ{constructor(e,t,r,i,u,c){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=u,this.maxConcurrentLimboResolutions=c,this.sc={},this.ic=new Vf(p=>K6(p),nC),this.rc=new Map,this.oc=new Set,this.uc=new Si(bt.comparator),this.cc=new Map,this.ac=new vF,this.hc={},this.lc=new Map,this.fc=vm.vn(),this.onlineState="Unknown",this.dc=void 0}get isPrimaryClient(){return!0===this.dc}}function OJ(n,e){return s2.apply(this,arguments)}function s2(){return s2=(0,ke.Z)(function*(n,e){const t=A2(n);let r,i;const u=t.ic.get(e);if(u)r=u.targetId,t.sharedClientState.addLocalQueryTarget(r),i=u.view.ec();else{const c=yield qv(t.localStore,_o(e));t.isPrimaryClient&&rN(t.remoteStore,c);const p=t.sharedClientState.addLocalQueryTarget(c.targetId);r=c.targetId,i=yield o2(t,e,r,"current"===p,c.resumeToken)}return i}),s2.apply(this,arguments)}function o2(n,e,t,r,i){return a2.apply(this,arguments)}function a2(){return a2=(0,ke.Z)(function*(n,e,t,r,i){n._c=(M,P,$)=>{return(Q=(0,ke.Z)(function*(le,ye,lt,dt){let wt=ye.view.Wu(lt);wt.$i&&(wt=yield Xx(le.localStore,ye.query,!1).then(({documents:yt})=>ye.view.Wu(yt,wt)));const _t=dt&&dt.targetChanges.get(ye.targetId),ft=ye.view.applyChanges(wt,le.isPrimaryClient,_t);return _2(le,ye.targetId,ft.Xu),ft.snapshot}),function(le,ye,lt,dt){return Q.apply(this,arguments)})(n,M,P,$);var Q};const u=yield Xx(n.localStore,e,!0),c=new k4(e,u.Hi),p=c.Wu(u.documents),v=uC.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState,i),I=c.applyChanges(p,n.isPrimaryClient,v);_2(n,t,I.Xu);const A=new MJ(e,t,c);return n.ic.set(e,A),n.rc.has(t)?n.rc.get(t).push(e):n.rc.set(t,[e]),I.snapshot}),a2.apply(this,arguments)}function PJ(n,e){return u2.apply(this,arguments)}function u2(){return u2=(0,ke.Z)(function*(n,e){const t=Ct(n),r=t.ic.get(e),i=t.rc.get(r.targetId);if(i.length>1)return t.rc.set(r.targetId,i.filter(u=>!nC(u,e))),void t.ic.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Zv(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),IC(t.remoteStore,r.targetId),t0(t,r.targetId)}).catch(Rf))):(t0(t,r.targetId),yield Zv(t.localStore,r.targetId,!0))}),u2.apply(this,arguments)}function l2(){return l2=(0,ke.Z)(function*(n,e,t){const r=x2(n);try{const i=yield function(u,c){const p=Ct(u),v=ui.now(),I=c.reduce((P,$)=>P.add($.key),xn());let A,M;return p.persistence.runTransaction("Locally write mutations","readwrite",P=>{let $=zo(),Q=xn();return p.Gi.getEntries(P,I).next(le=>{$=le,$.forEach((ye,lt)=>{lt.isValidDocument()||(Q=Q.add(ye))})}).next(()=>p.localDocuments.getOverlayedDocuments(P,$)).next(le=>{A=le;const ye=[];for(const lt of c){const dt=WY(lt,A.get(lt.key).overlayedDocument);null!=dt&&ye.push(new Rd(lt.key,dt,B6(dt.value.mapValue),li.exists(!0)))}return p.mutationQueue.addMutationBatch(P,v,ye,c)}).next(le=>{M=le;const ye=le.applyToLocalDocumentSet(A,Q);return p.documentOverlayCache.saveOverlays(P,le.batchId,ye)})}).then(()=>({batchId:M.batchId,changes:pH(A)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(u,c,p){let v=u.hc[u.currentUser.toKey()];v||(v=new Si(wn)),v=v.insert(c,p),u.hc[u.currentUser.toKey()]=v}(r,i.batchId,t),yield Od(r,i.changes),yield Yv(r.remoteStore)}catch(i){const u=Jv(i,"Failed to persist write");t.reject(u)}}),l2.apply(this,arguments)}function O4(n,e){return c2.apply(this,arguments)}function c2(){return c2=(0,ke.Z)(function*(n,e){const t=Ct(n);try{const r=yield nJ(t.localStore,e);e.targetChanges.forEach((i,u)=>{const c=t.cc.get(u);c&&(on(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?c.nc=!0:i.modifiedDocuments.size>0?on(c.nc):i.removedDocuments.size>0&&(on(c.nc),c.nc=!1))}),yield Od(t,r,e)}catch(r){yield Rf(r)}}),c2.apply(this,arguments)}function P4(n,e,t){const r=Ct(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const i=[];r.ic.forEach((u,c)=>{const p=c.view.bu(e);p.snapshot&&i.push(p.snapshot)}),function(u,c){const p=Ct(u);p.onlineState=c;let v=!1;p.queries.forEach((I,A)=>{for(const M of A.listeners)M.bu(c)&&(v=!0)}),v&&n2(p)}(r.eventManager,e),i.length&&r.sc.Wo(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function FJ(n,e,t){return d2.apply(this,arguments)}function d2(){return d2=(0,ke.Z)(function*(n,e,t){const r=Ct(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.cc.get(e),u=i&&i.key;if(u){let c=new Si(bt.comparator);c=c.insert(u,Yr.newNoDocument(u,an.min()));const p=xn().add(u),v=new aC(an.min(),new Map,new Nr(wn),c,p);yield O4(r,v),r.uc=r.uc.remove(u),r.cc.delete(e),y2(r)}else yield Zv(r.localStore,e,!1).then(()=>t0(r,e,t)).catch(Rf)}),d2.apply(this,arguments)}function UJ(n,e){return h2.apply(this,arguments)}function h2(){return h2=(0,ke.Z)(function*(n,e){const t=Ct(n),r=e.batch.batchId;try{const i=yield tJ(t.localStore,e);m2(t,r,null),g2(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield Od(t,i)}catch(i){yield Rf(i)}}),h2.apply(this,arguments)}function VJ(n,e,t){return f2.apply(this,arguments)}function f2(){return f2=(0,ke.Z)(function*(n,e,t){const r=Ct(n);try{const i=yield function(u,c){const p=Ct(u);return p.persistence.runTransaction("Reject batch","readwrite-primary",v=>{let I;return p.mutationQueue.lookupMutationBatch(v,c).next(A=>(on(null!==A),I=A.keys(),p.mutationQueue.removeMutationBatch(v,A))).next(()=>p.mutationQueue.performConsistencyCheck(v)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(v,I,c)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,I)).next(()=>p.localDocuments.getDocuments(v,I))})}(r.localStore,e);m2(r,e,t),g2(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield Od(r,i)}catch(i){yield Rf(i)}}),f2.apply(this,arguments)}function p2(){return p2=(0,ke.Z)(function*(n,e){const t=Ct(n);kd(t.remoteStore)||ut("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(u){const c=Ct(u);return c.persistence.runTransaction("Get highest unacknowledged batch id","readonly",p=>c.mutationQueue.getHighestUnacknowledgedBatchId(p))}(t.localStore);if(-1===r)return void e.resolve();const i=t.lc.get(r)||[];i.push(e),t.lc.set(r,i)}catch(r){const i=Jv(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}),p2.apply(this,arguments)}function g2(n,e){(n.lc.get(e)||[]).forEach(t=>{t.resolve()}),n.lc.delete(e)}function m2(n,e,t){const r=Ct(n);let i=r.hc[r.currentUser.toKey()];if(i){const u=i.get(e);u&&(t?u.reject(t):u.resolve(),i=i.remove(e)),r.hc[r.currentUser.toKey()]=i}}function t0(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.rc.get(e))n.ic.delete(r),t&&n.sc.wc(r,t);n.rc.delete(e),n.isPrimaryClient&&n.ac.ls(e).forEach(r=>{n.ac.containsKey(r)||L4(n,r)})}function L4(n,e){n.oc.delete(e.path.canonicalString());const t=n.uc.get(e);null!==t&&(IC(n.remoteStore,t),n.uc=n.uc.remove(e),n.cc.delete(t),y2(n))}function _2(n,e,t){for(const r of t)r instanceof M4?(n.ac.addReference(r.key,e),jJ(n,r)):r instanceof R4?(ut("SyncEngine","Document no longer in limbo: "+r.key),n.ac.removeReference(r.key,e),n.ac.containsKey(r.key)||L4(n,r.key)):Lt()}function jJ(n,e){const t=e.key,r=t.path.canonicalString();n.uc.get(t)||n.oc.has(r)||(ut("SyncEngine","New document in limbo: "+t),n.oc.add(r),y2(n))}function y2(n){for(;n.oc.size>0&&n.uc.size<n.maxConcurrentLimboResolutions;){const e=n.oc.values().next().value;n.oc.delete(e);const t=new bt(nr.fromString(e)),r=n.fc.next();n.cc.set(r,new RJ(t)),n.uc=n.uc.insert(t,r),rN(n.remoteStore,new Bf(_o(Fv(t.path)),r,2,Wo.at))}}function Od(n,e,t){return v2.apply(this,arguments)}function v2(){return v2=(0,ke.Z)(function*(n,e,t){const r=Ct(n),i=[],u=[],c=[];var p;r.ic.isEmpty()||(r.ic.forEach((p,v)=>{c.push(r._c(v,e,t).then(I=>{if((I||t)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(v.targetId,I?.fromCache?"not-current":"current"),I){i.push(I);const A=IF.Ci(v.targetId,I);u.push(A)}}))}),yield Promise.all(c),r.sc.Wo(i),yield(p=(0,ke.Z)(function*(v,I){const A=Ct(v);try{yield A.persistence.runTransaction("notifyLocalViewChanges","readwrite",M=>Ae.forEach(I,P=>Ae.forEach(P.Si,$=>A.persistence.referenceDelegate.addReference(M,P.targetId,$)).next(()=>Ae.forEach(P.Di,$=>A.persistence.referenceDelegate.removeReference(M,P.targetId,$)))))}catch(M){if(!kf(M))throw M;ut("LocalStore","Failed to update sequence numbers: "+M)}for(const M of I){const P=M.targetId;if(!M.fromCache){const $=A.Ui.get(P),le=$.withLastLimboFreeSnapshotVersion($.snapshotVersion);A.Ui=A.Ui.insert(P,le)}}}),function(v,I){return p.apply(this,arguments)})(r.localStore,u))}),v2.apply(this,arguments)}function $J(n,e){return w2.apply(this,arguments)}function w2(){return w2=(0,ke.Z)(function*(n,e){const t=Ct(n);if(!t.currentUser.isEqual(e)){ut("SyncEngine","User change. New user:",e.toKey());const r=yield c4(t.localStore,e);t.currentUser=e,(i=t).lc.forEach(c=>{c.forEach(p=>{p.reject(new nt(Pe.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.lc.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Od(t,r.ji)}var i}),w2.apply(this,arguments)}function HJ(n,e){const t=Ct(n),r=t.cc.get(e);if(r&&r.nc)return xn().add(r.key);{let i=xn();const u=t.rc.get(e);if(!u)return i;for(const c of u){const p=t.ic.get(c);i=i.unionWith(p.view.ju)}return i}}function GJ(n,e){return E2.apply(this,arguments)}function E2(){return E2=(0,ke.Z)(function*(n,e){const t=Ct(n),r=yield Xx(t.localStore,e.query,!0),i=e.view.tc(r);return t.isPrimaryClient&&_2(t,e.targetId,i.Xu),i}),E2.apply(this,arguments)}function WJ(n,e){return b2.apply(this,arguments)}function b2(){return b2=(0,ke.Z)(function*(n,e){const t=Ct(n);return p4(t.localStore,e).then(r=>Od(t,r))}),b2.apply(this,arguments)}function zJ(n,e,t,r){return I2.apply(this,arguments)}function I2(){return I2=(0,ke.Z)(function*(n,e,t,r){const i=Ct(n),u=yield function(c,p){const v=Ct(c),I=Ct(v.mutationQueue);return v.persistence.runTransaction("Lookup mutation documents","readonly",A=>I.Tn(A,p).next(M=>M?v.localDocuments.getDocuments(A,M):Ae.resolve(null)))}(i.localStore,e);var p;null!==u?("pending"===t?yield Yv(i.remoteStore):"acknowledged"===t||"rejected"===t?(m2(i,e,r||null),g2(i,e),p=e,Ct(Ct(i.localStore).mutationQueue).An(p)):Lt(),yield Od(i,u)):ut("SyncEngine","Cannot apply mutation batch with id: "+e)}),I2.apply(this,arguments)}function C2(){return C2=(0,ke.Z)(function*(n,e){const t=Ct(n);if(A2(t),x2(t),!0===e&&!0!==t.dc){const r=t.sharedClientState.getAllActiveQueryTargets(),i=yield F4(t,r.toArray());t.dc=!0,yield KF(t.remoteStore,!0);for(const u of i)rN(t.remoteStore,u)}else if(!1===e&&!1!==t.dc){const r=[];let i=Promise.resolve();t.rc.forEach((u,c)=>{t.sharedClientState.isLocalQueryTarget(c)?r.push(c):i=i.then(()=>(t0(t,c),Zv(t.localStore,c,!0))),IC(t.remoteStore,c)}),yield i,yield F4(t,r),function(u){const c=Ct(u);c.cc.forEach((p,v)=>{IC(c.remoteStore,v)}),c.ac.fs(),c.cc=new Map,c.uc=new Si(bt.comparator)}(t),t.dc=!1,yield KF(t.remoteStore,!1)}}),C2.apply(this,arguments)}function F4(n,e,t){return D2.apply(this,arguments)}function D2(){return D2=(0,ke.Z)(function*(n,e,t){const r=Ct(n),i=[],u=[];for(const c of e){let p;const v=r.rc.get(c);if(v&&0!==v.length){p=yield qv(r.localStore,_o(v[0]));for(const I of v){const A=r.ic.get(I),M=yield GJ(r,A);M.snapshot&&u.push(M.snapshot)}}else{const I=yield f4(r.localStore,c);p=yield qv(r.localStore,I),yield o2(r,U4(I),c,!1,p.resumeToken)}i.push(p)}return r.sc.Wo(u),i}),D2.apply(this,arguments)}function U4(n){return q6(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function ZJ(n){const e=Ct(n);return Ct(Ct(e.localStore).persistence).vi()}function KJ(n,e,t,r){return T2.apply(this,arguments)}function T2(){return T2=(0,ke.Z)(function*(n,e,t,r){const i=Ct(n);if(i.dc)return void ut("SyncEngine","Ignoring unexpected query state notification.");const u=i.rc.get(e);if(u&&u.length>0)switch(t){case"current":case"not-current":{const c=yield p4(i.localStore,Y6(u[0])),p=aC.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,cs.EMPTY_BYTE_STRING);yield Od(i,c,p);break}case"rejected":yield Zv(i.localStore,e,!0),t0(i,e,r);break;default:Lt()}}),T2.apply(this,arguments)}function YJ(n,e,t){return S2.apply(this,arguments)}function S2(){return S2=(0,ke.Z)(function*(n,e,t){const r=A2(n);if(r.dc){for(const i of e){if(r.rc.has(i)){ut("SyncEngine","Adding an already active target "+i);continue}const u=yield f4(r.localStore,i),c=yield qv(r.localStore,u);yield o2(r,U4(u),c.targetId,!1,c.resumeToken),rN(r.remoteStore,c)}for(const i of t)r.rc.has(i)&&(yield Zv(r.localStore,i,!1).then(()=>{IC(r.remoteStore,i),t0(r,i)}).catch(Rf))}}),S2.apply(this,arguments)}function A2(n){const e=Ct(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=O4.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=HJ.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=FJ.bind(null,e),e.sc.Wo=SJ.bind(null,e.eventManager),e.sc.wc=AJ.bind(null,e.eventManager),e}function x2(n){const e=Ct(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=UJ.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=VJ.bind(null,e),e}class V4{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,ke.Z)(function*(){t.It=EC(e.databaseInfo.databaseId),t.sharedClientState=t.gc(e),t.persistence=t.yc(e),yield t.persistence.start(),t.localStore=t.Ic(e),t.gcScheduler=t.Tc(e,t.localStore),t.indexBackfillerScheduler=t.Ec(e,t.localStore)})()}Tc(e,t){return null}Ec(e,t){return null}Ic(e){return l4(this.persistence,new u4,e.initialUser,this.It)}yc(e){return new o4(Qx.Bs,this.It)}gc(e){return new y4}terminate(){var e=this;return(0,ke.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class B4 extends V4{constructor(e,t,r){super(),this.Ac=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return(0,ke.Z)(function*(){yield t().call(r,e),yield r.Ac.initialize(r,e),yield x2(r.Ac.syncEngine),yield Yv(r.Ac.remoteStore),yield r.persistence.li(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()))})()}Ic(e){return l4(this.persistence,new u4,e.initialUser,this.It)}Tc(e,t){return new BQ(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}Ec(e,t){const r=new IY(t,this.persistence);return new bY(e.asyncQueue,r)}yc(e){const t=bF(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?qo.withCacheSize(this.cacheSizeBytes):qo.DEFAULT;return new EF(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,w4(),nN(),this.It,this.sharedClientState,!!this.forceOwnership)}gc(e){return new y4}}class JJ extends B4{constructor(e,t){super(e,t,!1),this.Ac=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,r=this;return(0,ke.Z)(function*(){yield t().call(r,e);const i=r.Ac.syncEngine;r.sharedClientState instanceof MF&&(r.sharedClientState.syncEngine={Fr:zJ.bind(null,i),$r:KJ.bind(null,i),Br:YJ.bind(null,i),vi:ZJ.bind(null,i),Mr:WJ.bind(null,i)},yield r.sharedClientState.start()),yield r.persistence.li(function(){var u=(0,ke.Z)(function*(c){yield function qJ(n,e){return C2.apply(this,arguments)}(r.Ac.syncEngine,c),r.gcScheduler&&(c&&!r.gcScheduler.started?r.gcScheduler.start():c||r.gcScheduler.stop()),r.indexBackfillerScheduler&&(c&&!r.indexBackfillerScheduler.started?r.indexBackfillerScheduler.start():c||r.indexBackfillerScheduler.stop())});return function(c){return u.apply(this,arguments)}}())})()}gc(e){const t=w4();if(!MF.C(t))throw new nt(Pe.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=bF(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new MF(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class N2{initialize(e,t){var r=this;return(0,ke.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>P4(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=$J.bind(null,r.syncEngine),yield KF(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new TJ}createDatastore(e){const t=EC(e.databaseInfo.databaseId),r=new lJ(e.databaseInfo);return new hJ(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,i=e.asyncQueue,u=p=>P4(this.syncEngine,p,0),c=v4.C()?new v4:new oJ,new gJ(t,r,i,u,c);var t,r,i,u,c}createSyncEngine(e,t){return function(r,i,u,c,p,v,I){const A=new kJ(r,i,u,c,p,v);return I&&(A.dc=!0),A}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,ke.Z)(function*(t){const r=Ct(t);ut("RemoteStore","RemoteStore shutting down."),r._u.add(5),yield Kv(r),r.mu.shutdown(),r.gu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function M2(n,e,t){if(!t)throw new nt(Pe.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function j4(n,e,t,r){if(!0===e&&!0===r)throw new nt(Pe.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function $4(n){if(!bt.isDocumentKey(n))throw new nt(Pe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function H4(n){if(bt.isDocumentKey(n))throw new nt(Pe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function sN(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":Lt()}function Kn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new nt(Pe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=sN(n);throw new nt(Pe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function G4(n,e){if(e<=0)throw new nt(Pe.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}const W4=new Map;class z4{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new nt(Pe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new nt(Pe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,j4("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class CC{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new z4({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new nt(Pe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new nt(Pe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new z4(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new cY;switch(t.type){case"gapi":return new pY(t.client,t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new nt(Pe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=W4.get(e);t&&(ut("ComponentProvider","Removing Datastore"),W4.delete(e),t.terminate())}(this),Promise.resolve()}}class ei{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ac(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ei(this.firestore,e,this._key)}}class so{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new so(this.firestore,e,this._query)}}class ac extends so{constructor(e,t,r){super(e,t,Fv(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ei(this.firestore,null,new bt(e))}withConverter(e){return new ac(this.firestore,e,this._path)}}function Z4(n,e,...t){if(n=(0,q.m9)(n),M2("collection","path",e),n instanceof CC){const r=nr.fromString(e,...t);return H4(r),new ac(n,null,r)}{if(!(n instanceof ei||n instanceof ac))throw new nt(Pe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(nr.fromString(e,...t));return H4(r),new ac(n.firestore,null,r)}}function oN(n,e,...t){if(n=(0,q.m9)(n),1===arguments.length&&(e=b6.R()),M2("doc","path",e),n instanceof CC){const r=nr.fromString(e,...t);return $4(r),new ei(n,null,new bt(r))}{if(!(n instanceof ei||n instanceof ac))throw new nt(Pe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(nr.fromString(e,...t));return $4(r),new ei(n.firestore,n instanceof ac?n.converter:null,new bt(r))}}function K4(n,e){return n=(0,q.m9)(n),e=(0,q.m9)(e),(n instanceof ei||n instanceof ac)&&(e instanceof ei||e instanceof ac)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function R2(n,e){return n=(0,q.m9)(n),e=(0,q.m9)(e),n instanceof so&&e instanceof so&&n.firestore===e.firestore&&nC(n._query,e._query)&&n.converter===e.converter}function Y4(n,e=10240){let t=0;return{read:()=>(0,ke.Z)(function*(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})(),cancel:()=>(0,ke.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class aN{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Rc(this.observer.next,e)}error(e){this.observer.error?this.Rc(this.observer.error,e):Vi("Uncaught Error in snapshot listener:",e.toString())}bc(){this.muted=!0}Rc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class eX{constructor(e,t){this.Pc=e,this.It=t,this.metadata=new ls,this.buffer=new Uint8Array,this.vc=new TextDecoder("utf-8"),this.Vc().then(r=>{r&&r.Ou()?this.metadata.resolve(r.ku.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(r?.ku)}`))},r=>this.metadata.reject(r))}close(){return this.Pc.cancel()}getMetadata(){var e=this;return(0,ke.Z)(function*(){return e.metadata.promise})()}mc(){var e=this;return(0,ke.Z)(function*(){return yield e.getMetadata(),e.Vc()})()}Vc(){var e=this;return(0,ke.Z)(function*(){const t=yield e.Sc();if(null===t)return null;const r=e.vc.decode(t),i=Number(r);isNaN(i)&&e.Dc(`length string (${r}) is not valid number`);const u=yield e.Cc(i);return new xJ(JSON.parse(u),t.length+i)})()}xc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Sc(){var e=this;return(0,ke.Z)(function*(){for(;e.xc()<0&&!(yield e.Nc()););if(0===e.buffer.length)return null;const t=e.xc();t<0&&e.Dc("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),r})()}Cc(e){var t=this;return(0,ke.Z)(function*(){for(;t.buffer.length<e;)(yield t.Nc())&&t.Dc("Reached the end of bundle when more is expected.");const r=t.vc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),r})()}Dc(e){throw this.Pc.cancel(),new Error(`Invalid bundle format: ${e}`)}Nc(){var e=this;return(0,ke.Z)(function*(){const t=yield e.Pc.read();if(!t.done){const r=new Uint8Array(e.buffer.length+t.value.length);r.set(e.buffer),r.set(t.value,e.buffer.length),e.buffer=r}return t.done})()}}class rX{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,ke.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new nt(Pe.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(i=(0,ke.Z)(function*(u,c){const p=Ct(u),v=dC(p.It)+"/documents",I={documents:c.map($=>cC(p.It,$))},A=yield p._o("BatchGetDocuments",v,I,c.length),M=new Map;A.forEach($=>{const Q=function nQ(n,e){return"found"in e?function(t,r){on(!!r.found);const i=sc(t,r.found.name),u=Cs(r.found.updateTime),c=new js({mapValue:{fields:r.found.fields}});return Yr.newFoundDocument(i,u,c)}(n,e):"missing"in e?function(t,r){on(!!r.missing),on(!!r.readTime);const i=sc(t,r.missing),u=Cs(r.readTime);return Yr.newNoDocument(i,u)}(n,e):Lt()}(p.It,$);M.set(Q.key.toString(),Q)});const P=[];return c.forEach($=>{const Q=M.get($.toString());on(!!Q),P.push(Q)}),P}),function(u,c){return i.apply(this,arguments)})(t.datastore,e);var i;return r.forEach(i=>t.recordVersion(i)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new $v(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,ke.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,i)=>{const u=bt.fromPath(i);e.mutations.push(new aF(u,e.precondition(u)))}),yield(r=(0,ke.Z)(function*(i,u){const c=Ct(i),p=dC(c.It)+"/documents",v={writes:u.map(I=>hC(c.It,I))};yield c.ao("Commit",p,v)}),function(i,u){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Lt();t=an.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new nt(Pe.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(an.min())?li.exists(!1):li.updateTime(t):li.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(an.min()))throw new nt(Pe.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return li.updateTime(t)}return li.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class iX{constructor(e,t,r,i,u){this.asyncQueue=e,this.datastore=t,this.options=r,this.updateFunction=i,this.deferred=u,this.kc=r.maxAttempts,this.xo=new RF(this.asyncQueue,"transaction_retry")}run(){this.kc-=1,this.Oc()}Oc(){var e=this;this.xo.Ro((0,ke.Z)(function*(){const t=new rX(e.datastore),r=e.Mc(t);r&&r.then(i=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(i)}).catch(u=>{e.Fc(u)}))}).catch(i=>{e.Fc(i)})}))}Mc(e){try{const t=this.updateFunction(e);return!YI(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Fc(e){this.kc>0&&this.$c(e)?(this.kc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Oc(),Promise.resolve()))):this.deferred.reject(e)}$c(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!dH(t)}return!1}}class sX{constructor(e,t,r,i){var u=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=Is.UNAUTHENTICATED,this.clientId=b6.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var c=(0,ke.Z)(function*(p){ut("FirestoreClient","Received user=",p.uid),yield u.authCredentialListener(p),u.user=p});return function(p){return c.apply(this,arguments)}}()),this.appCheckCredentials.start(r,c=>(ut("FirestoreClient","Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}getConfiguration(){var e=this;return(0,ke.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new nt(Pe.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new ls;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,ke.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=Jv(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function Q4(n,e){return k2.apply(this,arguments)}function k2(){return k2=(0,ke.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),ut("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var i=(0,ke.Z)(function*(u){r.isEqual(u)||(yield c4(e.localStore,u),r=u)});return function(u){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),k2.apply(this,arguments)}function J4(n,e){return O2.apply(this,arguments)}function O2(){return O2=(0,ke.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield P2(n);ut("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(i=>S4(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,u)=>S4(e.remoteStore,u)),n.onlineComponents=e}),O2.apply(this,arguments)}function P2(n){return L2.apply(this,arguments)}function L2(){return L2=(0,ke.Z)(function*(n){return n.offlineComponents||(ut("FirestoreClient","Using default OfflineComponentProvider"),yield Q4(n,new V4)),n.offlineComponents}),L2.apply(this,arguments)}function uN(n){return F2.apply(this,arguments)}function F2(){return F2=(0,ke.Z)(function*(n){return n.onlineComponents||(ut("FirestoreClient","Using default OnlineComponentProvider"),yield J4(n,new N2)),n.onlineComponents}),F2.apply(this,arguments)}function X4(n){return P2(n).then(e=>e.persistence)}function lN(n){return P2(n).then(e=>e.localStore)}function U2(n){return uN(n).then(e=>e.remoteStore)}function V2(n){return uN(n).then(e=>e.syncEngine)}function n0(n){return B2.apply(this,arguments)}function B2(){return B2=(0,ke.Z)(function*(n){const e=yield uN(n),t=e.eventManager;return t.onListen=OJ.bind(null,e.syncEngine),t.onUnlisten=PJ.bind(null,e.syncEngine),t}),B2.apply(this,arguments)}function tG(n,e,t={}){const r=new ls;return n.asyncQueue.enqueueAndForget((0,ke.Z)(function*(){return function(i,u,c,p,v){const I=new aN({next:M=>{u.enqueueAndForget(()=>e2(i,A));const P=M.docs.has(c);!P&&M.fromCache?v.reject(new nt(Pe.UNAVAILABLE,"Failed to get document because the client is offline.")):P&&M.fromCache&&p&&"server"===p.source?v.reject(new nt(Pe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):v.resolve(M)},error:M=>v.reject(M)}),A=new r2(Fv(c.path),I,{includeMetadataChanges:!0,Nu:!0});return JF(i,A)}(yield n0(n),n.asyncQueue,e,t,r)})),r.promise}function nG(n,e,t={}){const r=new ls;return n.asyncQueue.enqueueAndForget((0,ke.Z)(function*(){return function(i,u,c,p,v){const I=new aN({next:M=>{u.enqueueAndForget(()=>e2(i,A)),M.fromCache&&"server"===p.source?v.reject(new nt(Pe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):v.resolve(M)},error:M=>v.reject(M)}),A=new r2(c,I,{includeMetadataChanges:!0,Nu:!0});return JF(i,A)}(yield n0(n),n.asyncQueue,e,t,r)})),r.promise}class fX{constructor(){this.Bc=Promise.resolve(),this.Lc=[],this.Uc=!1,this.qc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.xo=new RF(this,"async_queue_retry"),this.Wc=()=>{const t=nN();t&&ut("AsyncQueue","Visibility state changed to "+t.visibilityState),this.xo.Po()};const e=nN();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Wc)}get isShuttingDown(){return this.Uc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.zc(),this.Hc(e)}enterRestrictedMode(e){if(!this.Uc){this.Uc=!0,this.Qc=e||!1;const t=nN();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Wc)}}enqueue(e){if(this.zc(),this.Uc)return new Promise(()=>{});const t=new ls;return this.Hc(()=>this.Uc&&this.Qc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Lc.push(e),this.Jc()))}Jc(){var e=this;return(0,ke.Z)(function*(){if(0!==e.Lc.length){try{yield e.Lc[0](),e.Lc.shift(),e.xo.reset()}catch(t){if(!kf(t))throw t;ut("AsyncQueue","Operation failed with retryable error: "+t)}e.Lc.length>0&&e.xo.Ro(()=>e.Jc())}})()}Hc(e){const t=this.Bc.then(()=>(this.Gc=!0,e().catch(r=>{throw this.Kc=r,this.Gc=!1,Vi("INTERNAL UNHANDLED ERROR: ",function(u){let c=u.message||"";return u.stack&&(c=u.stack.includes(u.message)?u.stack:u.message+"\n"+u.stack),c}(r)),r}).then(r=>(this.Gc=!1,r))));return this.Bc=t,t}enqueueAfterDelay(e,t,r){this.zc(),this.jc.indexOf(e)>-1&&(t=0);const i=QF.createAndSchedule(this,e,t,r,u=>this.Yc(u));return this.qc.push(i),i}zc(){this.Kc&&Lt()}verifyOperationInProgress(){}Xc(){var e=this;return(0,ke.Z)(function*(){let t;do{t=e.Bc,yield t}while(t!==e.Bc)})()}Zc(e){for(const t of this.qc)if(t.timerId===e)return!0;return!1}ta(e){return this.Xc().then(()=>{this.qc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.qc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Xc()})}ea(e){this.jc.push(e)}Yc(e){const t=this.qc.indexOf(e);this.qc.splice(t,1)}}function j2(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(n)}class pX{constructor(){this._progressObserver={},this._taskCompletionResolver=new ls,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class ti extends CC{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new fX,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||rG(this),this._firestoreClient.terminate()}}function Bi(n){return n._firestoreClient||rG(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function rG(n){var e;const t=n._freezeSettings(),r=(u=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new TY(n._databaseId,u,n._persistenceKey,(p=t).host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,p.useFetchStreams));var u,p;n._firestoreClient=new sX(n._authCredentials,n._appCheckCredentials,n._queue,r)}function iG(n,e,t){const r=new ls;return n.asyncQueue.enqueue((0,ke.Z)(function*(){try{yield Q4(n,t),yield J4(n,e),r.resolve()}catch(i){const u=i;if(!("FirebaseError"===(c=u).name?c.code===Pe.FAILED_PRECONDITION||c.code===Pe.UNIMPLEMENTED:!(typeof DOMException<"u"&&c instanceof DOMException)||22===c.code||20===c.code||11===c.code))throw u;rm("Error enabling offline persistence. Falling back to persistence disabled: "+u),r.reject(u)}var c})).then(()=>r.promise)}function sG(n){if(n._initialized||n._terminated)throw new nt(Pe.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class uc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new uc(cs.fromBase64String(e))}catch(t){throw new nt(Pe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new uc(cs.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Pd{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new nt(Pe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ti(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Em{constructor(e){this._methodName=e}}class cN{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new nt(Pe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new nt(Pe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return wn(this._lat,e._lat)||wn(this._long,e._long)}}const CX=/^__.*__$/;class DX{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new Rd(e,this.data,this.fieldMask,t,this.fieldTransforms):new jv(e,this.data,t,this.fieldTransforms)}}class oG{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Rd(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function aG(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Lt()}}class dN{constructor(e,t,r,i,u,c){this.settings=e,this.databaseId=t,this.It=r,this.ignoreUndefinedProperties=i,void 0===u&&this.na(),this.fieldTransforms=u||[],this.fieldMask=c||[]}get path(){return this.settings.path}get sa(){return this.settings.sa}ia(e){return new dN(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.It,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ra(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.ia({path:r,oa:!1});return i.ua(e),i}ca(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.ia({path:r,oa:!1});return i.na(),i}aa(e){return this.ia({path:void 0,oa:!0})}ha(e){return pN(e,this.settings.methodName,this.settings.la||!1,this.path,this.settings.fa)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}na(){if(this.path)for(let e=0;e<this.path.length;e++)this.ua(this.path.get(e))}ua(e){if(0===e.length)throw this.ha("Document fields must not be empty");if(aG(this.sa)&&CX.test(e))throw this.ha('Document fields cannot begin and end with "__"')}}class TX{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.It=r||EC(e)}da(e,t,r,i=!1){return new dN({sa:e,methodName:t,fa:r,path:Ti.emptyPath(),oa:!1,la:i},this.databaseId,this.It,this.ignoreUndefinedProperties)}}function bm(n){const e=n._freezeSettings(),t=EC(n._databaseId);return new TX(n._databaseId,!!e.ignoreUndefinedProperties,t)}function hN(n,e,t,r,i,u={}){const c=n.da(u.merge||u.mergeFields?2:0,e,t,i);W2("Data must be an object, but it was:",c,r);const p=cG(r,c);let v,I;if(u.merge)v=new va(c.fieldMask),I=c.fieldTransforms;else if(u.mergeFields){const A=[];for(const M of u.mergeFields){const P=z2(e,M,t);if(!c.contains(P))throw new nt(Pe.INVALID_ARGUMENT,`Field '${P}' is specified in your field mask but missing from your input data.`);hG(A,P)||A.push(P)}v=new va(A),I=c.fieldTransforms.filter(M=>v.covers(M.field))}else v=null,I=c.fieldTransforms;return new DX(new js(p),v,I)}class DC extends Em{_toFieldTransform(e){if(2!==e.sa)throw e.ha(1===e.sa?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof DC}}function uG(n,e,t){return new dN({sa:3,fa:e.settings.fa,methodName:n._methodName,oa:t},e.databaseId,e.It,e.ignoreUndefinedProperties)}class $2 extends Em{_toFieldTransform(e){return new rC(e.path,new Vv)}isEqual(e){return e instanceof $2}}class SX extends Em{constructor(e,t){super(e),this._a=t}_toFieldTransform(e){const t=uG(this,e,!0),r=this._a.map(u=>Im(u,t)),i=new dm(r);return new rC(e.path,i)}isEqual(e){return this===e}}class AX extends Em{constructor(e,t){super(e),this._a=t}_toFieldTransform(e){const t=uG(this,e,!0),r=this._a.map(u=>Im(u,t)),i=new hm(r);return new rC(e.path,i)}isEqual(e){return this===e}}class xX extends Em{constructor(e,t){super(e),this.wa=t}_toFieldTransform(e){const t=new Bv(e.It,eH(e.It,this.wa));return new rC(e.path,t)}isEqual(e){return this===e}}function H2(n,e,t,r){const i=n.da(1,e,t);W2("Data must be an object, but it was:",i,r);const u=[],c=js.empty();om(r,(v,I)=>{const A=fN(e,v,t);I=(0,q.m9)(I);const M=i.ca(A);if(I instanceof DC)u.push(A);else{const P=Im(I,M);null!=P&&(u.push(A),c.set(A,P))}});const p=new va(u);return new oG(c,p,i.fieldTransforms)}function G2(n,e,t,r,i,u){const c=n.da(1,e,t),p=[z2(e,r,t)],v=[i];if(u.length%2!=0)throw new nt(Pe.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let P=0;P<u.length;P+=2)p.push(z2(e,u[P])),v.push(u[P+1]);const I=[],A=js.empty();for(let P=p.length-1;P>=0;--P)if(!hG(I,p[P])){const $=p[P];let Q=v[P];Q=(0,q.m9)(Q);const le=c.ca($);if(Q instanceof DC)I.push($);else{const ye=Im(Q,le);null!=ye&&(I.push($),A.set($,ye))}}const M=new va(I);return new oG(A,M,c.fieldTransforms)}function lG(n,e,t,r=!1){return Im(t,n.da(r?4:3,e))}function Im(n,e){if(dG(n=(0,q.m9)(n)))return W2("Unsupported field value:",e,n),cG(n,e);if(n instanceof Em)return function(t,r){if(!aG(r.sa))throw r.ha(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r.ha(`${t._methodName}() is not currently supported inside arrays`);const i=t._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.oa&&4!==e.sa)throw e.ha("Nested arrays are not supported");return function(t,r){const i=[];let u=0;for(const c of t){let p=Im(c,r.aa(u));null==p&&(p={nullValue:"NULL_VALUE"}),i.push(p),u++}return{arrayValue:{values:i}}}(n,e)}return function(t,r){if(null===(t=(0,q.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return eH(r.It,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const i=ui.fromDate(t);return{timestampValue:lC(r.It,i)}}if(t instanceof ui){const i=new ui(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:lC(r.It,i)}}if(t instanceof cN)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof uc)return{bytesValue:EH(r.It,t._byteString)};if(t instanceof ei){const i=r.databaseId,u=t.firestore._databaseId;if(!u.isEqual(i))throw r.ha(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:uF(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r.ha(`Unsupported field value: ${sN(t)}`)}(n,e)}function cG(n,e){const t={};return N6(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):om(n,(r,i)=>{const u=Im(i,e.ra(r));null!=u&&(t[r]=u)}),{mapValue:{fields:t}}}function dG(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof ui||n instanceof cN||n instanceof uc||n instanceof ei||n instanceof Em)}function W2(n,e,t){if(!dG(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=sN(t);throw e.ha("an object"===r?n+" a custom object":n+" "+r)}var r}function z2(n,e,t){if((e=(0,q.m9)(e))instanceof Pd)return e._internalPath;if("string"==typeof e)return fN(n,e);throw pN("Field path arguments must be of type string or ",n,!1,void 0,t)}const NX=new RegExp("[~\\*/\\[\\]]");function fN(n,e,t){if(e.search(NX)>=0)throw pN(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Pd(...e.split("."))._internalPath}catch{throw pN(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function pN(n,e,t,r,i){const u=r&&!r.isEmpty(),c=void 0!==i;let p=`Function ${e}() called with invalid data`;t&&(p+=" (via `toFirestore()`)"),p+=". ";let v="";return(u||c)&&(v+=" (found",u&&(v+=` in field ${r}`),c&&(v+=` in document ${i}`),v+=")"),new nt(Pe.INVALID_ARGUMENT,p+n+v)}function hG(n,e){return n.some(t=>t.isEqual(e))}class TC{constructor(e,t,r,i,u){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new ei(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new MX(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(gN("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class MX extends TC{data(){return super.data()}}function gN(n,e){return"string"==typeof e?fN(n,e):e instanceof Pd?e._internalPath:e._delegate._internalPath}function fG(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new nt(Pe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class SC{}function Gf(n,...e){for(const t of e)n=t._apply(n);return n}class RX extends SC{constructor(e,t,r){super(),this.ma=e,this.ga=t,this.ya=r,this.type="where"}_apply(e){const t=bm(e.firestore),r=function(i,u,c,p,v,I,A){let M;if(v.isKeyField()){if("array-contains"===I||"array-contains-any"===I)throw new nt(Pe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${I}' queries on documentId().`);if("in"===I||"not-in"===I){vG(A,I);const $=[];for(const Q of A)$.push(yG(p,i,Q));M={arrayValue:{values:$}}}else M=yG(p,i,A)}else"in"!==I&&"not-in"!==I&&"array-contains-any"!==I||vG(A,I),M=lG(c,"where",A,"in"===I||"not-in"===I);const P=$s.create(v,I,M);return function($,Q){if(Q.dt()){const ye=rF($);if(null!==ye&&!ye.isEqual(Q.field))throw new nt(Pe.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${ye.toString()}' and '${Q.field.toString()}'`);const lt=nF($);null!==lt&&wG(0,Q.field,lt)}const le=function(ye,lt){for(const dt of ye.filters)if(lt.indexOf(dt.op)>=0)return dt.op;return null}($,function(ye){switch(ye){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(Q.op));if(null!==le)throw new nt(Pe.INVALID_ARGUMENT,le===Q.op?`Invalid query. You cannot use more than one '${Q.op.toString()}' filter.`:`Invalid query. You cannot use '${Q.op.toString()}' filters with '${le.toString()}' filters.`)}(i,P),P}(e._query,0,t,e.firestore._databaseId,this.ma,this.ga,this.ya);return new so(e.firestore,e.converter,function(i,u){const c=i.filters.concat([u]);return new Md(i.path,i.collectionGroup,i.explicitOrderBy.slice(),c,i.limit,i.limitType,i.startAt,i.endAt)}(e._query,r))}}class OX extends SC{constructor(e,t){super(),this.ma=e,this.pa=t,this.type="orderBy"}_apply(e){const t=function(r,i,u){if(null!==r.startAt)throw new nt(Pe.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new nt(Pe.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const c=new Lv(i,u);return function(p,v){if(null===nF(p)){const I=rF(p);null!==I&&wG(0,I,v.field)}}(r,c),c}(e._query,this.ma,this.pa);return new so(e.firestore,e.converter,function(r,i){const u=r.explicitOrderBy.concat([i]);return new Md(r.path,r.collectionGroup,u,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class pG extends SC{constructor(e,t,r){super(),this.type=e,this.Ia=t,this.Ta=r}_apply(e){return new so(e.firestore,e.converter,Fx(e._query,this.Ia,this.Ta))}}class gG extends SC{constructor(e,t,r){super(),this.type=e,this.Ea=t,this.Aa=r}_apply(e){const t=_G(e,this.type,this.Ea,this.Aa);return new so(e.firestore,e.converter,(i=t,new Md((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,i,r.endAt)));var r,i}}class mG extends SC{constructor(e,t,r){super(),this.type=e,this.Ea=t,this.Aa=r}_apply(e){const t=_G(e,this.type,this.Ea,this.Aa);return new so(e.firestore,e.converter,(i=t,new Md((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,i)));var r,i}}function _G(n,e,t,r){if(t[0]=(0,q.m9)(t[0]),t[0]instanceof TC)return function(i,u,c,p,v){if(!p)throw new nt(Pe.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${c}().`);const I=[];for(const A of Uv(i))if(A.field.isKeyField())I.push(lm(u,p.key));else{const M=p.data.field(A.field);if(XL(M))throw new nt(Pe.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+A.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===M){const P=A.field.canonicalString();throw new nt(Pe.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${P}' (used as the orderBy) does not exist.`)}I.push(M)}return new Uf(I,v)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const i=bm(n.firestore);return function(u,c,p,v,I,A){const M=u.explicitOrderBy;if(I.length>M.length)throw new nt(Pe.INVALID_ARGUMENT,`Too many arguments provided to ${v}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const P=[];for(let $=0;$<I.length;$++){const Q=I[$];if(M[$].field.isKeyField()){if("string"!=typeof Q)throw new nt(Pe.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${v}(), but got a ${typeof Q}`);if(!iF(u)&&-1!==Q.indexOf("/"))throw new nt(Pe.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${v}() must be a plain document ID, but '${Q}' contains a slash.`);const le=u.path.child(nr.fromString(Q));if(!bt.isDocumentKey(le))throw new nt(Pe.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${v}() must result in a valid document path, but '${le}' is not because it contains an odd number of segments.`);const ye=new bt(le);P.push(lm(c,ye))}else{const le=lG(p,v,Q);P.push(le)}}return new Uf(P,A)}(n._query,n.firestore._databaseId,i,e,t,r)}}function yG(n,e,t){if("string"==typeof(t=(0,q.m9)(t))){if(""===t)throw new nt(Pe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!iF(e)&&-1!==t.indexOf("/"))throw new nt(Pe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(nr.fromString(t));if(!bt.isDocumentKey(r))throw new nt(Pe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return lm(n,new bt(r))}if(t instanceof ei)return lm(n,t._key);throw new nt(Pe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${sN(t)}.`)}function vG(n,e){if(!Array.isArray(n)||0===n.length)throw new nt(Pe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(n.length>10)throw new nt(Pe.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function wG(n,e,t){if(!t.isEqual(e))throw new nt(Pe.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class q2{convertValue(e,t="none"){switch(um(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ai(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(am(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Lt()}}convertObject(e,t){const r={};return om(e.fields,(i,u)=>{r[i]=this.convertValue(u,t)}),r}convertGeoPoint(e){return new cN(Ai(e.latitude),Ai(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=R6(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(KI(e));default:return null}}convertTimestamp(e){const t=Of(e);return new ui(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=nr.fromString(e);on(NH(r));const i=new Pf(r.get(1),r.get(3)),u=new bt(r.popFirst(5));return i.isEqual(t)||Vi(`Document ${u} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),u}}function mN(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class $X extends q2{constructor(e){super(),this.firestore=e}convertBytes(e){return new uc(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new ei(this.firestore,null,t)}}class Cm{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ld extends TC{constructor(e,t,r,i,u,c){super(e,t,r,i,c),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new AC(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(gN("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class AC extends Ld{data(e={}){return super.data(e)}}class Wf{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Cm(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new AC(this._firestore,this._userDataWriter,r.key,r,new Cm(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new nt(Pe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let u=0;return r._snapshot.docChanges.map(c=>({type:"added",doc:new AC(r._firestore,r._userDataWriter,c.doc.key,c.doc,new Cm(r._snapshot.mutatedKeys.has(c.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:u++}))}{let u=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(c=>i||3!==c.type).map(c=>{const p=new AC(r._firestore,r._userDataWriter,c.doc.key,c.doc,new Cm(r._snapshot.mutatedKeys.has(c.doc.key),r._snapshot.fromCache),r.query.converter);let v=-1,I=-1;return 0!==c.type&&(v=u.indexOf(c.doc.key),u=u.delete(c.doc.key)),1!==c.type&&(u=u.add(c.doc),I=u.indexOf(c.doc.key)),{type:HX(c.type),doc:p,oldIndex:v,newIndex:I}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function HX(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Lt()}}function EG(n,e){return n instanceof Ld&&e instanceof Ld?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof Wf&&e instanceof Wf&&n._firestore===e._firestore&&R2(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}class zf extends q2{constructor(e){super(),this.firestore=e}convertBytes(e){return new uc(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new ei(this.firestore,null,t)}}function bG(n,e,t){n=Kn(n,ei);const r=Kn(n.firestore,ti),i=mN(n.converter,e,t);return r0(r,[hN(bm(r),"setDoc",n._key,i,null!==n.converter,t).toMutation(n._key,li.none())])}function IG(n,e,t,...r){n=Kn(n,ei);const i=Kn(n.firestore,ti),u=bm(i);let c;return c="string"==typeof(e=(0,q.m9)(e))||e instanceof Pd?G2(u,"updateDoc",n._key,e,t,r):H2(u,"updateDoc",n._key,e),r0(i,[c.toMutation(n._key,li.exists(!0))])}function CG(n,...e){var t,r,i;n=(0,q.m9)(n);let u={includeMetadataChanges:!1},c=0;"object"!=typeof e[c]||j2(e[c])||(u=e[c],c++);const p={includeMetadataChanges:u.includeMetadataChanges};if(j2(e[c])){const M=e[c];e[c]=null===(t=M.next)||void 0===t?void 0:t.bind(M),e[c+1]=null===(r=M.error)||void 0===r?void 0:r.bind(M),e[c+2]=null===(i=M.complete)||void 0===i?void 0:i.bind(M)}let v,I,A;if(n instanceof ei)I=Kn(n.firestore,ti),A=Fv(n._key.path),v={next:M=>{e[c]&&e[c](Z2(I,n,M))},error:e[c+1],complete:e[c+2]};else{const M=Kn(n,so);I=Kn(M.firestore,ti),A=M._query;const P=new zf(I);v={next:$=>{e[c]&&e[c](new Wf(I,P,M,$))},error:e[c+1],complete:e[c+2]},fG(n._query)}return function(M,P,$,Q){const le=new aN(Q),ye=new r2(P,le,$);return M.asyncQueue.enqueueAndForget((0,ke.Z)(function*(){return JF(yield n0(M),ye)})),()=>{le.bc(),M.asyncQueue.enqueueAndForget((0,ke.Z)(function*(){return e2(yield n0(M),ye)}))}}(Bi(I),A,p,v)}function r0(n,e){return function(t,r){const i=new ls;return t.asyncQueue.enqueueAndForget((0,ke.Z)(function*(){return function LJ(n,e,t){return l2.apply(this,arguments)}(yield V2(t),r,i)})),i.promise}(Bi(n),e)}function Z2(n,e,t){const r=t.docs.get(e._key),i=new zf(n);return new Ld(n,i,e._key,r,new Cm(t.hasPendingWrites,t.fromCache),e.converter)}const XX={maxAttempts:5};class DG{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=bm(e)}set(e,t,r){this._verifyNotCommitted();const i=qf(e,this._firestore),u=mN(i.converter,t,r),c=hN(this._dataReader,"WriteBatch.set",i._key,u,null!==i.converter,r);return this._mutations.push(c.toMutation(i._key,li.none())),this}update(e,t,r,...i){this._verifyNotCommitted();const u=qf(e,this._firestore);let c;return c="string"==typeof(t=(0,q.m9)(t))||t instanceof Pd?G2(this._dataReader,"WriteBatch.update",u._key,t,r,i):H2(this._dataReader,"WriteBatch.update",u._key,t),this._mutations.push(c.toMutation(u._key,li.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=qf(e,this._firestore);return this._mutations=this._mutations.concat(new $v(t._key,li.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new nt(Pe.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function qf(n,e){if((n=(0,q.m9)(n)).firestore!==e)throw new nt(Pe.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class eee extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=bm(e)}get(e){const t=qf(e,this._firestore),r=new $X(this._firestore);return this._transaction.lookup([t._key]).then(i=>{if(!i||1!==i.length)return Lt();const u=i[0];if(u.isFoundDocument())return new TC(this._firestore,r,u.key,u,t.converter);if(u.isNoDocument())return new TC(this._firestore,r,t._key,null,t.converter);throw Lt()})}set(e,t,r){const i=qf(e,this._firestore),u=mN(i.converter,t,r),c=hN(this._dataReader,"Transaction.set",i._key,u,null!==i.converter,r);return this._transaction.set(i._key,c),this}update(e,t,r,...i){const u=qf(e,this._firestore);let c;return c="string"==typeof(t=(0,q.m9)(t))||t instanceof Pd?G2(this._dataReader,"Transaction.update",u._key,t,r,i):H2(this._dataReader,"Transaction.update",u._key,t),this._transaction.update(u._key,c),this}delete(e){const t=qf(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=qf(e,this._firestore),r=new zf(this._firestore);return super.get(e).then(i=>new Ld(this._firestore,r,t._key,i._document,new Cm(!1,!1),t.converter))}}function K2(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new nt("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function SG(){if(typeof Uint8Array>"u")throw new nt("unimplemented","Uint8Arrays are not available in this environment.")}function AG(){if(!function CY(){return typeof atob<"u"}())throw new nt("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){Rv=eo.SDK_VERSION,(0,eo._registerComponent)(new zu.wA("firestore",(t,{instanceIdentifier:r,options:i})=>{const u=t.getProvider("app").getImmediate(),c=new ti(new hY(t.getProvider("auth-internal")),new gY(t.getProvider("app-check-internal")),function(p,v){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new nt(Pe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Pf(p.options.projectId,v)}(u,r),u);return i=Object.assign({useFetchStreams:e},i),c._setSettings(i),c},"PUBLIC").setMultipleInstances(!0)),(0,eo.registerVersion)(v6,"3.7.3",n),(0,eo.registerVersion)(v6,"3.7.3","esm2017")}();class xC{constructor(e){this._delegate=e}static fromBase64String(e){return AG(),new xC(uc.fromBase64String(e))}static fromUint8Array(e){return SG(),new xC(uc.fromUint8Array(e))}toBase64(){return AG(),this._delegate.toBase64()}toUint8Array(){return SG(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function Y2(n){return function lee(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of e)if(r in t&&"function"==typeof t[r])return!0;return!1}(n,["next","error","complete"])}class cee{enableIndexedDbPersistence(e,t){return function mX(n,e){sG(n=Kn(n,ti));const t=Bi(n),r=n._freezeSettings(),i=new N2;return iG(t,i,new B4(i,r.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function _X(n){sG(n=Kn(n,ti));const e=Bi(n),t=n._freezeSettings(),r=new N2;return iG(e,r,new JJ(r,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function yX(n){if(n._initialized&&!n._terminated)throw new nt(Pe.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new ls;return n._queue.enqueueAndForgetEvenWhileRestricted((0,ke.Z)(function*(){try{yield(t=(0,ke.Z)(function*(r){if(!Ju.C())return Promise.resolve();const i=r+"main";yield Ju.delete(i)}),function(r){return t.apply(this,arguments)})(bF(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class xG{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof Pf||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&rm("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){!function q4(n,e,t,r={}){var i;const u=(n=Kn(n,CC))._getSettings();if("firestore.googleapis.com"!==u.host&&u.host!==e&&rm("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},u),{host:`${e}:${t}`,ssl:!1})),r.mockUserToken){let c,p;if("string"==typeof r.mockUserToken)c=r.mockUserToken,p=Is.MOCK_USER;else{c=(0,q.Sg)(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const v=r.mockUserToken.sub||r.mockUserToken.user_id;if(!v)throw new nt(Pe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new Is(v)}n._authCredentials=new dY(new w6(c,p))}}(this._delegate,e,t,r)}enableNetwork(){return function wX(n){return function oX(n){return n.asyncQueue.enqueue((0,ke.Z)(function*(){const e=yield X4(n),t=yield U2(n);return e.setNetworkEnabled(!0),function(r){const i=Ct(r);return i._u.delete(0),bC(i)}(t)}))}(Bi(n=Kn(n,ti)))}(this._delegate)}disableNetwork(){return function EX(n){return function aX(n){return n.asyncQueue.enqueue((0,ke.Z)(function*(){const e=yield X4(n),t=yield U2(n);return e.setNetworkEnabled(!1),(r=(0,ke.Z)(function*(i){const u=Ct(i);u._u.add(0),yield Kv(u),u.gu.set("Offline")}),function(i){return r.apply(this,arguments)})(t);var r}))}(Bi(n=Kn(n,ti)))}(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,j4("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function vX(n){return function(e){const t=new ls;return e.asyncQueue.enqueueAndForget((0,ke.Z)(function*(){return function BJ(n,e){return p2.apply(this,arguments)}(yield V2(e),t)})),t.promise}(Bi(n=Kn(n,ti)))}(this._delegate)}onSnapshotsInSync(e){return function JX(n,e){return function cX(n,e){const t=new aN(e);return n.asyncQueue.enqueueAndForget((0,ke.Z)(function*(){return r=yield n0(n),i=t,Ct(r).Ru.add(i),void i.next();var r,i})),()=>{t.bc(),n.asyncQueue.enqueueAndForget((0,ke.Z)(function*(){return r=yield n0(n),i=t,void Ct(r).Ru.delete(i);var r,i}))}}(Bi(n=Kn(n,ti)),j2(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new nt("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new s0(this,Z4(this._delegate,e))}catch(t){throw vo(t,"collection()","Firestore.collection()")}}doc(e){try{return new iu(this,oN(this._delegate,e))}catch(t){throw vo(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new wo(this,function XJ(n,e){if(n=Kn(n,CC),M2("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new nt(Pe.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new so(n,null,(t=e,new Md(nr.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw vo(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function tee(n,e,t){n=Kn(n,ti);const r=Object.assign(Object.assign({},XX),t);return function(i){if(i.maxAttempts<1)throw new nt(Pe.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(i,u,c){const p=new ls;return i.asyncQueue.enqueueAndForget((0,ke.Z)(function*(){const v=yield function eG(n){return uN(n).then(e=>e.datastore)}(i);new iX(i.asyncQueue,v,c,u,p).run()})),p.promise}(Bi(n),i=>e(new eee(n,i)),r)}(this._delegate,t=>e(new NG(this,t)))}batch(){return Bi(this._delegate),new MG(new DG(this._delegate,e=>r0(this._delegate,e)))}loadBundle(e){return function bX(n,e){const t=Bi(n=Kn(n,ti)),r=new pX;return function dX(n,e,t,r){const i=function(u,c){let p;return p="string"==typeof u?(new TextEncoder).encode(u):u,v=function(v,I){if(v instanceof Uint8Array)return Y4(v,I);if(v instanceof ArrayBuffer)return Y4(new Uint8Array(v),I);if(v instanceof ReadableStream)return v.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(p),new eX(v,c);var v}(t,EC(e));n.asyncQueue.enqueueAndForget((0,ke.Z)(function*(){!function QJ(n,e,t){const r=Ct(n);var i;(i=(0,ke.Z)(function*(u,c,p){try{const v=yield c.getMetadata();if(yield function(P,$){const Q=Ct(P),le=Cs($.createTime);return Q.persistence.runTransaction("hasNewerBundle","readonly",ye=>Q.Ns.getBundleMetadata(ye,$.id)).then(ye=>!!ye&&ye.createTime.compareTo(le)>=0)}(u.localStore,v))return yield c.close(),p._completeWith({taskState:"Success",documentsLoaded:(P=v).totalDocuments,bytesLoaded:P.totalBytes,totalDocuments:P.totalDocuments,totalBytes:P.totalBytes}),Promise.resolve(new Set);p._updateProgress(N4(v));const I=new NJ(v,u.localStore,c.It);let A=yield c.mc();for(;A;){const P=yield I.Fu(A);P&&p._updateProgress(P),A=yield c.mc()}const M=yield I.complete();return yield Od(u,M.Lu,void 0),yield function(P,$){const Q=Ct(P);return Q.persistence.runTransaction("Save bundle","readwrite",le=>Q.Ns.saveBundleMetadata(le,$))}(u.localStore,v),p._completeWith(M.progress),Promise.resolve(M.Bu)}catch(v){return rm("SyncEngine",`Loading bundle failed with ${v}`),p._failWith(v),Promise.resolve(new Set)}var P}),function(u,c,p){return i.apply(this,arguments)})(r,e,t).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}(yield V2(n),i,r)}))}(t,n._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function IX(n,e){return function hX(n,e){return n.asyncQueue.enqueue((0,ke.Z)(function*(){return function(t,r){const i=Ct(t);return i.persistence.runTransaction("Get named query","readonly",u=>i.Ns.getNamedQuery(u,r))}(yield lN(n),e)}))}(Bi(n=Kn(n,ti)),e).then(t=>t?new so(n,null,t.query):null)}(this._delegate,e).then(t=>t?new wo(this,t):null)}}class _N extends q2{constructor(e){super(),this.firestore=e}convertBytes(e){return new xC(new uc(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return iu.forKey(t,this.firestore,null)}}class NG{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new _N(e)}get(e){const t=Tm(e);return this._delegate.get(t).then(r=>new NC(this._firestore,new Ld(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const i=Tm(e);return r?(K2("Transaction.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const u=Tm(e);return 2===arguments.length?this._delegate.update(u,t):this._delegate.update(u,t,r,...i),this}delete(e){const t=Tm(e);return this._delegate.delete(t),this}}class MG{constructor(e){this._delegate=e}set(e,t,r){const i=Tm(e);return r?(K2("WriteBatch.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const u=Tm(e);return 2===arguments.length?this._delegate.update(u,t):this._delegate.update(u,t,r,...i),this}delete(e){const t=Tm(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Dm{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new AC(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new MC(this._firestore,r),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=Dm.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let u=i.get(t);return u||(u=new Dm(e,new _N(e),t),i.set(t,u)),u}}Dm.INSTANCES=new WeakMap;class iu{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new _N(e)}static forPath(e,t,r){if(e.length%2!=0)throw new nt("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new iu(t,new ei(t._delegate,r,new bt(e)))}static forKey(e,t,r){return new iu(t,new ei(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new s0(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new s0(this.firestore,Z4(this._delegate,e))}catch(t){throw vo(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,q.m9)(e))instanceof ei&&K4(this._delegate,e)}set(e,t){t=K2("DocumentReference.set",t);try{return t?bG(this._delegate,e,t):bG(this._delegate,e)}catch(r){throw vo(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?IG(this._delegate,e):IG(this._delegate,e,t,...r)}catch(i){throw vo(i,"updateDoc()","DocumentReference.update()")}}delete(){return function YX(n){return r0(Kn(n.firestore,ti),[new $v(n._key,li.none())])}(this._delegate)}onSnapshot(...e){const t=RG(e),r=kG(e,i=>new NC(this.firestore,new Ld(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return CG(this._delegate,t,r)}get(e){let t;return t="cache"===e?.source?function WX(n){n=Kn(n,ei);const e=Kn(n.firestore,ti),t=Bi(e),r=new zf(e);return function uX(n,e){const t=new ls;return n.asyncQueue.enqueueAndForget((0,ke.Z)(function*(){return(r=(0,ke.Z)(function*(i,u,c){try{const p=yield function(v,I){const A=Ct(v);return A.persistence.runTransaction("read document","readonly",M=>A.localDocuments.getDocument(M,I))}(i,u);p.isFoundDocument()?c.resolve(p):p.isNoDocument()?c.resolve(null):c.reject(new nt(Pe.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(p){const v=Jv(p,`Failed to get document '${u} from cache`);c.reject(v)}}),function(i,u,c){return r.apply(this,arguments)})(yield lN(n),e,t);var r})),t.promise}(t,n._key).then(i=>new Ld(e,r,n._key,i,new Cm(null!==i&&i.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===e?.source?function zX(n){n=Kn(n,ei);const e=Kn(n.firestore,ti);return tG(Bi(e),n._key,{source:"server"}).then(t=>Z2(e,n,t))}(this._delegate):function GX(n){n=Kn(n,ei);const e=Kn(n.firestore,ti);return tG(Bi(e),n._key).then(t=>Z2(e,n,t))}(this._delegate),t.then(r=>new NC(this.firestore,new Ld(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new iu(this.firestore,this._delegate.withConverter(e?Dm.getInstance(this.firestore,e):null))}}function vo(n,e,t){return n.message=n.message.replace(e,t),n}function RG(n){for(const e of n)if("object"==typeof e&&!Y2(e))return e;return{}}function kG(n,e){var t,r;let i;return i=Y2(n[0])?n[0]:Y2(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:u=>{i.next&&i.next(e(u))},error:null===(t=i.error)||void 0===t?void 0:t.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class NC{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new iu(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return EG(this._delegate,e._delegate)}}class MC extends NC{data(e){const t=this._delegate.data(e);return function lY(n,e){n||Lt()}(void 0!==t),t}}class wo{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new _N(e)}where(e,t,r){try{return new wo(this.firestore,Gf(this._delegate,function kX(n,e,t){const r=e,i=gN("where",n);return new RX(i,r,t)}(e,t,r)))}catch(i){throw vo(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new wo(this.firestore,Gf(this._delegate,function PX(n,e="asc"){const t=e,r=gN("orderBy",n);return new OX(r,t)}(e,t)))}catch(r){throw vo(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new wo(this.firestore,Gf(this._delegate,function LX(n){return G4("limit",n),new pG("limit",n,"F")}(e)))}catch(t){throw vo(t,"limit()","Query.limit()")}}limitToLast(e){try{return new wo(this.firestore,Gf(this._delegate,function FX(n){return G4("limitToLast",n),new pG("limitToLast",n,"L")}(e)))}catch(t){throw vo(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new wo(this.firestore,Gf(this._delegate,function UX(...n){return new gG("startAt",n,!0)}(...e)))}catch(t){throw vo(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new wo(this.firestore,Gf(this._delegate,function VX(...n){return new gG("startAfter",n,!1)}(...e)))}catch(t){throw vo(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new wo(this.firestore,Gf(this._delegate,function BX(...n){return new mG("endBefore",n,!1)}(...e)))}catch(t){throw vo(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new wo(this.firestore,Gf(this._delegate,function jX(...n){return new mG("endAt",n,!0)}(...e)))}catch(t){throw vo(t,"endAt()","Query.endAt()")}}isEqual(e){return R2(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function ZX(n){n=Kn(n,so);const e=Kn(n.firestore,ti),t=Bi(e),r=new zf(e);return function lX(n,e){const t=new ls;return n.asyncQueue.enqueueAndForget((0,ke.Z)(function*(){return(r=(0,ke.Z)(function*(i,u,c){try{const p=yield Xx(i,u,!0),v=new k4(u,p.Hi),I=v.Wu(p.documents),A=v.applyChanges(I,!1);c.resolve(A.snapshot)}catch(p){const v=Jv(p,`Failed to execute query '${u} against cache`);c.reject(v)}}),function(i,u,c){return r.apply(this,arguments)})(yield lN(n),e,t);var r})),t.promise}(t,n._query).then(i=>new Wf(e,r,n,i))}(this._delegate):"server"===e?.source?function KX(n){n=Kn(n,so);const e=Kn(n.firestore,ti),t=Bi(e),r=new zf(e);return nG(t,n._query,{source:"server"}).then(i=>new Wf(e,r,n,i))}(this._delegate):function qX(n){n=Kn(n,so);const e=Kn(n.firestore,ti),t=Bi(e),r=new zf(e);return fG(n._query),nG(t,n._query).then(i=>new Wf(e,r,n,i))}(this._delegate),t.then(r=>new Q2(this.firestore,new Wf(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=RG(e),r=kG(e,i=>new Q2(this.firestore,new Wf(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return CG(this._delegate,t,r)}withConverter(e){return new wo(this.firestore,this._delegate.withConverter(e?Dm.getInstance(this.firestore,e):null))}}class hee{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new MC(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class Q2{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new wo(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new MC(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new hee(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new MC(this._firestore,r))})}isEqual(e){return EG(this._delegate,e._delegate)}}class s0 extends wo{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new iu(this.firestore,e):null}doc(e){try{return new iu(this.firestore,void 0===e?oN(this._delegate):oN(this._delegate,e))}catch(t){throw vo(t,"doc()","CollectionReference.doc()")}}add(e){return function QX(n,e){const t=Kn(n.firestore,ti),r=oN(n),i=mN(n.converter,e);return r0(t,[hN(bm(n.firestore),"addDoc",r._key,i,null!==n.converter,{}).toMutation(r._key,li.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new iu(this.firestore,t))}isEqual(e){return K4(this._delegate,e._delegate)}withConverter(e){return new s0(this.firestore,this._delegate.withConverter(e?Dm.getInstance(this.firestore,e):null))}}function Tm(n){return Kn(n,ei)}class J2{constructor(...e){this._delegate=new Pd(...e)}static documentId(){return new J2(Ti.keyField().canonicalString())}isEqual(e){return(e=(0,q.m9)(e))instanceof Pd&&this._delegate._internalPath.isEqual(e._internalPath)}}class Sm{constructor(e){this._delegate=e}static serverTimestamp(){const e=function ree(){return new $2("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new Sm(e)}static delete(){const e=function nee(){return new DC("deleteField")}();return e._methodName="FieldValue.delete",new Sm(e)}static arrayUnion(...e){const t=function iee(...n){return new SX("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new Sm(t)}static arrayRemove(...e){const t=function see(...n){return new AX("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new Sm(t)}static increment(e){const t=function oee(n){return new xX("increment",n)}(e);return t._methodName="FieldValue.increment",new Sm(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const fee={Firestore:xG,GeoPoint:cN,Timestamp:ui,Blob:xC,Transaction:NG,WriteBatch:MG,DocumentReference:iu,DocumentSnapshot:NC,Query:wo,QueryDocumentSnapshot:MC,QuerySnapshot:Q2,CollectionReference:s0,FieldPath:J2,FieldValue:Sm,setLogLevel:function dee(n){!function uY(n){Mf.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};function OG(n,e){return function mee(n,e=Ab.z){return new Xs.y(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{r?.()}})}(n,e)}function X2(n,e){return OG(n,e).pipe((0,At.U)(t=>({payload:t,type:"query"})))}function yN(n,e){return X2(n,e).pipe(gh(void 0),Rg(),(0,At.U)(([t,r])=>{const i=r.payload.docChanges(),u=i.map(c=>({type:c.type,payload:c}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((c,p)=>{const v=i.find(A=>A.doc.ref.isEqual(c.ref)),I=t?.payload.docs.find(A=>A.ref.isEqual(c.ref));v&&JSON.stringify(v.doc.metadata)===JSON.stringify(c.metadata)||!v&&I&&JSON.stringify(I.metadata)===JSON.stringify(c.metadata)||u.push({type:"modified",payload:{oldIndex:p,newIndex:p,type:"modified",doc:c}})}),u}))}function PG(n,e,t){return yN(n,t).pipe(Ru((r,i)=>function yee(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function vee(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return eU(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return eU(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return eU(n,e.oldIndex,1)}return n}(n,r))}),n}(r,i.map(u=>u.payload),e),[]),_d(),(0,At.U)(r=>r.map(i=>({type:i.type,payload:i}))))}function eU(n,e,t,...r){const i=n.slice();return i.splice(e,t,...r),i}function LG(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}!function gee(n){(function pee(n,e){n.INTERNAL.registerComponent(new zu.wA("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),i=t.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},fee)))})(n,(e,t)=>new xG(e,t,new cee)),n.registerVersion("@firebase/firestore-compat","0.2.3")}(XO.Z);class FG{constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=yN(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,At.U)(r=>r.filter(i=>e.indexOf(i.type)>-1)))),t.pipe(gh(void 0),Rg(),ys(([r,i])=>i.length>0||!r),(0,At.U)(([r,i])=>i),_n.iC)}auditTrail(e){return this.stateChanges(e).pipe(Ru((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=LG(e);return PG(this.query,t,this.afs.schedulers.outsideAngular).pipe(_n.iC)}valueChanges(e={}){return X2(this.query,this.afs.schedulers.outsideAngular).pipe((0,At.U)(t=>t.payload.docs.map(r=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data())),_n.iC)}get(e){return(0,Hn.D)(this.query.get(e)).pipe(_n.iC)}add(e){return this.ref.add(e)}doc(e){return new UG(this.ref.doc(e),this.afs)}}class UG{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:i,query:u}=jG(r,t);return new FG(i,u,this.afs)}snapshotChanges(){return function _ee(n,e){return OG(n,e).pipe(gh(void 0),Rg(),(0,At.U)(([t,r])=>r.exists?t?.exists?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(_n.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,At.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,Hn.D)(this.ref.get(e)).pipe(_n.iC)}}class wee{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?yN(this.query,this.afs.schedulers.outsideAngular).pipe((0,At.U)(t=>t.filter(r=>e.indexOf(r.type)>-1)),ys(t=>t.length>0),_n.iC):yN(this.query,this.afs.schedulers.outsideAngular).pipe(_n.iC)}auditTrail(e){return this.stateChanges(e).pipe(Ru((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=LG(e);return PG(this.query,t,this.afs.schedulers.outsideAngular).pipe(_n.iC)}valueChanges(e={}){return X2(this.query,this.afs.schedulers.outsideAngular).pipe((0,At.U)(r=>r.payload.docs.map(i=>e.idField?Object.assign({[e.idField]:i.id},i.data()):i.data())),_n.iC)}get(e){return(0,Hn.D)(this.query.get(e)).pipe(_n.iC)}}const VG=new h.OlP("angularfire2.enableFirestorePersistence"),BG=new h.OlP("angularfire2.firestore.persistenceSettings"),Eee=new h.OlP("angularfire2.firestore.settings"),bee=new h.OlP("angularfire2.firestore.use-emulator");function jG(n,e=(t=>t)){return{query:e(n),ref:n}}let $G=(()=>{class n{constructor(t,r,i,u,c,p,v,I,A,M,P,$,Q,le,ye,lt,dt){this.schedulers=v;const wt=(0,Dr.on)(t,p,r),_t=A;M&&mb(wt,p,P,Q,le,ye,$,lt),[this.firestore,this.persistenceEnabled$]=(0,Dr.cc)(`${wt.name}.firestore`,"AngularFirestore",wt.name,()=>{const ft=p.runOutsideAngular(()=>wt.firestore());if(u&&ft.settings(u),_t&&ft.useEmulator(..._t),i&&!Oa(c)){const yt=()=>{try{return(0,Hn.D)(ft.enablePersistence(I||void 0).then(()=>!0,()=>!1))}catch(fn){return typeof console<"u"&&console.warn(fn),Dt(!1)}};return[ft,p.runOutsideAngular(yt)]}return[ft,Dt(!1)]},[u,_t,i])}collection(t,r){let i;i="string"==typeof t?this.firestore.collection(t):t;const{ref:u,query:c}=jG(i,r),p=this.schedulers.ngZone.run(()=>u);return new FG(p,c,this)}collectionGroup(t,r){const i=r||(c=>c),u=this.firestore.collectionGroup(t);return new wee(i(u),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const i=this.schedulers.ngZone.run(()=>r);return new UG(i,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(Dr.Dh),h.LFG(Dr.xv,8),h.LFG(VG,8),h.LFG(Eee,8),h.LFG(h.Lbi),h.LFG(h.R0b),h.LFG(_n.HU),h.LFG(BG,8),h.LFG(bee,8),h.LFG(to,8),h.LFG(Mg,8),h.LFG(md,8),h.LFG(hb,8),h.LFG(fb,8),h.LFG(pb,8),h.LFG(gb,8),h.LFG(Ng,8))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),Iee=(()=>{class n{constructor(){$t.Z.registerVersion("angularfire",_n.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:VG,useValue:!0},{provide:BG,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:[$G]}),n})();const Dee=new h.OlP("angularfire2.functions.origin"),HG=new h.OlP("angularfire2.functions.region"),Tee=new h.OlP("angularfire2.functions.use-emulator");let tU=(()=>{class n{constructor(t,r,i,u,c,p,v,I){const A=v,M=Dt(void 0).pipe((0,fd.Q)(u.outsideAngular),ir(()=>V.e(568).then(V.bind(V,7568))),(0,At.U)(()=>(0,Dr.on)(t,i,r)),(0,At.U)(P=>(0,Dr.cc)(`${P.name}.functions.${c||p}`,"AngularFireFunctions",P.name,()=>{let $;if(c&&p)throw new Error("REGION and ORIGIN can't be used at the same time.");return $=P.functions(c||p||void 0),A&&$.useEmulator(...A),$},[c,p,A])),si({bufferSize:1,refCount:!1}));return this.httpsCallable=(P,$)=>Q=>(0,Hn.D)(M).pipe((0,fd.Q)(u.insideAngular),ir(le=>le.httpsCallable(P,$)(Q)),(0,At.U)(le=>le.data)),(0,Dr.pX)(this,M,i)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(Dr.Dh),h.LFG(Dr.xv,8),h.LFG(h.R0b),h.LFG(_n.HU),h.LFG(HG,8),h.LFG(Dee,8),h.LFG(Tee,8),h.LFG(Ng,8))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),See=(()=>{class n{constructor(){$t.Z.registerVersion("angularfire",_n.q4.full,"fn-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:[tU]}),n})();var Aee=V(4159),xee=V.n(Aee);V(2125),V(5473),V(9812),V(7792),V(2910),function(){(function(){var n,t,e="function"==typeof Object.create?Object.create:function(s){function d(){}return d.prototype=s,new d};if("function"==typeof Object.setPrototypeOf)t=Object.setPrototypeOf;else{var r;e:{var u={};try{u.__proto__={xb:!0},r=u.xb;break e}catch{}r=!1}t=r?function(s,d){if(s.__proto__=d,s.__proto__!==d)throw new TypeError(s+" is not extensible");return s}:null}var c=t;function p(s,d){if(s.prototype=e(d.prototype),s.prototype.constructor=s,c)c(s,d);else for(var m in d)if("prototype"!=m)if(Object.defineProperties){var w=Object.getOwnPropertyDescriptor(d,m);w&&Object.defineProperty(s,m,w)}else s[m]=d[m];s.K=d.prototype}var v="function"==typeof Object.defineProperties?Object.defineProperty:function(s,d,m){s!=Array.prototype&&s!=Object.prototype&&(s[d]=m.value)},I=typeof window<"u"&&window===this?this:typeof global<"u"&&null!=global?global:this;function A(s,d){if(d){var m=I;s=s.split(".");for(var w=0;w<s.length-1;w++){var D=s[w];D in m||(m[D]={}),m=m[D]}(d=d(w=m[s=s[s.length-1]]))!=w&&null!=d&&v(m,s,{configurable:!0,writable:!0,value:d})}}A("Object.is",function(s){return s||function(d,m){return d===m?0!==d||1/d==1/m:d!=d&&m!=m}}),A("Array.prototype.includes",function(s){return s||function(d,m){var w=this;w instanceof String&&(w=String(w));var D=w.length;for(0>(m=m||0)&&(m=Math.max(m+D,0));m<D;m++){var x=w[m];if(x===d||Object.is(x,d))return!0}return!1}});var M=this;function P(s){return void 0!==s}function $(s){return"string"==typeof s}var Q=/^[\w+/_-]+[=]{0,2}$/,le=null;function ye(){}function lt(s){s.W=void 0,s.Xa=function(){return s.W?s.W:s.W=new s}}function dt(s){var d=typeof s;if("object"==d){if(!s)return"null";if(s instanceof Array)return"array";if(s instanceof Object)return d;var m=Object.prototype.toString.call(s);if("[object Window]"==m)return"object";if("[object Array]"==m||"number"==typeof s.length&&typeof s.splice<"u"&&typeof s.propertyIsEnumerable<"u"&&!s.propertyIsEnumerable("splice"))return"array";if("[object Function]"==m||typeof s.call<"u"&&typeof s.propertyIsEnumerable<"u"&&!s.propertyIsEnumerable("call"))return"function"}else if("function"==d&&typeof s.call>"u")return"object";return d}function wt(s){return"array"==dt(s)}function _t(s){var d=dt(s);return"array"==d||"object"==d&&"number"==typeof s.length}function ft(s){return"function"==dt(s)}function yt(s){var d=typeof s;return"object"==d&&null!=s||"function"==d}var fn="closure_uid_"+(1e9*Math.random()>>>0),Mr=0;function ji(s,d,m){return s.call.apply(s.bind,arguments)}function $i(s,d,m){if(!s)throw Error();if(2<arguments.length){var w=Array.prototype.slice.call(arguments,2);return function(){var D=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(D,w),s.apply(d,D)}}return function(){return s.apply(d,arguments)}}function tn(s,d,m){return(tn=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ji:$i).apply(null,arguments)}function ds(s,d){var m=Array.prototype.slice.call(arguments,1);return function(){var w=m.slice();return w.push.apply(w,arguments),s.apply(this,w)}}function Rn(s,d){for(var m in d)s[m]=d[m]}var Fm,Io=Date.now||function(){return+new Date};function lr(s,d){s=s.split(".");var w,m=M;s[0]in m||typeof m.execScript>"u"||m.execScript("var "+s[0]);for(;s.length&&(w=s.shift());)!s.length&&P(d)?m[w]=d:m=m[w]&&m[w]!==Object.prototype[w]?m[w]:m[w]={}}function Yt(s,d){function m(){}m.prototype=d.prototype,s.K=d.prototype,s.prototype=new m,s.prototype.constructor=s,s.vc=function(w,D,x){for(var B=Array(arguments.length-2),ee=2;ee<arguments.length;ee++)B[ee-2]=arguments[ee];return d.prototype[D].apply(w,B)}}function ni(s){if(Error.captureStackTrace)Error.captureStackTrace(this,ni);else{var d=Error().stack;d&&(this.stack=d)}s&&(this.message=String(s))}function nl(s,d){for(var m="",w=(s=s.split("%s")).length-1,D=0;D<w;D++)m+=s[D]+(D<d.length?d[D]:"%s");ni.call(this,m+s[w])}function Zo(s,d){throw new nl("Failure"+(s?": "+s:""),Array.prototype.slice.call(arguments,1))}Yt(ni,Error),ni.prototype.name="CustomError",Yt(nl,ni),nl.prototype.name="AssertionError";var b0=Array.prototype.indexOf?function(s,d){return Array.prototype.indexOf.call(s,d,void 0)}:function(s,d){if($(s))return $(d)&&1==d.length?s.indexOf(d,0):-1;for(var m=0;m<s.length;m++)if(m in s&&s[m]===d)return m;return-1},rl=Array.prototype.forEach?function(s,d,m){Array.prototype.forEach.call(s,d,m)}:function(s,d,m){for(var w=s.length,D=$(s)?s.split(""):s,x=0;x<w;x++)x in D&&d.call(m,D[x],x,s)},np=Array.prototype.filter?function(s,d){return Array.prototype.filter.call(s,d,void 0)}:function(s,d){for(var m=s.length,w=[],D=0,x=$(s)?s.split(""):s,B=0;B<m;B++)if(B in x){var ee=x[B];d.call(void 0,ee,B,s)&&(w[D++]=ee)}return w},hc=Array.prototype.map?function(s,d){return Array.prototype.map.call(s,d,void 0)}:function(s,d){for(var m=s.length,w=Array(m),D=$(s)?s.split(""):s,x=0;x<m;x++)x in D&&(w[x]=d.call(void 0,D[x],x,s));return w},Um=Array.prototype.some?function(s,d){return Array.prototype.some.call(s,d,void 0)}:function(s,d){for(var m=s.length,w=$(s)?s.split(""):s,D=0;D<m;D++)if(D in w&&d.call(void 0,w[D],D,s))return!0;return!1};function Hs(s,d){return 0<=b0(s,d)}function fc(s,d){var m;return(m=0<=(d=b0(s,d)))&&rp(s,d),m}function rp(s,d){return 1==Array.prototype.splice.call(s,d,1).length}function JN(s){return Array.prototype.concat.apply([],arguments)}function $C(s){var d=s.length;if(0<d){for(var m=Array(d),w=0;w<d;w++)m[w]=s[w];return m}return[]}function WU(s,d,m){return 2>=arguments.length?Array.prototype.slice.call(s,d):Array.prototype.slice.call(s,d,m)}var Co=String.prototype.trim?function(s){return s.trim()}:function(s){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(s)[1]},XN=/&/g,eM=/</g,zU=/>/g,qU=/"/g,Hd=/'/g,C0=/\x00/g,tM=/[\x00&<>"']/;function D0(s,d){return s<d?-1:s>d?1:0}function pc(s){return tM.test(s)&&(-1!=s.indexOf("&")&&(s=s.replace(XN,"&amp;")),-1!=s.indexOf("<")&&(s=s.replace(eM,"&lt;")),-1!=s.indexOf(">")&&(s=s.replace(zU,"&gt;")),-1!=s.indexOf('"')&&(s=s.replace(qU,"&quot;")),-1!=s.indexOf("'")&&(s=s.replace(Hd,"&#39;")),-1!=s.indexOf("\0")&&(s=s.replace(C0,"&#0;"))),s}function HC(s,d,m){for(var w in s)d.call(m,s[w],w,s)}function T0(s){var m,d={};for(m in s)d[m]=s[m];return d}var GC="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Vm(s,d){for(var m,w,D=1;D<arguments.length;D++){for(m in w=arguments[D])s[m]=w[m];for(var x=0;x<GC.length;x++)m=GC[x],Object.prototype.hasOwnProperty.call(w,m)&&(s[m]=w[m])}}var S0="StopIteration"in M?M.StopIteration:{message:"StopIteration",stack:""};function Bm(){}function x8(s){if(s instanceof Bm)return s;if("function"==typeof s.ha)return s.ha(!1);if(_t(s)){var d=0,m=new Bm;return m.next=function(){for(;;){if(d>=s.length)throw S0;if(d in s)return s[d++];d++}},m}throw Error("Not implemented")}function nM(s,d){this.g={},this.a=[],this.j=this.h=0;var m=arguments.length;if(1<m){if(m%2)throw Error("Uneven number of arguments");for(var w=0;w<m;w+=2)this.set(arguments[w],arguments[w+1])}else if(s)if(s instanceof nM)for(m=s.ja(),w=0;w<m.length;w++)this.set(m[w],s.get(m[w]));else for(w in s)this.set(w,s[w])}function rM(s){if(s.h!=s.a.length){for(var d=0,m=0;d<s.a.length;){var w=s.a[d];jm(s.g,w)&&(s.a[m++]=w),d++}s.a.length=m}if(s.h!=s.a.length){var D={};for(m=d=0;d<s.a.length;)jm(D,w=s.a[d])||(s.a[m++]=w,D[w]=1),d++;s.a.length=m}}function jm(s,d){return Object.prototype.hasOwnProperty.call(s,d)}Bm.prototype.next=function(){throw S0},Bm.prototype.ha=function(){return this},(n=nM.prototype).la=function(){rM(this);for(var s=[],d=0;d<this.a.length;d++)s.push(this.g[this.a[d]]);return s},n.ja=function(){return rM(this),this.a.concat()},n.clear=function(){this.g={},this.j=this.h=this.a.length=0},n.get=function(s,d){return jm(this.g,s)?this.g[s]:d},n.set=function(s,d){jm(this.g,s)||(this.h++,this.a.push(s),this.j++),this.g[s]=d},n.forEach=function(s,d){for(var m=this.ja(),w=0;w<m.length;w++){var D=m[w],x=this.get(D);s.call(d,x,D,this)}},n.ha=function(s){rM(this);var d=0,m=this.j,w=this,D=new Bm;return D.next=function(){if(m!=w.j)throw Error("The map has changed since the iterator was created");if(d>=w.a.length)throw S0;var x=w.a[d++];return s?x:w.g[x]},D};var woe=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function N8(s,d,m,w){for(var D=m.length;0<=(d=s.indexOf(m,d))&&d<w;){var x=s.charCodeAt(d-1);if(!(38!=x&&63!=x||(x=s.charCodeAt(d+D))&&61!=x&&38!=x&&35!=x))return d;d+=D+1}return-1}var M8=/#|$/;function iM(s,d){var m=s.search(M8),w=N8(s,0,d,m);if(0>w)return null;var D=s.indexOf("&",w);return(0>D||D>m)&&(D=m),w+=d.length+1,decodeURIComponent(s.substr(w,D-w).replace(/\+/g," "))}var boe=/[?&]($|#)/;function ip(s,d){var m;this.h=this.A=this.j="",this.C=null,this.s=this.g="",this.i=!1,s instanceof ip?(this.i=P(d)?d:s.i,ZU(this,s.j),this.A=s.A,this.h=s.h,KU(this,s.C),this.g=s.g,YU(this,O8(s.a)),this.s=s.s):s&&(m=String(s).match(woe))?(this.i=!!d,ZU(this,m[1]||"",!0),this.A=WC(m[2]||""),this.h=WC(m[3]||"",!0),KU(this,m[4]),this.g=WC(m[5]||"",!0),YU(this,m[6]||"",!0),this.s=WC(m[7]||"")):(this.i=!!d,this.a=new qC(null,this.i))}function ZU(s,d,m){s.j=m?WC(d,!0):d,s.j&&(s.j=s.j.replace(/:$/,""))}function KU(s,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);s.C=d}else s.C=null}function YU(s,d,m){d instanceof qC?(s.a=d,function Aoe(s,d){d&&!s.j&&(sp(s),s.h=null,s.a.forEach(function(m,w){var D=w.toLowerCase();w!=D&&($m(this,w),$m(this,D),0<m.length&&(this.h=null,this.a.set(A0(this,D),$C(m)),this.g+=m.length))},s)),s.j=d}(s.a,s.i)):(m||(d=zC(d,Toe)),s.a=new qC(d,s.i))}function QU(s){return s instanceof ip?new ip(s):new ip(s,void 0)}function WC(s,d){return s?d?decodeURI(s.replace(/%25/g,"%2525")):decodeURIComponent(s):""}function zC(s,d,m){return $(s)?(s=encodeURI(s).replace(d,Ioe),m&&(s=s.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),s):null}function Ioe(s){return"%"+((s=s.charCodeAt(0))>>4&15).toString(16)+(15&s).toString(16)}ip.prototype.toString=function(){var s=[],d=this.j;d&&s.push(zC(d,R8,!0),":");var m=this.h;return(m||"file"==d)&&(s.push("//"),(d=this.A)&&s.push(zC(d,R8,!0),"@"),s.push(encodeURIComponent(String(m)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(m=this.C)&&s.push(":",String(m))),(m=this.g)&&(this.h&&"/"!=m.charAt(0)&&s.push("/"),s.push(zC(m,"/"==m.charAt(0)?Doe:Coe,!0))),(m=this.a.toString())&&s.push("?",m),(m=this.s)&&s.push("#",zC(m,Soe)),s.join("")};var R8=/[#\/\?@]/g,Coe=/[#\?:]/g,Doe=/[#\?]/g,Toe=/[#\?@]/g,Soe=/#/g;function qC(s,d){this.g=this.a=null,this.h=s||null,this.j=!!d}function sp(s){s.a||(s.a=new nM,s.g=0,s.h&&function Eoe(s,d){if(s){s=s.split("&");for(var m=0;m<s.length;m++){var w=s[m].indexOf("="),D=null;if(0<=w){var x=s[m].substring(0,w);D=s[m].substring(w+1)}else x=s[m];d(x,D?decodeURIComponent(D.replace(/\+/g," ")):"")}}}(s.h,function(d,m){s.add(decodeURIComponent(d.replace(/\+/g," ")),m)}))}function $m(s,d){sp(s),d=A0(s,d),jm(s.a.g,d)&&(s.h=null,s.g-=s.a.get(d).length,jm((s=s.a).g,d)&&(delete s.g[d],s.h--,s.j++,s.a.length>2*s.h&&rM(s)))}function k8(s,d){return sp(s),d=A0(s,d),jm(s.a.g,d)}function O8(s){var d=new qC;return d.h=s.h,s.a&&(d.a=new nM(s.a),d.g=s.g),d}function A0(s,d){return d=String(d),s.j&&(d=d.toLowerCase()),d}function Hm(s){this.a=QU(s)}function P8(s){return s.a.a.get(ts.Pa)||null}function L8(s,d){d?s.a.a.set(ts.PROVIDER_ID,d):$m(s.a.a,ts.PROVIDER_ID)}(n=qC.prototype).add=function(s,d){sp(this),this.h=null,s=A0(this,s);var m=this.a.get(s);return m||this.a.set(s,m=[]),m.push(d),this.g+=1,this},n.clear=function(){this.a=this.h=null,this.g=0},n.forEach=function(s,d){sp(this),this.a.forEach(function(m,w){rl(m,function(D){s.call(d,D,w,this)},this)},this)},n.ja=function(){sp(this);for(var s=this.a.la(),d=this.a.ja(),m=[],w=0;w<d.length;w++)for(var D=s[w],x=0;x<D.length;x++)m.push(d[w]);return m},n.la=function(s){sp(this);var d=[];if($(s))k8(this,s)&&(d=JN(d,this.a.get(A0(this,s))));else{s=this.a.la();for(var m=0;m<s.length;m++)d=JN(d,s[m])}return d},n.set=function(s,d){return sp(this),this.h=null,k8(this,s=A0(this,s))&&(this.g-=this.a.get(s).length),this.a.set(s,[d]),this.g+=1,this},n.get=function(s,d){return s&&0<(s=this.la(s)).length?String(s[0]):d},n.toString=function(){if(this.h)return this.h;if(!this.a)return"";for(var s=[],d=this.a.ja(),m=0;m<d.length;m++){var w=d[m],D=encodeURIComponent(String(w));w=this.la(w);for(var x=0;x<w.length;x++){var B=D;""!==w[x]&&(B+="="+encodeURIComponent(String(w[x]))),s.push(B)}}return this.h=s.join("&")},Hm.prototype.toString=function(){return this.a.toString()};var x0,ts={Pa:"ui_auid",lc:"apiKey",Qa:"ui_sd",ub:"mode",$a:"oobCode",PROVIDER_ID:"ui_pid",Sa:"ui_sid",vb:"tenantId"};e:{var F8=M.navigator;if(F8){var U8=F8.userAgent;if(U8){x0=U8;break e}}x0=""}function zn(s){return-1!=x0.indexOf(s)}function V8(){return(zn("Chrome")||zn("CriOS"))&&!zn("Edge")}function JU(s){return JU[" "](s),s}JU[" "]=ye;var sM,s,B8=zn("Opera"),xi=zn("Trident")||zn("MSIE"),op=zn("Edge"),Roe=op||xi,il=zn("Gecko")&&!(-1!=x0.toLowerCase().indexOf("webkit")&&!zn("Edge"))&&!(zn("Trident")||zn("MSIE"))&&!zn("Edge"),Do=-1!=x0.toLowerCase().indexOf("webkit")&&!zn("Edge"),koe=Do&&zn("Mobile"),ap=zn("Macintosh");function j8(){var s=M.document;return s?s.documentMode:void 0}e:{var XU="",eV=(s=x0,il?/rv:([^\);]+)(\)|;)/.exec(s):op?/Edge\/([\d\.]+)/.exec(s):xi?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(s):Do?/WebKit\/(\S+)/.exec(s):B8?/(?:Version)[ \/]?(\S+)/.exec(s):void 0);if(eV&&(XU=eV?eV[1]:""),xi){var tV=j8();if(null!=tV&&tV>parseFloat(XU)){sM=String(tV);break e}}sM=XU}var Ooe={};function Gm(s){return function Moe(s,d){var m=Ooe;return Object.prototype.hasOwnProperty.call(m,s)?m[s]:m[s]=d(s)}(s,function(){for(var d=0,m=Co(String(sM)).split("."),w=Co(String(s)).split("."),D=Math.max(m.length,w.length),x=0;0==d&&x<D;x++){var B=m[x]||"",ee=w[x]||"";do{if(B=/(\d*)(\D*)(.*)/.exec(B)||["","","",""],ee=/(\d*)(\D*)(.*)/.exec(ee)||["","","",""],0==B[0].length&&0==ee[0].length)break;d=D0(0==B[1].length?0:parseInt(B[1],10),0==ee[1].length?0:parseInt(ee[1],10))||D0(0==B[2].length,0==ee[2].length)||D0(B[2],ee[2]),B=B[3],ee=ee[3]}while(0==d)}return 0<=d})}var ZC,$8=M.document;function N0(s,d){this.a=s===G8&&d||"",this.g=H8}ZC=$8&&xi?j8()||("CSS1Compat"==$8.compatMode?parseInt(sM,10):5):void 0,N0.prototype.ma=!0,N0.prototype.ka=function(){return this.a},N0.prototype.toString=function(){return"Const{"+this.a+"}"};var H8={},G8={};function Wm(){this.a="",this.h=z8}function W8(s){return s instanceof Wm&&s.constructor===Wm&&s.h===z8?s.a:(Zo("expected object of type TrustedResourceUrl, got '"+s+"' of type "+dt(s)),"type_error:TrustedResourceUrl")}Wm.prototype.ma=!0,Wm.prototype.ka=function(){return this.a.toString()},Wm.prototype.g=function(){return 1},Wm.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var z8={};function ba(){this.a="",this.h=K8}function up(s){return s instanceof ba&&s.constructor===ba&&s.h===K8?s.a:(Zo("expected object of type SafeUrl, got '"+s+"' of type "+dt(s)),"type_error:SafeUrl")}ba.prototype.ma=!0,ba.prototype.ka=function(){return this.a.toString()},ba.prototype.g=function(){return 1},ba.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var q8=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function oM(s){return s instanceof ba?s:(s="object"==typeof s&&s.ma?s.ka():String(s),q8.test(s)||(s="about:invalid#zClosurez"),nV(s))}function Z8(s){return s instanceof ba?s:(s="object"==typeof s&&s.ma?s.ka():String(s),q8.test(s)||(s="about:invalid#zClosurez"),nV(s))}var K8={};function nV(s){var d=new ba;return d.a=s,d}function M0(){this.a="",this.g=Y8}nV("about:blank"),M0.prototype.ma=!0;var Y8={};function lp(){this.a="",this.j=Q8,this.h=null}function aM(s){return s instanceof lp&&s.constructor===lp&&s.j===Q8?s.a:(Zo("expected object of type SafeHtml, got '"+s+"' of type "+dt(s)),"type_error:SafeHtml")}M0.prototype.ka=function(){return this.a},M0.prototype.toString=function(){return"SafeStyle{"+this.a+"}"},lp.prototype.g=function(){return this.h},lp.prototype.ma=!0,lp.prototype.ka=function(){return this.a.toString()},lp.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var Q8={};function KC(s,d){var m=new lp;return m.a=s,m.h=d,m}KC("<!DOCTYPE html>",0);var Loe=KC("",0);KC("<br>",0);var m,d,Foe=(d=!1,function(){return d||(m=function(){if(typeof document>"u")return!1;var s=document.createElement("div"),d=document.createElement("div");return d.appendChild(document.createElement("div")),s.appendChild(d),!!s.firstChild&&(d=s.firstChild.firstChild,s.innerHTML=aM(Loe),!d.parentElement)}(),d=!0),m});function R0(s,d){d=d instanceof ba?d:Z8(d),s.assign(up(d))}function cp(s,d){this.a=P(s)?s:0,this.g=P(d)?d:0}function rV(s,d){this.width=s,this.height=d}function uM(s){return s?new aV(YC(s)):Fm||(Fm=new aV)}function iV(s,d){var m=d||document;return m.querySelectorAll&&m.querySelector?m.querySelectorAll("."+s):J8(document,s,d)}function sV(s,d){var m=d||document;if(m.getElementsByClassName)s=m.getElementsByClassName(s)[0];else{m=document;var w=d||m;s=w.querySelectorAll&&w.querySelector&&s?w.querySelector(s?"."+s:""):J8(m,s,d)[0]||null}return s||null}function J8(s,d,m){var w;if((s=m||s).querySelectorAll&&s.querySelector&&d)return s.querySelectorAll(d?"."+d:"");if(d&&s.getElementsByClassName){var D=s.getElementsByClassName(d);return D}if(D=s.getElementsByTagName("*"),d){var x={};for(m=w=0;s=D[m];m++){var B=s.className;"function"==typeof B.split&&Hs(B.split(/\s+/),d)&&(x[w++]=s)}return x.length=w,x}return D}cp.prototype.toString=function(){return"("+this.a+", "+this.g+")"},cp.prototype.ceil=function(){return this.a=Math.ceil(this.a),this.g=Math.ceil(this.g),this},cp.prototype.floor=function(){return this.a=Math.floor(this.a),this.g=Math.floor(this.g),this},cp.prototype.round=function(){return this.a=Math.round(this.a),this.g=Math.round(this.g),this},(n=rV.prototype).toString=function(){return"("+this.width+" x "+this.height+")"},n.aspectRatio=function(){return this.width/this.height},n.ceil=function(){return this.width=Math.ceil(this.width),this.height=Math.ceil(this.height),this},n.floor=function(){return this.width=Math.floor(this.width),this.height=Math.floor(this.height),this},n.round=function(){return this.width=Math.round(this.width),this.height=Math.round(this.height),this};var X8={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function lM(s){return s.scrollingElement?s.scrollingElement:(Do||"CSS1Compat"!=s.compatMode)&&s.body||s.documentElement}function zm(s){s&&s.parentNode&&s.parentNode.removeChild(s)}function YC(s){return 9==s.nodeType?s:s.ownerDocument||s.document}function oV(s,d){if("textContent"in s)s.textContent=d;else if(3==s.nodeType)s.data=String(d);else if(s.firstChild&&3==s.firstChild.nodeType){for(;s.lastChild!=s.firstChild;)s.removeChild(s.lastChild);s.firstChild.data=String(d)}else{for(var m;m=s.firstChild;)s.removeChild(m);s.appendChild(YC(s).createTextNode(String(d)))}}function eW(s,d){return d?function Boe(s,d){for(;s;){if(d(s))return s;s=s.parentNode}return null}(s,function(m){return!d||$(m.className)&&Hs(m.className.split(/\s+/),d)}):null}function aV(s){this.a=s||M.document||document}aV.prototype.N=function(){return $(void 0)?this.a.getElementById(void 0):void 0};var cM={Fc:!0},tW={Hc:!0},joe={Ec:!0},nW={Gc:!0};function dp(){throw Error("Do not instantiate directly")}function QC(s,d,m,w){if(s=s(d||Goe,void 0,m),w=(w||uM()).a.createElement("DIV"),(s=function $oe(s){if(!yt(s))return pc(String(s));if(s instanceof dp){if(s.fa===cM)return s.content;if(s.fa===nW)return pc(s.content)}return Zo("Soy template output is unsafe for use as HTML: "+s),"zSoyz"}(s)).match(Hoe),s=KC(s,null),Foe())for(;w.lastChild;)w.removeChild(w.lastChild);return w.innerHTML=aM(s),1==w.childNodes.length&&1==(s=w.firstChild).nodeType&&(w=s),w}dp.prototype.va=null,dp.prototype.toString=function(){return this.content};var Hoe=/^<(body|caption|col|colgroup|head|html|tr|td|th|tbody|thead|tfoot)>/i,Goe={};function dM(){dp.call(this)}function pn(s){return null!=s&&s.fa===cM?s:s instanceof lp?Rt(aM(s).toString(),s.g()):Rt(pc(String(String(s))),function Woe(s){if(null!=s)switch(s.va){case 1:return 1;case-1:return-1;case 0:return 0}return null}(s))}function hM(){dp.call(this)}function fM(s,d){this.content=String(s),this.va=d??null}function or(s){return new fM(s,void 0)}Yt(dM,dp),dM.prototype.fa=cM,Yt(hM,dp),hM.prototype.fa=tW,hM.prototype.va=1,Yt(fM,dp),fM.prototype.fa=nW;var Rt=function(s){function d(m){this.content=m}return d.prototype=s.prototype,function(m,w){return m=new d(String(m)),void 0!==w&&(m.va=w),m}}(dM),zoe=function(s){function d(m){this.content=m}return d.prototype=s.prototype,function(m){return new d(String(m))}}(hM);function Ni(s){return(s=String(s))?new fM(s,void 0):""}var rW=function(s){function d(m){this.content=m}return d.prototype=s.prototype,function(m,w){return(m=String(m))?(m=new d(m),void 0!==w&&(m.va=w),m):""}}(dM);function To(s){return null!=s&&s.fa===cM?String(String(s.content).replace(eae,"").replace(tae,"&lt;")).replace(Qoe,Koe):pc(String(s))}function qm(s){return null!=s&&s.fa===tW?s=String(s).replace(lV,uV):s instanceof ba?s=String(up(s).toString()).replace(lV,uV):(s=String(s),Xoe.test(s)?s=s.replace(lV,uV):(Zo("Bad value `%s` for |filterNormalizeUri",[s]),s="#zSoyz")),s}function iW(s){return null!=s&&s.fa===joe?s=s.content:null==s?s="":s instanceof M0?s instanceof M0&&s.constructor===M0&&s.g===Y8?s=s.a:(Zo("expected object of type SafeStyle, got '"+s+"' of type "+dt(s)),s="type_error:SafeStyle"):(s=String(s),Joe.test(s)||(Zo("Bad value `%s` for |filterCssValue",[s]),s="zSoyz")),s}var Zoe={"\0":"&#0;","\t":"&#9;","\n":"&#10;","\v":"&#11;","\f":"&#12;","\r":"&#13;"," ":"&#32;",'"':"&quot;","&":"&amp;","'":"&#39;","-":"&#45;","/":"&#47;","<":"&lt;","=":"&#61;",">":"&gt;","`":"&#96;","\x85":"&#133;","\xa0":"&#160;","\u2028":"&#8232;","\u2029":"&#8233;"};function Koe(s){return Zoe[s]}var Yoe={"\0":"%00","\x01":"%01","\x02":"%02","\x03":"%03","\x04":"%04","\x05":"%05","\x06":"%06","\x07":"%07","\b":"%08","\t":"%09","\n":"%0A","\v":"%0B","\f":"%0C","\r":"%0D","\x0e":"%0E","\x0f":"%0F","\x10":"%10","\x11":"%11","\x12":"%12","\x13":"%13","\x14":"%14","\x15":"%15","\x16":"%16","\x17":"%17","\x18":"%18","\x19":"%19","\x1a":"%1A","\x1b":"%1B","\x1c":"%1C","\x1d":"%1D","\x1e":"%1E","\x1f":"%1F"," ":"%20",'"':"%22","'":"%27","(":"%28",")":"%29","<":"%3C",">":"%3E","\\":"%5C","{":"%7B","}":"%7D","\x7f":"%7F","\x85":"%C2%85","\xa0":"%C2%A0","\u2028":"%E2%80%A8","\u2029":"%E2%80%A9","\uff01":"%EF%BC%81","\uff03":"%EF%BC%83","\uff04":"%EF%BC%84","\uff06":"%EF%BC%86","\uff07":"%EF%BC%87","\uff08":"%EF%BC%88","\uff09":"%EF%BC%89","\uff0a":"%EF%BC%8A","\uff0b":"%EF%BC%8B","\uff0c":"%EF%BC%8C","\uff0f":"%EF%BC%8F","\uff1a":"%EF%BC%9A","\uff1b":"%EF%BC%9B","\uff1d":"%EF%BC%9D","\uff1f":"%EF%BC%9F","\uff20":"%EF%BC%A0","\uff3b":"%EF%BC%BB","\uff3d":"%EF%BC%BD"};function uV(s){return Yoe[s]}var Qoe=/[\x00\x22\x27\x3c\x3e]/g,lV=/[\x00- \x22\x27-\x29\x3c\x3e\\\x7b\x7d\x7f\x85\xa0\u2028\u2029\uff01\uff03\uff04\uff06-\uff0c\uff0f\uff1a\uff1b\uff1d\uff1f\uff20\uff3b\uff3d]/g,Joe=/^(?!-*(?:expression|(?:moz-)?binding))(?:[.#]?-?(?:[_a-z0-9-]+)(?:-[_a-z0-9-]+)*-?|-?(?:[0-9]+(?:\.[0-9]*)?|\.[0-9]+)(?:[a-z]{1,2}|%)?|!important|)$/i,Xoe=/^(?![^#?]*\/(?:\.|%2E){2}(?:[\/?#]|$))(?:(?:https?|mailto):|[^&:\/?#]*(?:[\/?#]|$))/i,eae=/<(?:!|\/?([a-zA-Z][a-zA-Z0-9:\-]*))(?:[^>'"]|"[^"]*"|'[^']*')*>/g,tae=/</g;function cV(){return or("Enter a valid phone number")}function sW(){return or("Unable to send password reset code to specified email")}function oW(){return or("Something went wrong. Please try again.")}function aW(){return or("This email already exists without any means of sign-in. Please reset the password to recover.")}function uW(s){var d="";switch((s=s||{}).code){case"invalid-argument":d+="Client specified an invalid argument.";break;case"invalid-configuration":d+="Client specified an invalid project configuration.";break;case"failed-precondition":d+="Request can not be executed in the current system state.";break;case"out-of-range":d+="Client specified an invalid range.";break;case"unauthenticated":d+="Request not authenticated due to missing, invalid, or expired OAuth token.";break;case"permission-denied":d+="Client does not have sufficient permission.";break;case"not-found":d+="Specified resource is not found.";break;case"aborted":d+="Concurrency conflict, such as read-modify-write conflict.";break;case"already-exists":d+="The resource that a client tried to create already exists.";break;case"resource-exhausted":d+="Either out of resource quota or reaching rate limiting.";break;case"cancelled":d+="Request cancelled by the client.";break;case"data-loss":d+="Unrecoverable data loss or data corruption.";break;case"unknown":d+="Unknown server error.";break;case"internal":d+="Internal server error.";break;case"not-implemented":d+="API method not implemented by the server.";break;case"unavailable":d+="Service unavailable.";break;case"deadline-exceeded":d+="Request deadline exceeded.";break;case"auth/user-disabled":d+="The user account has been disabled by an administrator.";break;case"auth/timeout":d+="The operation has timed out.";break;case"auth/too-many-requests":d+="We have blocked all requests from this device due to unusual activity. Try again later.";break;case"auth/quota-exceeded":d+="The quota for this operation has been exceeded. Try again later.";break;case"auth/network-request-failed":d+="A network error has occurred. Try again later.";break;case"restart-process":d+="An issue was encountered when authenticating your request. Please visit the URL that redirected you to this page again to restart the authentication process.";break;case"no-matching-tenant-for-email":d+="No sign-in provider is available for the given email, please try with a different email."}return or(d)}function JC(s,d,m){var w=Error.call(this);this.message=w.message,"stack"in w&&(this.stack=w.stack),this.code=nae+s,(s=d)||("firebaseui/merge-conflict"===(s="",this.code)?s+="The current anonymous user failed to upgrade. The non-anonymous credential is already associated with a different user account.":s+=oW(),s=or(s).toString()),this.message=s||"",this.credential=m||null}p(JC,Error),JC.prototype.toJSON=function(){return{code:this.code,message:this.message}};var nae="firebaseui/";function Zm(){0!=dV&&(cW[this[fn]||(this[fn]=++Mr)]=this),this.T=this.T,this.C=this.C}var dV=0,cW={};function XC(s,d){s.T?P(void 0)?d.call(void 0):d():(s.C||(s.C=[]),s.C.push(P(void 0)?tn(d,void 0):d))}function eD(s){s&&"function"==typeof s.m&&s.m()}Zm.prototype.T=!1,Zm.prototype.m=function(){if(!this.T&&(this.T=!0,this.o(),0!=dV)){var s=this[fn]||(this[fn]=++Mr);if(0!=dV&&this.C&&0<this.C.length)throw Error(this+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete cW[s]}},Zm.prototype.o=function(){if(this.C)for(;this.C.length;)this.C.shift()()};var rae=Object.freeze||function(s){return s},dW=!xi||9<=Number(ZC),iae=xi&&!Gm("9"),sae=function(){if(!M.addEventListener||!Object.defineProperty)return!1;var s=!1,d=Object.defineProperty({},"passive",{get:function(){s=!0}});try{M.addEventListener("test",ye,d),M.removeEventListener("test",ye,d)}catch{}return s}();function Gd(s,d){this.type=s,this.g=this.target=d,this.h=!1,this.qb=!0}function So(s,d){if(Gd.call(this,s?s.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.j=this.keyCode=0,this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,s){var m=this.type=s.type,w=s.changedTouches&&s.changedTouches.length?s.changedTouches[0]:null;if(this.target=s.target||s.srcElement,this.g=d,d=s.relatedTarget){if(il){e:{try{JU(d.nodeName);var D=!0;break e}catch{}D=!1}D||(d=null)}}else"mouseover"==m?d=s.fromElement:"mouseout"==m&&(d=s.toElement);this.relatedTarget=d,w?(this.clientX=void 0!==w.clientX?w.clientX:w.pageX,this.clientY=void 0!==w.clientY?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=void 0!==s.clientX?s.clientX:s.pageX,this.clientY=void 0!==s.clientY?s.clientY:s.pageY,this.screenX=s.screenX||0,this.screenY=s.screenY||0),this.button=s.button,this.keyCode=s.keyCode||0,this.key=s.key||"",this.j=s.charCode||("keypress"==m?s.keyCode:0),this.ctrlKey=s.ctrlKey,this.altKey=s.altKey,this.shiftKey=s.shiftKey,this.metaKey=s.metaKey,this.pointerId=s.pointerId||0,this.pointerType=$(s.pointerType)?s.pointerType:oae[s.pointerType]||"",this.a=s,s.defaultPrevented&&this.preventDefault()}}Gd.prototype.stopPropagation=function(){this.h=!0},Gd.prototype.preventDefault=function(){this.qb=!1},Yt(So,Gd);var oae=rae({2:"touch",3:"pen",4:"mouse"});So.prototype.stopPropagation=function(){So.K.stopPropagation.call(this),this.a.stopPropagation?this.a.stopPropagation():this.a.cancelBubble=!0},So.prototype.preventDefault=function(){So.K.preventDefault.call(this);var s=this.a;if(s.preventDefault)s.preventDefault();else if(s.returnValue=!1,iae)try{(s.ctrlKey||112<=s.keyCode&&123>=s.keyCode)&&(s.keyCode=-1)}catch{}};var tD="closure_listenable_"+(1e6*Math.random()|0),aae=0;function uae(s,d,m,w,D){this.listener=s,this.proxy=null,this.src=d,this.type=m,this.capture=!!w,this.La=D,this.key=++aae,this.sa=this.Ia=!1}function pM(s){s.sa=!0,s.listener=null,s.proxy=null,s.src=null,s.La=null}function gM(s){this.src=s,this.a={},this.g=0}function hV(s,d){var m=d.type;m in s.a&&fc(s.a[m],d)&&(pM(d),0==s.a[m].length&&(delete s.a[m],s.g--))}function fV(s,d,m,w){for(var D=0;D<s.length;++D){var x=s[D];if(!x.sa&&x.listener==d&&x.capture==!!m&&x.La==w)return D}return-1}gM.prototype.add=function(s,d,m,w,D){var x=s.toString();(s=this.a[x])||(s=this.a[x]=[],this.g++);var B=fV(s,d,w,D);return-1<B?(d=s[B],m||(d.Ia=!1)):((d=new uae(d,this.src,x,!!w,D)).Ia=m,s.push(d)),d};var pV="closure_lm_"+(1e6*Math.random()|0),gV={};function sl(s,d,m,w,D){if(w&&w.once)return nD(s,d,m,w,D);if(wt(d)){for(var x=0;x<d.length;x++)sl(s,d[x],m,w,D);return null}return m=_V(m),s&&s[tD]?s.J.add(String(d),m,!1,yt(w)?!!w.capture:!!w,D):fW(s,d,m,!1,w,D)}function fW(s,d,m,w,D,x){if(!d)throw Error("Invalid event type");var B=yt(D)?!!D.capture:!!D,ee=mM(s);if(ee||(s[pV]=ee=new gM(s)),(m=ee.add(d,m,w,B,x)).proxy)return m;if(w=function lae(){var s=cae,d=dW?function(m){return s.call(d.src,d.listener,m)}:function(m){if(!(m=s.call(d.src,d.listener,m)))return m};return d}(),m.proxy=w,w.src=s,w.listener=m,s.addEventListener)sae||(D=B),void 0===D&&(D=!1),s.addEventListener(d.toString(),w,D);else if(s.attachEvent)s.attachEvent(pW(d.toString()),w);else{if(!s.addListener||!s.removeListener)throw Error("addEventListener and attachEvent are unavailable.");s.addListener(w)}return m}function nD(s,d,m,w,D){if(wt(d)){for(var x=0;x<d.length;x++)nD(s,d[x],m,w,D);return null}return m=_V(m),s&&s[tD]?s.J.add(String(d),m,!0,yt(w)?!!w.capture:!!w,D):fW(s,d,m,!0,w,D)}function Km(s,d,m,w,D){if(wt(d))for(var x=0;x<d.length;x++)Km(s,d[x],m,w,D);else w=yt(w)?!!w.capture:!!w,m=_V(m),s&&s[tD]?(s=s.J,(d=String(d).toString())in s.a&&-1<(m=fV(x=s.a[d],m,w,D))&&(pM(x[m]),rp(x,m),0==x.length&&(delete s.a[d],s.g--))):s&&(s=mM(s))&&(d=s.a[d.toString()],s=-1,d&&(s=fV(d,m,w,D)),(m=-1<s?d[s]:null)&&hp(m))}function hp(s){if("number"!=typeof s&&s&&!s.sa){var d=s.src;if(d&&d[tD])hV(d.J,s);else{var m=s.type,w=s.proxy;d.removeEventListener?d.removeEventListener(m,w,s.capture):d.detachEvent?d.detachEvent(pW(m),w):d.addListener&&d.removeListener&&d.removeListener(w),(m=mM(d))?(hV(m,s),0==m.g&&(m.src=null,d[pV]=null)):pM(s)}}}function pW(s){return s in gV?gV[s]:gV[s]="on"+s}function gW(s,d,m,w){var D=!0;if((s=mM(s))&&(d=s.a[d.toString()]))for(d=d.concat(),s=0;s<d.length;s++){var x=d[s];x&&x.capture==m&&!x.sa&&(x=mW(x,w),D=D&&!1!==x)}return D}function mW(s,d){var m=s.listener,w=s.La||s.src;return s.Ia&&hp(s),m.call(w,d)}function cae(s,d){if(s.sa)return!0;if(!dW){if(!d)e:{d=["window","event"];for(var m=M,w=0;w<d.length;w++)if(null==(m=m[d[w]])){d=null;break e}d=m}if(d=new So(w=d,this),m=!0,!(0>w.keyCode||null!=w.returnValue)){e:{var D=!1;if(0==w.keyCode)try{w.keyCode=-1;break e}catch{D=!0}(D||null==w.returnValue)&&(w.returnValue=!0)}for(w=[],D=d.g;D;D=D.parentNode)w.push(D);for(s=s.type,D=w.length-1;!d.h&&0<=D;D--){d.g=w[D];var x=gW(w[D],s,!0,d);m=m&&x}for(D=0;!d.h&&D<w.length;D++)d.g=w[D],x=gW(w[D],s,!1,d),m=m&&x}return m}return mW(s,new So(d,this))}function mM(s){return(s=s[pV])instanceof gM?s:null}var mV="__closure_events_fn_"+(1e9*Math.random()>>>0);function _V(s){return ft(s)?s:(s[mV]||(s[mV]=function(d){return s.handleEvent(d)}),s[mV])}function ns(){Zm.call(this),this.J=new gM(this),this.wb=this,this.Ha=null}function fp(s,d){var m,w=s.Ha;if(w)for(m=[];w;w=w.Ha)m.push(w);if(s=s.wb,w=d.type||d,$(d))d=new Gd(d,s);else if(d instanceof Gd)d.target=d.target||s;else{var D=d;Vm(d=new Gd(w,s),D)}if(D=!0,m)for(var x=m.length-1;!d.h&&0<=x;x--){var B=d.g=m[x];D=_M(B,w,!0,d)&&D}if(d.h||(D=_M(B=d.g=s,w,!0,d)&&D,d.h||(D=_M(B,w,!1,d)&&D)),m)for(x=0;!d.h&&x<m.length;x++)D=_M(B=d.g=m[x],w,!1,d)&&D;return D}function _M(s,d,m,w){if(!(d=s.J.a[String(d)]))return!0;d=d.concat();for(var D=!0,x=0;x<d.length;++x){var B=d[x];if(B&&!B.sa&&B.capture==m){var ee=B.listener,Le=B.La||B.src;B.Ia&&hV(s.J,B),D=!1!==ee.call(Le,w)&&D}}return D&&0!=w.qb}Yt(ns,Zm),ns.prototype[tD]=!0,ns.prototype.Za=function(s){this.Ha=s},ns.prototype.removeEventListener=function(s,d,m,w){Km(this,s,d,m,w)},ns.prototype.o=function(){if(ns.K.o.call(this),this.J){var m,s=this.J;for(m in s.a){for(var w=s.a[m],D=0;D<w.length;D++)pM(w[D]);delete s.a[m],s.g--}}this.Ha=null};var Ia={},_W=0;function yW(s,d){if(!s)throw Error("Event target element must be provided!");if(s=yV(s),Ia[s]&&Ia[s].length)for(var m=0;m<Ia[s].length;m++)fp(Ia[s][m],d)}function yV(s){return typeof s.a>"u"&&(s.a=_W,_W++),s.a}function yM(s){if(!s)throw Error("Event target element must be provided!");ns.call(this),this.a=s}function vW(s){if(!s)return!1;try{return!!s.$goog_Thenable}catch{return!1}}function vV(s,d){this.h=s,this.j=d,this.g=0,this.a=null}function wW(s,d){s.j(d),100>s.g&&(s.g++,d.next=s.a,s.a=d)}function EW(){this.g=this.a=null}p(yM,ns),yM.prototype.N=function(){return this.a},yM.prototype.register=function(){var s=yV(this.N());Ia[s]?Hs(Ia[s],this)||Ia[s].push(this):Ia[s]=[this]},vV.prototype.get=function(){if(0<this.g){this.g--;var s=this.a;this.a=s.next,s.next=null}else s=this.h();return s};var EV,vM,bW=new vV(function(){return new wV},function(s){s.reset()});function hae(){var s=CW,d=null;return s.a&&(d=s.a,s.a=s.a.next,s.a||(s.g=null),d.next=null),d}function wV(){this.next=this.g=this.a=null}function IW(s){M.setTimeout(function(){throw s},0)}function bV(s,d){vM||function pae(){if(M.Promise&&M.Promise.resolve){var s=M.Promise.resolve(void 0);vM=function(){s.then(DW)}}else vM=function(){var d=DW;!ft(M.setImmediate)||M.Window&&M.Window.prototype&&!zn("Edge")&&M.Window.prototype.setImmediate==M.setImmediate?(EV||(EV=function fae(){var s=M.MessageChannel;if(typeof s>"u"&&typeof window<"u"&&window.postMessage&&window.addEventListener&&!zn("Presto")&&(s=function(){var D=document.createElement("IFRAME");D.style.display="none",D.src="",document.documentElement.appendChild(D);var x=D.contentWindow;(D=x.document).open(),D.write(""),D.close();var B="callImmediate"+Math.random(),ee="file:"==x.location.protocol?"*":x.location.protocol+"//"+x.location.host;D=tn(function(Le){("*"==ee||Le.origin==ee)&&Le.data==B&&this.port1.onmessage()},this),x.addEventListener("message",D,!1),this.port1={},this.port2={postMessage:function(){x.postMessage(B,ee)}}}),typeof s<"u"&&!zn("Trident")&&!zn("MSIE")){var d=new s,m={},w=m;return d.port1.onmessage=function(){if(P(m.next)){var D=(m=m.next).gb;m.gb=null,D()}},function(D){w.next={gb:D},w=w.next,d.port2.postMessage(0)}}return typeof document<"u"&&"onreadystatechange"in document.createElement("SCRIPT")?function(D){var x=document.createElement("SCRIPT");x.onreadystatechange=function(){x.onreadystatechange=null,x.parentNode.removeChild(x),x=null,D(),D=null},document.documentElement.appendChild(x)}:function(D){M.setTimeout(D,0)}}()),EV(d)):M.setImmediate(d)}}(),IV||(vM(),IV=!0),CW.add(s,d)}EW.prototype.add=function(s,d){var m=bW.get();m.set(s,d),this.g?this.g.next=m:this.a=m,this.g=m},wV.prototype.set=function(s,d){this.a=s,this.g=d,this.next=null},wV.prototype.reset=function(){this.next=this.g=this.a=null};var IV=!1,CW=new EW;function DW(){for(var s;s=hae();){try{s.a.call(s.g)}catch(d){IW(d)}wW(bW,s)}IV=!1}function rs(s){if(this.a=Ym,this.A=void 0,this.j=this.g=this.h=null,this.s=this.i=!1,s!=ye)try{var d=this;s.call(void 0,function(m){Qm(d,rD,m)},function(m){if(!(m instanceof O0))try{throw m instanceof Error?m:Error("Promise rejected.")}catch{}Qm(d,Wd,m)})}catch(m){Qm(this,Wd,m)}}var Ym=0,rD=2,Wd=3;function TW(){this.next=this.j=this.g=this.s=this.a=null,this.h=!1}TW.prototype.reset=function(){this.j=this.g=this.s=this.a=null,this.h=!1};var SW=new vV(function(){return new TW},function(s){s.reset()});function CV(s,d,m){var w=SW.get();return w.s=s,w.g=d,w.j=m,w}function Mi(s){if(s instanceof rs)return s;var d=new rs(ye);return Qm(d,rD,s),d}function k0(s){return new rs(function(d,m){m(s)})}function AW(s,d){if(s.a==Ym)if(s.h){var m=s.h;if(m.g){for(var w=0,D=null,x=null,B=m.g;B&&(B.h||(w++,B.a==s&&(D=B),!(D&&1<w)));B=B.next)D||(x=B);D&&(m.a==Ym&&1==w?AW(m,d):(x?((w=x).next==m.j&&(m.j=w),w.next=w.next.next):MW(m),RW(m,D,Wd,d)))}s.h=null}else Qm(s,Wd,d)}function DV(s,d){s.g||s.a!=rD&&s.a!=Wd||NW(s),s.j?s.j.next=d:s.g=d,s.j=d}function xW(s,d,m,w){var D=CV(null,null,null);return D.a=new rs(function(x,B){D.s=d?function(ee){try{var Le=d.call(w,ee);x(Le)}catch(ct){B(ct)}}:x,D.g=m?function(ee){try{var Le=m.call(w,ee);!P(Le)&&ee instanceof O0?B(ee):x(Le)}catch(ct){B(ct)}}:B}),D.a.h=s,DV(s,D),D.a}function Qm(s,d,m){if(s.a==Ym){s===m&&(d=Wd,m=new TypeError("Promise cannot resolve to itself")),s.a=1;e:{var w=m,D=s.hc,x=s.ic;if(w instanceof rs){DV(w,CV(D||ye,x||null,s));var B=!0}else if(vW(w))w.then(D,x,s),B=!0;else{if(yt(w))try{var ee=w.then;if(ft(ee)){(function gae(s,d,m,w,D){function x(Le){ee||(ee=!0,w.call(D,Le))}var ee=!1;try{d.call(s,function B(Le){ee||(ee=!0,m.call(D,Le))},x)}catch(Le){x(Le)}})(w,ee,D,x,s),B=!0;break e}}catch(Le){x.call(s,Le),B=!0;break e}B=!1}}B||(s.A=m,s.a=d,s.h=null,NW(s),d!=Wd||m instanceof O0||function mae(s,d){s.s=!0,bV(function(){s.s&&OW.call(null,d)})}(s,m))}}function NW(s){s.i||(s.i=!0,bV(s.Hb,s))}function MW(s){var d=null;return s.g&&(s.g=(d=s.g).next,d.next=null),s.g||(s.j=null),d}function RW(s,d,m,w){if(m==Wd&&d.g&&!d.h)for(;s&&s.s;s=s.h)s.s=!1;if(d.a)d.a.h=null,kW(d,m,w);else try{d.h?d.s.call(d.j):kW(d,m,w)}catch(D){OW.call(null,D)}wW(SW,d)}function kW(s,d,m){d==rD?s.s.call(s.j,m):s.g&&s.g.call(s.j,m)}rs.prototype.then=function(s,d,m){return xW(this,ft(s)?s:null,ft(d)?d:null,m)},rs.prototype.$goog_Thenable=!0,(n=rs.prototype).fc=function(s,d){return(s=CV(s,s,d)).h=!0,DV(this,s),this},n.Ca=function(s,d){return xW(this,null,s,d)},n.cancel=function(s){this.a==Ym&&bV(function(){AW(this,new O0(s))},this)},n.hc=function(s){this.a=Ym,Qm(this,rD,s)},n.ic=function(s){this.a=Ym,Qm(this,Wd,s)},n.Hb=function(){for(var s;s=MW(this);)RW(this,s,this.a,this.A);this.i=!1};var OW=IW;function O0(s){ni.call(this,s)}function PW(s,d,m){d||(d={}),m=m||window;var w=s instanceof ba?s:oM(typeof s.href<"u"?s.href:String(s));s=d.target||s.target;var D=[];for(x in d)switch(x){case"width":case"height":case"top":case"left":D.push(x+"="+d[x]);break;case"target":case"noopener":case"noreferrer":break;default:D.push(x+"="+(d[x]?1:0))}var x=D.join(",");return(zn("iPhone")&&!zn("iPod")&&!zn("iPad")||zn("iPad")||zn("iPod"))&&m.navigator&&m.navigator.standalone&&s&&"_self"!=s?(x=m.document.createElement("A"),w=w instanceof ba?w:Z8(w),x.href=up(w),x.setAttribute("target",s),d.noreferrer&&x.setAttribute("rel","noreferrer"),(d=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,m,1),x.dispatchEvent(d),m={}):d.noreferrer?(m=m.open("",s,x),d=up(w).toString(),m&&(Roe&&-1!=d.indexOf(";")&&(d="'"+d.replace(/'/g,"%27")+"'"),m.opener=null,d=KC('<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+pc(d)+'">',null),m.document.write(aM(d)),m.document.close())):(m=m.open(up(w).toString(),s,x))&&d.noopener&&(m.opener=null),m}function LW(){try{return!(!window.opener||!window.opener.location||window.opener.location.hostname!==window.location.hostname||window.opener.location.protocol!==window.location.protocol)}catch{}return!1}function P0(s){PW(s,{target:window.cordova&&window.cordova.InAppBrowser?"_system":"_blank"},void 0)}function wM(s,d){if(null==(s=yt(s)&&1==s.nodeType?s:document.querySelector(String(s))))throw Error(d||"Cannot find element.");return s}function zd(){return window.location.href}function pp(s){var d=bae;this.s=[],this.T=d,this.O=s||null,this.j=this.a=!1,this.h=void 0,this.J=this.l=this.A=!1,this.i=0,this.g=null,this.C=0}function iD(s,d,m){s.a=!0,s.h=m,s.j=!d,VW(s)}function EM(s){if(s.a){if(!s.J)throw new bM(s);s.J=!1}}function FW(s,d,m){s.s.push([d,m,void 0]),s.a&&VW(s)}function UW(s){return Um(s.s,function(d){return ft(d[1])})}function VW(s){if(s.i&&s.a&&UW(s)){var d=s.i,m=IM[d];m&&(M.clearTimeout(m.a),delete IM[d]),s.i=0}s.g&&(s.g.C--,delete s.g),d=s.h;for(var w=m=!1;s.s.length&&!s.A;){var D=s.s.shift(),x=D[0],B=D[1];if(D=D[2],x=s.j?B:x)try{var ee=x.call(D||s.O,d);P(ee)&&(s.j=s.j&&(ee==d||ee instanceof Error),s.h=d=ee),(vW(d)||"function"==typeof M.Promise&&d instanceof M.Promise)&&(w=!0,s.A=!0)}catch(Le){d=Le,s.j=!0,UW(s)||(m=!0)}}s.h=d,w&&(ee=tn(s.L,s,!0),w=tn(s.L,s,!1),d instanceof pp?(FW(d,ee,w),d.l=!0):d.then(ee,w)),m&&(d=new BW(d),IM[d.a]=d,s.i=d.a)}function bM(){ni.call(this)}function sD(){ni.call(this)}function BW(s){this.a=M.setTimeout(tn(this.h,this),0),this.g=s}Yt(O0,ni),O0.prototype.name="cancel",pp.prototype.cancel=function(s){if(this.a)this.h instanceof pp&&this.h.cancel();else{if(this.g){var d=this.g;delete this.g,s?d.cancel(s):(d.C--,0>=d.C&&d.cancel())}this.T?this.T.call(this.O,this):this.J=!0,this.a||(s=new sD(this),EM(this),iD(this,!1,s))}},pp.prototype.L=function(s,d){this.A=!1,iD(this,s,d)},pp.prototype.callback=function(s){EM(this),iD(this,!0,s)},pp.prototype.then=function(s,d,m){var w,D,x=new rs(function(B,ee){w=B,D=ee});return FW(this,w,function(B){B instanceof sD?x.cancel():D(B)}),x.then(s,d,m)},pp.prototype.$goog_Thenable=!0,Yt(bM,ni),bM.prototype.message="Deferred has already fired",bM.prototype.name="AlreadyCalledError",Yt(sD,ni),sD.prototype.message="Deferred was canceled",sD.prototype.name="CanceledError",BW.prototype.h=function(){throw delete IM[this.a],this.g};var IM={};function bae(){if(this&&this.rb){var s=this.rb;s&&"SCRIPT"==s.tagName&&CM(s,!0,this.sb)}}function CM(s,d,m){null!=m&&M.clearTimeout(m),s.onload=ye,s.onerror=ye,s.onreadystatechange=ye,d&&window.setTimeout(function(){zm(s)},0)}var Iae=0,Cae=1;function TV(s,d){var m="Jsloader error (code #"+s+")";d&&(m+=": "+d),ni.call(this,m),this.code=s}function oD(){return M.google&&M.google.accounts&&M.google.accounts.id||null}function SV(s){this.a=s||oD(),this.h=!1,this.g=null}function jW(s,d,m){return s.a&&d?(s.h=!0,new rs(function(D){s.g=D,s.a.initialize({client_id:d,callback:D,auto_select:!m}),s.a.prompt()})):Mi(d?AV.Xa().load().then(function(){return s.a=oD(),jW(s,d,m)}).Ca(function(){return null}):null)}Yt(TV,ni),SV.prototype.cancel=function(){this.a&&this.h&&(this.g&&this.g(null),this.a.cancel())},lt(SV);var Dae=new N0(G8,"https://accounts.google.com/gsi/client");function AV(){this.a=null}function xV(s,d){this.a=s,this.g=d||function(m){throw m}}function NV(s,d,m){this.reset(s,d,m,void 0,void 0)}function MV(s){this.s=s,this.a=this.h=this.j=this.g=null}function DM(s,d){this.name=s,this.value=d}AV.prototype.load=function(){var s=this;if(this.a)return this.a;var d=function Poe(){var s=Dae;s instanceof N0&&s.constructor===N0&&s.g===H8?s=s.a:(Zo("expected object of type Const, got '"+s+"'"),s="type_error:Const");var d=new Wm;return d.a=s,d}();return oD()?Mi():this.a=function _ae(){var s=null;return new rs(function(d){"complete"==M.document.readyState?d():(s=function(){d()},nD(window,"load",s))}).Ca(function(d){throw Km(window,"load",s),d})}().then(function(){if(!oD())return new rs(function(m,w){var D=setTimeout(function(){s.a=null,w(Error("Network error!"))},1e4);M.onGoogleLibraryLoad=function(){clearTimeout(D),m()},Mi(function wae(s){var d={},m=d.document||document,w=W8(s).toString(),D=document.createElement("SCRIPT"),x={rb:D,sb:void 0},B=new pp(x),ee=null,Le=null!=d.timeout?d.timeout:5e3;return 0<Le&&(ee=window.setTimeout(function(){CM(D,!0);var ct=new TV(Cae,"Timeout reached for loading script "+w);EM(B),iD(B,!1,ct)},Le),x.sb=ee),D.onload=D.onreadystatechange=function(){D.readyState&&"loaded"!=D.readyState&&"complete"!=D.readyState||(CM(D,d.xc||!1,ee),B.callback(null))},D.onerror=function(){CM(D,!0,ee);var ct=new TV(Iae,"Error while loading script "+w);EM(B),iD(B,!1,ct)},Vm(x=d.attributes||{},{type:"text/javascript",charset:"UTF-8"}),function Voe(s,d){HC(d,function(m,w){m&&"object"==typeof m&&m.ma&&(m=m.ka()),"style"==w?s.style.cssText=m:"class"==w?s.className=m:"for"==w?s.htmlFor=m:X8.hasOwnProperty(w)?s.setAttribute(X8[w],m):0==w.lastIndexOf("aria-",0)||0==w.lastIndexOf("data-",0)?s.setAttribute(w,m):s[w]=m})}(D,x),function Uoe(s,d){s.src=W8(d),null===le&&(le=(d=(d=M.document).querySelector&&d.querySelector("script[nonce]"))&&(d=d.nonce||d.getAttribute("nonce"))&&Q.test(d)?d:""),(d=le)&&s.setAttribute("nonce",d)}(D,s),function Eae(s){var d=(s||document).getElementsByTagName("HEAD");return d&&0!=d.length?d[0]:s.documentElement}(m).appendChild(D),B}(d)).then(function(){oD()&&m()}).Ca(function(x){clearTimeout(D),s.a=null,w(x)})})})},lt(AV),xV.prototype.confirm=function(s){return Mi(this.a.confirm(s)).Ca(this.g)},NV.prototype.a=null,NV.prototype.reset=function(s,d,m,w,D){this.h=w||Io(),this.j=s,this.s=d,this.g=m,delete this.a},DM.prototype.toString=function(){return this.name};var $W=new DM("SEVERE",1e3),HW=new DM("WARNING",900),GW=new DM("CONFIG",700);function WW(s){return s.j?s.j:s.g?WW(s.g):(Zo("Root logger has no level set."),null)}MV.prototype.log=function(s,d,m){if(s.value>=WW(this).value)for(ft(d)&&(d=d()),s=new NV(s,String(d),this.s),m&&(s.a=m),m=this;m;){var w=m,D=s;if(w.a)for(var x=0;d=w.a[x];x++)d(D);m=m.g}};var RV={},aD=null;function zW(){aD||(aD=new MV(""),RV[""]=aD,aD.j=GW)}function TM(){this.a=Io()}var kV=null;function uD(s){this.j=s||"",kV||(kV=new TM),this.s=kV}function Jm(s){return 10>s?"0"+s:String(s)}function ZW(s){uD.call(this,s)}function KW(){this.s=tn(this.h,this),this.a=new ZW,this.a.g=!1,this.a.h=!1,this.g=this.a.a=!1,this.j={}}TM.prototype.set=function(s){this.a=s},TM.prototype.reset=function(){this.set(Io())},TM.prototype.get=function(){return this.a},uD.prototype.a=!0,uD.prototype.g=!0,uD.prototype.h=!1,Yt(ZW,uD),KW.prototype.h=function(s){if(!this.j[s.g]){var m=function Aae(s,d){var m=[];if(m.push(s.j," "),s.g){var w=new Date(d.h);m.push("[",Jm(w.getFullYear()-2e3)+Jm(w.getMonth()+1)+Jm(w.getDate())+" "+Jm(w.getHours())+":"+Jm(w.getMinutes())+":"+Jm(w.getSeconds())+"."+Jm(Math.floor(w.getMilliseconds()/10)),"] ")}return m.push("[",function Sae(s,d){d=(s=(s.h-d)/1e3).toFixed(3);var m=0;if(1>s)m=2;else for(;100>s;)m++,s*=10;for(;0<m--;)d=" "+d;return d}(d,s.s.get()),"s] "),m.push("[",d.g,"] "),m.push(d.s),s.h&&(d=d.a)&&m.push("\n",d instanceof Error?d.message:d.toString()),s.a&&m.push("\n"),m.join("")}(this.a,s);xae&&function Nae(s,d,m,w){s[d]?s[d](m,w||""):s.log(m,w||"")}(xae,function d(x){if(x){if(x.value>=$W.value)return"error";if(x.value>=HW.value)return"warn";if(x.value>=GW.value)return"log"}return"debug"}(s.j),m,s.a)}};var OV,xae=M.console;function Ca(s,d){OV&&OV.log($W,s,d)}OV=function qW(s){var d;if(zW(),!(d=RV[s])){d=new MV(s);var m=s.lastIndexOf("."),w=s.substr(m+1);(m=qW(s.substr(0,m))).h||(m.h={}),m.h[w]=d,d.g=m,RV[s]=d}return d}("firebaseui");var PV=new KW;if(1!=PV.g){var SM;zW();var Mae=PV.s;(SM=aD).a||(SM.a=[]),SM.a.push(Mae),PV.g=!0}function gp(s){OV&&OV.log(HW,s,void 0)}function YW(){this.a=(typeof document>"u"?null:document)||{cookie:""}}function LV(s){s=(s.a.cookie||"").split(";");for(var w,D,d=[],m=[],x=0;x<s.length;x++)-1==(w=(D=Co(s[x])).indexOf("="))?(d.push(""),m.push(D)):(d.push(D.substring(0,w)),m.push(D.substring(w+1)));return{keys:d,values:m}}(n=YW.prototype).set=function(s,d,m,w,D,x){if(/[;=\s]/.test(s))throw Error('Invalid cookie name "'+s+'"');if(/[;\r\n]/.test(d))throw Error('Invalid cookie value "'+d+'"');P(m)||(m=-1),D=D?";domain="+D:"",w=w?";path="+w:"",x=x?";secure":"",m=0>m?"":0==m?";expires="+new Date(1970,1,1).toUTCString():";expires="+new Date(Io()+1e3*m).toUTCString(),this.a.cookie=s+"="+d+D+w+m+x},n.get=function(s,d){for(var x,m=s+"=",w=(this.a.cookie||"").split(";"),D=0;D<w.length;D++){if(0==(x=Co(w[D])).lastIndexOf(m,0))return x.substr(m.length);if(x==s)return""}return d},n.ja=function(){return LV(this).keys},n.la=function(){return LV(this).values},n.clear=function(){for(var s=LV(this).keys,d=s.length-1;0<=d;d--){var m=s[d];this.get(m),this.set(m,"",0,void 0,void 0)}};var AM=new YW;function QW(){}function L0(s,d,m,w){this.h=typeof s<"u"&&null!==s?s:-1,this.g=d||null,this.a=m||null,this.j=!!w}function FV(s,d){this.g=s,this.a=d||null}function JW(s){return{email:s.g,credential:s.a&&s.a.toJSON()}}function XW(s){if(s&&s.email){var d=s.credential&&$t.Z.auth.AuthCredential.fromJSON(s.credential);return new FV(s.email,d)}return null}function e7(s){this.a=s||null}function t7(s){for(var d=[],m=0,w=0;w<s.length;w++){var D=s.charCodeAt(w);255<D&&(d[m++]=255&D,D>>=8),d[m++]=D}return d}function Rae(s){return hc(s,function(d){return 1<(d=d.toString(16)).length?d:"0"+d}).join("")}function xM(s){for(this.i=s,this.g=this.i.length/4,this.j=this.g+6,this.h=[[],[],[],[]],this.s=[[],[],[],[]],this.a=Array(F0*(this.j+1)),s=0;s<this.g;s++)this.a[s]=[this.i[4*s],this.i[4*s+1],this.i[4*s+2],this.i[4*s+3]];var d=Array(4);for(s=this.g;s<F0*(this.j+1);s++){if(d[0]=this.a[s-1][0],d[1]=this.a[s-1][1],d[2]=this.a[s-1][2],d[3]=this.a[s-1][3],s%this.g==0){var m=d,w=m[0];m[0]=m[1],m[1]=m[2],m[2]=m[3],m[3]=w,o7(d),d[0]^=MM[s/this.g][0],d[1]^=MM[s/this.g][1],d[2]^=MM[s/this.g][2],d[3]^=MM[s/this.g][3]}else 6<this.g&&s%this.g==4&&o7(d);this.a[s]=Array(4),this.a[s][0]=this.a[s-this.g][0]^d[0],this.a[s][1]=this.a[s-this.g][1]^d[1],this.a[s][2]=this.a[s-this.g][2]^d[2],this.a[s][3]=this.a[s-this.g][3]^d[3]}}p(L0,QW),L0.prototype.set=function(s,d){AM.set(s,d,this.h,this.g,this.a,this.j)},L0.prototype.get=function(s){return AM.get(s)||null},L0.prototype.ra=function(s){var d=this.g,m=this.a;AM.get(s),AM.set(s,"",0,d,m)};var F0=(xM.prototype.A=16)/4;function n7(s,d){for(var w=0;w<F0;w++)for(var D=0;4>D;D++)s.h[w][D]=d[4*D+w]}function r7(s){for(var d=[],m=0;m<F0;m++)for(var w=0;4>w;w++)d[4*w+m]=s.h[m][w];return d}function U0(s,d){for(var m=0;4>m;m++)for(var w=0;4>w;w++)s.h[m][w]^=s.a[4*d+w][m]}function NM(s,d){for(var m=0;4>m;m++)for(var w=0;4>w;w++)s.h[m][w]=d[s.h[m][w]]}function i7(s){for(var d=1;4>d;d++)for(var m=0;4>m;m++)s.s[d][m]=s.h[d][m];for(d=1;4>d;d++)for(m=0;4>m;m++)s.h[d][m]=s.s[d][(m+d)%F0]}function s7(s){for(var d=1;4>d;d++)for(var m=0;4>m;m++)s.s[d][(m+d)%F0]=s.h[d][m];for(d=1;4>d;d++)for(m=0;4>m;m++)s.h[d][m]=s.s[d][m]}function o7(s){s[0]=V0[s[0]],s[1]=V0[s[1]],s[2]=V0[s[2]],s[3]=V0[s[3]]}var V0=[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22],a7=[82,9,106,213,48,54,165,56,191,64,163,158,129,243,215,251,124,227,57,130,155,47,255,135,52,142,67,68,196,222,233,203,84,123,148,50,166,194,35,61,238,76,149,11,66,250,195,78,8,46,161,102,40,217,36,178,118,91,162,73,109,139,209,37,114,248,246,100,134,104,152,22,212,164,92,204,93,101,182,146,108,112,72,80,253,237,185,218,94,21,70,87,167,141,157,132,144,216,171,0,140,188,211,10,247,228,88,5,184,179,69,6,208,44,30,143,202,63,15,2,193,175,189,3,1,19,138,107,58,145,17,65,79,103,220,234,151,242,207,206,240,180,230,115,150,172,116,34,231,173,53,133,226,249,55,232,28,117,223,110,71,241,26,113,29,41,197,137,111,183,98,14,170,24,190,27,252,86,62,75,198,210,121,32,154,219,192,254,120,205,90,244,31,221,168,51,136,7,199,49,177,18,16,89,39,128,236,95,96,81,127,169,25,181,74,13,45,229,122,159,147,201,156,239,160,224,59,77,174,42,245,176,200,235,187,60,131,83,153,97,23,43,4,126,186,119,214,38,225,105,20,99,85,33,12,125],MM=[[0,0,0,0],[1,0,0,0],[2,0,0,0],[4,0,0,0],[8,0,0,0],[16,0,0,0],[32,0,0,0],[64,0,0,0],[128,0,0,0],[27,0,0,0],[54,0,0,0]],RM=[0,2,4,6,8,10,12,14,16,18,20,22,24,26,28,30,32,34,36,38,40,42,44,46,48,50,52,54,56,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,118,120,122,124,126,128,130,132,134,136,138,140,142,144,146,148,150,152,154,156,158,160,162,164,166,168,170,172,174,176,178,180,182,184,186,188,190,192,194,196,198,200,202,204,206,208,210,212,214,216,218,220,222,224,226,228,230,232,234,236,238,240,242,244,246,248,250,252,254,27,25,31,29,19,17,23,21,11,9,15,13,3,1,7,5,59,57,63,61,51,49,55,53,43,41,47,45,35,33,39,37,91,89,95,93,83,81,87,85,75,73,79,77,67,65,71,69,123,121,127,125,115,113,119,117,107,105,111,109,99,97,103,101,155,153,159,157,147,145,151,149,139,137,143,141,131,129,135,133,187,185,191,189,179,177,183,181,171,169,175,173,163,161,167,165,219,217,223,221,211,209,215,213,203,201,207,205,195,193,199,197,251,249,255,253,243,241,247,245,235,233,239,237,227,225,231,229],kM=[0,3,6,5,12,15,10,9,24,27,30,29,20,23,18,17,48,51,54,53,60,63,58,57,40,43,46,45,36,39,34,33,96,99,102,101,108,111,106,105,120,123,126,125,116,119,114,113,80,83,86,85,92,95,90,89,72,75,78,77,68,71,66,65,192,195,198,197,204,207,202,201,216,219,222,221,212,215,210,209,240,243,246,245,252,255,250,249,232,235,238,237,228,231,226,225,160,163,166,165,172,175,170,169,184,187,190,189,180,183,178,177,144,147,150,149,156,159,154,153,136,139,142,141,132,135,130,129,155,152,157,158,151,148,145,146,131,128,133,134,143,140,137,138,171,168,173,174,167,164,161,162,179,176,181,182,191,188,185,186,251,248,253,254,247,244,241,242,227,224,229,230,239,236,233,234,203,200,205,206,199,196,193,194,211,208,213,214,223,220,217,218,91,88,93,94,87,84,81,82,67,64,69,70,79,76,73,74,107,104,109,110,103,100,97,98,115,112,117,118,127,124,121,122,59,56,61,62,55,52,49,50,35,32,37,38,47,44,41,42,11,8,13,14,7,4,1,2,19,16,21,22,31,28,25,26],OM=[0,9,18,27,36,45,54,63,72,65,90,83,108,101,126,119,144,153,130,139,180,189,166,175,216,209,202,195,252,245,238,231,59,50,41,32,31,22,13,4,115,122,97,104,87,94,69,76,171,162,185,176,143,134,157,148,227,234,241,248,199,206,213,220,118,127,100,109,82,91,64,73,62,55,44,37,26,19,8,1,230,239,244,253,194,203,208,217,174,167,188,181,138,131,152,145,77,68,95,86,105,96,123,114,5,12,23,30,33,40,51,58,221,212,207,198,249,240,235,226,149,156,135,142,177,184,163,170,236,229,254,247,200,193,218,211,164,173,182,191,128,137,146,155,124,117,110,103,88,81,74,67,52,61,38,47,16,25,2,11,215,222,197,204,243,250,225,232,159,150,141,132,187,178,169,160,71,78,85,92,99,106,113,120,15,6,29,20,43,34,57,48,154,147,136,129,190,183,172,165,210,219,192,201,246,255,228,237,10,3,24,17,46,39,60,53,66,75,80,89,102,111,116,125,161,168,179,186,133,140,151,158,233,224,251,242,205,196,223,214,49,56,35,42,21,28,7,14,121,112,107,98,93,84,79,70],PM=[0,11,22,29,44,39,58,49,88,83,78,69,116,127,98,105,176,187,166,173,156,151,138,129,232,227,254,245,196,207,210,217,123,112,109,102,87,92,65,74,35,40,53,62,15,4,25,18,203,192,221,214,231,236,241,250,147,152,133,142,191,180,169,162,246,253,224,235,218,209,204,199,174,165,184,179,130,137,148,159,70,77,80,91,106,97,124,119,30,21,8,3,50,57,36,47,141,134,155,144,161,170,183,188,213,222,195,200,249,242,239,228,61,54,43,32,17,26,7,12,101,110,115,120,73,66,95,84,247,252,225,234,219,208,205,198,175,164,185,178,131,136,149,158,71,76,81,90,107,96,125,118,31,20,9,2,51,56,37,46,140,135,154,145,160,171,182,189,212,223,194,201,248,243,238,229,60,55,42,33,16,27,6,13,100,111,114,121,72,67,94,85,1,10,23,28,45,38,59,48,89,82,79,68,117,126,99,104,177,186,167,172,157,150,139,128,233,226,255,244,197,206,211,216,122,113,108,103,86,93,64,75,34,41,52,63,14,5,24,19,202,193,220,215,230,237,240,251,146,153,132,143,190,181,168,163],LM=[0,13,26,23,52,57,46,35,104,101,114,127,92,81,70,75,208,221,202,199,228,233,254,243,184,181,162,175,140,129,150,155,187,182,161,172,143,130,149,152,211,222,201,196,231,234,253,240,107,102,113,124,95,82,69,72,3,14,25,20,55,58,45,32,109,96,119,122,89,84,67,78,5,8,31,18,49,60,43,38,189,176,167,170,137,132,147,158,213,216,207,194,225,236,251,246,214,219,204,193,226,239,248,245,190,179,164,169,138,135,144,157,6,11,28,17,50,63,40,37,110,99,116,121,90,87,64,77,218,215,192,205,238,227,244,249,178,191,168,165,134,139,156,145,10,7,16,29,62,51,36,41,98,111,120,117,86,91,76,65,97,108,123,118,85,88,79,66,9,4,19,30,61,48,39,42,177,188,171,166,133,136,159,146,217,212,195,206,237,224,247,250,183,186,173,160,131,142,153,148,223,210,197,200,235,230,241,252,103,106,125,112,83,94,73,68,15,2,21,24,59,54,33,44,12,1,22,27,56,53,34,47,100,105,126,115,80,93,74,71,220,209,198,203,232,229,242,255,180,185,174,163,128,141,154,151],FM=[0,14,28,18,56,54,36,42,112,126,108,98,72,70,84,90,224,238,252,242,216,214,196,202,144,158,140,130,168,166,180,186,219,213,199,201,227,237,255,241,171,165,183,185,147,157,143,129,59,53,39,41,3,13,31,17,75,69,87,89,115,125,111,97,173,163,177,191,149,155,137,135,221,211,193,207,229,235,249,247,77,67,81,95,117,123,105,103,61,51,33,47,5,11,25,23,118,120,106,100,78,64,82,92,6,8,26,20,62,48,34,44,150,152,138,132,174,160,178,188,230,232,250,244,222,208,194,204,65,79,93,83,121,119,101,107,49,63,45,35,9,7,21,27,161,175,189,179,153,151,133,139,209,223,205,195,233,231,245,251,154,148,134,136,162,172,190,176,234,228,246,248,210,220,206,192,122,116,102,104,66,76,94,80,10,4,22,24,50,60,46,32,236,226,240,254,212,218,200,198,156,146,128,142,164,170,184,182,12,2,16,30,52,58,40,38,124,114,96,110,68,74,88,86,55,57,43,37,15,1,19,29,71,73,91,85,127,113,99,109,215,217,203,197,239,225,243,253,167,169,187,181,159,145,131,141];function u7(s,d){s=new xM(c7(s));for(var D,m=(d=t7(d)).splice(0,16),w="";m.length;){D=16-m.length;for(var x=0;x<D;x++)m.push(0);for(n7(D=s,m),U0(D,0),m=1;m<D.j;++m){NM(D,V0),i7(D),x=D.h;for(var B=D.s[0],ee=0;4>ee;ee++)B[0]=x[0][ee],B[1]=x[1][ee],B[2]=x[2][ee],B[3]=x[3][ee],x[0][ee]=RM[B[0]]^kM[B[1]]^B[2]^B[3],x[1][ee]=B[0]^RM[B[1]]^kM[B[2]]^B[3],x[2][ee]=B[0]^B[1]^RM[B[2]]^kM[B[3]],x[3][ee]=kM[B[0]]^B[1]^B[2]^RM[B[3]];U0(D,m)}NM(D,V0),i7(D),U0(D,D.j),w+=Rae(r7(D)),m=d.splice(0,16)}return w}function l7(s,d){s=new xM(c7(s));for(var m=[],w=0;w<d.length;w+=2)m.push(parseInt(d.substring(w,w+2),16));var D=m.splice(0,16);for(d="";D.length;){for(n7(w=s,D),U0(w,w.j),D=1;D<w.j;++D){s7(w),NM(w,a7),U0(w,w.j-D);for(var x=w.h,B=w.s[0],ee=0;4>ee;ee++)B[0]=x[0][ee],B[1]=x[1][ee],B[2]=x[2][ee],B[3]=x[3][ee],x[0][ee]=FM[B[0]]^PM[B[1]]^LM[B[2]]^OM[B[3]],x[1][ee]=OM[B[0]]^FM[B[1]]^PM[B[2]]^LM[B[3]],x[2][ee]=LM[B[0]]^OM[B[1]]^FM[B[2]]^PM[B[3]],x[3][ee]=PM[B[0]]^LM[B[1]]^OM[B[2]]^FM[B[3]]}if(s7(w),NM(w,a7),U0(w,0),8192>=(w=r7(w)).length)w=String.fromCharCode.apply(null,w);else{for(D="",x=0;x<w.length;x+=8192)D+=String.fromCharCode.apply(null,WU(w,x,x+8192));w=D}d+=w,D=m.splice(0,16)}return d.replace(/(\x00)+$/,"")}function c7(s){for(var d=32-(s=t7(s.substring(0,32))).length,m=0;m<d;m++)s.push(0);return s}function d7(s){var d=[];return UV(new kae,s,d),d.join("")}function kae(){}function UV(s,d,m){if(null==d)m.push("null");else{if("object"==typeof d){if(wt(d)){var w=d;d=w.length,m.push("[");for(var D="",x=0;x<d;x++)m.push(D),UV(s,w[x],m),D=",";return void m.push("]")}if(!(d instanceof String||d instanceof Number||d instanceof Boolean)){for(w in m.push("{"),D="",d)Object.prototype.hasOwnProperty.call(d,w)&&"function"!=typeof(x=d[w])&&(m.push(D),f7(w,m),m.push(":"),UV(s,x,m),D=",");return void m.push("}")}d=d.valueOf()}switch(typeof d){case"string":f7(d,m);break;case"number":m.push(isFinite(d)&&!isNaN(d)?String(d):"null");break;case"boolean":m.push(String(d));break;case"function":m.push("null");break;default:throw Error("Unknown type: "+typeof d)}}}var h7={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},Oae=/\uffff/.test("\uffff")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function f7(s,d){d.push('"',s.replace(Oae,function(m){var w=h7[m];return w||(w="\\u"+(65536|m.charCodeAt(0)).toString(16).substr(1),h7[m]=w),w}),'"')}function lD(s){this.a=s}function UM(){}function VM(s){this.a=s}function BM(s){if(!s.a)return!1;try{return s.a.setItem("__sak","1"),s.a.removeItem("__sak"),!0}catch{return!1}}function VV(){var s=null;try{s=window.localStorage||null}catch{}this.a=s}function BV(){var s=null;try{s=window.sessionStorage||null}catch{}this.a=s}function B0(s,d){this.g=s,this.a=d+"::"}lD.prototype.set=function(s,d){P(d)?this.a.set(s,d7(d)):this.a.ra(s)},lD.prototype.get=function(s){try{var d=this.a.get(s)}catch{return}if(null!==d)try{return JSON.parse(d)}catch{throw"Storage: Invalid value was encountered"}},Yt(UM,QW),UM.prototype.clear=function(){var s=function voe(s){if(_t(s))return $C(s);s=x8(s);var d=[];return function yoe(s,d){if(_t(s))try{rl(s,d,void 0)}catch(m){if(m!==S0)throw m}else{s=x8(s);try{for(;;)d.call(void 0,s.next(),void 0,s)}catch(m){if(m!==S0)throw m}}}(s,function(m){d.push(m)}),d}(this.ha(!0)),d=this;rl(s,function(m){d.ra(m)})},Yt(VM,UM),(n=VM.prototype).set=function(s,d){try{this.a.setItem(s,d)}catch{throw 0==this.a.length?"Storage mechanism: Storage disabled":"Storage mechanism: Quota exceeded"}},n.get=function(s){if(!$(s=this.a.getItem(s))&&null!==s)throw"Storage mechanism: Invalid value was encountered";return s},n.ra=function(s){this.a.removeItem(s)},n.ha=function(s){var d=0,m=this.a,w=new Bm;return w.next=function(){if(d>=m.length)throw S0;var D=m.key(d++);if(s)return D;if(!$(D=m.getItem(D)))throw"Storage mechanism: Invalid value was encountered";return D},w},n.clear=function(){this.a.clear()},n.key=function(s){return this.a.key(s)},Yt(VV,VM),Yt(BV,VM),Yt(B0,UM),B0.prototype.set=function(s,d){this.g.set(this.a+s,d)},B0.prototype.get=function(s){return this.g.get(this.a+s)},B0.prototype.ra=function(s){this.g.ra(this.a+s)},B0.prototype.ha=function(s){var d=this.g.ha(!0),m=this,w=new Bm;return w.next=function(){for(var D=d.next();D.substr(0,m.a.length)!=m.a;)D=d.next();return s?D.substr(m.a.length):m.g.get(D)},w},BM(new VV);var g7=new BV,jV=new lD(BM(g7)?new B0(g7,"firebaseui"):null),$V={name:"pendingEmailCredential",storage:jV},Xm={name:"redirectStatus",storage:jV},cD={name:"redirectUrl",storage:jV},j0={name:"emailForSignIn",storage:new lD(new L0(3600,"/"))},dD={name:"pendingEncryptedCredential",storage:new lD(new L0(3600,"/"))};function $0(s,d){return s.storage.get(d?s.name+":"+d:s.name)}function Ko(s,d){s.storage.a.ra(d?s.name+":"+d:s.name)}function H0(s,d,m){s.storage.set(m?s.name+":"+m:s.name,d)}function m7(s){return $0(cD,s)||null}function gc(s){return XW(s=$0($V,s)||null)}function mc(s){Ko($V,s)}function _7(s,d){H0($V,JW(s),d)}function HV(s){return(s=$0(Xm,s)||null)&&typeof s.tenantId<"u"?new e7(s.tenantId):null}function GV(){this.W={}}function Hi(s,d,m){if(d.toLowerCase()in s.W)throw Error("Configuration "+d+" has already been defined.");s.W[d.toLowerCase()]=m}function WV(s,d,m){if(!(d.toLowerCase()in s.W))throw Error("Configuration "+d+" is not defined.");s.W[d.toLowerCase()]=m}function zV(s,d){if(!(s=s.get(d)))throw Error("Configuration "+d+" is required.");return s}function qV(){this.g=void 0,this.a={}}function y7(s,d,m,w){for(var D=0;D<d.length;D++){var x=d.charAt(D);s.a[x]||(s.a[x]=new qV),s=s.a[x]}if(w&&void 0!==s.g)throw Error('The collection already contains the key "'+d+'"');s.g=m}function v7(s,d){for(var m in void 0!==s.g&&d.push(s.g),s.a)v7(s.a[m],d)}function w7(s,d,m){for(var w in void 0!==s.g&&m.push(d),s.a)w7(s.a[w],d+w,m)}function E7(s){for(this.a=s,this.g=new qV,s=0;s<this.a.length;s++){var d=this.g.get("+"+this.a[s].b);d?d.push(this.a[s]):this.g.add("+"+this.a[s].b,[this.a[s]])}}function jM(s,d){var m={},w=0;for(void 0!==(s=s.g).g&&(m[w]=s.g);w<d.length;w++){var D=d.charAt(w);if(!(D in s.a))break;void 0!==(s=s.a[D]).g&&(m[w]=s.g)}for(var x in m)if(m.hasOwnProperty(x))return m[x];return[]}function e_(s){for(var d=0;d<Ao.length;d++)if(Ao[d].c===s)return Ao[d];return null}function b7(s){s=s.toUpperCase();for(var d=[],m=0;m<Ao.length;m++)Ao[m].f===s&&d.push(Ao[m]);return d}function I7(s){if(0<s.length&&"+"==s.charAt(0)){s=s.substring(1);for(var d=[],m=0;m<Ao.length;m++)Ao[m].b==s&&d.push(Ao[m]);s=d}else s=b7(s);return s}function C7(s){s.sort(function(d,m){return d.name.localeCompare(m.name,"en")})}GV.prototype.get=function(s){if(!(s.toLowerCase()in this.W))throw Error("Configuration "+s+" is not defined.");return this.W[s.toLowerCase()]},(n=qV.prototype).set=function(s,d){y7(this,s,d,!1)},n.add=function(s,d){y7(this,s,d,!0)},n.get=function(s){e:{for(var d=this,m=0;m<s.length;m++)if(!(d=d.a[s.charAt(m)])){s=void 0;break e}s=d}return s?s.g:void 0},n.la=function(){var s=[];return v7(this,s),s},n.ja=function(){var s=[];return w7(this,"",s),s},n.clear=function(){this.a={},this.g=void 0};var Ao=[{name:"Afghanistan",c:"93-AF-0",b:"93",f:"AF"},{name:"\xc5land Islands",c:"358-AX-0",b:"358",f:"AX"},{name:"Albania",c:"355-AL-0",b:"355",f:"AL"},{name:"Algeria",c:"213-DZ-0",b:"213",f:"DZ"},{name:"American Samoa",c:"1-AS-0",b:"1",f:"AS"},{name:"Andorra",c:"376-AD-0",b:"376",f:"AD"},{name:"Angola",c:"244-AO-0",b:"244",f:"AO"},{name:"Anguilla",c:"1-AI-0",b:"1",f:"AI"},{name:"Antigua and Barbuda",c:"1-AG-0",b:"1",f:"AG"},{name:"Argentina",c:"54-AR-0",b:"54",f:"AR"},{name:"Armenia",c:"374-AM-0",b:"374",f:"AM"},{name:"Aruba",c:"297-AW-0",b:"297",f:"AW"},{name:"Ascension Island",c:"247-AC-0",b:"247",f:"AC"},{name:"Australia",c:"61-AU-0",b:"61",f:"AU"},{name:"Austria",c:"43-AT-0",b:"43",f:"AT"},{name:"Azerbaijan",c:"994-AZ-0",b:"994",f:"AZ"},{name:"Bahamas",c:"1-BS-0",b:"1",f:"BS"},{name:"Bahrain",c:"973-BH-0",b:"973",f:"BH"},{name:"Bangladesh",c:"880-BD-0",b:"880",f:"BD"},{name:"Barbados",c:"1-BB-0",b:"1",f:"BB"},{name:"Belarus",c:"375-BY-0",b:"375",f:"BY"},{name:"Belgium",c:"32-BE-0",b:"32",f:"BE"},{name:"Belize",c:"501-BZ-0",b:"501",f:"BZ"},{name:"Benin",c:"229-BJ-0",b:"229",f:"BJ"},{name:"Bermuda",c:"1-BM-0",b:"1",f:"BM"},{name:"Bhutan",c:"975-BT-0",b:"975",f:"BT"},{name:"Bolivia",c:"591-BO-0",b:"591",f:"BO"},{name:"Bosnia and Herzegovina",c:"387-BA-0",b:"387",f:"BA"},{name:"Botswana",c:"267-BW-0",b:"267",f:"BW"},{name:"Brazil",c:"55-BR-0",b:"55",f:"BR"},{name:"British Indian Ocean Territory",c:"246-IO-0",b:"246",f:"IO"},{name:"British Virgin Islands",c:"1-VG-0",b:"1",f:"VG"},{name:"Brunei",c:"673-BN-0",b:"673",f:"BN"},{name:"Bulgaria",c:"359-BG-0",b:"359",f:"BG"},{name:"Burkina Faso",c:"226-BF-0",b:"226",f:"BF"},{name:"Burundi",c:"257-BI-0",b:"257",f:"BI"},{name:"Cambodia",c:"855-KH-0",b:"855",f:"KH"},{name:"Cameroon",c:"237-CM-0",b:"237",f:"CM"},{name:"Canada",c:"1-CA-0",b:"1",f:"CA"},{name:"Cape Verde",c:"238-CV-0",b:"238",f:"CV"},{name:"Caribbean Netherlands",c:"599-BQ-0",b:"599",f:"BQ"},{name:"Cayman Islands",c:"1-KY-0",b:"1",f:"KY"},{name:"Central African Republic",c:"236-CF-0",b:"236",f:"CF"},{name:"Chad",c:"235-TD-0",b:"235",f:"TD"},{name:"Chile",c:"56-CL-0",b:"56",f:"CL"},{name:"China",c:"86-CN-0",b:"86",f:"CN"},{name:"Christmas Island",c:"61-CX-0",b:"61",f:"CX"},{name:"Cocos [Keeling] Islands",c:"61-CC-0",b:"61",f:"CC"},{name:"Colombia",c:"57-CO-0",b:"57",f:"CO"},{name:"Comoros",c:"269-KM-0",b:"269",f:"KM"},{name:"Democratic Republic Congo",c:"243-CD-0",b:"243",f:"CD"},{name:"Republic of Congo",c:"242-CG-0",b:"242",f:"CG"},{name:"Cook Islands",c:"682-CK-0",b:"682",f:"CK"},{name:"Costa Rica",c:"506-CR-0",b:"506",f:"CR"},{name:"C\xf4te d'Ivoire",c:"225-CI-0",b:"225",f:"CI"},{name:"Croatia",c:"385-HR-0",b:"385",f:"HR"},{name:"Cuba",c:"53-CU-0",b:"53",f:"CU"},{name:"Cura\xe7ao",c:"599-CW-0",b:"599",f:"CW"},{name:"Cyprus",c:"357-CY-0",b:"357",f:"CY"},{name:"Czech Republic",c:"420-CZ-0",b:"420",f:"CZ"},{name:"Denmark",c:"45-DK-0",b:"45",f:"DK"},{name:"Djibouti",c:"253-DJ-0",b:"253",f:"DJ"},{name:"Dominica",c:"1-DM-0",b:"1",f:"DM"},{name:"Dominican Republic",c:"1-DO-0",b:"1",f:"DO"},{name:"East Timor",c:"670-TL-0",b:"670",f:"TL"},{name:"Ecuador",c:"593-EC-0",b:"593",f:"EC"},{name:"Egypt",c:"20-EG-0",b:"20",f:"EG"},{name:"El Salvador",c:"503-SV-0",b:"503",f:"SV"},{name:"Equatorial Guinea",c:"240-GQ-0",b:"240",f:"GQ"},{name:"Eritrea",c:"291-ER-0",b:"291",f:"ER"},{name:"Estonia",c:"372-EE-0",b:"372",f:"EE"},{name:"Ethiopia",c:"251-ET-0",b:"251",f:"ET"},{name:"Falkland Islands [Islas Malvinas]",c:"500-FK-0",b:"500",f:"FK"},{name:"Faroe Islands",c:"298-FO-0",b:"298",f:"FO"},{name:"Fiji",c:"679-FJ-0",b:"679",f:"FJ"},{name:"Finland",c:"358-FI-0",b:"358",f:"FI"},{name:"France",c:"33-FR-0",b:"33",f:"FR"},{name:"French Guiana",c:"594-GF-0",b:"594",f:"GF"},{name:"French Polynesia",c:"689-PF-0",b:"689",f:"PF"},{name:"Gabon",c:"241-GA-0",b:"241",f:"GA"},{name:"Gambia",c:"220-GM-0",b:"220",f:"GM"},{name:"Georgia",c:"995-GE-0",b:"995",f:"GE"},{name:"Germany",c:"49-DE-0",b:"49",f:"DE"},{name:"Ghana",c:"233-GH-0",b:"233",f:"GH"},{name:"Gibraltar",c:"350-GI-0",b:"350",f:"GI"},{name:"Greece",c:"30-GR-0",b:"30",f:"GR"},{name:"Greenland",c:"299-GL-0",b:"299",f:"GL"},{name:"Grenada",c:"1-GD-0",b:"1",f:"GD"},{name:"Guadeloupe",c:"590-GP-0",b:"590",f:"GP"},{name:"Guam",c:"1-GU-0",b:"1",f:"GU"},{name:"Guatemala",c:"502-GT-0",b:"502",f:"GT"},{name:"Guernsey",c:"44-GG-0",b:"44",f:"GG"},{name:"Guinea Conakry",c:"224-GN-0",b:"224",f:"GN"},{name:"Guinea-Bissau",c:"245-GW-0",b:"245",f:"GW"},{name:"Guyana",c:"592-GY-0",b:"592",f:"GY"},{name:"Haiti",c:"509-HT-0",b:"509",f:"HT"},{name:"Heard Island and McDonald Islands",c:"672-HM-0",b:"672",f:"HM"},{name:"Honduras",c:"504-HN-0",b:"504",f:"HN"},{name:"Hong Kong",c:"852-HK-0",b:"852",f:"HK"},{name:"Hungary",c:"36-HU-0",b:"36",f:"HU"},{name:"Iceland",c:"354-IS-0",b:"354",f:"IS"},{name:"India",c:"91-IN-0",b:"91",f:"IN"},{name:"Indonesia",c:"62-ID-0",b:"62",f:"ID"},{name:"Iran",c:"98-IR-0",b:"98",f:"IR"},{name:"Iraq",c:"964-IQ-0",b:"964",f:"IQ"},{name:"Ireland",c:"353-IE-0",b:"353",f:"IE"},{name:"Isle of Man",c:"44-IM-0",b:"44",f:"IM"},{name:"Israel",c:"972-IL-0",b:"972",f:"IL"},{name:"Italy",c:"39-IT-0",b:"39",f:"IT"},{name:"Jamaica",c:"1-JM-0",b:"1",f:"JM"},{name:"Japan",c:"81-JP-0",b:"81",f:"JP"},{name:"Jersey",c:"44-JE-0",b:"44",f:"JE"},{name:"Jordan",c:"962-JO-0",b:"962",f:"JO"},{name:"Kazakhstan",c:"7-KZ-0",b:"7",f:"KZ"},{name:"Kenya",c:"254-KE-0",b:"254",f:"KE"},{name:"Kiribati",c:"686-KI-0",b:"686",f:"KI"},{name:"Kosovo",c:"377-XK-0",b:"377",f:"XK"},{name:"Kosovo",c:"381-XK-0",b:"381",f:"XK"},{name:"Kosovo",c:"386-XK-0",b:"386",f:"XK"},{name:"Kuwait",c:"965-KW-0",b:"965",f:"KW"},{name:"Kyrgyzstan",c:"996-KG-0",b:"996",f:"KG"},{name:"Laos",c:"856-LA-0",b:"856",f:"LA"},{name:"Latvia",c:"371-LV-0",b:"371",f:"LV"},{name:"Lebanon",c:"961-LB-0",b:"961",f:"LB"},{name:"Lesotho",c:"266-LS-0",b:"266",f:"LS"},{name:"Liberia",c:"231-LR-0",b:"231",f:"LR"},{name:"Libya",c:"218-LY-0",b:"218",f:"LY"},{name:"Liechtenstein",c:"423-LI-0",b:"423",f:"LI"},{name:"Lithuania",c:"370-LT-0",b:"370",f:"LT"},{name:"Luxembourg",c:"352-LU-0",b:"352",f:"LU"},{name:"Macau",c:"853-MO-0",b:"853",f:"MO"},{name:"Macedonia",c:"389-MK-0",b:"389",f:"MK"},{name:"Madagascar",c:"261-MG-0",b:"261",f:"MG"},{name:"Malawi",c:"265-MW-0",b:"265",f:"MW"},{name:"Malaysia",c:"60-MY-0",b:"60",f:"MY"},{name:"Maldives",c:"960-MV-0",b:"960",f:"MV"},{name:"Mali",c:"223-ML-0",b:"223",f:"ML"},{name:"Malta",c:"356-MT-0",b:"356",f:"MT"},{name:"Marshall Islands",c:"692-MH-0",b:"692",f:"MH"},{name:"Martinique",c:"596-MQ-0",b:"596",f:"MQ"},{name:"Mauritania",c:"222-MR-0",b:"222",f:"MR"},{name:"Mauritius",c:"230-MU-0",b:"230",f:"MU"},{name:"Mayotte",c:"262-YT-0",b:"262",f:"YT"},{name:"Mexico",c:"52-MX-0",b:"52",f:"MX"},{name:"Micronesia",c:"691-FM-0",b:"691",f:"FM"},{name:"Moldova",c:"373-MD-0",b:"373",f:"MD"},{name:"Monaco",c:"377-MC-0",b:"377",f:"MC"},{name:"Mongolia",c:"976-MN-0",b:"976",f:"MN"},{name:"Montenegro",c:"382-ME-0",b:"382",f:"ME"},{name:"Montserrat",c:"1-MS-0",b:"1",f:"MS"},{name:"Morocco",c:"212-MA-0",b:"212",f:"MA"},{name:"Mozambique",c:"258-MZ-0",b:"258",f:"MZ"},{name:"Myanmar [Burma]",c:"95-MM-0",b:"95",f:"MM"},{name:"Namibia",c:"264-NA-0",b:"264",f:"NA"},{name:"Nauru",c:"674-NR-0",b:"674",f:"NR"},{name:"Nepal",c:"977-NP-0",b:"977",f:"NP"},{name:"Netherlands",c:"31-NL-0",b:"31",f:"NL"},{name:"New Caledonia",c:"687-NC-0",b:"687",f:"NC"},{name:"New Zealand",c:"64-NZ-0",b:"64",f:"NZ"},{name:"Nicaragua",c:"505-NI-0",b:"505",f:"NI"},{name:"Niger",c:"227-NE-0",b:"227",f:"NE"},{name:"Nigeria",c:"234-NG-0",b:"234",f:"NG"},{name:"Niue",c:"683-NU-0",b:"683",f:"NU"},{name:"Norfolk Island",c:"672-NF-0",b:"672",f:"NF"},{name:"North Korea",c:"850-KP-0",b:"850",f:"KP"},{name:"Northern Mariana Islands",c:"1-MP-0",b:"1",f:"MP"},{name:"Norway",c:"47-NO-0",b:"47",f:"NO"},{name:"Oman",c:"968-OM-0",b:"968",f:"OM"},{name:"Pakistan",c:"92-PK-0",b:"92",f:"PK"},{name:"Palau",c:"680-PW-0",b:"680",f:"PW"},{name:"Palestinian Territories",c:"970-PS-0",b:"970",f:"PS"},{name:"Panama",c:"507-PA-0",b:"507",f:"PA"},{name:"Papua New Guinea",c:"675-PG-0",b:"675",f:"PG"},{name:"Paraguay",c:"595-PY-0",b:"595",f:"PY"},{name:"Peru",c:"51-PE-0",b:"51",f:"PE"},{name:"Philippines",c:"63-PH-0",b:"63",f:"PH"},{name:"Poland",c:"48-PL-0",b:"48",f:"PL"},{name:"Portugal",c:"351-PT-0",b:"351",f:"PT"},{name:"Puerto Rico",c:"1-PR-0",b:"1",f:"PR"},{name:"Qatar",c:"974-QA-0",b:"974",f:"QA"},{name:"R\xe9union",c:"262-RE-0",b:"262",f:"RE"},{name:"Romania",c:"40-RO-0",b:"40",f:"RO"},{name:"Russia",c:"7-RU-0",b:"7",f:"RU"},{name:"Rwanda",c:"250-RW-0",b:"250",f:"RW"},{name:"Saint Barth\xe9lemy",c:"590-BL-0",b:"590",f:"BL"},{name:"Saint Helena",c:"290-SH-0",b:"290",f:"SH"},{name:"St. Kitts",c:"1-KN-0",b:"1",f:"KN"},{name:"St. Lucia",c:"1-LC-0",b:"1",f:"LC"},{name:"Saint Martin",c:"590-MF-0",b:"590",f:"MF"},{name:"Saint Pierre and Miquelon",c:"508-PM-0",b:"508",f:"PM"},{name:"St. Vincent",c:"1-VC-0",b:"1",f:"VC"},{name:"Samoa",c:"685-WS-0",b:"685",f:"WS"},{name:"San Marino",c:"378-SM-0",b:"378",f:"SM"},{name:"S\xe3o Tom\xe9 and Pr\xedncipe",c:"239-ST-0",b:"239",f:"ST"},{name:"Saudi Arabia",c:"966-SA-0",b:"966",f:"SA"},{name:"Senegal",c:"221-SN-0",b:"221",f:"SN"},{name:"Serbia",c:"381-RS-0",b:"381",f:"RS"},{name:"Seychelles",c:"248-SC-0",b:"248",f:"SC"},{name:"Sierra Leone",c:"232-SL-0",b:"232",f:"SL"},{name:"Singapore",c:"65-SG-0",b:"65",f:"SG"},{name:"Sint Maarten",c:"1-SX-0",b:"1",f:"SX"},{name:"Slovakia",c:"421-SK-0",b:"421",f:"SK"},{name:"Slovenia",c:"386-SI-0",b:"386",f:"SI"},{name:"Solomon Islands",c:"677-SB-0",b:"677",f:"SB"},{name:"Somalia",c:"252-SO-0",b:"252",f:"SO"},{name:"South Africa",c:"27-ZA-0",b:"27",f:"ZA"},{name:"South Georgia and the South Sandwich Islands",c:"500-GS-0",b:"500",f:"GS"},{name:"South Korea",c:"82-KR-0",b:"82",f:"KR"},{name:"South Sudan",c:"211-SS-0",b:"211",f:"SS"},{name:"Spain",c:"34-ES-0",b:"34",f:"ES"},{name:"Sri Lanka",c:"94-LK-0",b:"94",f:"LK"},{name:"Sudan",c:"249-SD-0",b:"249",f:"SD"},{name:"Suriname",c:"597-SR-0",b:"597",f:"SR"},{name:"Svalbard and Jan Mayen",c:"47-SJ-0",b:"47",f:"SJ"},{name:"Swaziland",c:"268-SZ-0",b:"268",f:"SZ"},{name:"Sweden",c:"46-SE-0",b:"46",f:"SE"},{name:"Switzerland",c:"41-CH-0",b:"41",f:"CH"},{name:"Syria",c:"963-SY-0",b:"963",f:"SY"},{name:"Taiwan",c:"886-TW-0",b:"886",f:"TW"},{name:"Tajikistan",c:"992-TJ-0",b:"992",f:"TJ"},{name:"Tanzania",c:"255-TZ-0",b:"255",f:"TZ"},{name:"Thailand",c:"66-TH-0",b:"66",f:"TH"},{name:"Togo",c:"228-TG-0",b:"228",f:"TG"},{name:"Tokelau",c:"690-TK-0",b:"690",f:"TK"},{name:"Tonga",c:"676-TO-0",b:"676",f:"TO"},{name:"Trinidad/Tobago",c:"1-TT-0",b:"1",f:"TT"},{name:"Tunisia",c:"216-TN-0",b:"216",f:"TN"},{name:"Turkey",c:"90-TR-0",b:"90",f:"TR"},{name:"Turkmenistan",c:"993-TM-0",b:"993",f:"TM"},{name:"Turks and Caicos Islands",c:"1-TC-0",b:"1",f:"TC"},{name:"Tuvalu",c:"688-TV-0",b:"688",f:"TV"},{name:"U.S. Virgin Islands",c:"1-VI-0",b:"1",f:"VI"},{name:"Uganda",c:"256-UG-0",b:"256",f:"UG"},{name:"Ukraine",c:"380-UA-0",b:"380",f:"UA"},{name:"United Arab Emirates",c:"971-AE-0",b:"971",f:"AE"},{name:"United Kingdom",c:"44-GB-0",b:"44",f:"GB"},{name:"United States",c:"1-US-0",b:"1",f:"US"},{name:"Uruguay",c:"598-UY-0",b:"598",f:"UY"},{name:"Uzbekistan",c:"998-UZ-0",b:"998",f:"UZ"},{name:"Vanuatu",c:"678-VU-0",b:"678",f:"VU"},{name:"Vatican City",c:"379-VA-0",b:"379",f:"VA"},{name:"Venezuela",c:"58-VE-0",b:"58",f:"VE"},{name:"Vietnam",c:"84-VN-0",b:"84",f:"VN"},{name:"Wallis and Futuna",c:"681-WF-0",b:"681",f:"WF"},{name:"Western Sahara",c:"212-EH-0",b:"212",f:"EH"},{name:"Yemen",c:"967-YE-0",b:"967",f:"YE"},{name:"Zambia",c:"260-ZM-0",b:"260",f:"ZM"},{name:"Zimbabwe",c:"263-ZW-0",b:"263",f:"ZW"}];C7(Ao);var hD=new E7(Ao);function D7(s,d){this.a=s,this.Aa=d}function T7(s){s=Co(s);var d=jM(hD,s);return 0<d.length?new D7("1"==d[0].b?"1-US-0":d[0].c,Co(s.substr(d[0].b.length+1))):null}function ZV(s){var d=e_(s.a);if(!d)throw Error("Country ID "+s.a+" not found.");return"+"+d.b+s.Aa}function S7(s,d){for(var m=0;m<s.length;m++)if(!Hs(A7,s[m])&&(null!==G0&&s[m]in G0||Hs(d,s[m])))return s[m];return null}var A7=["emailLink","password","phone"],G0={"facebook.com":"FacebookAuthProvider","github.com":"GithubAuthProvider","google.com":"GoogleAuthProvider",password:"EmailAuthProvider","twitter.com":"TwitterAuthProvider",phone:"PhoneAuthProvider"};function Vae(){this.a=new GV,Hi(this.a,"autoUpgradeAnonymousUsers"),Hi(this.a,"callbacks"),Hi(this.a,"credentialHelper",GM),Hi(this.a,"immediateFederatedRedirect",!1),Hi(this.a,"popupMode",!1),Hi(this.a,"privacyPolicyUrl"),Hi(this.a,"queryParameterForSignInSuccessUrl","signInSuccessUrl"),Hi(this.a,"queryParameterForWidgetMode","mode"),Hi(this.a,"signInFlow"),Hi(this.a,"signInOptions"),Hi(this.a,"signInSuccessUrl"),Hi(this.a,"siteName"),Hi(this.a,"tosUrl"),Hi(this.a,"widgetUrl"),Hi(this.a,"adminRestrictedOperation")}function $M(s){var d=!!s.a.get("autoUpgradeAnonymousUsers");return d&&!U7(s)&&Ca('Missing "signInFailure" callback: "signInFailure" callback needs to be provided when "autoUpgradeAnonymousUsers" is set to true.',void 0),d}function HM(s){s=s.a.get("signInOptions")||[];for(var d=[],m=0;m<s.length;m++){var w=s[m];(w=yt(w)?w:{provider:w}).provider&&d.push(w)}return d}function Da(s,d){s=HM(s);for(var m=0;m<s.length;m++)if(s[m].provider===d)return s[m];return null}function W0(s){return HM(s).map(function(d){return d.provider})}function fD(s,d){s=x7(s);for(var m=0;m<s.length;m++)if(s[m].providerId===d)return s[m];return null}function x7(s){return HM(s).map(function(d){if(G0[d.provider]||Hs(Kae,d.provider)){for(var m in d={providerId:d.provider,S:d.providerName||null,V:d.fullLabel||null,ta:d.buttonColor||null,za:d.iconUrl?up(oM(d.iconUrl)).toString():null})null===d[m]&&delete d[m];return d}return{providerId:d.provider,S:d.providerName||null,V:d.fullLabel||null,ta:d.buttonColor||null,za:d.iconUrl?up(oM(d.iconUrl)).toString():null,Ob:d.loginHintKey||null}})}function N7(s){var m,d=Da(s,$t.Z.auth.GoogleAuthProvider.PROVIDER_ID);if(m=d&&d.clientId){e:{if("http:"===(window.location&&window.location.protocol)||"https:"===(window.location&&window.location.protocol))for(w in s=s.a.get("credentialHelper"),XV)if(XV[w]===s){var w=XV[w];break e}w=GM}m=w===JV}return m&&d.clientId||null}function M7(s){return!!((s=Da(s,$t.Z.auth.EmailAuthProvider.PROVIDER_ID))&&s.disableSignUp&&s.disableSignUp.status)}function t_(s){return!(!(s=s.a.get("adminRestrictedOperation")||null)||!s.status)}function R7(s,d){return s=(s=Da(s,d))&&s.scopes,Array.isArray(s)?s:[]}function k7(s,d){return yt(s=(s=Da(s,d))&&s.customParameters)?(s=T0(s),d===$t.Z.auth.GoogleAuthProvider.PROVIDER_ID&&delete s.login_hint,d===$t.Z.auth.GithubAuthProvider.PROVIDER_ID&&delete s.login,s):null}function KV(s){if(!(s=Da(s,$t.Z.auth.PhoneAuthProvider.PROVIDER_ID)))return null;var d=s.whitelistedCountries,m=s.blacklistedCountries;if(typeof d<"u"&&(!Array.isArray(d)||0==d.length))throw Error("WhitelistedCountries must be a non-empty array.");if(typeof m<"u"&&!Array.isArray(m))throw Error("BlacklistedCountries must be an array.");if(d&&m)throw Error("Both whitelistedCountries and blacklistedCountries are provided.");if(!d&&!m)return Ao;if(s=[],d){m={};for(var w=0;w<d.length;w++)for(var D=I7(d[w]),x=0;x<D.length;x++)m[D[x].c]=D[x];for(var B in m)m.hasOwnProperty(B)&&s.push(m[B])}else{for(B={},d=0;d<m.length;d++)for(D=I7(m[d]),w=0;w<D.length;w++)B[D[w].c]=D[w];for(D=0;D<Ao.length;D++)null!==B&&Ao[D].c in B||s.push(Ao[D])}return s}function O7(s){return zV(s.a,"queryParameterForWidgetMode")}function Gi(s){var d=s.a.get("tosUrl")||null;if(s=s.a.get("privacyPolicyUrl")||null,d&&!s&&gp("Privacy Policy URL is missing, the link will not be displayed."),d&&s){if("function"==typeof d)return d;if("string"==typeof d)return function(){P0(d)}}return null}function Wi(s){var d=s.a.get("tosUrl")||null,m=s.a.get("privacyPolicyUrl")||null;if(m&&!d&&gp("Term of Service URL is missing, the link will not be displayed."),d&&m){if("function"==typeof m)return m;if("string"==typeof m)return function(){P0(m)}}return null}function P7(s){return!((s=Da(s,$t.Z.auth.EmailAuthProvider.PROVIDER_ID))&&typeof s.requireDisplayName<"u"&&!s.requireDisplayName)}function z0(s){return!(!(s=Da(s,$t.Z.auth.EmailAuthProvider.PROVIDER_ID))||s.signInMethod!==$t.Z.auth.EmailAuthProvider.EMAIL_LINK_SIGN_IN_METHOD)}function YV(s){var d=!!s.a.get("immediateFederatedRedirect"),m=W0(s);return s=L7(s),d&&1==m.length&&!Hs(A7,m[0])&&s==WM}function L7(s){for(var d in s=s.a.get("signInFlow"),eB)if(eB[d]==s)return eB[d];return WM}function QV(s){return pD(s).signInSuccess||null}function F7(s){return pD(s).signInSuccessWithAuthResult||null}function U7(s){return pD(s).signInFailure||null}function pD(s){return s.a.get("callbacks")||{}}var gD,q0,nB,V7,JV="googleyolo",GM="none",XV={nc:JV,NONE:GM},WM="redirect",eB={qc:"popup",rc:WM},tB={mc:"callback",RECOVER_EMAIL:"recoverEmail",sc:"resetPassword",REVERT_SECOND_FACTOR_ADDITION:"revertSecondFactorAddition",tc:"select",uc:"signIn",VERIFY_AND_CHANGE_EMAIL:"verifyAndChangeEmail",VERIFY_EMAIL:"verifyEmail"},Kae=["anonymous"],Yae=["sitekey","tabindex","callback","expired-callback"],gr={};function Vt(s,d,m,w){gr[s].apply(null,Array.prototype.slice.call(arguments,1))}function B7(s){return s.classList?s.classList:$(s=s.className)&&s.match(/\S+/g)||[]}function mD(s,d){return s.classList?s.classList.contains(d):Hs(B7(s),d)}function _c(s,d){s.classList?s.classList.add(d):mD(s,d)||(s.className+=0<s.className.length?" "+d:d)}function yc(s,d){s.classList?s.classList.remove(d):mD(s,d)&&(s.className=np(B7(s),function(m){return m!=d}).join(" "))}function Ss(s){var d=s.type;switch($(d)&&d.toLowerCase()){case"checkbox":case"radio":return s.checked?s.value:null;case"select-one":return 0<=(d=s.selectedIndex)?s.options[d].value:null;case"select-multiple":d=[];for(var m,w=0;m=s.options[w];w++)m.selected&&d.push(m.value);return d.length?d:null;default:return null!=s.value?s.value:null}}function j7(s,d){var m=s.type;switch($(m)&&m.toLowerCase()){case"checkbox":case"radio":s.checked=d;break;case"select-one":if(s.selectedIndex=-1,$(d))for(var w=0;m=s.options[w];w++)if(m.value==d){m.selected=!0;break}break;case"select-multiple":for($(d)&&(d=[d]),w=0;m=s.options[w];w++)if(m.selected=!1,d)for(var D,x=0;D=d[x];x++)m.value==D&&(m.selected=!0);break;default:s.value=d??""}}function $7(s,d,m,w,D,x){if(Do&&!Gm("525"))return!0;if(ap&&D)return _D(s);if(D&&!w)return!1;if(!il&&("number"==typeof d&&(d=rB(d)),(!m||ap)&&(17==d||18==d||ap&&91==d)||ap&&16==d&&(w||x)))return!1;if((Do||op)&&w&&m)switch(s){case 220:case 219:case 221:case 192:case 186:case 189:case 187:case 188:case 190:case 191:case 192:case 222:return!1}if(xi&&w&&d==s)return!1;switch(s){case 13:return!(il&&(x||D||m&&w));case 27:return!(Do||op||il)}return(!il||!(w||D||x))&&_D(s)}function _D(s){if(48<=s&&57>=s||96<=s&&106>=s||65<=s&&90>=s||(Do||op)&&0==s)return!0;switch(s){case 32:case 43:case 63:case 64:case 107:case 109:case 110:case 111:case 186:case 59:case 189:case 187:case 61:case 188:case 190:case 191:case 192:case 222:case 219:case 220:case 221:case 163:return!0;case 173:return il;default:return!1}}function rB(s){return il?s=function Jae(s){switch(s){case 61:return 187;case 59:return 186;case 173:return 189;case 224:return 91;case 0:return 224;default:return s}}(s):ap&&Do&&93===s&&(s=91),s}function Z0(s){ns.call(this),this.a=s,sl(s,"keydown",this.g,!1,this),sl(s,"click",this.h,!1,this)}function H7(s,d){var m=new W7(d);if(fp(s,m)){m=new G7(d);try{fp(s,m)}finally{d.stopPropagation()}}}function G7(s){So.call(this,s.a),this.type="action"}function W7(s){So.call(this,s.a),this.type="beforeaction"}function K0(s){ns.call(this),this.a=s,s=xi?"focusout":"blur",this.g=sl(this.a,xi?"focusin":"focus",this,!xi),this.h=sl(this.a,s,this,!xi)}function zM(s,d){ns.call(this),this.g=s||1,this.a=d||M,this.h=tn(this.gc,this),this.j=Io()}function qM(s){s.Ka=!1,s.aa&&(s.a.clearTimeout(s.aa),s.aa=null)}function Y0(s){Zm.call(this),this.g=s,this.a={}}Yt(Z0,ns),Z0.prototype.g=function(s){(13==s.keyCode||Do&&3==s.keyCode)&&H7(this,s)},Z0.prototype.h=function(s){H7(this,s)},Z0.prototype.o=function(){Z0.K.o.call(this),Km(this.a,"keydown",this.g,!1,this),Km(this.a,"click",this.h,!1,this),delete this.a},Yt(G7,So),Yt(W7,So),Yt(K0,ns),K0.prototype.handleEvent=function(s){var d=new So(s.a);d.type="focusin"==s.type||"focus"==s.type?"focusin":"focusout",fp(this,d)},K0.prototype.o=function(){K0.K.o.call(this),hp(this.g),hp(this.h),delete this.a},Yt(zM,ns),(n=zM.prototype).Ka=!1,n.aa=null,n.gc=function(){if(this.Ka){var s=Io()-this.j;0<s&&s<.8*this.g?this.aa=this.a.setTimeout(this.h,this.g-s):(this.aa&&(this.a.clearTimeout(this.aa),this.aa=null),fp(this,"tick"),this.Ka&&(qM(this),this.start()))}},n.start=function(){this.Ka=!0,this.aa||(this.aa=this.a.setTimeout(this.h,this.g),this.j=Io())},n.o=function(){zM.K.o.call(this),qM(this),delete this.a},Yt(Y0,Zm);var z7=[];function Q0(s,d,m,w){wt(m)||(m&&(z7[0]=m.toString()),m=z7);for(var D=0;D<m.length;D++){var x=sl(d,m[D],w||s.handleEvent,!1,s.g||s);if(!x)break;s.a[x.key]=x}}function q7(s){HC(s.a,function(d,m){this.a.hasOwnProperty(m)&&hp(d)},s),s.a={}}function yD(s){ns.call(this),this.a=null,this.g=s,s=xi||op||Do&&!Gm("531")&&"TEXTAREA"==s.tagName,this.h=new Y0(this),Q0(this.h,this.g,s?["keydown","paste","cut","drop","input"]:"input",this)}function iB(s){null!=s.a&&(M.clearTimeout(s.a),s.a=null)}function Z7(s){return(s=new So(s.a)).type="input",s}function vD(s,d){ns.call(this),s&&(this.Oa&&X7(this),this.qa=s,this.Na=sl(this.qa,"keypress",this,d),this.Ya=sl(this.qa,"keydown",this.Jb,d,this),this.Oa=sl(this.qa,"keyup",this.Kb,d,this))}Y0.prototype.o=function(){Y0.K.o.call(this),q7(this)},Y0.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Yt(yD,ns),yD.prototype.handleEvent=function(s){if("input"==s.type)xi&&Gm(10)&&0==s.keyCode&&0==s.j||(iB(this),fp(this,Z7(s)));else if("keydown"!=s.type||function Qae(s){if(s.altKey&&!s.ctrlKey||s.metaKey||112<=s.keyCode&&123>=s.keyCode)return!1;if(_D(s.keyCode))return!0;switch(s.keyCode){case 18:case 20:case 93:case 17:case 40:case 35:case 27:case 36:case 45:case 37:case 224:case 91:case 144:case 12:case 34:case 33:case 19:case 255:case 44:case 39:case 145:case 16:case 38:case 252:case 224:case 92:return!1;case 0:return!il;default:return 166>s.keyCode||183<s.keyCode}}(s)){var d="keydown"==s.type?this.g.value:null;xi&&229==s.keyCode&&(d=null);var m=Z7(s);iB(this),this.a=function Xae(s,d){if(ft(s))d&&(s=tn(s,d));else{if(!s||"function"!=typeof s.handleEvent)throw Error("Invalid listener argument");s=tn(s.handleEvent,s)}return 2147483647<Number(0)?-1:M.setTimeout(s,0)}(function(){this.a=null,this.g.value!=d&&fp(this,m)},this)}},yD.prototype.o=function(){yD.K.o.call(this),this.h.m(),iB(this),delete this.g},Yt(vD,ns),(n=vD.prototype).qa=null,n.Na=null,n.Ya=null,n.Oa=null,n.R=-1,n.X=-1,n.Ua=!1;var K7={3:13,12:144,63232:38,63233:40,63234:37,63235:39,63236:112,63237:113,63238:114,63239:115,63240:116,63241:117,63242:118,63243:119,63244:120,63245:121,63246:122,63247:123,63248:44,63272:46,63273:36,63275:35,63276:33,63277:34,63289:144,63302:45},Y7={Up:38,Down:40,Left:37,Right:39,Enter:13,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,"U+007F":46,Home:36,End:35,PageUp:33,PageDown:34,Insert:45},Q7=!Do||Gm("525"),J7=ap&&il;function X7(s){s.Na&&(hp(s.Na),hp(s.Ya),hp(s.Oa),s.Na=null,s.Ya=null,s.Oa=null),s.qa=null,s.R=-1,s.X=-1}function e9(s,d,m,w){So.call(this,w),this.type="key",this.keyCode=s,this.j=d,this.repeat=m}function J0(s,d,m,w){this.top=s,this.right=d,this.bottom=m,this.left=w}function ZM(s,d){var m=YC(s);return m.defaultView&&m.defaultView.getComputedStyle&&(s=m.defaultView.getComputedStyle(s,null))&&(s[d]||s.getPropertyValue(d))||""}function t9(s){try{var d=s.getBoundingClientRect()}catch{return{left:0,top:0,right:0,bottom:0}}return xi&&s.ownerDocument.body&&(d.left-=(s=s.ownerDocument).documentElement.clientLeft+s.body.clientLeft,d.top-=s.documentElement.clientTop+s.body.clientTop),d}function n9(s){var d=YC(s),m=new cp(0,0),w=d?YC(d):document;return s==(w=!xi||9<=Number(ZC)||"CSS1Compat"==uM(w).a.compatMode?w.documentElement:w.body)||(s=t9(s),d=lM(w=uM(d).a),w=w.parentWindow||w.defaultView,d=xi&&Gm("10")&&w.pageYOffset!=d.scrollTop?new cp(d.scrollLeft,d.scrollTop):new cp(w.pageXOffset||d.scrollLeft,w.pageYOffset||d.scrollTop),m.a=s.left+d.a,m.g=s.top+d.g),m}(n=vD.prototype).Jb=function(s){(Do||op)&&(17==this.R&&!s.ctrlKey||18==this.R&&!s.altKey||ap&&91==this.R&&!s.metaKey)&&(this.X=this.R=-1),-1==this.R&&(s.ctrlKey&&17!=s.keyCode?this.R=17:s.altKey&&18!=s.keyCode?this.R=18:s.metaKey&&91!=s.keyCode&&(this.R=91)),Q7&&!$7(s.keyCode,this.R,s.shiftKey,s.ctrlKey,s.altKey,s.metaKey)?this.handleEvent(s):(this.X=rB(s.keyCode),J7&&(this.Ua=s.altKey))},n.Kb=function(s){this.X=this.R=-1,this.Ua=s.altKey},n.handleEvent=function(s){var d=s.a,m=d.altKey;if(xi&&"keypress"==s.type)var w=this.X,D=13!=w&&27!=w?d.keyCode:0;else(Do||op)&&"keypress"==s.type?(w=this.X,D=0<=d.charCode&&63232>d.charCode&&_D(w)?d.charCode:0):B8&&!Do?D=_D(w=this.X)?d.keyCode:0:("keypress"==s.type?(J7&&(m=this.Ua),d.keyCode==d.charCode?32>d.keyCode?(w=d.keyCode,D=0):(w=this.X,D=d.charCode):(w=d.keyCode||this.X,D=d.charCode||0)):(w=d.keyCode||this.X,D=d.charCode||0),ap&&63==D&&224==w&&(w=191));var x=w=rB(w);w?63232<=w&&w in K7?x=K7[w]:25==w&&s.shiftKey&&(x=9):d.keyIdentifier&&d.keyIdentifier in Y7&&(x=Y7[d.keyIdentifier]),il&&Q7&&"keypress"==s.type&&!$7(x,this.R,s.shiftKey,s.ctrlKey,m,s.metaKey)||(s=x==this.R,this.R=x,(d=new e9(x,D,s,d)).altKey=m,fp(this,d))},n.N=function(){return this.qa},n.o=function(){vD.K.o.call(this),X7(this)},Yt(e9,So),J0.prototype.toString=function(){return"("+this.top+"t, "+this.right+"r, "+this.bottom+"b, "+this.left+"l)"},J0.prototype.ceil=function(){return this.top=Math.ceil(this.top),this.right=Math.ceil(this.right),this.bottom=Math.ceil(this.bottom),this.left=Math.ceil(this.left),this},J0.prototype.floor=function(){return this.top=Math.floor(this.top),this.right=Math.floor(this.right),this.bottom=Math.floor(this.bottom),this.left=Math.floor(this.left),this},J0.prototype.round=function(){return this.top=Math.round(this.top),this.right=Math.round(this.right),this.bottom=Math.round(this.bottom),this.left=Math.round(this.left),this};var r9={thin:2,medium:4,thick:6};function KM(s,d){if("none"==(s.currentStyle?s.currentStyle[d+"Style"]:null))return 0;var m=s.currentStyle?s.currentStyle[d+"Width"]:null;if(m in r9)s=r9[m];else if(/^\d+px?$/.test(m))s=parseInt(m,10);else{d=s.style.left;var w=s.runtimeStyle.left;s.runtimeStyle.left=s.currentStyle.left,s.style.left=m,m=s.style.pixelLeft,s.style.left=d,s.runtimeStyle.left=w,s=+m}return s}function sB(){}function n_(s){ns.call(this),this.s=s||uM(),this.cb=null,this.na=!1,this.g=null,this.L=void 0,this.oa=this.Ea=this.Y=null}function Xn(s,d){return s.g?sV(d,s.g||s.s.a):null}function wD(s){return s.L||(s.L=new Y0(s)),s.L}function oB(s,d){s.Ea&&rl(s.Ea,d,void 0)}function Ri(s,d){var m=eW(s,"firebaseui-textfield");d?(yc(s,"firebaseui-input-invalid"),_c(s,"firebaseui-input"),m&&yc(m,"firebaseui-textfield-invalid")):(yc(s,"firebaseui-input"),_c(s,"firebaseui-input-invalid"),m&&_c(m,"firebaseui-textfield-invalid"))}function X0(s,d,m){XC(s,ds(eD,d=new yD(d))),Q0(wD(s),d,"input",m)}function ED(s,d,m){XC(s,ds(eD,d=new vD(d))),Q0(wD(s),d,"key",function(w){13==w.keyCode&&(w.stopPropagation(),w.preventDefault(),m(w))})}function gi(s,d,m){XC(s,ds(eD,d=new Z0(d))),Q0(wD(s),d,"action",function(w){w.stopPropagation(),w.preventDefault(),m(w)})}function Ta(s){_c(s,"firebaseui-hidden")}function As(s,d){d&&oV(s,d),yc(s,"firebaseui-hidden")}function ew(s){return!mD(s,"firebaseui-hidden")&&"none"!=s.style.display}function tw(s){var m=(s=s||{}).disabled,w='<div class="firebaseui-textfield mdl-textfield mdl-js-textfield mdl-textfield--floating-label"><label class="mdl-textfield__label firebaseui-label" for="ui-sign-in-email-input">';return w=s.wc?w+"Enter new email address":w+"Email",w+='</label><input type="email" name="email" id="ui-sign-in-email-input" autocomplete="username" class="mdl-textfield__input firebaseui-input firebaseui-id-email" value="'+To(s.email??"")+'"'+(m?"disabled":"")+'></div><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-id-email-error"></p></div>',Rt(w)}function Yo(s){var d='<button type="submit" class="firebaseui-id-submit firebaseui-button mdl-button mdl-js-button mdl-button--raised mdl-button--colored">';return d=(s=(s=s||{}).label)?d+pn(s):d+"Next",Rt(d+"</button>")}function aB(){var s=""+Yo({label:Ni("Sign In")});return Rt(s)}function i9(){var s=""+Yo({label:Ni("Save")});return Rt(s)}function ol(){var s=""+Yo({label:Ni("Continue")});return Rt(s)}function s9(s){var d='<div class="firebaseui-new-password-component"><div class="firebaseui-textfield mdl-textfield mdl-js-textfield mdl-textfield--floating-label"><label class="mdl-textfield__label firebaseui-label" for="ui-sign-in-new-password-input">';return d=(s=(s=s||{}).label)?d+pn(s):d+"Choose password",Rt(d+'</label><input type="password" name="newPassword" id="ui-sign-in-new-password-input" autocomplete="new-password" class="mdl-textfield__input firebaseui-input firebaseui-id-new-password"></div><a href="javascript:void(0)" class="firebaseui-input-floating-button firebaseui-id-password-toggle firebaseui-input-toggle-on firebaseui-input-toggle-blur"></a><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-id-new-password-error"></p></div></div>')}function o9(){var d='<div class="firebaseui-textfield mdl-textfield mdl-js-textfield mdl-textfield--floating-label"><label class="mdl-textfield__label firebaseui-label" for="ui-sign-in-password-input">';return Rt((d={}.current?d+"Current password":d+"Password")+'</label><input type="password" name="password" id="ui-sign-in-password-input" autocomplete="current-password" class="mdl-textfield__input firebaseui-input firebaseui-id-password"></div><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-id-password-error"></p></div>')}function a9(){return Rt('<a class="firebaseui-link firebaseui-id-secondary-link" href="javascript:void(0)">Trouble signing in?</a>')}function Sa(s){var d='<button class="firebaseui-id-secondary-link firebaseui-button mdl-button mdl-js-button mdl-button--primary">';return d=(s=(s=s||{}).label)?d+pn(s):d+"Cancel",Rt(d+"</button>")}function Gs(s){var d="";return s.F&&s.D&&(d+='<ul class="firebaseui-tos-list firebaseui-tos"><li class="firebaseui-inline-list-item"><a href="javascript:void(0)" class="firebaseui-link firebaseui-tos-link" target="_blank">Terms of Service</a></li><li class="firebaseui-inline-list-item"><a href="javascript:void(0)" class="firebaseui-link firebaseui-pp-link" target="_blank">Privacy Policy</a></li></ul>'),Rt(d)}function nw(s){var d="";return s.F&&s.D&&(d+='<p class="firebaseui-tos firebaseui-tospp-full-message">By continuing, you are indicating that you accept our <a href="javascript:void(0)" class="firebaseui-link firebaseui-tos-link" target="_blank">Terms of Service</a> and <a href="javascript:void(0)" class="firebaseui-link firebaseui-pp-link" target="_blank">Privacy Policy</a>.</p>'),Rt(d)}function u9(s){return s='<div class="firebaseui-info-bar firebaseui-id-info-bar"><p class="firebaseui-info-bar-message">'+pn(s.message)+'&nbsp;&nbsp;<a href="javascript:void(0)" class="firebaseui-link firebaseui-id-dismiss-info-bar">Dismiss</a></p></div>',Rt(s)}function l9(s){var d=s.content;return Rt('<dialog class="mdl-dialog firebaseui-dialog firebaseui-id-dialog'+((s=s.Ab)?" "+To(s):"")+'">'+pn(d)+"</dialog>")}function c9(s){var d=s.message;return Rt(l9({content:rW('<div class="firebaseui-dialog-icon-wrapper"><div class="'+To(s.Ma)+' firebaseui-dialog-icon"></div></div><div class="firebaseui-progress-dialog-message">'+pn(d)+"</div>")}))}function d9(s){for(var d='<div class="firebaseui-list-box-actions">',m=(s=s.items).length,w=0;w<m;w++){var D=s[w];d+='<button type="button" data-listboxid="'+To(D.id)+'" class="mdl-button firebaseui-id-list-box-dialog-button firebaseui-list-box-dialog-button">'+(D.Ma?'<div class="firebaseui-list-box-icon-wrapper"><div class="firebaseui-list-box-icon '+To(D.Ma)+'"></div></div>':"")+'<div class="firebaseui-list-box-label-wrapper">'+pn(D.label)+"</div></button>"}return d=""+l9({Ab:Ni("firebaseui-list-box-dialog"),content:rW(d+"</div>")}),Rt(d)}function YM(s){return Rt((s=s||{}).tb?'<div class="mdl-spinner mdl-spinner--single-color mdl-js-spinner is-active firebaseui-busy-indicator firebaseui-id-busy-indicator"></div>':'<div class="mdl-progress mdl-js-progress mdl-progress__indeterminate firebaseui-busy-indicator firebaseui-id-busy-indicator"></div>')}function mp(s,d){return or((s=(s=s||{}).ga).S?s.S:d.hb[s.providerId]?""+d.hb[s.providerId]:s.providerId&&0==s.providerId.indexOf("saml.")||s.providerId&&0==s.providerId.indexOf("oidc.")?s.providerId.substring(5):""+s.providerId)}function uB(s){h9(s,"upgradeElement")}function lB(s){h9(s,"downgradeElements")}lt(sB),sB.prototype.a=0,Yt(n_,ns),(n=n_.prototype).Lb=sB.Xa(),n.N=function(){return this.g},n.Za=function(s){if(this.Y&&this.Y!=s)throw Error("Method not supported");n_.K.Za.call(this,s)},n.kb=function(){this.g=this.s.a.createElement("DIV")},n.render=function(s){if(this.na)throw Error("Component already rendered");this.g||this.kb(),s?s.insertBefore(this.g,null):this.s.a.body.appendChild(this.g),this.Y&&!this.Y.na||this.v()},n.v=function(){this.na=!0,oB(this,function(s){!s.na&&s.N()&&s.v()})},n.ya=function(){oB(this,function(s){s.na&&s.ya()}),this.L&&q7(this.L),this.na=!1},n.o=function(){this.na&&this.ya(),this.L&&(this.L.m(),delete this.L),oB(this,function(s){s.m()}),this.g&&zm(this.g),this.Y=this.g=this.oa=this.Ea=null,n_.K.o.call(this)},n.removeChild=function(s,d){if(s){var m=$(s)?s:s.cb||(s.cb=":"+(s.Lb.a++).toString(36));if(s=this.oa&&m&&(null!==(s=this.oa)&&m in s?s[m]:void 0)||null,m&&s){var w=this.oa;if(m in w&&delete w[m],fc(this.Ea,s),d&&(s.ya(),s.g&&zm(s.g)),null==(d=s))throw Error("Unable to set parent component");d.Y=null,n_.K.Za.call(d,null)}}if(!s)throw Error("Child is not in parent component");return s},u9.a="firebaseui.auth.soy2.element.infoBar",c9.a="firebaseui.auth.soy2.element.progressDialog",d9.a="firebaseui.auth.soy2.element.listBoxDialog",YM.a="firebaseui.auth.soy2.element.busyIndicator";var rue=["mdl-js-textfield","mdl-js-progress","mdl-js-spinner","mdl-js-button"];function h9(s,d){s&&window.componentHandler&&window.componentHandler[d]&&rue.forEach(function(m){mD(s,m)&&window.componentHandler[d](s),rl(iV(m,s),function(w){window.componentHandler[d](w)})})}function f9(s,d,m){if(QM.call(this),document.body.appendChild(s),s.showModal||window.dialogPolyfill.registerDialog(s),s.showModal(),uB(s),d&&gi(this,s,function(x){var B=s.getBoundingClientRect();(x.clientX<B.left||B.left+B.width<x.clientX||x.clientY<B.top||B.top+B.height<x.clientY)&&QM.call(this)}),!m){var w=this.N().parentElement||this.N().parentNode;if(w){var D=this;this.da=function(){if(s.open){var x=s.getBoundingClientRect().height,B=w.getBoundingClientRect().height,ee=w.getBoundingClientRect().top-document.body.getBoundingClientRect().top,Le=w.getBoundingClientRect().left-document.body.getBoundingClientRect().left,ct=s.getBoundingClientRect().width,Gt=w.getBoundingClientRect().width;s.style.top=(ee+(B-x)/2).toString()+"px",s.style.left=(x=Le+(Gt-ct)/2).toString()+"px",s.style.right=(document.body.getBoundingClientRect().width-x-ct).toString()+"px"}else window.removeEventListener("resize",D.da)},this.da(),window.addEventListener("resize",this.da,!1)}}}function QM(){var s=cB.call(this);s&&(lB(s),s.open&&s.close(),zm(s),this.da&&window.removeEventListener("resize",this.da))}function cB(){return sV("firebaseui-id-dialog")}function p9(){zm(g9.call(this))}function g9(){return Xn(this,"firebaseui-id-info-bar")}function m9(){return Xn(this,"firebaseui-id-dismiss-info-bar")}var iue={xa:{"google.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg","github.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/github.svg","facebook.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/facebook.svg","twitter.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/twitter.svg",password:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/mail.svg",phone:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/phone.svg",anonymous:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/anonymous.png","microsoft.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/microsoft.svg","yahoo.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/yahoo.svg","apple.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/apple.png",saml:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/saml.svg",oidc:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/oidc.svg"},wa:{"google.com":"#ffffff","github.com":"#333333","facebook.com":"#3b5998","twitter.com":"#55acee",password:"#db4437",phone:"#02bd7e",anonymous:"#f4b400","microsoft.com":"#2F2F2F","yahoo.com":"#720E9E","apple.com":"#000000",saml:"#007bff",oidc:"#007bff"},hb:{"google.com":"Google","github.com":"GitHub","facebook.com":"Facebook","twitter.com":"Twitter",password:"Password",phone:"Phone",anonymous:"Guest","microsoft.com":"Microsoft","yahoo.com":"Yahoo","apple.com":"Apple"}};function dB(s,d,m){for(var w in Gd.call(this,s,d),m)this[w]=m[w]}function Qe(s,d,m,w,D){n_.call(this,m),this.fb=s,this.eb=d,this.Fa=!1,this.Ga=w||null,this.A=this.ca=null,this.Z=T0(iue),Vm(this.Z,D||{})}function ci(s){return s.N().parentElement||s.N().parentNode}function bD(s,d,m){ED(s,d,function(){m.focus()})}function rw(s,d,m){ED(s,d,function(){m()})}function _9(s,d,m){d=(s=s||{}).Va;var w=s.ia;return s='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-sign-in"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in with email</h1></div><div class="firebaseui-card-content"><div class="firebaseui-relative-wrapper">'+tw(s)+'</div></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+(d?Sa(null):"")+Yo(null)+'</div></div><div class="firebaseui-card-footer">'+(w?nw(m):Gs(m))+"</div></form></div>",Rt(s)}function y9(s,d,m){return d=(s=s||{}).ia,s='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-sign-in"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content">'+tw(s)+o9()+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-links">'+a9()+'</div><div class="firebaseui-form-actions">'+aB()+'</div></div><div class="firebaseui-card-footer">'+(d?nw(m):Gs(m))+"</div></form></div>",Rt(s)}function v9(s,d,m){var w=(s=s||{}).Tb;d=s.Ta;var D=s.ia,x='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-sign-up"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Create account</h1></div><div class="firebaseui-card-content">'+tw(s);return w?(s='<div class="firebaseui-textfield mdl-textfield mdl-js-textfield mdl-textfield--floating-label"><label class="mdl-textfield__label firebaseui-label" for="ui-sign-in-name-input">Branding display name</label><input type="text" name="name" id="ui-sign-in-name-input" autocomplete="name" class="mdl-textfield__input firebaseui-input firebaseui-id-name" value="'+To((s=(s=s||{}).name)??"")+'"></div><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-id-name-error"></p></div>',s=Rt(s)):s="",m=x+s+s9(null)+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+(d?Sa(null):"")+i9()+'</div></div><div class="firebaseui-card-footer">'+(D?nw(m):Gs(m))+"</div></form></div>",Rt(m)}function w9(s,d,m){return d=(s=s||{}).Ta,s='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-recovery"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Recover password</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Get instructions sent to this email that explain how to reset your password</p>'+tw(s)+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+(d?Sa(null):"")+Yo({label:Ni("Send")})+'</div></div><div class="firebaseui-card-footer">'+Gs(m)+"</div></form></div>",Rt(s)}function E9(s,d,m){d=s.G;var w="";return w+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-recovery-email-sent"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Check your email</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+(s="Follow the instructions sent to <strong>"+pn(s.email)+"</strong> to recover your password")+'</p></div><div class="firebaseui-card-actions">',d&&(w+='<div class="firebaseui-form-actions">'+Yo({label:Ni("Done")})+"</div>"),w+='</div><div class="firebaseui-card-footer">'+Gs(m)+"</div></div>",Rt(w)}function b9(s,d,m){return Rt('<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-callback"><div class="firebaseui-callback-indicator-container">'+YM(null)+"</div></div>")}function I9(s,d,m){return Rt('<div class="firebaseui-container firebaseui-id-page-spinner">'+YM({tb:!0})+"</div>")}function C9(){return Rt('<div class="firebaseui-container firebaseui-id-page-blank firebaseui-use-spinner"></div>')}function D9(s,d,m){return d="",d+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-link-sign-in-sent"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign-in email sent</h1></div><div class="firebaseui-card-content"><div class="firebaseui-email-sent"></div><p class="firebaseui-text">'+(s="A sign-in email with additional instructions was sent to <strong>"+pn(s.email)+"</strong>. Check your email to complete sign-in.")+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-links">'+Rt('<a class="firebaseui-link firebaseui-id-trouble-getting-email-link" href="javascript:void(0)">Trouble getting email?</a>')+'</div><div class="firebaseui-form-actions">'+Sa({label:Ni("Back")})+'</div></div><div class="firebaseui-card-footer">'+Gs(m)+"</div></form></div>",Rt(d)}function T9(s,d,m){return s='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-not-received"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Trouble getting email?</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Try these common fixes:<ul><li>Check if the email was marked as spam or filtered.</li><li>Check your internet connection.</li><li>Check that you did not misspell your email.</li><li>Check that your inbox space is not running out or other inbox settings related issues.</li></ul></p><p class="firebaseui-text">If the steps above didn\'t work, you can resend the email. Note that this will deactivate the link in the older email.</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-links">'+Rt('<a class="firebaseui-link firebaseui-id-resend-email-link" href="javascript:void(0)">Resend</a>')+'</div><div class="firebaseui-form-actions">'+Sa({label:Ni("Back")})+'</div></div><div class="firebaseui-card-footer">'+Gs(m)+"</div></form></div>",Rt(s)}function S9(s,d,m){return s='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-link-sign-in-confirmation"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Confirm email</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Confirm your email to complete sign in</p><div class="firebaseui-relative-wrapper">'+tw(s)+'</div></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+Sa(null)+Yo(null)+'</div></div><div class="firebaseui-card-footer">'+Gs(m)+"</div></form></div>",Rt(s)}function A9(){var s='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-different-device-error"><div class="firebaseui-card-header"><h1 class="firebaseui-title">New device or browser detected</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Try opening the link using the same device or browser where you started the sign-in process.</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+Sa({label:Ni("Dismiss")})+"</div></div></div>";return Rt(s)}function x9(){var s='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-anonymous-user-mismatch"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Session ended</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">The session associated with this sign-in request has either expired or was cleared.</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+Sa({label:Ni("Dismiss")})+"</div></div></div>";return Rt(s)}function N9(s,d,m){return d="",d+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-linking"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><h2 class="firebaseui-subtitle">You already have an account</h2><p class="firebaseui-text">'+(s="You\u2019ve already used <strong>"+pn(s.email)+"</strong> to sign in. Enter your password for that account.")+"</p>"+o9()+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-links">'+a9()+'</div><div class="firebaseui-form-actions">'+aB()+'</div></div><div class="firebaseui-card-footer">'+Gs(m)+"</div></form></div>",Rt(d)}function M9(s,d,m){var w=s.email;return d="",s=Ni(s=""+mp(s,m)),d+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-link-sign-in-linking"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><h2 class="firebaseui-subtitle">You already have an account</h2><p class="firebaseui-text firebaseui-text-justify">'+(w="You\u2019ve already used <strong>"+pn(w)+"</strong>. You can connect your <strong>"+pn(s)+"</strong> account with <strong>"+pn(w)+"</strong> by signing in with email link below.")+'<p class="firebaseui-text firebaseui-text-justify">'+(s="For this flow to successfully connect your "+pn(s)+" account with this email, you have to open the link on the same device or browser.")+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+aB()+'</div></div><div class="firebaseui-card-footer">'+Gs(m)+"</div></form></div>",Rt(d)}function R9(s,d,m){d="";var w=""+mp(s,m);return d+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-link-sign-in-linking-different-device"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text firebaseui-text-justify">'+(s="You originally intended to connect <strong>"+pn(w=Ni(w))+"</strong> to your email account but have opened the link on a different device where you are not signed in.")+'</p><p class="firebaseui-text firebaseui-text-justify">'+(w="If you still want to connect your <strong>"+pn(w)+"</strong> account, open the link on the same device where you started sign-in. Otherwise, tap Continue to sign-in on this device.")+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+ol()+'</div></div><div class="firebaseui-card-footer">'+Gs(m)+"</div></form></div>",Rt(d)}function k9(s,d,m){var w=s.email;return d="",s=Ni(s=""+mp(s,m)),d+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-federated-linking"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><h2 class="firebaseui-subtitle">You already have an account</h2><p class="firebaseui-text">'+(w="You\u2019ve already used <strong>"+pn(w)+"</strong>. Sign in with "+pn(s)+" to continue.")+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+Yo({label:Ni("Sign in with "+s)})+'</div></div><div class="firebaseui-card-footer">'+Gs(m)+"</div></form></div>",Rt(d)}function O9(s,d,m){var w=(s=s||{}).kc;d=s.yb,s=s.Eb;var D='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-unauthorized-user"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Not Authorized</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">';return D+=w?w="<strong>"+pn(w)+"</strong> is not authorized to view the requested page.":"User is not authorized to view the requested page.",D+="</p>",d&&(D+='<p class="firebaseui-text firebaseui-id-unauthorized-user-admin-email">'+(d="Please contact <strong>"+pn(d)+"</strong> for authorization.")+"</p>"),D+='</div><div class="firebaseui-card-actions"><div class="firebaseui-form-links">',s&&(D+='<a class="firebaseui-link firebaseui-id-unauthorized-user-help-link" href="javascript:void(0)" target="_blank">Learn More</a>'),D+='</div><div class="firebaseui-form-actions">'+Sa({label:Ni("Back")})+'</div></div><div class="firebaseui-card-footer">'+Gs(m)+"</div></form></div>",Rt(D)}function P9(s,d,m){return d="",d+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-unsupported-provider"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+(s="To continue sign in with <strong>"+pn(s.email)+"</strong> on this device, you have to recover the password.")+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+Sa(null)+Yo({label:Ni("Recover password")})+'</div></div><div class="firebaseui-card-footer">'+Gs(m)+"</div></form></div>",Rt(d)}function L9(s){var d="";return d+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-reset"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Reset your password</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">for <strong>'+pn(s.email)+"</strong></p>"+s9(function qoe(s){function d(){}var m={label:Ni("New password")};for(var w in d.prototype=s,s=new d,m)s[w]=m[w];return s}(s))+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+i9()+"</div></div></form></div>",Rt(d)}function F9(s){return s='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-reset-success"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Password changed</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">You can now sign in with your new password</p></div><div class="firebaseui-card-actions">'+((s=s||{}).G?'<div class="firebaseui-form-actions">'+ol()+"</div>":"")+"</div></div>",Rt(s)}function U9(s){return s='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-reset-failure"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Try resetting your password again</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Your request to reset your password has expired or the link has already been used</p></div><div class="firebaseui-card-actions">'+((s=s||{}).G?'<div class="firebaseui-form-actions">'+ol()+"</div>":"")+"</div></div>",Rt(s)}function V9(s){var d=s.G,m="";return m+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-change-revoke-success"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Updated email address</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+(s="Your sign-in email address has been changed back to <strong>"+pn(s.email)+"</strong>.")+'</p><p class="firebaseui-text">If you didn\u2019t ask to change your sign-in email, it\u2019s possible someone is trying to access your account and you should <a class="firebaseui-link firebaseui-id-reset-password-link" href="javascript:void(0)">change your password right away</a>.</p></div><div class="firebaseui-card-actions">'+(d?'<div class="firebaseui-form-actions">'+ol()+"</div>":"")+"</div></form></div>",Rt(m)}function B9(s){return s='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-change-revoke-failure"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Unable to update your email address</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">There was a problem changing your sign-in email back.</p><p class="firebaseui-text">If you try again and still can\u2019t reset your email, try asking your administrator for help.</p></div><div class="firebaseui-card-actions">'+((s=s||{}).G?'<div class="firebaseui-form-actions">'+ol()+"</div>":"")+"</div></div>",Rt(s)}function j9(s){return s='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-verification-success"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Your email has been verified</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">You can now sign in with your new account</p></div><div class="firebaseui-card-actions">'+((s=s||{}).G?'<div class="firebaseui-form-actions">'+ol()+"</div>":"")+"</div></div>",Rt(s)}function $9(s){return s='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-verification-failure"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Try verifying your email again</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Your request to verify your email has expired or the link has already been used</p></div><div class="firebaseui-card-actions">'+((s=s||{}).G?'<div class="firebaseui-form-actions">'+ol()+"</div>":"")+"</div></div>",Rt(s)}function H9(s){var d=s.G,m="";return m+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-verify-and-change-email-success"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Your email has been verified and changed</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+(s="You can now sign in with your new email <strong>"+pn(s.email)+"</strong>.")+'</p></div><div class="firebaseui-card-actions">'+(d?'<div class="firebaseui-form-actions">'+ol()+"</div>":"")+"</div></div>",Rt(m)}function G9(s){return s='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-verify-and-change-email-failure"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Try updating your email again</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Your request to verify and update your email has expired or the link has already been used.</p></div><div class="firebaseui-card-actions">'+((s=s||{}).G?'<div class="firebaseui-form-actions">'+ol()+"</div>":"")+"</div></div>",Rt(s)}function W9(s){var d=s.factorId,m=s.phoneNumber;s=s.G;var w='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-revert-second-factor-addition-success"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Removed second factor</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">';return w+="phone"===d?d="The <strong>"+pn(d)+" "+pn(m)+"</strong> was removed as a second authentication step.":"The device or app was removed as a second authentication step.",w+='</p><p class="firebaseui-text">If you don\'t recognize this device, someone might be trying to access your account. Consider <a class="firebaseui-link firebaseui-id-reset-password-link" href="javascript:void(0)">changing your password right away</a>.</p></div><div class="firebaseui-card-actions">'+(s?'<div class="firebaseui-form-actions">'+ol()+"</div>":"")+"</div></form></div>",Rt(w)}function z9(s){return s='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-revert-second-factor-addition-failure"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Couldn\'t remove your second factor</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Something went wrong removing your second factor.</p><p class="firebaseui-text">Try removing it again. If that doesn\'t work, contact support for assistance.</p></div><div class="firebaseui-card-actions">'+((s=s||{}).G?'<div class="firebaseui-form-actions">'+ol()+"</div>":"")+"</div></div>",Rt(s)}function q9(s){var d=s.zb;return s='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-recoverable-error"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Error encountered</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+pn(s.errorMessage)+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">',d&&(s+=Yo({label:Ni("Retry")})),Rt(s+"</div></div></div>")}function Z9(s){return s='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-unrecoverable-error"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Error encountered</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+pn(s.errorMessage)+"</p></div></div>",Rt(s)}function K9(s,d,m){var w=s.Qb;return d="",d+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-mismatch"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><h2 class="firebaseui-subtitle">'+(s="Continue with "+pn(s.jc)+"?")+'</h2><p class="firebaseui-text">'+(w="You originally wanted to sign in with "+pn(w))+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+Sa(null)+Yo({label:Ni("Continue")})+'</div></div><div class="firebaseui-card-footer">'+Gs(m)+"</div></form></div>",Rt(d)}function Y9(s,d,m){var w='<div class="firebaseui-container firebaseui-page-provider-sign-in firebaseui-id-page-provider-sign-in firebaseui-use-spinner"><div class="firebaseui-card-content"><form onsubmit="return false;"><ul class="firebaseui-idp-list">';d=(s=s.Sb).length;for(var D=0;D<d;D++){var x={ga:s[D]},B=m,ee=(x=x||{}).ga,Le=x,ct="";switch((Le=Le||{}).ga.providerId){case"google.com":ct+="firebaseui-idp-google";break;case"github.com":ct+="firebaseui-idp-github";break;case"facebook.com":ct+="firebaseui-idp-facebook";break;case"twitter.com":ct+="firebaseui-idp-twitter";break;case"phone":ct+="firebaseui-idp-phone";break;case"anonymous":ct+="firebaseui-idp-anonymous";break;case"password":ct+="firebaseui-idp-password";break;default:ct+="firebaseui-idp-generic"}Le=(Le='<button class="firebaseui-idp-button mdl-button mdl-js-button mdl-button--raised '+To(or(ct))+' firebaseui-id-idp-button" data-provider-id="'+To(ee.providerId)+'" style="background-color:')+To(iW(or((ct=(ct=(ct=x)||{}).ga).ta?ct.ta:B.wa[ct.providerId]?""+B.wa[ct.providerId]:0==ct.providerId.indexOf("saml.")?""+B.wa.saml:0==ct.providerId.indexOf("oidc.")?""+B.wa.oidc:""+B.wa.password)))+'"><span class="firebaseui-idp-icon-wrapper"><img class="firebaseui-idp-icon" alt="" src="';var Gt=x;ct=B,ct=zoe((Gt=(Gt=Gt||{}).ga).za?qm(Gt.za):ct.xa[Gt.providerId]?qm(ct.xa[Gt.providerId]):0==Gt.providerId.indexOf("saml.")?qm(ct.xa.saml):0==Gt.providerId.indexOf("oidc.")?qm(ct.xa.oidc):qm(ct.xa.password)),Le=Le+To(qm(ct))+'"></span>',"password"==ee.providerId?(Le+='<span class="firebaseui-idp-text firebaseui-idp-text-long">',Le+=ee.V?pn(ee.V):ee.S?x="Sign in with "+pn(mp(x,B)):"Sign in with email",Le+='</span><span class="firebaseui-idp-text firebaseui-idp-text-short">',Le=ee.S?Le+pn(ee.S):Le+"Email",Le+="</span>"):"phone"==ee.providerId?(Le+='<span class="firebaseui-idp-text firebaseui-idp-text-long">',Le+=ee.V?pn(ee.V):ee.S?x="Sign in with "+pn(mp(x,B)):"Sign in with phone",Le+='</span><span class="firebaseui-idp-text firebaseui-idp-text-short">',Le=ee.S?Le+pn(ee.S):Le+"Phone",Le+="</span>"):"anonymous"==ee.providerId?(Le+='<span class="firebaseui-idp-text firebaseui-idp-text-long">',Le+=ee.V?pn(ee.V):ee.S?x="Sign in with "+pn(mp(x,B)):"Continue as guest",Le+='</span><span class="firebaseui-idp-text firebaseui-idp-text-short">',Le=ee.S?Le+pn(ee.S):Le+"Guest",Le+="</span>"):(Le+='<span class="firebaseui-idp-text firebaseui-idp-text-long">',Le+=ee.V?pn(ee.V):ct="Sign in with "+pn(mp(x,B)),Le+='</span><span class="firebaseui-idp-text firebaseui-idp-text-short">'+pn(ee.S?ee.S:mp(x,B))+"</span>"),w+='<li class="firebaseui-list-item">'+(ee=Rt(Le+"</button>"))+"</li>"}return w+='</ul></form></div><div class="firebaseui-card-footer firebaseui-provider-sign-in-footer">'+nw(m)+"</div></div>",Rt(w)}function Q9(s,d,m){var x,w=(s=s||{}).Gb,D=s.Va;return d=s.ia,s='<div class="firebaseui-phone-number"><button class="firebaseui-id-country-selector firebaseui-country-selector mdl-button mdl-js-button"><span class="firebaseui-flag firebaseui-country-selector-flag firebaseui-id-country-selector-flag"></span><span class="firebaseui-id-country-selector-code"></span></button><div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label firebaseui-textfield firebaseui-phone-input-wrapper"><label class="mdl-textfield__label firebaseui-label" for="ui-sign-in-phone-number-input">Phone number</label><input type="tel" name="phoneNumber" id="ui-sign-in-phone-number-input" class="mdl-textfield__input firebaseui-input firebaseui-id-phone-number" value="'+To((s=(s=s||{}).Aa)??"")+'"></div></div><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-phone-number-error firebaseui-id-phone-number-error"></p></div>',x=(s='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-phone-sign-in-start"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Enter your phone number</h1></div><div class="firebaseui-card-content"><div class="firebaseui-relative-wrapper">'+Rt(s))+(x=w?Rt('<div class="firebaseui-recaptcha-wrapper"><div class="firebaseui-recaptcha-container"></div><div class="firebaseui-error-wrapper firebaseui-recaptcha-error-wrapper"><p class="firebaseui-error firebaseui-hidden firebaseui-id-recaptcha-error"></p></div></div>'):"")+'</div></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+(D?Sa(null):"")+Yo({label:Ni("Verify")})+'</div></div><div class="firebaseui-card-footer">',d?(d='<p class="firebaseui-tos firebaseui-phone-tos">',m=Rt((d=m.F&&m.D?d+'By tapping Verify, you are indicating that you accept our <a href="javascript:void(0)" class="firebaseui-link firebaseui-tos-link" target="_blank">Terms of Service</a> and <a href="javascript:void(0)" class="firebaseui-link firebaseui-pp-link" target="_blank">Privacy Policy</a>. An SMS may be sent. Message &amp; data rates may apply.':d+"By tapping Verify, an SMS may be sent. Message &amp; data rates may apply.")+"</p>")):m=Rt('<p class="firebaseui-tos firebaseui-phone-sms-notice">By tapping Verify, an SMS may be sent. Message &amp; data rates may apply.</p>')+Gs(m),Rt(x+m+"</div></form></div>")}function J9(s,d,m){var w="";return s='Enter the 6-digit code we sent to <a class="firebaseui-link firebaseui-change-phone-number-link firebaseui-id-change-phone-number-link" href="javascript:void(0)">&lrm;'+pn(d=(s=s||{}).phoneNumber)+"</a>",pn(d),d=w,m='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-phone-sign-in-finish"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Verify your phone number</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+s+"</p>"+(w=Rt('<div class="firebaseui-textfield mdl-textfield mdl-js-textfield mdl-textfield--floating-label"><label class="mdl-textfield__label firebaseui-label" for="ui-sign-in-phone-confirmation-code-input">6-digit code</label><input type="number" name="phoneConfirmationCode" id="ui-sign-in-phone-confirmation-code-input" class="mdl-textfield__input firebaseui-input firebaseui-id-phone-confirmation-code"></div><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-id-phone-confirmation-code-error"></p></div>'))+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+Sa(null)+Yo({label:Ni("Continue")})+'</div></div><div class="firebaseui-card-footer">'+Gs(m)+"</div></form>",s=Rt('<div class="firebaseui-resend-container"><span class="firebaseui-id-resend-countdown"></span><a href="javascript:void(0)" class="firebaseui-id-resend-link firebaseui-hidden firebaseui-link">Resend</a></div>'),Rt(d+(m+s+"</div>"))}function X9(){return Rt('<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-sign-out"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign Out</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">You are now successfully signed out.</p></div></div>')}function ez(s,d,m){var w='<div class="firebaseui-container firebaseui-page-select-tenant firebaseui-id-page-select-tenant"><div class="firebaseui-card-content"><form onsubmit="return false;"><ul class="firebaseui-tenant-list">';d=(s=s.ec).length;for(var D=0;D<d;D++){var x=s[D],B="",ee=pn(x.displayName),Le=x.tenantId?x.tenantId:"top-level-project";B+='<button class="firebaseui-tenant-button mdl-button mdl-js-button mdl-button--raised firebaseui-tenant-selection-'+To(Le=Ni(Le))+' firebaseui-id-tenant-selection-button"'+(x.tenantId?'data-tenant-id="'+To(x.tenantId)+'"':"")+'style="background-color:'+To(iW(x.ta))+'"><span class="firebaseui-idp-icon-wrapper"><img class="firebaseui-idp-icon" alt="" src="'+To(qm(x.za))+'"></span><span class="firebaseui-idp-text firebaseui-idp-text-long">',B+=x.V?pn(x.V):x="Sign in to "+pn(x.displayName),w+='<li class="firebaseui-list-item">'+(B=Rt(B+'</span><span class="firebaseui-idp-text firebaseui-idp-text-short">'+ee+"</span></button>"))+"</li>"}return w+='</ul></form></div><div class="firebaseui-card-footer firebaseui-provider-sign-in-footer">'+nw(m)+"</div></div>",Rt(w)}function tz(s,d,m){return s='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-provider-match-by-email"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><div class="firebaseui-relative-wrapper">'+tw(null)+'</div></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+Yo(null)+'</div></div><div class="firebaseui-card-footer">'+nw(m)+"</div></form></div>",Rt(s)}function hs(){return Xn(this,"firebaseui-id-submit")}function is(){return Xn(this,"firebaseui-id-secondary-link")}function xs(s,d){gi(this,hs.call(this),function(w){s(w)});var m=is.call(this);m&&d&&gi(this,m,function(w){d(w)})}function JM(){return Xn(this,"firebaseui-id-password")}function XM(){return Xn(this,"firebaseui-id-password-error")}function nz(){var s=JM.call(this),d=XM.call(this);X0(this,s,function(){ew(d)&&(Ri(s,!0),Ta(d))})}function rz(){var s=JM.call(this),d=XM.call(this);return Ss(s)?(Ri(s,!0),Ta(d),d=!0):(Ri(s,!1),As(d,or("Enter your password").toString()),d=!1),d?Ss(s):null}function iw(s,d,m,w,D,x){Qe.call(this,N9,{email:s},x,"passwordLinking",{F:w,D}),this.w=d,this.H=m}Yt(dB,Gd),Yt(Qe,n_),(n=Qe.prototype).kb=function(){var s=QC(this.fb,this.eb,this.Z,this.s);uB(s),this.g=s},n.v=function(){if(Qe.K.v.call(this),yW(ci(this),new dB("pageEnter",ci(this),{pageId:this.Ga})),this.bb()&&this.Z.F){var s=this.Z.F;gi(this,this.bb(),function(){s()})}if(this.ab()&&this.Z.D){var d=this.Z.D;gi(this,this.ab(),function(){d()})}},n.ya=function(){yW(ci(this),new dB("pageExit",ci(this),{pageId:this.Ga})),Qe.K.ya.call(this)},n.o=function(){window.clearTimeout(this.ca),this.eb=this.fb=this.ca=null,this.Fa=!1,this.A=null,lB(this.N()),Qe.K.o.call(this)},n.I=function(s,d,m,w){function D(){if(x.T)return null;x.Fa=!1,window.clearTimeout(x.ca),x.ca=null,x.A&&(lB(x.A),zm(x.A),x.A=null)}var x=this;return x.Fa?null:(function sue(s){s.Fa=!0;var d=mD(s.N(),"firebaseui-use-spinner");s.ca=window.setTimeout(function(){s.N()&&null===s.A&&(s.A=QC(YM,{tb:d},null,s.s),s.N().appendChild(s.A),uB(s.A))},500)}(x),s.apply(null,d).then(m,w).then(D,D))},Rn(Qe.prototype,{a:function(s){p9.call(this);var d=QC(u9,{message:s},null,this.s);this.N().appendChild(d),gi(this,m9.call(this),function(){zm(d)})},yc:p9,Ac:g9,zc:m9,$:function(s,d){s=QC(c9,{Ma:s,message:d},null,this.s),f9.call(this,s)},h:QM,Cb:cB,Cc:function(){return Xn(this,"firebaseui-tos")},bb:function(){return Xn(this,"firebaseui-tos-link")},ab:function(){return Xn(this,"firebaseui-pp-link")},Dc:function(){return Xn(this,"firebaseui-tos-list")}}),_9.a="firebaseui.auth.soy2.page.signIn",y9.a="firebaseui.auth.soy2.page.passwordSignIn",v9.a="firebaseui.auth.soy2.page.passwordSignUp",w9.a="firebaseui.auth.soy2.page.passwordRecovery",E9.a="firebaseui.auth.soy2.page.passwordRecoveryEmailSent",b9.a="firebaseui.auth.soy2.page.callback",I9.a="firebaseui.auth.soy2.page.spinner",C9.a="firebaseui.auth.soy2.page.blank",D9.a="firebaseui.auth.soy2.page.emailLinkSignInSent",T9.a="firebaseui.auth.soy2.page.emailNotReceived",S9.a="firebaseui.auth.soy2.page.emailLinkSignInConfirmation",A9.a="firebaseui.auth.soy2.page.differentDeviceError",x9.a="firebaseui.auth.soy2.page.anonymousUserMismatch",N9.a="firebaseui.auth.soy2.page.passwordLinking",M9.a="firebaseui.auth.soy2.page.emailLinkSignInLinking",R9.a="firebaseui.auth.soy2.page.emailLinkSignInLinkingDifferentDevice",k9.a="firebaseui.auth.soy2.page.federatedLinking",O9.a="firebaseui.auth.soy2.page.unauthorizedUser",P9.a="firebaseui.auth.soy2.page.unsupportedProvider",L9.a="firebaseui.auth.soy2.page.passwordReset",F9.a="firebaseui.auth.soy2.page.passwordResetSuccess",U9.a="firebaseui.auth.soy2.page.passwordResetFailure",V9.a="firebaseui.auth.soy2.page.emailChangeRevokeSuccess",B9.a="firebaseui.auth.soy2.page.emailChangeRevokeFailure",j9.a="firebaseui.auth.soy2.page.emailVerificationSuccess",$9.a="firebaseui.auth.soy2.page.emailVerificationFailure",H9.a="firebaseui.auth.soy2.page.verifyAndChangeEmailSuccess",G9.a="firebaseui.auth.soy2.page.verifyAndChangeEmailFailure",W9.a="firebaseui.auth.soy2.page.revertSecondFactorAdditionSuccess",z9.a="firebaseui.auth.soy2.page.revertSecondFactorAdditionFailure",q9.a="firebaseui.auth.soy2.page.recoverableError",Z9.a="firebaseui.auth.soy2.page.unrecoverableError",K9.a="firebaseui.auth.soy2.page.emailMismatch",Y9.a="firebaseui.auth.soy2.page.providerSignIn",Q9.a="firebaseui.auth.soy2.page.phoneSignInStart",J9.a="firebaseui.auth.soy2.page.phoneSignInFinish",X9.a="firebaseui.auth.soy2.page.signOut",ez.a="firebaseui.auth.soy2.page.selectTenant",tz.a="firebaseui.auth.soy2.page.providerMatchByEmail",p(iw,Qe),iw.prototype.v=function(){this.P(),this.M(this.w,this.H),rw(this,this.i(),this.w),this.i().focus(),Qe.prototype.v.call(this)},iw.prototype.o=function(){this.w=null,Qe.prototype.o.call(this)},iw.prototype.j=function(){return Ss(Xn(this,"firebaseui-id-email"))},Rn(iw.prototype,{i:JM,B:XM,P:nz,u:rz,ea:hs,ba:is,M:xs});var oue=/^[+a-zA-Z0-9_.!#$%&'*\/=?^`{|}~-]+@([a-zA-Z0-9-]+\.)+[a-zA-Z0-9]{2,63}$/;function qd(){return Xn(this,"firebaseui-id-email")}function _p(){return Xn(this,"firebaseui-id-email-error")}function sw(s){var d=qd.call(this),m=_p.call(this);X0(this,d,function(){ew(m)&&(Ri(d,!0),Ta(m))}),s&&ED(this,d,function(){s()})}function ow(){return Co(Ss(qd.call(this))||"")}function aw(){var s=qd.call(this),d=_p.call(this),m=Ss(s)||"";return m?oue.test(m)?(Ri(s,!0),Ta(d),d=!0):(Ri(s,!1),As(d,or("That email address isn't correct").toString()),d=!1):(Ri(s,!1),As(d,or("Enter your email address to continue").toString()),d=!1),d?Co(Ss(s)):null}function ID(s,d,m,w,D,x,B){Qe.call(this,y9,{email:m,ia:!!x},B,"passwordSignIn",{F:w,D}),this.w=s,this.H=d}function yr(s,d,m,w,D,x){Qe.call(this,s,d,w,D||"notice",x),this.i=m||null}function eR(s,d,m,w,D){yr.call(this,E9,{email:s,G:!!d},d,D,"passwordRecoveryEmailSent",{F:m,D:w})}function iz(s,d){yr.call(this,j9,{G:!!s},s,d,"emailVerificationSuccess")}function sz(s,d){yr.call(this,$9,{G:!!s},s,d,"emailVerificationFailure")}function oz(s,d,m){yr.call(this,H9,{email:s,G:!!d},d,m,"verifyAndChangeEmailSuccess")}function az(s,d){yr.call(this,G9,{G:!!s},s,d,"verifyAndChangeEmailFailure")}function uz(s,d){yr.call(this,z9,{G:!!s},s,d,"revertSecondFactorAdditionFailure")}function lz(s){yr.call(this,X9,void 0,void 0,s,"signOut")}function cz(s,d){yr.call(this,F9,{G:!!s},s,d,"passwordResetSuccess")}function dz(s,d){yr.call(this,U9,{G:!!s},s,d,"passwordResetFailure")}function hz(s,d){yr.call(this,B9,{G:!!s},s,d,"emailChangeRevokeFailure")}function fz(s,d,m){yr.call(this,q9,{errorMessage:s,zb:!!d},d,m,"recoverableError")}function pz(s,d){yr.call(this,Z9,{errorMessage:s},void 0,d,"unrecoverableError")}function CD(s){if("auth/invalid-credential"===s.code&&s.message&&-1!==s.message.indexOf("error=consent_required"))return{code:"auth/user-cancelled"};if(s.message&&-1!==s.message.indexOf("HTTP Cloud Function returned an error:")){var d=JSON.parse(s.message.substring(s.message.indexOf("{"),s.message.lastIndexOf("}")+1));return{code:s.code,message:d&&d.error&&d.error.message||s.message}}return s}function Zd(s,d,m,w){function D(B){if(!B.name||"cancel"!=B.name){e:{var ee=B.message;try{var Le=((JSON.parse(ee).error||{}).message||"").toLowerCase().match(/invalid.+(access|id)_token/);if(Le&&Le.length){var ct=!0;break e}}catch{}ct=!1}if(ct)B=ci(d),d.m(),Vr(s,B,void 0,or("Your sign-in session has expired. Please try again.").toString());else{if(ct=B&&B.message||"",B.code){if("auth/email-already-in-use"==B.code||"auth/credential-already-in-use"==B.code)return;ct=Tr(B)}d.a(ct)}}}if(Lz(s),w)return gz(s,m),Mi();if(!m.credential)throw Error("No credential found!");if(!qn(s).currentUser&&!m.user)throw Error("User not logged in.");try{var x=function Uue(s,d){return er(s),Kd(s,function(m){if(s.j&&!s.j.isAnonymous&&$M(tt(s))&&!qn(s).currentUser)return yp(s).then(function(){return"password"==d.credential.providerId&&(d.credential=null),d});if(m)return yp(s).then(function(){return m.linkWithCredential(d.credential)}).then(function(w){return d.user=w.user,d.credential=w.credential,d.operationType=w.operationType,d.additionalUserInfo=w.additionalUserInfo,d},function(w){if(w&&"auth/email-already-in-use"==w.code&&w.email&&w.credential)throw w;return vp(s,w,d.credential)});if(!d.user)throw Error('Internal error: An incompatible or outdated version of "firebase.js" may be used.');return yp(s).then(function(){return al(s).updateCurrentUser(d.user)}).then(function(){return d.user=al(s).currentUser,d.operationType="signIn",d.credential&&d.credential.providerId&&"password"==d.credential.providerId&&(d.credential=null),d})})}(s,m)}catch(B){return Ca(B.code||B.message,B),d.a(B.code||B.message),Mi()}return m=x.then(function(B){gz(s,B)},D).then(void 0,D),Nn(s,x),Mi(m)}function gz(s,d){if(!d.user)throw Error("No user found");var m=F7(tt(s));if(QV(tt(s))&&m&&gp("Both signInSuccess and signInSuccessWithAuthResult callbacks are provided. Only signInSuccessWithAuthResult callback will be invoked."),m){m=F7(tt(s));var w=m7(cn(s))||void 0;Ko(cD,cn(s));var D=!1;LW()?((!m||m(d,w))&&(D=!0,R0(window.opener.location,tR(s,w))),m||window.close()):(!m||m(d,w))&&(D=!0,R0(window.location,tR(s,w))),D||s.reset()}else{m=d.user,d=d.credential,w=QV(tt(s)),D=m7(cn(s))||void 0,Ko(cD,cn(s));var x=!1;LW()?((!w||w(m,d,D))&&(x=!0,R0(window.opener.location,tR(s,D))),w||window.close()):(!w||w(m,d,D))&&(x=!0,R0(window.location,tR(s,D))),x||s.reset()}}function tR(s,d){if(!(s=d||tt(s).a.get("signInSuccessUrl")))throw Error("No redirect URL has been found. You must either specify a signInSuccessUrl in the configuration, pass in a redirect URL to the widget URL, or return false from the callback.");return s}function Tr(s){var d={code:s.code},m="";switch((d=d||{}).code){case"auth/email-already-in-use":m+="The email address is already used by another account";break;case"auth/requires-recent-login":case"auth/user-token-expired":m+=function lW(){return or("Please login again to perform this operation")}();break;case"auth/too-many-requests":m+="You have entered an incorrect password too many times. Please try again in a few minutes.";break;case"auth/user-cancelled":m+="Please authorize the required permissions to sign in to the application";break;case"auth/user-not-found":m+="That email address doesn't match an existing account";break;case"auth/weak-password":m+="Strong passwords have at least 6 characters and a mix of letters and numbers";break;case"auth/wrong-password":m+="The email and password you entered don't match";break;case"auth/network-request-failed":m+="A network error has occurred";break;case"auth/invalid-phone-number":m+=cV();break;case"auth/invalid-verification-code":m+=or("Wrong code. Try again.");break;case"auth/code-expired":m+="This code is no longer valid";break;case"auth/expired-action-code":m+="This code has expired.";break;case"auth/invalid-action-code":m+="The action code is invalid. This can happen if the code is malformed, expired, or has already been used."}if(d=or(m).toString())return d;try{return JSON.parse(s.message),Ca("Internal error: "+s.message,void 0),oW().toString()}catch{return s.message}}function DD(s,d,m,w){function D(){(function Pae(s,d){H0(Xm,{tenantId:s.a},d)})(new e7(s.h.tenantId||null),cn(s)),Nn(s,d.I(tn(s.dc,s),[Le],function(){if("file:"===(window.location&&window.location.protocol))return Nn(s,Mz(s).then(function(ct){d.m(),Ko(Xm,cn(s)),Vt("callback",s,ee,Mi(ct))},x))},B))}function x(ct){if(Ko(Xm,cn(s)),!ct.name||"cancel"!=ct.name)switch(ct=CD(ct),ct.code){case"auth/popup-blocked":D();break;case"auth/popup-closed-by-user":case"auth/cancelled-popup-request":case"auth/credential-already-in-use":break;case"auth/network-request-failed":case"auth/too-many-requests":case"auth/user-cancelled":d.a(Tr(ct));break;case"auth/admin-restricted-operation":d.m(),t_(tt(s))?Vt("handleUnauthorizedUser",s,ee,null,m):Vt("callback",s,ee,k0(ct));break;default:d.m(),Vt("callback",s,ee,k0(ct))}}function B(ct){Ko(Xm,cn(s)),ct.name&&"cancel"==ct.name||(Ca("signInWithRedirect: "+ct.code,void 0),ct=Tr(ct),"blank"==d.Ga&&YV(tt(s))?(d.m(),Vt("providerSignIn",s,ee,ct)):d.a(ct))}var ee=ci(d),Le=function aue(s,d,m){var w=G0[d]&&$t.Z.auth[G0[d]]?new $t.Z.auth[G0[d]]:0==d.indexOf("saml.")?new $t.Z.auth.SAMLAuthProvider(d):new $t.Z.auth.OAuthProvider(d);if(!w)throw Error("Invalid Firebase Auth provider!");var D=R7(tt(s),d);if(w.addScope)for(var x=0;x<D.length;x++)w.addScope(D[x]);return D=k7(tt(s),d)||{},m&&(s=d==$t.Z.auth.GoogleAuthProvider.PROVIDER_ID?"login_hint":d==$t.Z.auth.GithubAuthProvider.PROVIDER_ID?"login":(s=fD(tt(s),d))&&s.Ob)&&(D[s]=m),w.setCustomParameters&&w.setCustomParameters(D),w}(s,m,w);L7(tt(s))==WM?D():Nn(s,function Fue(s,d){return er(s),Kd(s,function(m){return m&&!gc(cn(s))?m.linkWithPopup(d).then(function(w){return w},function(w){if(w&&"auth/email-already-in-use"==w.code&&w.email&&w.credential)throw w;return vp(s,w)}):qn(s).signInWithPopup(d)})}(s,Le).then(function(ct){d.m(),Vt("callback",s,ee,Mi(ct))},x))}function nR(s){return 1==(s=W0(tt(s))).length&&s[0]==$t.Z.auth.EmailAuthProvider.PROVIDER_ID}function mz(s){return 1==(s=W0(tt(s))).length&&s[0]==$t.Z.auth.PhoneAuthProvider.PROVIDER_ID}function Vr(s,d,m,w){nR(s)?w?Vt("signIn",s,d,m,w):fB(s,d,m):s&&mz(s)&&!w?Vt("phoneSignInStart",s,d):s&&YV(tt(s))&&!w?Vt("federatedRedirect",s,d,m):Vt("providerSignIn",s,d,w,m)}function _z(s,d,m,w){var D=ci(d);Nn(s,d.I(tn(qn(s).fetchSignInMethodsForEmail,qn(s)),[m],function(x){d.m(),yz(s,D,x,m,w)},function(x){x=Tr(x),d.a(x)}))}function yz(s,d,m,w,D,x){m.length||z0(tt(s))&&!z0(tt(s))?Hs(m,$t.Z.auth.EmailAuthProvider.EMAIL_PASSWORD_SIGN_IN_METHOD)?Vt("passwordSignIn",s,d,w,x):1==m.length&&m[0]===$t.Z.auth.EmailAuthProvider.EMAIL_LINK_SIGN_IN_METHOD?z0(tt(s))?Vt("sendEmailLinkForSignIn",s,d,w,function(){Vt("signIn",s,d)}):Vt("unsupportedProvider",s,d,w):(m=S7(m,W0(tt(s))))?(_7(new FV(w),cn(s)),Vt("federatedSignIn",s,d,w,m,D)):Vt("unsupportedProvider",s,d,w):M7(tt(s))?Vt("handleUnauthorizedUser",s,d,w,$t.Z.auth.EmailAuthProvider.PROVIDER_ID):z0(tt(s))?Vt("sendEmailLinkForSignIn",s,d,w,function(){Vt("signIn",s,d)}):Vt("passwordSignUp",s,d,w,void 0,void 0,x)}function hB(s,d,m,w,D,x){var B=ci(d);Nn(s,d.I(tn(s.Ib,s),[m,x],function(){d.m(),Vt("emailLinkSignInSent",s,B,m,w,x)},D))}function fB(s,d,m){m?Vt("prefilledEmailSignIn",s,d,m):Vt("signIn",s,d)}function TD(){return iM(zd(),"oobCode")}function pB(){var s=iM(zd(),"continueUrl");return s?function(){R0(window.location,s)}:null}function SD(s,d){Qe.call(this,x9,void 0,d,"anonymousUserMismatch"),this.i=s}function rR(s){Qe.call(this,b9,void 0,s,"callback")}function vz(s,d,m){if(m.user){var w={user:m.user,credential:m.credential,operationType:m.operationType,additionalUserInfo:m.additionalUserInfo},D=gc(cn(s)),x=D&&D.g;if(x&&!function hue(s,d){if(d==s.email)return!0;if(s.providerData)for(var m=0;m<s.providerData.length;m++)if(d==s.providerData[m].email)return!0;return!1}(m.user,x))!function due(s,d,m){var w=ci(d);Nn(s,yp(s).then(function(){d.m(),Vt("emailMismatch",s,w,m)},function(D){D.name&&"cancel"==D.name||(D=Tr(D.code),d.a(D))}))}(s,d,w);else{var B=D&&D.a;B?Nn(s,m.user.linkWithCredential(B).then(function(ee){wz(s,d,w={user:ee.user,credential:B,operationType:ee.operationType,additionalUserInfo:ee.additionalUserInfo})},function(ee){iR(s,d,ee)})):wz(s,d,w)}}else m=ci(d),d.m(),mc(cn(s)),Vr(s,m)}function wz(s,d,m){mc(cn(s)),Zd(s,d,m)}function iR(s,d,m){var w=ci(d);mc(cn(s)),m=Tr(m),d.m(),Vr(s,w,void 0,m)}function Ez(s,d,m,w){var D=ci(d);Nn(s,qn(s).fetchSignInMethodsForEmail(m).then(function(x){d.m(),x.length?Hs(x,$t.Z.auth.EmailAuthProvider.EMAIL_PASSWORD_SIGN_IN_METHOD)?Vt("passwordLinking",s,D,m):1==x.length&&x[0]===$t.Z.auth.EmailAuthProvider.EMAIL_LINK_SIGN_IN_METHOD?Vt("emailLinkSignInLinking",s,D,m):(x=S7(x,W0(tt(s))))?Vt("federatedLinking",s,D,m,x,w):(mc(cn(s)),Vt("unsupportedProvider",s,D,m)):(mc(cn(s)),Vt("passwordRecovery",s,D,m,!1,aW().toString()))},function(x){iR(s,d,x)}))}function AD(s,d){Qe.call(this,A9,void 0,d,"differentDeviceError"),this.i=s}function xD(s,d,m,w){Qe.call(this,V9,{email:s,G:!!m},w,"emailChangeRevoke"),this.l=d,this.i=m||null}function ND(){return Xn(this,"firebaseui-id-new-password")}function sR(){return Xn(this,"firebaseui-id-password-toggle")}function fue(){this.Ra=!this.Ra;var s=sR.call(this),d=ND.call(this);this.Ra?(d.type="text",_c(s,"firebaseui-input-toggle-off"),yc(s,"firebaseui-input-toggle-on")):(d.type="password",_c(s,"firebaseui-input-toggle-on"),yc(s,"firebaseui-input-toggle-off")),d.focus()}function oR(){return Xn(this,"firebaseui-id-new-password-error")}function bz(){this.Ra=!1;var s=ND.call(this);s.type="password";var d=oR.call(this);X0(this,s,function(){ew(d)&&(Ri(s,!0),Ta(d))});var m=sR.call(this);_c(m,"firebaseui-input-toggle-on"),yc(m,"firebaseui-input-toggle-off"),function tue(s,d,m){XC(s,ds(eD,d=new K0(d))),Q0(wD(s),d,"focusin",m)}(this,s,function(){_c(m,"firebaseui-input-toggle-focus"),yc(m,"firebaseui-input-toggle-blur")}),function nue(s,d,m){XC(s,ds(eD,d=new K0(d))),Q0(wD(s),d,"focusout",m)}(this,s,function(){_c(m,"firebaseui-input-toggle-blur"),yc(m,"firebaseui-input-toggle-focus")}),gi(this,m,tn(fue,this))}function Iz(){var s=ND.call(this),d=oR.call(this);return Ss(s)?(Ri(s,!0),Ta(d),d=!0):(Ri(s,!1),As(d,or("Enter your password").toString()),d=!1),d?Ss(s):null}function MD(s,d,m){Qe.call(this,L9,{email:s},m,"passwordReset"),this.l=d}function RD(s,d,m,w,D){Qe.call(this,W9,{factorId:s,phoneNumber:m||null,G:!!w},D,"revertSecondFactorAdditionSuccess"),this.l=d,this.i=w||null}function Cz(s,d,m,w){"auth/weak-password"==(w&&w.code)?(s=Tr(w),Ri(m.i(),!1),As(m.w(),s),m.i().focus()):(m&&m.m(),(m=new dz).render(d),Ln(s,m))}function aR(s,d){try{var m="number"==typeof s.selectionStart}catch{m=!1}m?(s.selectionStart=d,s.selectionEnd=d):xi&&!Gm("9")&&("textarea"==s.type&&(d=s.value.substring(0,d).replace(/(\r\n|\r|\n)/g,"\n").length),(s=s.createTextRange()).collapse(!0),s.move("character",d),s.select())}function kD(s,d,m,w,D,x){Qe.call(this,S9,{email:m},x,"emailLinkSignInConfirmation",{F:w,D}),this.l=s,this.u=d}function OD(s,d,m,w,D){Qe.call(this,R9,{ga:s},D,"emailLinkSignInLinkingDifferentDevice",{F:m,D:w}),this.i=d}function uR(s){Qe.call(this,C9,void 0,s,"blank")}function gB(s,d,m,w,D){var x=new uR,B=new Hm(m),ee=B.a.a.get(ts.$a)||"",Le=B.a.a.get(ts.Sa)||"",ct="1"===B.a.a.get(ts.Qa),Gt=P8(B),vr=B.a.a.get(ts.PROVIDER_ID)||null;B=B.a.a.get(ts.vb)||null,Fz(s,B);var ll=!$0(j0,cn(s)),$z=w||function Lae(s,d){var m=null;if(d=$0(j0,d))try{var w=l7(s,d),D=JSON.parse(w);m=D&&D.email||null}catch{}return m}(Le,cn(s)),qD=(w=function Fae(s,d){var m=null;if(d=$0(dD,d))try{var w=l7(s,d);m=JSON.parse(w)}catch{}return XW(m||null)}(Le,cn(s)))&&w.a;vr&&qD&&qD.providerId!==vr&&(qD=null),x.render(d),Ln(s,x),Nn(s,x.I(function(){var lu=Mi(null);lu=Gt&&ll||ll&&ct?k0(Error("anonymous-user-not-found")):function Oue(s,d){var m=P8(new Hm(d));return m?(d=new rs(function(w,D){var x=al(s).onAuthStateChanged(function(B){x(),B&&B.isAnonymous&&B.uid===m?w(B):D(B&&B.isAnonymous&&B.uid!==m?Error("anonymous-user-mismatch"):Error("anonymous-user-not-found"))});Nn(s,x)}),Nn(s,d),d):Mi(null)}(s,m).then(function(TB){if(vr&&!qD)throw Error("pending-credential-not-found");return TB});var ZD=null;return lu.then(function(TB){return ZD=TB,D?null:qn(s).checkActionCode(ee)}).then(function(){return ZD})},[],function(lu){$z?function yue(s,d,m,w,D,x){var B=ci(d);d.$("mdl-spinner mdl-spinner--single-color mdl-js-spinner is-active firebaseui-progress-dialog-loading-icon",or("Signing in...").toString());var ee=null;D=(x?function Pue(s,d,m,w,D){er(s);var x=D||null,B=$t.Z.auth.EmailAuthProvider.credentialWithLink(m,w);return m=x?qn(s).signInWithEmailLink(m,w).then(function(ee){return ee.user.linkWithCredential(x)}).then(function(){return yp(s)}).then(function(){return vp(s,{code:"auth/email-already-in-use"},x)}):qn(s).fetchSignInMethodsForEmail(m).then(function(ee){return ee.length?vp(s,{code:"auth/email-already-in-use"},B):d.linkWithCredential(B)}),Nn(s,m),m}(s,x,m,w,D):function Lue(s,d,m,w){er(s);var x,D=w||null;return d=qn(s).signInWithEmailLink(d,m).then(function(B){if(x={user:B.user,credential:null,operationType:B.operationType,additionalUserInfo:B.additionalUserInfo},D)return B.user.linkWithCredential(D).then(function(ee){x={user:ee.user,credential:D,operationType:x.operationType,additionalUserInfo:ee.additionalUserInfo}})}).then(function(){yp(s)}).then(function(){return al(s).updateCurrentUser(x.user)}).then(function(){return x.user=al(s).currentUser,x}),Nn(s,d),d}(s,m,w,D)).then(function(Le){Ko(dD,cn(s)),Ko(j0,cn(s)),d.h(),d.$("firebaseui-icon-done",or("Signed in!").toString()),ee=setTimeout(function(){d.h(),Zd(s,d,Le,!0)},1e3),Nn(s,function(){d&&(d.h(),d.m()),clearTimeout(ee)})},function(Le){if(d.h(),d.m(),!Le.name||"cancel"!=Le.name){var ct=Tr(Le=CD(Le));"auth/email-already-in-use"==Le.code||"auth/credential-already-in-use"==Le.code?(Ko(dD,cn(s)),Ko(j0,cn(s))):"auth/invalid-email"==Le.code?(ct=or("The email provided does not match the current sign-in session.").toString(),Vt("emailLinkConfirmation",s,B,w,Dz,null,ct)):Vr(s,B,m,ct)}}),Nn(s,D)}(s,x,$z,m,qD,lu):ct?(x.m(),Vt("differentDeviceError",s,d)):(x.m(),Vt("emailLinkConfirmation",s,d,m,Dz))},function(lu){var ZD=void 0;if(!lu||!lu.name||"cancel"!=lu.name)switch(x.m(),lu&&lu.message){case"anonymous-user-not-found":Vt("differentDeviceError",s,d);break;case"anonymous-user-mismatch":Vt("anonymousUserMismatch",s,d);break;case"pending-credential-not-found":Vt("emailLinkNewDeviceLinking",s,d,m,_ue);break;default:lu&&(ZD=Tr(lu)),Vr(s,d,void 0,ZD)}}))}function Dz(s,d,m,w){gB(s,d,w,m,!0)}function _ue(s,d,m){gB(s,d,m)}function PD(s,d,m,w,D,x){Qe.call(this,M9,{email:s,ga:d},x,"emailLinkSignInLinking",{F:w,D}),this.i=m}function LD(s,d,m,w,D,x){Qe.call(this,D9,{email:s},x,"emailLinkSignInSent",{F:w,D}),this.u=d,this.i=m}function FD(s,d,m,w,D,x,B){Qe.call(this,K9,{jc:s,Qb:d},B,"emailMismatch",{F:D,D:x}),this.l=m,this.i=w}function uw(s,d,m,w,D){Qe.call(this,T9,void 0,D,"emailNotReceived",{F:m,D:w}),this.l=s,this.i=d}function lw(s,d,m,w,D,x){Qe.call(this,k9,{email:s,ga:d},x,"federatedLinking",{F:w,D}),this.i=m}function UD(s,d,m,w,D,x){Qe.call(this,w9,{email:m,Ta:!!d},x,"passwordRecovery",{F:w,D}),this.l=s,this.u=d}function mB(){return Xn(this,"firebaseui-id-name")}function _B(){return Xn(this,"firebaseui-id-name-error")}function VD(s,d,m,w,D,x,B,ee,Le){Qe.call(this,v9,{email:w,Tb:s,name:D,Ta:!!m,ia:!!ee},Le,"passwordSignUp",{F:x,D:B}),this.w=d,this.H=m,this.B=s}function yB(){return Xn(this,"firebaseui-id-phone-confirmation-code")}function Tz(){return Xn(this,"firebaseui-id-phone-confirmation-code-error")}function Sz(){return Xn(this,"firebaseui-id-resend-countdown")}function cw(s,d,m,w,D,x,B,ee,Le){Qe.call(this,J9,{phoneNumber:D},Le,"phoneSignInFinish",{F:B,D:ee}),this.jb=x,this.i=new zM(1e3),this.B=x,this.P=s,this.l=d,this.H=m,this.M=w}p(ID,Qe),ID.prototype.v=function(){this.P(),this.ea(),this.ba(this.w,this.H),bD(this,this.l(),this.i()),rw(this,this.i(),this.w),Ss(this.l())?this.i().focus():this.l().focus(),Qe.prototype.v.call(this)},ID.prototype.o=function(){this.H=this.w=null,Qe.prototype.o.call(this)},Rn(ID.prototype,{l:qd,U:_p,P:sw,M:ow,j:aw,i:JM,B:XM,ea:nz,u:rz,ua:hs,pa:is,ba:xs}),Yt(yr,Qe),yr.prototype.v=function(){this.i&&(this.u(this.i),this.l().focus()),yr.K.v.call(this)},yr.prototype.o=function(){this.i=null,yr.K.o.call(this)},Rn(yr.prototype,{l:hs,w:is,u:xs}),Yt(eR,yr),Yt(iz,yr),Yt(sz,yr),Yt(oz,yr),Yt(az,yr),Yt(uz,yr),Yt(lz,yr),Yt(cz,yr),Yt(dz,yr),Yt(hz,yr),Yt(fz,yr),Yt(pz,yr),p(SD,Qe),SD.prototype.v=function(){var s=this;gi(this,this.l(),function(){s.i()}),this.l().focus(),Qe.prototype.v.call(this)},SD.prototype.o=function(){this.i=null,Qe.prototype.o.call(this)},Rn(SD.prototype,{l:is}),gr.anonymousUserMismatch=function(s,d){var m=new SD(function(){m.m(),Vr(s,d)});m.render(d),Ln(s,m)},p(rR,Qe),rR.prototype.I=function(s,d,m,w){return s.apply(null,d).then(m,w)},gr.callback=function(s,d,m){var w=new rR;w.render(d),Ln(s,w),m=m||Mz(s),Nn(s,m.then(function(D){vz(s,w,D)},function(D){if((D=CD(D))&&("auth/account-exists-with-different-credential"==D.code||"auth/email-already-in-use"==D.code)&&D.email&&D.credential)_7(new FV(D.email,D.credential),cn(s)),Ez(s,w,D.email);else if(D&&"auth/user-cancelled"==D.code){var x=gc(cn(s)),B=Tr(D);x&&x.a?Ez(s,w,x.g,B):x?_z(s,w,x.g,B):iR(s,w,D)}else D&&"auth/credential-already-in-use"==D.code||(D&&"auth/operation-not-supported-in-this-environment"==D.code&&nR(s)?vz(s,w,{user:null,credential:null}):D&&"auth/admin-restricted-operation"==D.code&&t_(tt(s))?(w.m(),mc(cn(s)),Vt("handleUnauthorizedUser",s,d,null,null)):iR(s,w,D))}))},p(AD,Qe),AD.prototype.v=function(){var s=this;gi(this,this.l(),function(){s.i()}),this.l().focus(),Qe.prototype.v.call(this)},AD.prototype.o=function(){this.i=null,Qe.prototype.o.call(this)},Rn(AD.prototype,{l:is}),gr.differentDeviceError=function(s,d){var m=new AD(function(){m.m(),Vr(s,d)});m.render(d),Ln(s,m)},p(xD,Qe),xD.prototype.v=function(){var s=this;gi(this,Xn(this,"firebaseui-id-reset-password-link"),function(){s.l()}),this.i&&(this.w(this.i),this.u().focus()),Qe.prototype.v.call(this)},xD.prototype.o=function(){this.l=this.i=null,Qe.prototype.o.call(this)},Rn(xD.prototype,{u:hs,B:is,w:xs}),p(MD,Qe),MD.prototype.v=function(){this.H(),this.B(this.l),rw(this,this.i(),this.l),this.i().focus(),Qe.prototype.v.call(this)},MD.prototype.o=function(){this.l=null,Qe.prototype.o.call(this)},Rn(MD.prototype,{i:ND,w:oR,M:sR,H:bz,u:Iz,U:hs,P:is,B:xs}),p(RD,Qe),RD.prototype.v=function(){var s=this;gi(this,Xn(this,"firebaseui-id-reset-password-link"),function(){s.l()}),this.i&&(this.w(this.i),this.u().focus()),Qe.prototype.v.call(this)},RD.prototype.o=function(){this.l=this.i=null,Qe.prototype.o.call(this)},Rn(RD.prototype,{u:hs,B:is,w:xs}),gr.passwordReset=function(s,d,m,w){Nn(s,qn(s).verifyPasswordResetCode(m).then(function(D){var x=new MD(D,function(){!function pue(s,d,m,w,D){var x=m.u();x&&Nn(s,m.I(tn(qn(s).confirmPasswordReset,qn(s)),[w,x],function(){m.m();var B=new cz(D);B.render(d),Ln(s,B)},function(B){Cz(s,d,m,B)}))}(s,d,x,m,w)});x.render(d),Ln(s,x)},function(){Cz(s,d)}))},gr.emailChangeRevocation=function(s,d,m){var w=null;Nn(s,qn(s).checkActionCode(m).then(function(D){return w=D.data.email,qn(s).applyActionCode(m)}).then(function(){!function gue(s,d,m){var w=new xD(m,function(){Nn(s,w.I(tn(qn(s).sendPasswordResetEmail,qn(s)),[m],function(){w.m(),(w=new eR(m,void 0,Gi(tt(s)),Wi(tt(s)))).render(d),Ln(s,w)},function(){w.a(sW().toString())}))});w.render(d),Ln(s,w)}(s,d,w)},function(){var D=new hz;D.render(d),Ln(s,D)}))},gr.emailVerification=function(s,d,m,w){Nn(s,qn(s).applyActionCode(m).then(function(){var D=new iz(w);D.render(d),Ln(s,D)},function(){var D=new sz;D.render(d),Ln(s,D)}))},gr.revertSecondFactorAddition=function(s,d,m){var w=null,D=null;Nn(s,qn(s).checkActionCode(m).then(function(x){return w=x.data.email,D=x.data.multiFactorInfo,qn(s).applyActionCode(m)}).then(function(){!function mue(s,d,m,w){var D=new RD(w.factorId,function(){D.I(tn(qn(s).sendPasswordResetEmail,qn(s)),[m],function(){D.m(),(D=new eR(m,void 0,Gi(tt(s)),Wi(tt(s)))).render(d),Ln(s,D)},function(){D.a(sW().toString())})},w.phoneNumber);D.render(d),Ln(s,D)}(s,d,w,D)},function(){var x=new uz;x.render(d),Ln(s,x)}))},gr.verifyAndChangeEmail=function(s,d,m,w){var D=null;Nn(s,qn(s).checkActionCode(m).then(function(x){return D=x.data.email,qn(s).applyActionCode(m)}).then(function(){var x=new oz(D,w);x.render(d),Ln(s,x)},function(){var x=new az;x.render(d),Ln(s,x)}))},p(kD,Qe),kD.prototype.v=function(){this.w(this.l),this.B(this.l,this.u),this.i().focus(),aR(this.i(),(this.i().value||"").length),Qe.prototype.v.call(this)},kD.prototype.o=function(){this.u=this.l=null,Qe.prototype.o.call(this)},Rn(kD.prototype,{i:qd,M:_p,w:sw,H:ow,j:aw,U:hs,P:is,B:xs}),gr.emailLinkConfirmation=function(s,d,m,w,D,x){var B=new kD(function(){var ee=B.j();ee?(B.m(),w(s,d,ee,m)):B.i().focus()},function(){B.m(),Vr(s,d,D||void 0)},D||void 0,Gi(tt(s)),Wi(tt(s)));B.render(d),Ln(s,B),x&&B.a(x)},p(OD,Qe),OD.prototype.v=function(){this.u(this.i),this.l().focus(),Qe.prototype.v.call(this)},OD.prototype.o=function(){this.i=null,Qe.prototype.o.call(this)},Rn(OD.prototype,{l:hs,u:xs}),gr.emailLinkNewDeviceLinking=function(s,d,m,w){var D=new Hm(m);if(m=D.a.a.get(ts.PROVIDER_ID)||null,L8(D,null),m){var x=new OD(fD(tt(s),m),function(){x.m(),w(s,d,D.toString())},Gi(tt(s)),Wi(tt(s)));x.render(d),Ln(s,x)}else Vr(s,d)},p(uR,Qe),gr.emailLinkSignInCallback=gB,p(PD,Qe),PD.prototype.v=function(){this.u(this.i),this.l().focus(),Qe.prototype.v.call(this)},PD.prototype.o=function(){this.i=null,Qe.prototype.o.call(this)},Rn(PD.prototype,{l:hs,u:xs}),gr.emailLinkSignInLinking=function(s,d,m){var w=gc(cn(s));if(mc(cn(s)),w){var D=w.a.providerId,x=new PD(m,fD(tt(s),D),function(){!function vue(s,d,m,w){var D=ci(d);hB(s,d,m,function(){Vr(s,D,m)},function(x){if(!x.name||"cancel"!=x.name){var B=Tr(x);x&&"auth/network-request-failed"==x.code?d.a(B):(d.m(),Vr(s,D,m,B))}},w)}(s,x,m,w)},Gi(tt(s)),Wi(tt(s)));x.render(d),Ln(s,x)}else Vr(s,d)},p(LD,Qe),LD.prototype.v=function(){var s=this;gi(this,this.l(),function(){s.i()}),gi(this,Xn(this,"firebaseui-id-trouble-getting-email-link"),function(){s.u()}),this.l().focus(),Qe.prototype.v.call(this)},LD.prototype.o=function(){this.i=this.u=null,Qe.prototype.o.call(this)},Rn(LD.prototype,{l:is}),gr.emailLinkSignInSent=function(s,d,m,w,D){var x=new LD(m,function(){x.m(),Vt("emailNotReceived",s,d,m,w,D)},function(){x.m(),w()},Gi(tt(s)),Wi(tt(s)));x.render(d),Ln(s,x)},p(FD,Qe),FD.prototype.v=function(){this.w(this.l,this.i),this.u().focus(),Qe.prototype.v.call(this)},FD.prototype.o=function(){this.i=null,Qe.prototype.o.call(this)},Rn(FD.prototype,{u:hs,B:is,w:xs}),gr.emailMismatch=function(s,d,m){var w=gc(cn(s));if(w){var D=new FD(m.user.email,w.g,function(){var x=D;mc(cn(s)),Zd(s,x,m)},function(){var x=m.credential.providerId,B=ci(D);D.m(),Vt(w.a?"federatedLinking":"federatedSignIn",s,B,w.g,x)},Gi(tt(s)),Wi(tt(s)));D.render(d),Ln(s,D)}else Vr(s,d)},p(uw,Qe),uw.prototype.v=function(){var s=this;gi(this,this.u(),function(){s.i()}),gi(this,this.Da(),function(){s.l()}),this.u().focus(),Qe.prototype.v.call(this)},uw.prototype.Da=function(){return Xn(this,"firebaseui-id-resend-email-link")},uw.prototype.o=function(){this.i=this.l=null,Qe.prototype.o.call(this)},Rn(uw.prototype,{u:is}),gr.emailNotReceived=function(s,d,m,w,D){var x=new uw(function(){hB(s,x,m,w,function(B){B=Tr(B),x.a(B)},D)},function(){x.m(),Vr(s,d,m)},Gi(tt(s)),Wi(tt(s)));x.render(d),Ln(s,x)},p(lw,Qe),lw.prototype.v=function(){this.u(this.i),this.l().focus(),Qe.prototype.v.call(this)},lw.prototype.o=function(){this.i=null,Qe.prototype.o.call(this)},Rn(lw.prototype,{l:hs,u:xs}),gr.federatedLinking=function(s,d,m,w,D){var x=gc(cn(s));if(x&&x.a){var B=new lw(m,fD(tt(s),w),function(){DD(s,B,w,m)},Gi(tt(s)),Wi(tt(s)));B.render(d),Ln(s,B),D&&B.a(D)}else Vr(s,d)},gr.federatedRedirect=function(s,d,m){var w=new uR;w.render(d),Ln(s,w),DD(s,w,d=W0(tt(s))[0],m)},gr.federatedSignIn=function(s,d,m,w,D){var x=new lw(m,fD(tt(s),w),function(){DD(s,x,w,m)},Gi(tt(s)),Wi(tt(s)));x.render(d),Ln(s,x),D&&x.a(D)},gr.passwordLinking=function(s,d,m){var w=gc(cn(s));mc(cn(s));var D=w&&w.a;if(D){var x=new iw(m,function(){!function wue(s,d,m,w){var D=d.u();D?Nn(s,d.I(tn(s.Xb,s),[m,D],function(x){return x=x.user.linkWithCredential(w).then(function(B){return Zd(s,d,{user:B.user,credential:w,operationType:B.operationType,additionalUserInfo:B.additionalUserInfo})}),Nn(s,x),x},function(x){if(!x.name||"cancel"!=x.name)switch(x.code){case"auth/wrong-password":Ri(d.i(),!1),As(d.B(),Tr(x));break;case"auth/too-many-requests":d.a(Tr(x));break;default:Ca("signInWithEmailAndPassword: "+x.message,void 0),d.a(Tr(x))}})):d.i().focus()}(s,x,m,D)},function(){x.m(),Vt("passwordRecovery",s,d,m)},Gi(tt(s)),Wi(tt(s)));x.render(d),Ln(s,x)}else Vr(s,d)},p(UD,Qe),UD.prototype.v=function(){this.B(),this.H(this.l,this.u),Ss(this.i())||this.i().focus(),rw(this,this.i(),this.l),Qe.prototype.v.call(this)},UD.prototype.o=function(){this.u=this.l=null,Qe.prototype.o.call(this)},Rn(UD.prototype,{i:qd,w:_p,B:sw,M:ow,j:aw,U:hs,P:is,H:xs}),gr.passwordRecovery=function(s,d,m,w,D){var x=new UD(function(){!function Eue(s,d){var m=d.j();if(m){var w=ci(d);Nn(s,d.I(tn(qn(s).sendPasswordResetEmail,qn(s)),[m],function(){d.m();var D=new eR(m,function(){D.m(),Vr(s,w)},Gi(tt(s)),Wi(tt(s)));D.render(w),Ln(s,D)},function(D){Ri(d.i(),!1),As(d.w(),Tr(D))}))}else d.i().focus()}(s,x)},w?void 0:function(){x.m(),Vr(s,d)},m,Gi(tt(s)),Wi(tt(s)));x.render(d),Ln(s,x),D&&x.a(D)},gr.passwordSignIn=function(s,d,m,w){var D=new ID(function(){!function cue(s,d){var m=d.j(),w=d.u();if(m)if(w){var D=$t.Z.auth.EmailAuthProvider.credential(m,w);Nn(s,d.I(tn(s.bc,s),[m,w],function(x){return Zd(s,d,{user:x.user,credential:D,operationType:x.operationType,additionalUserInfo:x.additionalUserInfo})},function(x){if(!x.name||"cancel"!=x.name)switch(x.code){case"auth/email-already-in-use":break;case"auth/email-exists":Ri(d.l(),!1),As(d.U(),Tr(x));break;case"auth/too-many-requests":case"auth/wrong-password":Ri(d.i(),!1),As(d.B(),Tr(x));break;default:Ca("verifyPassword: "+x.message,void 0),d.a(Tr(x))}}))}else d.i().focus();else d.l().focus()}(s,D)},function(){var x=D.M();D.m(),Vt("passwordRecovery",s,d,x)},m,Gi(tt(s)),Wi(tt(s)),w);D.render(d),Ln(s,D)},p(VD,Qe),VD.prototype.v=function(){this.ea(),this.B&&this.Ja(),this.ua(),this.pa(this.w,this.H),this.B?(bD(this,this.i(),this.u()),bD(this,this.u(),this.l())):bD(this,this.i(),this.l()),this.w&&rw(this,this.l(),this.w),Ss(this.i())?this.B&&!Ss(this.u())?this.u().focus():this.l().focus():this.i().focus(),Qe.prototype.v.call(this)},VD.prototype.o=function(){this.H=this.w=null,Qe.prototype.o.call(this)},Rn(VD.prototype,{i:qd,U:_p,ea:sw,jb:ow,j:aw,u:mB,Bc:_B,Ja:function(){var s=mB.call(this),d=_B.call(this);X0(this,s,function(){ew(d)&&(Ri(s,!0),Ta(d))})},M:function(){var s=mB.call(this),d=_B.call(this),m=Ss(s);return Ri(s,m=!/^[\s\xa0]*$/.test(null==m?"":String(m))),m?(Ta(d),d=!0):(As(d,or("Enter your account name").toString()),d=!1),d?Co(Ss(s)):null},l:ND,ba:oR,lb:sR,ua:bz,P:Iz,Nb:hs,Mb:is,pa:xs}),gr.passwordSignUp=function(s,d,m,w,D,x){var ee=new VD(P7(tt(s)),function(){!function bue(s,d){var m=P7(tt(s)),w=d.j(),D=null;m&&(D=d.M());var x=d.P();if(w){if(m){if(!D)return void d.u().focus();D=pc(D)}if(x){var B=$t.Z.auth.EmailAuthProvider.credential(w,x);Nn(s,d.I(tn(s.Yb,s),[w,x],function(ee){var Le={user:ee.user,credential:B,operationType:ee.operationType,additionalUserInfo:ee.additionalUserInfo};return m?(ee=ee.user.updateProfile({displayName:D}).then(function(){return Zd(s,d,Le)}),Nn(s,ee),ee):Zd(s,d,Le)},function(ee){if(!ee.name||"cancel"!=ee.name){var Le=CD(ee);switch(ee=Tr(Le),Le.code){case"auth/email-already-in-use":return function Iue(s,d,m,w){function D(){var B=Tr(w);Ri(d.i(),!1),As(d.U(),B),d.i().focus()}var x=qn(s).fetchSignInMethodsForEmail(m).then(function(B){B.length?D():(B=ci(d),d.m(),Vt("passwordRecovery",s,B,m,!1,aW().toString()))},function(){D()});return Nn(s,x),x}(s,d,w,Le);case"auth/too-many-requests":ee=or("Too many account requests are coming from your IP address. Try again in a few minutes.").toString();case"auth/operation-not-allowed":case"auth/weak-password":Ri(d.l(),!1),As(d.ba(),ee);break;case"auth/admin-restricted-operation":t_(tt(s))?(ee=ci(d),d.m(),Vt("handleUnauthorizedUser",s,ee,w,$t.Z.auth.EmailAuthProvider.PROVIDER_ID)):d.a(ee);break;default:Ca(Le="setAccountInfo: "+d7(Le),void 0),d.a(ee)}}}))}else d.l().focus()}else d.i().focus()}(s,ee)},D?void 0:function B(){ee.m(),Vr(s,d)},m,w,Gi(tt(s)),Wi(tt(s)),x);ee.render(d),Ln(s,ee)},p(cw,Qe),cw.prototype.v=function(){var s=this;this.U(this.jb),sl(this.i,"tick",this.w,!1,this),this.i.start(),gi(this,Xn(this,"firebaseui-id-change-phone-number-link"),function(){s.P()}),gi(this,this.Da(),function(){s.M()}),this.Ja(this.l),this.ea(this.l,this.H),this.u().focus(),Qe.prototype.v.call(this)},cw.prototype.o=function(){this.M=this.H=this.l=this.P=null,qM(this.i),Km(this.i,"tick",this.w),this.i=null,Qe.prototype.o.call(this)},cw.prototype.w=function(){--this.B,0<this.B?this.U(this.B):(qM(this.i),Km(this.i,"tick",this.w),this.ua(),this.lb())},Rn(cw.prototype,{u:yB,pa:Tz,Ja:function(s){var d=yB.call(this),m=Tz.call(this);X0(this,d,function(){ew(m)&&(Ri(d,!0),Ta(m))}),s&&ED(this,d,function(){s()})},ba:function(){var s=Co(Ss(yB.call(this))||"");return/^\d{6}$/.test(s)?s:null},Fb:Sz,U:function(s){oV(Sz.call(this),or("Resend code in "+(9<s?"0:":"0:0")+s).toString())},ua:function(){Ta(this.Fb())},Da:function(){return Xn(this,"firebaseui-id-resend-link")},lb:function(){As(this.Da())},Nb:hs,Mb:is,ea:xs}),gr.phoneSignInFinish=function(s,d,m,w,D,x){var B=new cw(function(){B.m(),Vt("phoneSignInStart",s,d,m)},function(){!function Cue(s,d,m,w){function D(B){d.u().focus(),Ri(d.u(),!1),As(d.pa(),B)}var x=d.ba();x?(d.$("mdl-spinner mdl-spinner--single-color mdl-js-spinner is-active firebaseui-progress-dialog-loading-icon",or("Verifying...").toString()),Nn(s,d.I(tn(w.confirm,w),[x],function(B){d.h(),d.$("firebaseui-icon-done",or("Verified!").toString());var ee=setTimeout(function(){d.h(),d.m();var Le={user:al(s).currentUser,credential:null,operationType:B.operationType,additionalUserInfo:B.additionalUserInfo};Zd(s,d,Le,!0)},1e3);Nn(s,function(){d&&d.h(),clearTimeout(ee)})},function(B){if(B.name&&"cancel"==B.name)d.h();else{var ee=CD(B);switch(B=Tr(ee),ee.code){case"auth/credential-already-in-use":d.h();break;case"auth/code-expired":ee=ci(d),d.h(),d.m(),Vt("phoneSignInStart",s,ee,m,B);break;case"auth/missing-verification-code":case"auth/invalid-verification-code":d.h(),D(B);break;default:d.h(),d.a(B)}}}))):D(or("Wrong code. Try again.").toString())}(s,B,m,D)},function(){B.m(),Vr(s,d)},function(){B.m(),Vt("phoneSignInStart",s,d,m)},ZV(m),w,Gi(tt(s)),Wi(tt(s)));B.render(d),Ln(s,B),x&&B.a(x)};var Due=!(xi||zn("Safari")&&!(V8()||zn("Coast")||zn("Opera")||zn("Edge")||zn("Firefox")||zn("FxiOS")||zn("Silk")||zn("Android")));function lR(s,d){return/-[a-z]/.test(d)?null:Due&&s.dataset?!zn("Android")||V8()||zn("Firefox")||zn("FxiOS")||zn("Opera")||zn("Silk")||d in s.dataset?void 0===(s=s.dataset[d])?null:s:null:s.getAttribute("data-"+String(d).replace(/([A-Z])/g,"-$1").toLowerCase())}function Tue(s,d,m){var w=this;s=QC(d9,{items:s},null,this.s),f9.call(this,s,!0,!0),m&&(m=function Sue(s,d){s=(s||document).getElementsByTagName("BUTTON");for(var m=0;m<s.length;m++)if(lR(s[m],"listboxid")===d)return s[m];return null}(s,m))&&(m.focus(),function eue(s,d){var m=(d=d||lM(document))||lM(document),w=n9(s),D=n9(m);if(!xi||9<=Number(ZC)){B=ZM(m,"borderLeftWidth");var x=ZM(m,"borderRightWidth");ee=ZM(m,"borderTopWidth"),Le=ZM(m,"borderBottomWidth"),x=new J0(parseFloat(ee),parseFloat(x),parseFloat(Le),parseFloat(B))}else{var B=KM(m,"borderLeft");x=KM(m,"borderRight");var ee=KM(m,"borderTop"),Le=KM(m,"borderBottom");x=new J0(ee,x,Le,B)}m==lM(document)?(B=w.a-m.scrollLeft,w=w.g-m.scrollTop,!xi||10<=Number(ZC)||(B+=x.left,w+=x.top)):(B=w.a-D.a-x.left,w=w.g-D.g-x.top),D=s.offsetWidth,x=s.offsetHeight,ee=Do&&!D&&!x,s=P(D)&&!ee||!s.getBoundingClientRect?new rV(D,x):new rV((s=t9(s)).right-s.left,s.bottom-s.top),D=m.clientHeight-s.height,x=m.scrollLeft,ee=m.scrollTop,m=new cp(x+=Math.min(B,Math.max(B-(m.clientWidth-s.width),0)),ee+=Math.min(w,Math.max(w-D,0))),d.scrollLeft=m.a,d.scrollTop=m.g}(m,s)),gi(this,s,function(D){(D=(D=eW(D.target,"firebaseui-id-list-box-dialog-button"))&&lR(D,"listboxid"))&&(QM.call(w),d(D))})}function r_(){return Xn(this,"firebaseui-id-phone-number")}function Az(){return Xn(this,"firebaseui-id-country-selector")}function vB(){return Xn(this,"firebaseui-id-phone-number-error")}function Aue(s,d){var D,m=s.a,w=wB("1-US-0",m);if(!(D=d&&wB(d,m)?d:w?"1-US-0":0<m.length?m[0].c:null))throw Error("No available default country");cR.call(this,D,s)}function wB(s,d){return!(!(s=e_(s))||!Hs(d,s))}function EB(s){return"firebaseui-flag-"+s.f}function Nue(s){var d=this;Tue.call(this,function xue(s){return s.map(function(d){return{id:d.c,Ma:"firebaseui-flag "+EB(d),label:d.name+" \u200e+"+d.b}})}(s.a),function(m){cR.call(d,m,s,!0),d.O().focus()},this.Ba)}function cR(s,d,m){var w=e_(s);w&&(m&&(d=jM(d,m=Co(Ss(r_.call(this))||""))).length&&d[0].b!=w.b&&(m="+"+w.b+m.substr(d[0].b.length+1),j7(r_.call(this),m)),d=e_(this.Ba),this.Ba=s,s=Xn(this,"firebaseui-id-country-selector-flag"),d&&yc(s,EB(d)),_c(s,EB(w)),oV(Xn(this,"firebaseui-id-country-selector-code"),"\u200e+"+w.b))}function BD(s,d,m,w,D,x,B,ee,Le,ct){Qe.call(this,Q9,{Gb:d,Aa:Le||null,Va:!!m,ia:!!x},ct,"phoneSignInStart",{F:w,D}),this.H=ee||null,this.M=d,this.l=s,this.w=m||null,this.pa=B||null}function xz(s,d,m,w){try{var D=d.U(nB)}catch{return}D?gD?(d.$("mdl-spinner mdl-spinner--single-color mdl-js-spinner is-active firebaseui-progress-dialog-loading-icon",or("Verifying...").toString()),Nn(s,d.I(tn(s.cc,s),[ZV(D),m],function(x){var B=ci(d);d.$("firebaseui-icon-done",or("Code sent!").toString());var ee=setTimeout(function(){d.h(),d.m(),Vt("phoneSignInFinish",s,B,D,15,x)},1e3);Nn(s,function(){d&&d.h(),clearTimeout(ee)})},function(x){if(d.h(),!x.name||"cancel"!=x.name){grecaptcha.reset(V7),gD=null;var B=x&&x.message||"";if(x.code)switch(x.code){case"auth/too-many-requests":B=or("This phone number has been used too many times").toString();break;case"auth/invalid-phone-number":case"auth/missing-phone-number":return d.O().focus(),void As(d.B(),cV().toString());case"auth/admin-restricted-operation":if(t_(tt(s)))return x=ci(d),d.m(),void Vt("handleUnauthorizedUser",s,x,ZV(D),$t.Z.auth.PhoneAuthProvider.PROVIDER_ID);B=Tr(x);break;default:B=Tr(x)}d.a(B)}}))):q0?As(d.u(),or("Solve the reCAPTCHA").toString()):!q0&&w&&d.i().click():(d.O().focus(),As(d.B(),cV().toString()))}function jD(s,d,m,w,D){Qe.call(this,Y9,{Sb:d},D,"providerSignIn",{F:m,D:w}),this.i=s}function $D(s,d,m,w,D,x,B){Qe.call(this,_9,{email:m,Va:!!d,ia:!!x},B,"signIn",{F:w,D}),this.i=s,this.u=d}function HD(s,d,m,w,D,x,B){Qe.call(this,O9,{kc:s,yb:m,Eb:!!w},B,"unauthorizedUser",{F:D,D:x}),this.l=d,this.i=w}function GD(s,d,m,w,D,x){Qe.call(this,P9,{email:s},x,"unsupportedProvider",{F:w,D}),this.l=d,this.i=m}function vc(s,d){this.$=!1;var m=bB(d);if(WD[m])throw Error('An AuthUI instance already exists for the key "'+m+'"');WD[m]=this,this.a=s,this.u=null,this.Y=!1,Nz(this.a),this.h=$t.Z.initializeApp({apiKey:s.app.options.apiKey,authDomain:s.app.options.authDomain},s.app.name+"-firebaseui-temp").auth(),(s=s.emulatorConfig)&&this.h.useEmulator(s.protocol+"://"+s.host+(null===(m=s.port)?"":":"+m),s.options),Nz(this.h),this.h.setPersistence&&this.h.setPersistence($t.Z.auth.Auth.Persistence.SESSION),this.oa=d,this.ca=new Vae,this.g=this.T=this.i=this.J=this.O=null,this.s=[],this.Z=!1,this.l=SV.Xa(),this.j=this.C=null,this.da=this.A=!1}function Nz(s){s&&s.INTERNAL&&s.INTERNAL.logFramework&&s.INTERNAL.logFramework("FirebaseUI-web")}p(BD,Qe),BD.prototype.v=function(){this.ea(this.pa,this.H),this.P(this.l,this.w||void 0),this.M||bD(this,this.O(),this.i()),rw(this,this.i(),this.l),this.O().focus(),aR(this.O(),(this.O().value||"").length),Qe.prototype.v.call(this)},BD.prototype.o=function(){this.w=this.l=null,Qe.prototype.o.call(this)},Rn(BD.prototype,{Cb:cB,O:r_,B:vB,ea:function(s,d,m){var w=this,D=r_.call(this),x=Az.call(this),B=vB.call(this),ee=s||hD,Le=ee.a;if(0==Le.length)throw Error("No available countries provided.");Aue.call(w,ee,d),gi(this,x,function(){Nue.call(w,ee)}),X0(this,D,function(){ew(B)&&(Ri(D,!0),Ta(B));var ct=Co(Ss(D)||""),Gt=e_(this.Ba),vr=jM(ee,ct);ct=wB("1-US-0",Le),vr.length&&vr[0].b!=Gt.b&&cR.call(w,"1"==(Gt=vr[0]).b&&ct?"1-US-0":Gt.c,ee)}),m&&ED(this,D,function(){m()})},U:function(s){var d=Co(Ss(r_.call(this))||""),m=(s=s||hD).a,w=jM(hD,d);if(w.length&&!Hs(m,w[0]))throw j7(r_.call(this)),r_.call(this).focus(),As(vB.call(this),or("The country code provided is not supported.").toString()),Error("The country code provided is not supported.");return m=e_(this.Ba),w.length&&w[0].b!=m.b&&cR.call(this,w[0].c,s),w.length&&(d=d.substr(w[0].b.length+1)),d?new D7(this.Ba,d):null},Ja:Az,ba:function(){return Xn(this,"firebaseui-recaptcha-container")},u:function(){return Xn(this,"firebaseui-id-recaptcha-error")},i:hs,ua:is,P:xs}),gr.phoneSignInStart=function(s,d,m,w){var D=function Bae(s){var d=null;if(HM(s).forEach(function(w){w.provider==$t.Z.auth.PhoneAuthProvider.PROVIDER_ID&&yt(w.recaptchaParameters)&&!Array.isArray(w.recaptchaParameters)&&(d=T0(w.recaptchaParameters))}),d){var m=[];Yae.forEach(function(w){typeof d[w]<"u"&&(m.push(w),delete d[w])}),m.length&&gp('The following provided "recaptchaParameters" keys are not allowed: '+m.join(", "))}return d}(tt(s))||{};gD=null,q0=!(D&&"invisible"===D.size);var x=mz(s),B=function zae(s){var d=(s=Da(s,$t.Z.auth.PhoneAuthProvider.PROVIDER_ID))&&s.defaultCountry||null;d=d&&b7(d);var m=null;return s&&"string"==typeof s.loginHint&&(m=T7(s.loginHint)),d&&d[0]||m&&e_(m.a)||null}(tt(s)),ee=x?function Wae(s){var d=null;return(s=Da(s,$t.Z.auth.PhoneAuthProvider.PROVIDER_ID))&&"string"==typeof s.loginHint&&(d=T7(s.loginHint)),s&&s.defaultNationalNumber||d&&d.Aa||null}(tt(s)):null;B=m&&m.a||B&&B.c||null,m=m&&m.Aa||ee,(ee=KV(tt(s)))&&C7(ee),nB=ee?new E7(KV(tt(s))):hD;var Le=new BD(function(Gt){xz(s,Le,ct,!(!Gt||!Gt.keyCode))},q0,x?null:function(){ct.clear(),Le.m(),Vr(s,d)},Gi(tt(s)),Wi(tt(s)),x,nB,B,m);Le.render(d),Ln(s,Le),w&&Le.a(w),D.callback=function(Gt){Le.u()&&Ta(Le.u()),gD=Gt,q0||xz(s,Le,ct)},D["expired-callback"]=function(){gD=null};var ct=new $t.Z.auth.RecaptchaVerifier(q0?Le.ba():Le.i(),D,al(s).app);Nn(s,Le.I(tn(ct.render,ct),[],function(Gt){V7=Gt},function(Gt){Gt.name&&"cancel"==Gt.name||(Gt=Tr(Gt),Le.m(),Vr(s,d,void 0,Gt))}))},gr.prefilledEmailSignIn=function(s,d,m){var w=new uR;w.render(d),Ln(s,w),Nn(s,w.I(tn(qn(s).fetchSignInMethodsForEmail,qn(s)),[m],function(D){w.m();var x=!(!nR(s)||!Rz(s));yz(s,d,D,m,void 0,x)},function(D){D=Tr(D),w.m(),Vt("signIn",s,d,m,D)}))},p(jD,Qe),jD.prototype.v=function(){this.l(this.i),Qe.prototype.v.call(this)},jD.prototype.o=function(){this.i=null,Qe.prototype.o.call(this)},Rn(jD.prototype,{l:function(s){function d(B){s(B)}for(var m=this.g?iV("firebaseui-id-idp-button",this.g||this.s.a):[],w=0;w<m.length;w++){var D=m[w];gi(this,D,ds(d,lR(D,"providerId")))}}}),gr.providerSignIn=function(s,d,m,w){var D=new jD(function(x){x==$t.Z.auth.EmailAuthProvider.PROVIDER_ID?(D.m(),fB(s,d,w)):x==$t.Z.auth.PhoneAuthProvider.PROVIDER_ID?(D.m(),Vt("phoneSignInStart",s,d)):"anonymous"==x?function uue(s,d){Nn(s,d.I(tn(s.$b,s),[],function(m){return d.m(),Zd(s,d,m,!0)},function(m){m.name&&"cancel"==m.name||(Ca("ContinueAsGuest: "+m.code,void 0),m=Tr(m),d.a(m))}))}(s,D):DD(s,D,x,w),er(s),s.l.cancel()},x7(tt(s)),Gi(tt(s)),Wi(tt(s)));D.render(d),Ln(s,D),m&&D.a(m),function kue(s){er(s);try{jW(s.l,N7(tt(s)),function Mue(s){var d;return er(s),(d=s.Z)||(d=!(!(s=k7(s=tt(s),$t.Z.auth.GoogleAuthProvider.PROVIDER_ID))||"select_account"!==s.prompt)),d}(s)).then(function(d){return!!s.g&&function lue(s,d,m){if(m&&m.credential&&m.clientId===N7(tt(s))){if(R7(tt(s),$t.Z.auth.GoogleAuthProvider.PROVIDER_ID).length){try{var D=JSON.parse(atob(m.credential.split(".")[1])).email}catch{}return DD(s,d,$t.Z.auth.GoogleAuthProvider.PROVIDER_ID,D),Mi(!0)}return function w(x){var B=!1;return x=d.I(tn(s.ac,s),[x],function(ee){var Le=ci(d);d.m(),Vt("callback",s,Le,Mi(ee)),B=!0},function(ee){if(!(ee.name&&"cancel"==ee.name||ee&&"auth/credential-already-in-use"==ee.code))if(ee&&"auth/email-already-in-use"==ee.code&&ee.email&&ee.credential){var Le=ci(d);d.m(),Vt("callback",s,Le,k0(ee))}else ee&&"auth/admin-restricted-operation"==ee.code&&t_(tt(s))?(ee=ci(d),d.m(),Vt("handleUnauthorizedUser",s,ee,null,$t.Z.auth.GoogleAuthProvider.PROVIDER_ID)):(ee=Tr(ee),d.a(ee))}),Nn(s,x),x.then(function(){return B},function(){return!1})}($t.Z.auth.GoogleAuthProvider.credential(m.credential))}return m&&d.a(or("The selected credential for the authentication provider is not supported!").toString()),Mi(!1)}(s,s.g,d)})}catch{}}(s)},gr.sendEmailLinkForSignIn=function(s,d,m,w){var D=new rR;D.render(d),Ln(s,D),hB(s,D,m,w,function(x){D.m(),x&&"auth/admin-restricted-operation"==x.code&&t_(tt(s))?Vt("handleUnauthorizedUser",s,d,m,$t.Z.auth.EmailAuthProvider.PROVIDER_ID):(x=Tr(x),Vt("signIn",s,d,m,x))})},p($D,Qe),$D.prototype.v=function(){this.w(this.i),this.B(this.i,this.u||void 0),this.l().focus(),aR(this.l(),(this.l().value||"").length),Qe.prototype.v.call(this)},$D.prototype.o=function(){this.u=this.i=null,Qe.prototype.o.call(this)},Rn($D.prototype,{l:qd,M:_p,w:sw,H:ow,j:aw,U:hs,P:is,B:xs}),gr.signIn=function(s,d,m,w){var D=nR(s),x=new $D(function(){var B=x,ee=B.j()||"";ee&&_z(s,B,ee)},D?null:function(){x.m(),Vr(s,d,m)},m,Gi(tt(s)),Wi(tt(s)),D);x.render(d),Ln(s,x),w&&x.a(w)},p(HD,Qe),HD.prototype.v=function(){var s=this,d=Xn(this,"firebaseui-id-unauthorized-user-help-link");this.i&&d&&gi(this,d,function(){s.i()}),gi(this,this.u(),function(){s.l()}),this.u().focus(),Qe.prototype.v.call(this)},HD.prototype.o=function(){this.i=this.l=null,Qe.prototype.o.call(this)},Rn(HD.prototype,{u:is}),gr.handleUnauthorizedUser=function(s,d,m,w){function D(){Vr(s,d)}w===$t.Z.auth.EmailAuthProvider.PROVIDER_ID?D=function(){fB(s,d)}:w===$t.Z.auth.PhoneAuthProvider.PROVIDER_ID&&(D=function(){Vt("phoneSignInStart",s,d)});var x=null,B=null;w===$t.Z.auth.EmailAuthProvider.PROVIDER_ID&&M7(tt(s))?(x=function Hae(s){return(s=Da(s,$t.Z.auth.EmailAuthProvider.PROVIDER_ID))&&s.disableSignUp&&s.disableSignUp.adminEmail||null}(tt(s)),B=function Gae(s){if((s=Da(s,$t.Z.auth.EmailAuthProvider.PROVIDER_ID))&&s.disableSignUp){var d=s.disableSignUp.helpLink||null;if(d&&"string"==typeof d)return function(){P0(d)}}return null}(tt(s))):t_(tt(s))&&(x=function jae(s){return(s=s.a.get("adminRestrictedOperation"))&&s.adminEmail?s.adminEmail:null}(tt(s)),B=function $ae(s){if(s=s.a.get("adminRestrictedOperation")||null){var d=s.helpLink||null;if(d&&"string"==typeof d)return function(){P0(d)}}return null}(tt(s)));var ee=new HD(m,function(){ee.m(),D()},x,B,Gi(tt(s)),Wi(tt(s)));ee.render(d),Ln(s,ee)},p(GD,Qe),GD.prototype.v=function(){this.w(this.l,this.i),this.u().focus(),Qe.prototype.v.call(this)},GD.prototype.o=function(){this.i=this.l=null,Qe.prototype.o.call(this)},Rn(GD.prototype,{u:hs,B:is,w:xs}),gr.unsupportedProvider=function(s,d,m){var w=new GD(m,function(){w.m(),Vt("passwordRecovery",s,d,m)},function(){w.m(),Vr(s,d,m)},Gi(tt(s)),Wi(tt(s)));w.render(d),Ln(s,w)};var WD={};function bB(s){return s||"[DEFAULT]"}function Mz(s){return er(s),s.i||(s.i=Kd(s,function(d){return d&&!gc(cn(s))?Mi(al(s).getRedirectResult().then(function(m){return m},function(m){if(m&&"auth/email-already-in-use"==m.code&&m.email&&m.credential)throw m;return vp(s,m)})):Mi(qn(s).getRedirectResult().then(function(m){return $M(tt(s))&&!m.user&&s.j&&!s.j.isAnonymous?al(s).getRedirectResult():m}))})),s.i}function Ln(s,d){er(s),s.g=d}var dw=null;function qn(s){return er(s),s.h}function al(s){return er(s),s.a}function cn(s){return er(s),s.oa}function Rz(s){return er(s),s.O?s.O.emailHint:void 0}function kz(s){return"signIn"===((s=new Hm(s)).a.a.get(ts.ub)||null)&&!!s.a.a.get(ts.$a)}function Oz(s,d,m,w){er(s),typeof s.a.languageCode<"u"&&(s.u=s.a.languageCode);var D="en".replace(/_/g,"-");s.a.languageCode=D,s.h.languageCode=D,s.Y=!0,typeof s.a.tenantId<"u"&&(s.h.tenantId=s.a.tenantId),s.ib(m),s.O=w||null;var x=M.document;s.C?s.C.then(function(){"complete"==x.readyState?dR(s,d):nD(window,"load",function(){dR(s,d)})}):"complete"==x.readyState?dR(s,d):nD(window,"load",function(){dR(s,d)})}function dR(s,d){var m=wM(d,"Could not find the FirebaseUI widget element on the page.");if(m.setAttribute("lang","en".replace(/_/g,"-")),dw){var w=dw;er(w),gc(cn(w))&&gp("UI Widget is already rendered on the page and is pending some user interaction. Only one widget instance can be rendered per page. The previous instance has been automatically reset."),dw.reset()}if(dw=s,s.T=m,function Rue(s,d){s.L=null,s.J=new yM(d),s.J.register(),sl(s.J,"pageEnter",function(m){if(s.L!=(m=m&&m.pageId)){var w=tt(s);(w=pD(w).uiChanged||null)&&w(s.L,m),s.L=m}})}(s,m),BM(new VV)&&BM(new BV)){d=wM(d,"Could not find the FirebaseUI widget element on the page."),m=(m=iM(m=zd(),w=zV(tt(s).a,"queryParameterForSignInSuccessUrl")))?up(oM(m)).toString():null;e:{w=zd();var D=O7(tt(s));for(x in w=iM(w,D)||"",tB)if(tB[x].toLowerCase()==w.toLowerCase()){var x=tB[x];break e}x="callback"}switch(x){case"callback":m&&(x=cn(s),H0(cD,m,x)),s.nb()?Vt("callback",s,d):Vr(s,d,Rz(s));break;case"resetPassword":Vt("passwordReset",s,d,TD(),pB());break;case"recoverEmail":Vt("emailChangeRevocation",s,d,TD());break;case"revertSecondFactorAddition":Vt("revertSecondFactorAddition",s,d,TD());break;case"verifyEmail":Vt("emailVerification",s,d,TD(),pB());break;case"verifyAndChangeEmail":Vt("verifyAndChangeEmail",s,d,TD(),pB());break;case"signIn":Vt("emailLinkSignInCallback",s,d,zd()),Uz();break;case"select":m&&(x=cn(s),H0(cD,m,x)),Vr(s,d);break;default:throw Error("Unhandled widget operation.")}(d=pD(d=tt(s)).uiShown||null)&&d()}else d=wM(d,"Could not find the FirebaseUI widget element on the page."),(x=new pz(or("The browser you are using does not support Web Storage. Please try again in a different browser.").toString())).render(d),Ln(s,x);d=s.g&&"blank"==s.g.Ga&&YV(tt(s)),HV(cn(s))&&!d&&(Fz(s,(d=HV(cn(s))).a),Ko(Xm,cn(s)))}function Kd(s,d){if(s.A)return d(Pz(s));if(Nn(s,function(){s.A=!1}),$M(tt(s))){var m=new rs(function(w){Nn(s,s.a.onAuthStateChanged(function(D){s.j=D,s.A||(s.A=!0,w(d(Pz(s))))}))});return Nn(s,m),m}return s.A=!0,d(null)}function Pz(s){return er(s),$M(tt(s))&&s.j&&s.j.isAnonymous?s.j:null}function Nn(s,d){if(er(s),d){s.s.push(d);var m=function(){!function jC(s,d){!function I0(s,d){for(var m=$(s)?s.split(""):s,w=s.length-1;0<=w;--w)w in m&&d.call(void 0,m[w],w,s)}(s,function(w,D){d.call(void 0,w,D,s)&&rp(s,D)})}(s.s,function(w){return w==d})};"function"!=typeof d&&d.then(m,m)}}function Lz(s){typeof s.a.languageCode<"u"&&s.Y&&(s.Y=!1,s.a.languageCode=s.u)}function Fz(s,d){s.a.tenantId=d,s.h.tenantId=d}function tt(s){return er(s),s.ca}function er(s){if(s.$)throw Error("AuthUI instance is deleted!")}function Uz(){var s=zd();if(kz(s)){for(var d in s=new Hm(s),ts)ts.hasOwnProperty(d)&&$m(s.a.a,ts[d]);d={state:"signIn",mode:"emailLink",operation:"clear"},M.history&&M.history.replaceState&&M.history.replaceState(d,M.document.title,s.toString())}}function yp(s){return er(s),qn(s).signOut()}function vp(s,d,m){if(er(s),d&&d.code&&("auth/email-already-in-use"==d.code||"auth/credential-already-in-use"==d.code)){var w=U7(tt(s));return Mi().then(function(){return w(new JC("anonymous-upgrade-merge-conflict",null,m||d.credential))}).then(function(){throw s.g&&(s.g.m(),s.g=null),d})}return k0(d)}function zD(s,d,m,w){Qe.call(this,tz,void 0,w,"providerMatchByEmail",{F:d,D:m}),this.i=s}function hR(s,d,m,w,D){Qe.call(this,ez,{ec:d},D,"selectTenant",{F:m,D:w}),this.i=s}function IB(s){Qe.call(this,I9,void 0,s,"spinner")}function Bue(s){for(var d in this.a=new GV,Hi(this.a,"authDomain"),Hi(this.a,"displayMode",pR),Hi(this.a,"tenants"),Hi(this.a,"callbacks"),Hi(this.a,"tosUrl"),Hi(this.a,"privacyPolicyUrl"),s)if(s.hasOwnProperty(d))try{WV(this.a,d,s[d])}catch{Ca('Invalid config: "'+d+'"',void 0)}}function fR(s){return s.a.get("callbacks")||{}}function Vz(s){var d=s.a.get("tosUrl")||null;if(s=s.a.get("privacyPolicyUrl")||null,d&&!s&&gp("Privacy Policy URL is missing, the link will not be displayed."),d&&s){if("function"==typeof d)return d;if("string"==typeof d)return function(){P0(d)}}return null}function Bz(s){var d=s.a.get("tosUrl")||null,m=s.a.get("privacyPolicyUrl")||null;if(m&&!d&&gp("Terms of Service URL is missing, the link will not be displayed."),d&&m){if("function"==typeof m)return m;if("string"==typeof m)return function(){P0(m)}}return null}function CB(s,d){if(!(s=s.a.get("tenants"))||!s.hasOwnProperty(d)&&!s.hasOwnProperty(gR))throw Error("Invalid tenant configuration!")}function jz(s,d,m){if(!(s=s.a.get("tenants")))throw Error("Invalid tenant configuration!");var w=[];if(!(s=s[d]||s[gR]))return Ca("Invalid tenant configuration: "+d+" is not configured!",void 0),w;if(!(d=s.signInOptions))throw Error("Invalid tenant configuration: signInOptions are invalid!");return d.forEach(function(D){if("string"==typeof D)w.push(D);else if("string"==typeof D.provider){var x=D.hd;x&&m?(x instanceof RegExp?x:new RegExp("@"+x.replace(".","\\.")+"$")).test(m)&&w.push(D.provider):w.push(D.provider)}else Ca(D="Invalid tenant configuration: signInOption "+JSON.stringify(D)+" is invalid!",void 0)}),w}(n=vc.prototype).nb=function(){return er(this),!!HV(cn(this))||kz(zd())},n.start=function(s,d){Oz(this,s,d)},n.Db=function(){er(this),this.Z=!0},n.reset=function(){er(this);var s=this;this.T&&this.T.removeAttribute("lang"),this.J&&function dae(s){var d=yV(s.N());Ia[d]&&Ia[d].length&&(function GU(s,d){e:{for(var m=s.length,w=$(s)?s.split(""):s,D=0;D<m;D++)if(D in w&&d.call(void 0,w[D],D,s)){d=D;break e}d=-1}0<=d&&rp(s,d)}(Ia[d],function(m){return m==s}),Ia[d].length||delete Ia[d])}(this.J),Lz(this),this.O=null,Uz(),Ko(Xm,cn(this)),er(this),this.l.cancel(),this.i=Mi({user:null,credential:null}),dw==this&&(dw=null),this.T=null;for(var d=0;d<this.s.length;d++)"function"==typeof this.s[d]?this.s[d]():this.s[d].cancel&&this.s[d].cancel();this.s=[],mc(cn(this)),this.g&&(this.g.m(),this.g=null),this.L=null,this.h&&(this.C=yp(this).then(function(){s.C=null},function(){s.C=null}))},n.ib=function(s){er(this);var m,d=this.ca;for(m in s)try{WV(d.a,m,s[m])}catch{Ca('Invalid config: "'+m+'"',void 0)}koe&&WV(d.a,"popupMode",!1),KV(d),!this.da&&QV(tt(this))&&(gp("signInSuccess callback is deprecated. Please use signInSuccessWithAuthResult callback instead."),this.da=!0)},n.Wb=function(){er(this);var s=tt(this),d=zV(s.a,"widgetUrl");s=O7(s);for(var D,m=d.search(M8),w=0,x=[];0<=(D=N8(d,w,s,m));)x.push(d.substring(w,D)),w=Math.min(d.indexOf("&",D)+1||m,m);x.push(d.substr(w)),d=x.join("").replace(boe,"$1"),(s+=m="="+encodeURIComponent("select"))?(0>(m=d.indexOf("#"))&&(m=d.length),0>(w=d.indexOf("?"))||w>m?(w=m,D=""):D=d.substring(w+1,m),m=(d=[d.substr(0,w),D,d.substr(m)])[1],d[1]=s?m?m+"&"+s:s:m,m=d[0]+(d[1]?"?"+d[1]:"")+d[2]):m=d,tt(this).a.get("popupMode")?(m=m||"about:blank",(s={width:500,height:600,top:0<(s=(window.screen.availHeight-600)/2)?s:0,left:0<(d=(window.screen.availWidth-500)/2)?d:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1}).target=s.target||m.target||"google_popup",s.width=s.width||690,s.height=s.height||500,(s=PW(m,s))&&s.focus()):R0(window.location,m)},n.Wa=function(){var s=this;return er(this),this.h.app.delete().then(function(){var d=bB(cn(s));delete WD[d],s.reset(),s.$=!0})},n.Ib=function(s,d){er(this);var m=this,w=function yae(){for(var s=32,d=[];0<s;)d.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),s--;return d.join("")}();if(!z0(tt(this)))return k0(Error("Email link sign-in should be enabled to trigger email sending."));var D=function Zae(s){if(z0(s)){var d={url:zd(),handleCodeInApp:!0};(s=Da(s,$t.Z.auth.EmailAuthProvider.PROVIDER_ID))&&"function"==typeof s.emailLinkSignIn&&Vm(d,s.emailLinkSignIn()),s=d.url;var m=zd();m instanceof ip||(m=QU(m)),s instanceof ip||(s=QU(s));var w=m;m=new ip(w);var D=!!s.j;D?ZU(m,s.j):D=!!s.A,D?m.A=s.A:D=!!s.h,D?m.h=s.h:D=null!=s.C;var x=s.g;if(D)KU(m,s.C);else if(D=!!s.g)if("/"!=x.charAt(0)&&(w.h&&!w.g?x="/"+x:-1!=(w=m.g.lastIndexOf("/"))&&(x=m.g.substr(0,w+1)+x)),".."==x||"."==x)x="";else if(-1!=x.indexOf("./")||-1!=x.indexOf("/.")){w=0==x.lastIndexOf("/",0),x=x.split("/");for(var B=[],ee=0;ee<x.length;){var Le=x[ee++];"."==Le?w&&ee==x.length&&B.push(""):".."==Le?((1<B.length||1==B.length&&""!=B[0])&&B.pop(),w&&ee==x.length&&B.push("")):(B.push(Le),w=!0)}x=B.join("/")}return D?m.g=x:D=""!==s.a.toString(),D?YU(m,O8(s.a)):D=!!s.s,D&&(m.s=s.s),d.url=m.toString(),d}return null}(tt(this)),x=new Hm(D.url);return function xoe(s,d){d?s.a.a.set(ts.Sa,d):$m(s.a.a,ts.Sa)}(x,w),d&&d.a&&(function Uae(s,d,m){H0(dD,u7(s,JSON.stringify(JW(d))),m)}(w,d,cn(this)),L8(x,d.a.providerId)),function Noe(s,d){null!==d?s.a.a.set(ts.Qa,d?"1":"0"):$m(s.a.a,ts.Qa)}(x,function qae(s){return!(!(s=Da(s,$t.Z.auth.EmailAuthProvider.PROVIDER_ID))||!s.forceSameDevice)}(tt(this))),Kd(this,function(B){return B&&((B=B.uid)?x.a.a.set(ts.Pa,B):$m(x.a.a,ts.Pa)),D.url=x.toString(),qn(m).sendSignInLinkToEmail(s,D)}).then(function(){var B=cn(m),ee={};ee.email=s,H0(j0,u7(w,JSON.stringify(ee)),B)},function(B){throw Ko(dD,cn(m)),Ko(j0,cn(m)),B})},n.bc=function(s,d){er(this);var m=this;return qn(this).signInWithEmailAndPassword(s,d).then(function(w){return Kd(m,function(D){return D?yp(m).then(function(){return vp(m,{code:"auth/email-already-in-use"},$t.Z.auth.EmailAuthProvider.credential(s,d))}):w})})},n.Yb=function(s,d){er(this);var m=this;return Kd(this,function(w){if(w){var D=$t.Z.auth.EmailAuthProvider.credential(s,d);return w.linkWithCredential(D)}return qn(m).createUserWithEmailAndPassword(s,d)})},n.ac=function(s){er(this);var d=this;return Kd(this,function(m){return m?m.linkWithCredential(s).then(function(w){return w},function(w){if(w&&"auth/email-already-in-use"==w.code&&w.email&&w.credential)throw w;return vp(d,w,s)}):qn(d).signInWithCredential(s)})},n.dc=function(s){er(this);var d=this,m=this.i;return this.i=null,Kd(this,function(w){return w&&!gc(cn(d))?w.linkWithRedirect(s):qn(d).signInWithRedirect(s)}).then(function(){},function(w){throw d.i=m,w})},n.cc=function(s,d){er(this);var m=this;return Kd(this,function(w){return w?w.linkWithPhoneNumber(s,d).then(function(D){return new xV(D,function(x){if("auth/credential-already-in-use"==x.code)return vp(m,x);throw x})}):al(m).signInWithPhoneNumber(s,d).then(function(D){return new xV(D)})})},n.$b=function(){return er(this),al(this).signInAnonymously()},n.Xb=function(s,d){return er(this),qn(this).signInWithEmailAndPassword(s,d)},p(zD,Qe),zD.prototype.v=function(){this.u(this.i),this.w(this.i),this.l().focus(),aR(this.l(),(this.l().value||"").length),Qe.prototype.v.call(this)},zD.prototype.o=function(){this.i=null,Qe.prototype.o.call(this)},Rn(zD.prototype,{l:qd,H:_p,u:sw,B:ow,j:aw,M:hs,w:xs}),p(hR,Qe),hR.prototype.v=function(){(function Vue(s,d){function m(ee){d(ee)}for(var w=s.g?iV("firebaseui-id-tenant-selection-button",s.g||s.s.a):[],D=0;D<w.length;D++){var x=w[D];gi(s,x,ds(m,lR(x,"tenantId")))}})(this,this.i),Qe.prototype.v.call(this)},hR.prototype.o=function(){this.i=null,Qe.prototype.o.call(this)},p(IB,Qe);var Gue=["immediateFederatedRedirect","privacyPolicyUrl","signInFlow","signInOptions","tosUrl"],pR="optionFirst",DB={pc:pR,oc:"identifierFirst"},gR="*";function ul(s,d){var m=this;this.s=wM(s),this.a={},Object.keys(d).forEach(function(w){m.a[w]=new Bue(d[w])}),this.ob=this.g=this.A=this.h=this.i=this.j=null,Object.defineProperty(this,"languageCode",{get:function(){return this.ob},set:function(w){this.ob=w||null},enumerable:!1})}function wp(s){s.j&&s.j.reset(),s.mb(),s.g&&s.g.m()}(n=ul.prototype).Ub=function(s,d){var m=this;wp(this);var w=s.apiKey;return new rs(function(D,x){if(m.a.hasOwnProperty(w)){var B=fR(m.a[w]).selectTenantUiHidden||null;if(function jue(s){for(var d in s=s.a.get("displayMode"),DB)if(DB[d]===s)return DB[d];return pR}(m.a[w])===pR){var ee=[];d.forEach(function(Gt){Gt=Gt||"_";var vr=m.a[w].a.get("tenants");if(!vr)throw Error("Invalid tenant configuration!");(vr=vr[Gt]||vr[gR])?Gt={tenantId:"_"!==Gt?Gt:null,V:vr.fullLabel||null,displayName:vr.displayName,za:vr.iconUrl,ta:vr.buttonColor}:(Ca("Invalid tenant configuration: "+Gt+" is not configured!",void 0),Gt=null),Gt&&ee.push(Gt)});var Le=function(Gt){Gt={tenantId:Gt,providerIds:jz(m.a[w],Gt||"_")},D(Gt)};if(1===ee.length)return void Le(ee[0].tenantId);m.g=new hR(function(Gt){wp(m),B&&B(),Le(Gt)},ee,Vz(m.a[w]),Bz(m.a[w]))}else m.g=new zD(function(){var Gt=m.g.j();if(Gt){for(var vr=0;vr<d.length;vr++){var ll=jz(m.a[w],d[vr]||"_",Gt);if(0!==ll.length)return Gt={tenantId:d[vr],providerIds:ll,email:Gt},wp(m),B&&B(),void D(Gt)}m.g.a(uW({code:"no-matching-tenant-for-email"}).toString())}},Vz(m.a[w]),Bz(m.a[w]));m.g.render(m.s),(x=fR(m.a[w]).selectTenantUiShown||null)&&x()}else{var ct=Error("Invalid project configuration: API key is invalid!");ct.code="invalid-configuration",m.pb(ct),x(ct)}})},n.Pb=function(s,d){if(!this.a.hasOwnProperty(s))throw Error("Invalid project configuration: API key is invalid!");var m=d||void 0;CB(this.a[s],d||"_");try{this.i=$t.Z.app(m).auth()}catch{var w=this.a[s].a.get("authDomain");if(!w)throw Error("Invalid project configuration: authDomain is required!");(s=$t.Z.initializeApp({apiKey:s,authDomain:w},m)).auth().tenantId=d,this.i=s.auth()}return this.i},n.Zb=function(s,d){var m=this;return new rs(function(w,D){function x(vr,ll){m.j=new vc(s),Oz(m.j,m.s,vr,ll)}var B=s.app.options.apiKey;m.a.hasOwnProperty(B)||D(Error("Invalid project configuration: API key is invalid!"));var ee=function $ue(s,d,m){return s=function Hue(s,d){var m=Gue,w=void 0===w?{}:w;return CB(s,d),function vae(s,d,m){return m=void 0===m?{}:m,Object.keys(s).filter(function(w){return d.includes(w)}).reduce(function(w,D){return w[D]=s[D],w},m)}((s=s.a.get("tenants"))[d]||s[gR],m,w)}(s,d),(d=s.signInOptions)&&m&&(d=d.filter(function(w){return m.includes("string"==typeof w?w:w.provider)}),s.signInOptions=d),s}(m.a[B],s.tenantId||"_",d&&d.providerIds);wp(m),D={signInSuccessWithAuthResult:function(vr){return w(vr),!1}};var Gt,Le=fR(m.a[B]).signInUiShown||null,ct=!1;D.uiChanged=function(vr,ll){null===vr&&"callback"===ll?((vr=sV("firebaseui-id-page-callback",m.s))&&Ta(vr),m.h=new IB,m.h.render(m.s)):ct||null===vr&&"spinner"===ll||"blank"===ll||(m.h&&(m.h.m(),m.h=null),ct=!0,Le&&Le(s.tenantId))},ee.callbacks=D,ee.credentialHelper="none",d&&d.email&&(Gt={emailHint:d.email}),m.j?m.j.Wa().then(function(){x(ee,Gt)}):x(ee,Gt)})},n.reset=function(){var s=this;return Mi().then(function(){s.j&&s.j.Wa()}).then(function(){s.j=null,wp(s)})},n.Vb=function(){var s=this;this.h||this.A||(this.A=window.setTimeout(function(){wp(s),s.h=new IB,s.g=s.h,s.h.render(s.s),s.A=null},500))},n.mb=function(){window.clearTimeout(this.A),this.A=null,this.h&&(this.h.m(),this.h=null)},n.Bb=function(){return wp(this),this.g=new lz,this.g.render(this.s),Mi()},n.pb=function(s){var w,d=this,m=uW({code:s.code}).toString()||s.message;wp(this),s.retry&&"function"==typeof s.retry&&(w=function(){d.reset(),s.retry()}),this.g=new fz(m,w),this.g.render(this.s)},n.Rb=function(s){var d=this;return Mi().then(function(){var m=d.i&&d.i.app.options.apiKey;if(!d.a.hasOwnProperty(m))throw Error("Invalid project configuration: API key is invalid!");if(CB(d.a[m],s.tenantId||"_"),!d.i.currentUser||d.i.currentUser.uid!==s.uid)throw Error("The user being processed does not match the signed in user!");return(m=fR(d.a[m]).beforeSignInSuccess||null)?m(s):s}).then(function(m){if(m.uid!==s.uid)throw Error("User with mismatching UID returned.");return m})},lr("firebaseui.auth.FirebaseUiHandler",ul),lr("firebaseui.auth.FirebaseUiHandler.prototype.selectTenant",ul.prototype.Ub),lr("firebaseui.auth.FirebaseUiHandler.prototype.getAuth",ul.prototype.Pb),lr("firebaseui.auth.FirebaseUiHandler.prototype.startSignIn",ul.prototype.Zb),lr("firebaseui.auth.FirebaseUiHandler.prototype.reset",ul.prototype.reset),lr("firebaseui.auth.FirebaseUiHandler.prototype.showProgressBar",ul.prototype.Vb),lr("firebaseui.auth.FirebaseUiHandler.prototype.hideProgressBar",ul.prototype.mb),lr("firebaseui.auth.FirebaseUiHandler.prototype.completeSignOut",ul.prototype.Bb),lr("firebaseui.auth.FirebaseUiHandler.prototype.handleError",ul.prototype.pb),lr("firebaseui.auth.FirebaseUiHandler.prototype.processUser",ul.prototype.Rb),lr("firebaseui.auth.AuthUI",vc),lr("firebaseui.auth.AuthUI.getInstance",function(s){return s=bB(s),WD[s]?WD[s]:null}),lr("firebaseui.auth.AuthUI.prototype.disableAutoSignIn",vc.prototype.Db),lr("firebaseui.auth.AuthUI.prototype.start",vc.prototype.start),lr("firebaseui.auth.AuthUI.prototype.setConfig",vc.prototype.ib),lr("firebaseui.auth.AuthUI.prototype.signIn",vc.prototype.Wb),lr("firebaseui.auth.AuthUI.prototype.reset",vc.prototype.reset),lr("firebaseui.auth.AuthUI.prototype.delete",vc.prototype.Wa),lr("firebaseui.auth.AuthUI.prototype.isPendingRedirect",vc.prototype.nb),lr("firebaseui.auth.AuthUIError",JC),lr("firebaseui.auth.AuthUIError.prototype.toJSON",JC.prototype.toJSON),lr("firebaseui.auth.CredentialHelper.GOOGLE_YOLO",JV),lr("firebaseui.auth.CredentialHelper.NONE",GM),lr("firebaseui.auth.AnonymousAuthProvider.PROVIDER_ID","anonymous"),rs.prototype.catch=rs.prototype.Ca,rs.prototype.finally=rs.prototype.fc}).apply(typeof global<"u"?global:typeof self<"u"?self:window)}.apply(typeof global<"u"?global:typeof self<"u"?self:window),typeof window<"u"&&(window.dialogPolyfill=xee());var Nee=firebaseui.auth;let GG=(()=>{class n{constructor(t,r,i,u){const c=(0,Dr.on)(t,u,r),p=i;if(!window.firebaseUiInstance){const v=c.auth();if(p){const I=p[0].startsWith("http")?p[0]:`http://${p.join(":")}`;v.useEmulator(I)}window.firebaseUiInstance=new Nee.AuthUI(v)}this.firebaseUiInstance=window.firebaseUiInstance}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(Dr.Dh),h.LFG(Dr.xv,8),h.LFG(Mg,8),h.LFG(h.R0b))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})(),Mee=(()=>{class n{constructor(t,r,i,u,c){this.angularFireAuth=t,this._firebaseUiConfig=r,this._firebaseUiConfig_Feature=i,this.ngZone=u,this.firebaseUIService=c,this.signInSuccessWithAuthResultCallback=new h.vpe,this.signInFailureCallback=new h.vpe,this.uiShownCallback=new h.vpe}get firebaseUiConfig(){return{...this._firebaseUiConfig,...this._firebaseUiConfig_Feature}}ngOnInit(){this.subscription=this.angularFireAuth.authState.subscribe(t=>{if(t&&t.isAnonymous||!t){if(0===this.firebaseUiConfig.signInOptions.length)throw new Error("There must be at least one AuthProvider.");this.firebaseUIPopup()}})}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}getUIAuthConfig(){return this.firebaseUiConfig.callbacks||(this._firebaseUiConfig[n.COMPUTED_CALLBACKS]=!0,this._firebaseUiConfig.callbacks=this.getCallbacks()),this.firebaseUiConfig}firebaseUIPopup(){const t=this.firebaseUIService.firebaseUiInstance,r=this.getUIAuthConfig();let i=!1;r[n.COMPUTED_CALLBACKS]&&(i=!0,delete r[n.COMPUTED_CALLBACKS]),t.start("#firebaseui-auth-container",r),i&&(this._firebaseUiConfig.callbacks=null)}getCallbacks(){return{signInSuccessWithAuthResult:(u,c)=>(this.ngZone.run(()=>{this.signInSuccessWithAuthResultCallback.emit({authResult:u,redirectUrl:c})}),this.firebaseUiConfig.signInSuccessUrl),signInFailure:u=>(this.ngZone.run(()=>{this.signInFailureCallback.emit({code:u.code,credential:u.credential})}),Promise.reject()),uiShown:()=>{this.ngZone.run(()=>{this.uiShownCallback.emit()})}}}}return n.COMPUTED_CALLBACKS="COMPUTED_CALLBACKS",n.\u0275fac=function(t){return new(t||n)(h.Y36(to),h.Y36("firebaseUIAuthConfig"),h.Y36("firebaseUIAuthConfigFeature"),h.Y36(h.R0b),h.Y36(GG))},n.\u0275cmp=h.Xpm({type:n,selectors:[["firebase-ui"]],outputs:{signInSuccessWithAuthResultCallback:"signInSuccessWithAuthResult",signInFailureCallback:"signInFailure",uiShownCallback:"uiShown"},decls:1,vars:0,consts:[["id","firebaseui-auth-container"]],template:function(t,r){1&t&&h._UZ(0,"div",0)},encapsulation:2}),n})();const WG=$t.Z;let Ree=(()=>{class n{static forRoot(t){return{ngModule:n,providers:[{provide:"firebaseUIAuthConfig",useValue:t},{provide:"firebaseUIAuthConfigFeature",useValue:{}}]}}static forFeature(t){return{ngModule:n,providers:[{provide:"firebaseUIAuthConfigFeature",useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:[GG],imports:[pl]}),n})();const kee={signInOptions:[WG.auth.EmailAuthProvider.PROVIDER_ID,WG.auth.GoogleAuthProvider.PROVIDER_ID]},nU_firebase={projectId:"tello-track",appId:"1:215364647602:web:eb0eab241cfbcd1cb227ab",storageBucket:"tello-track.appspot.com",apiKey:"AIzaSyBIUFBOANI009sHojDBqjXRQAwTONXnshg",authDomain:"tello-track.firebaseapp.com",messagingSenderId:"215364647602",measurementId:"G-5CNBLWHE1R"},rU=(0,At.U)(n=>!!n);let Oee=(()=>{class n{constructor(t,r){this.router=t,this.auth=r,this.canActivate=(i,u)=>{const c=i.data.authGuardPipe||(()=>rU);return this.auth.user.pipe(xl(1),c(i,u),(0,At.U)(p=>"boolean"==typeof p?p:Array.isArray(p)?this.router.createUrlTree(p):this.router.parseUrl(p)))}}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(Ii),h.LFG(to))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();const vN=n=>({canActivate:[Oee],data:{authGuardPipe:n}}),Uee=ir(n=>n?n.getIdTokenResult(!0):Dt(null)),zG=(0,Po.z)(Uee,(0,At.U)(n=>n?n.claims:null)),iU=vN(()=>(0,Po.z)(zG,(0,At.U)(n=>null===n?["login"]:"paid"===n.stripeRole||["payment"]))),Vee=vN(()=>(0,Po.z)(zG,(0,At.U)(n=>null===n?["login"]:"paid"!==n.stripeRole||["dashboard"]))),qG=(vN(()=>(n=>(0,Po.z)(rU,(0,At.U)(e=>e||n)))(["login"])),vN(()=>(n=>(0,Po.z)(rU,(0,At.U)(e=>e&&n||!0)))(["dashboard"])));function Bee(n,e){if(1&n){const t=h.EpF();h.ynx(0),h.TgZ(1,"li",7)(2,"a",8),h._uU(3),h.qZA()(),h.TgZ(4,"li",9)(5,"a",10),h.NdJ("click",function(){h.CHM(t);const i=h.oxw(2);return h.KtG(i.logout())}),h._uU(6,"Logout"),h.qZA()(),h.BQk()}if(2&n){const t=e.ngIf;h.xp6(3),h.Oqu(t.displayName)}}function jee(n,e){1&n&&(h.ynx(0),h.TgZ(1,"li",9)(2,"a",11),h._uU(3,"Login"),h.qZA()(),h.BQk())}function $ee(n,e){if(1&n&&(h.TgZ(0,"nav",2)(1,"div",3)(2,"a",4),h._uU(3,"Tellotrack"),h.qZA(),h.TgZ(4,"ul",5),h.YNc(5,Bee,7,1,"ng-container",6),h.ALo(6,"async"),h.YNc(7,jee,4,0,"ng-container",6),h.ALo(8,"async"),h.qZA()()()),2&n){const t=h.oxw();h.xp6(5),h.Q6J("ngIf",h.lcZ(6,2,t.firebase_auth.user)),h.xp6(2),h.Q6J("ngIf",null==h.lcZ(8,4,t.firebase_auth.user))}}class wN{constructor(e,t){this.firebase_auth=e,this.router=t,this.title="Tellotrack",this.hide_nav=!0}toggleNavBar(e){this.hide_nav=!!e.constructor.hide_nav}logout(){var e=this;return(0,ke.Z)(function*(){yield e.firebase_auth.signOut(),e.router.navigate([""])})()}static#e=this.\u0275fac=function(t){return new(t||wN)(h.Y36(to),h.Y36(Ii))};static#t=this.\u0275cmp=h.Xpm({type:wN,selectors:[["app-root"]],decls:2,vars:1,consts:[["class","navbar navbar-dark bg-primary navbar-expand",4,"ngIf"],[3,"activate"],[1,"navbar","navbar-dark","bg-primary","navbar-expand"],[1,"container"],["routerLink","/",1,"navbar-brand"],[1,"navbar-nav"],[4,"ngIf"],[1,"nav-item","me-3"],["routerLink","/settings",1,"nav-link"],[1,"nav-item"],["href","javascript:void(0);",1,"nav-link",3,"click"],["routerLink","/login",1,"nav-link"]],template:function(t,r){1&t&&(h.YNc(0,$ee,9,6,"nav",0),h.TgZ(1,"router-outlet",1),h.NdJ("activate",function(u){return r.toggleNavBar(u)}),h.qZA()),2&t&&h.Q6J("ngIf",!r.hide_nav)},dependencies:[fs,AT,nd,ps]})}class EN{static#e=this.\u0275fac=function(t){return new(t||EN)};static#t=this.\u0275cmp=h.Xpm({type:EN,selectors:[["app-landing"]],decls:83,vars:0,consts:[[1,"container"],[1,"row","my-5"],[1,"col-6"],[1,"display-5","fw-bold","mb-4",2,"margin-top","100px"],[1,"fs-4"],["routerLink","/login",1,"btn","btn-primary","btn-lg","mt-3"],["id","mockup-screenshot"],["src","assets/laptop_screenshot.png"],[1,"row",2,"margin-top","100px"],[1,"col-4"],[1,"feature-box"],[1,"bi","bi-share-fill"],[1,"h5","mt-4"],[1,"mt-3"],[1,"bi","bi-list-check"],[1,"bi","bi-sliders2-vertical"],[1,"container","mb-5"],["data-bs-ride","carousel","id","screenshot-carousel",1,"carousel","slide","carousel-dark"],[1,"carousel-indicators"],["type","button","data-bs-target","#screenshot-carousel","data-bs-slide-to","0","aria-current","true","aria-label","Slide 1",1,"active"],["type","button","data-bs-target","#screenshot-carousel","data-bs-slide-to","1","aria-label","Slide 2"],["type","button","data-bs-target","#screenshot-carousel","data-bs-slide-to","2","aria-label","Slide 3"],[1,"carousel-inner"],[1,"carousel-item","active"],["src","assets/screenshot1.png"],[1,"carousel-item"],["src","assets/screenshot2.png"],["src","assets/screenshot3.png"],[2,"text-align","center"],[1,"fs-4","mt-5",2,"text-align","center"],[1,"lead","mt-5",2,"text-align","center"],["href","mailto:sales@tellotrack.com"],[1,"container-fluid","bg-primary",2,"margin-top","75px","padding","50px","text-align","center"],[1,"text-light","mb-5",2,"text-align","center"],["routerLink","/login",1,"btn","btn-light","btn-lg",2,"display","inline","font-size","24pt"],[1,"bg-dark","text-light"],[1,"pt-2","pb-2",2,"text-align","center"],["routerLink","/terms",1,"link-light"],["routerLink","/privacy",1,"link-light"],["href","mailto:help@tellotrack.com",1,"link-light"]],template:function(t,r){1&t&&(h.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3),h._uU(4,"Keep Customers Up to Date"),h.qZA(),h.TgZ(5,"p",4),h._uU(6,"Let your users track the status of the work you're doing for them."),h.qZA(),h.TgZ(7,"a",5),h._uU(8,"Get Started"),h.qZA()(),h.TgZ(9,"div",2)(10,"div",6),h._UZ(11,"img",7),h.qZA()()()(),h.TgZ(12,"div",0)(13,"div",8)(14,"div",9)(15,"div",10)(16,"h2"),h._UZ(17,"i",11),h.qZA(),h.TgZ(18,"p",12),h._uU(19,"Custom Tracking Links"),h.qZA(),h.TgZ(20,"p",13),h._uU(21,"Send your customers convenient links to keep track of progress."),h.qZA()()(),h.TgZ(22,"div",9)(23,"div",10)(24,"h2"),h._UZ(25,"i",14),h.qZA(),h.TgZ(26,"p",12),h._uU(27,"Create Your Own Flows"),h.qZA(),h.TgZ(28,"p",13),h._uU(29,"Make templates for each type of order you want to track. Easily create new orders based on them."),h.qZA()()(),h.TgZ(30,"div",9)(31,"div",10)(32,"h2"),h._UZ(33,"i",15),h.qZA(),h.TgZ(34,"p",12),h._uU(35,"Manage With Ease"),h.qZA(),h.TgZ(36,"p",13),h._uU(37,"Search, sort, and filter your orders with our convenient dashboard tools."),h.qZA()()()()(),h.TgZ(38,"div",16)(39,"div",8)(40,"div",2)(41,"div",17)(42,"div",18),h._UZ(43,"button",19)(44,"button",20)(45,"button",21),h.qZA(),h.TgZ(46,"div",22)(47,"div",23),h._UZ(48,"img",24),h.qZA(),h.TgZ(49,"div",25),h._UZ(50,"img",26),h.qZA(),h.TgZ(51,"div",25),h._UZ(52,"img",27),h.qZA()()()(),h.TgZ(53,"div",2)(54,"h2",28),h._uU(55,"Pricing"),h.qZA(),h.TgZ(56,"div",29),h._uU(57,"Tellotrack is now just "),h.TgZ(58,"b"),h._uU(59,"$2.49/month"),h.qZA(),h._uU(60," per account"),h.qZA(),h.TgZ(61,"div",29),h._uU(62,"Pay safely with Stripe"),h.qZA(),h.TgZ(63,"div",30),h._uU(64,"Email us at "),h.TgZ(65,"a",31),h._uU(66,"sales@tellotrack.com"),h.qZA(),h._uU(67," to talk about Enterprise pricing."),h.qZA()()()(),h.TgZ(68,"div",32)(69,"h1",33),h._uU(70,"Improve Your Customer Service Today"),h.qZA(),h.TgZ(71,"a",34),h._uU(72,"Sign Up"),h.qZA()(),h.TgZ(73,"footer",35)(74,"div",36)(75,"a",37),h._uU(76,"Terms and Conditions"),h.qZA(),h._uU(77," \xb7 "),h.TgZ(78,"a",38),h._uU(79,"Privacy Policy"),h.qZA(),h._uU(80," \xb7 "),h.TgZ(81,"a",39),h._uU(82,"help@tellotrack.com"),h.qZA()()())},dependencies:[nd]})}class bN{constructor(e,t,r){this.firebase_auth=e,this.router=t,this.db=r}handle_login(e){var t=this;return(0,ke.Z)(function*(){let r=e.authResult;if(r.user){if(r.additionalUserInfo?.isNewUser){let i={display_name:r.user.displayName||"Company Name"};r.user.photoURL&&(i.logo_url=r.user.photoURL),yield t.db.object(`branding/${r.user.uid}`).set(i)}t.router.navigate(["dashboard"])}})()}static#e=this.\u0275fac=function(t){return new(t||bN)(h.Y36(to),h.Y36(Ii),h.Y36(Sv))};static#t=this.\u0275cmp=h.Xpm({type:bN,selectors:[["app-login"]],decls:4,vars:0,consts:[[1,"container"],[1,"mb-5",2,"text-align","center","margin-top","20%"],[3,"signInSuccessWithAuthResult"]],template:function(t,r){1&t&&(h.TgZ(0,"div",0)(1,"h1",1),h._uU(2,"Login to Tellotrack"),h.qZA(),h.TgZ(3,"firebase-ui",2),h.NdJ("signInSuccessWithAuthResult",function(u){return r.handle_login(u)}),h.qZA()())},dependencies:[Mee]})}var Hee=V(930);function sU(n,e){const t="object"==typeof e;return new Promise((r,i)=>{const u=new Hee.Hp({next:c=>{r(c),u.unsubscribe()},error:i,complete:()=>{t?r(e.defaultValue):i(new Su)}});n.subscribe(u)})}var Eo="top",wa="bottom",Ea="right",bo="left",IN="auto",o0=[Eo,wa,Ea,bo],Am="start",a0="end",ZG="clippingParents",oU="viewport",u0="popper",KG="reference",aU=o0.reduce(function(n,e){return n.concat([e+"-"+Am,e+"-"+a0])},[]),uU=[].concat(o0,[IN]).reduce(function(n,e){return n.concat([e,e+"-"+Am,e+"-"+a0])},[]),YG="beforeRead",QG="read",JG="afterRead",XG="beforeMain",e5="main",t5="afterMain",n5="beforeWrite",r5="write",i5="afterWrite",s5=[YG,QG,JG,XG,e5,t5,n5,r5,i5];function lc(n){return n?(n.nodeName||"").toLowerCase():null}function su(n){if(null==n)return window;if("[object Window]"!==n.toString()){var e=n.ownerDocument;return e&&e.defaultView||window}return n}function xm(n){return n instanceof su(n).Element||n instanceof Element}function ou(n){return n instanceof su(n).HTMLElement||n instanceof HTMLElement}function lU(n){return!(typeof ShadowRoot>"u")&&(n instanceof su(n).ShadowRoot||n instanceof ShadowRoot)}const cU={name:"applyStyles",enabled:!0,phase:"write",fn:function Gee(n){var e=n.state;Object.keys(e.elements).forEach(function(t){var r=e.styles[t]||{},i=e.attributes[t]||{},u=e.elements[t];!ou(u)||!lc(u)||(Object.assign(u.style,r),Object.keys(i).forEach(function(c){var p=i[c];!1===p?u.removeAttribute(c):u.setAttribute(c,!0===p?"":p)}))})},effect:function Wee(n){var e=n.state,t={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,t.popper),e.styles=t,e.elements.arrow&&Object.assign(e.elements.arrow.style,t.arrow),function(){Object.keys(e.elements).forEach(function(r){var i=e.elements[r],u=e.attributes[r]||{},p=Object.keys(e.styles.hasOwnProperty(r)?e.styles[r]:t[r]).reduce(function(v,I){return v[I]="",v},{});!ou(i)||!lc(i)||(Object.assign(i.style,p),Object.keys(u).forEach(function(v){i.removeAttribute(v)}))})}},requires:["computeStyles"]};function cc(n){return n.split("-")[0]}var Nm=Math.max,CN=Math.min,l0=Math.round;function dU(){var n=navigator.userAgentData;return null!=n&&n.brands?n.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function o5(){return!/^((?!chrome|android).)*safari/i.test(dU())}function c0(n,e,t){void 0===e&&(e=!1),void 0===t&&(t=!1);var r=n.getBoundingClientRect(),i=1,u=1;e&&ou(n)&&(i=n.offsetWidth>0&&l0(r.width)/n.offsetWidth||1,u=n.offsetHeight>0&&l0(r.height)/n.offsetHeight||1);var p=(xm(n)?su(n):window).visualViewport,v=!o5()&&t,I=(r.left+(v&&p?p.offsetLeft:0))/i,A=(r.top+(v&&p?p.offsetTop:0))/u,M=r.width/i,P=r.height/u;return{width:M,height:P,top:A,right:I+M,bottom:A+P,left:I,x:I,y:A}}function hU(n){var e=c0(n),t=n.offsetWidth,r=n.offsetHeight;return Math.abs(e.width-t)<=1&&(t=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:n.offsetLeft,y:n.offsetTop,width:t,height:r}}function a5(n,e){var t=e.getRootNode&&e.getRootNode();if(n.contains(e))return!0;if(t&&lU(t)){var r=e;do{if(r&&n.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function Fd(n){return su(n).getComputedStyle(n)}function zee(n){return["table","td","th"].indexOf(lc(n))>=0}function Zf(n){return((xm(n)?n.ownerDocument:n.document)||window.document).documentElement}function DN(n){return"html"===lc(n)?n:n.assignedSlot||n.parentNode||(lU(n)?n.host:null)||Zf(n)}function u5(n){return ou(n)&&"fixed"!==Fd(n).position?n.offsetParent:null}function RC(n){for(var e=su(n),t=u5(n);t&&zee(t)&&"static"===Fd(t).position;)t=u5(t);return t&&("html"===lc(t)||"body"===lc(t)&&"static"===Fd(t).position)?e:t||function qee(n){var e=/firefox/i.test(dU());if(/Trident/i.test(dU())&&ou(n)&&"fixed"===Fd(n).position)return null;var i=DN(n);for(lU(i)&&(i=i.host);ou(i)&&["html","body"].indexOf(lc(i))<0;){var u=Fd(i);if("none"!==u.transform||"none"!==u.perspective||"paint"===u.contain||-1!==["transform","perspective"].indexOf(u.willChange)||e&&"filter"===u.willChange||e&&u.filter&&"none"!==u.filter)return i;i=i.parentNode}return null}(n)||e}function fU(n){return["top","bottom"].indexOf(n)>=0?"x":"y"}function kC(n,e,t){return Nm(n,CN(e,t))}function c5(n){return Object.assign({},{top:0,right:0,bottom:0,left:0},n)}function d5(n,e){return e.reduce(function(t,r){return t[r]=n,t},{})}const h5={name:"arrow",enabled:!0,phase:"main",fn:function Yee(n){var e,t=n.state,r=n.name,i=n.options,u=t.elements.arrow,c=t.modifiersData.popperOffsets,p=cc(t.placement),v=fU(p),A=[bo,Ea].indexOf(p)>=0?"height":"width";if(u&&c){var M=function(e,t){return c5("number"!=typeof(e="function"==typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e)?e:d5(e,o0))}(i.padding,t),P=hU(u),$="y"===v?Eo:bo,Q="y"===v?wa:Ea,le=t.rects.reference[A]+t.rects.reference[v]-c[v]-t.rects.popper[A],ye=c[v]-t.rects.reference[v],lt=RC(u),dt=lt?"y"===v?lt.clientHeight||0:lt.clientWidth||0:0,yt=dt/2-P[A]/2+(le/2-ye/2),fn=kC(M[$],yt,dt-P[A]-M[Q]);t.modifiersData[r]=((e={})[v]=fn,e.centerOffset=fn-yt,e)}},effect:function Qee(n){var e=n.state,r=n.options.element,i=void 0===r?"[data-popper-arrow]":r;null!=i&&("string"==typeof i&&!(i=e.elements.popper.querySelector(i))||!a5(e.elements.popper,i)||(e.elements.arrow=i))},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function d0(n){return n.split("-")[1]}var Jee={top:"auto",right:"auto",bottom:"auto",left:"auto"};function f5(n){var e,t=n.popper,r=n.popperRect,i=n.placement,u=n.variation,c=n.offsets,p=n.position,v=n.gpuAcceleration,I=n.adaptive,A=n.roundOffsets,M=n.isFixed,P=c.x,$=void 0===P?0:P,Q=c.y,le=void 0===Q?0:Q,ye="function"==typeof A?A({x:$,y:le}):{x:$,y:le};$=ye.x,le=ye.y;var lt=c.hasOwnProperty("x"),dt=c.hasOwnProperty("y"),wt=bo,_t=Eo,ft=window;if(I){var yt=RC(t),fn="clientHeight",Mr="clientWidth";yt===su(t)&&"static"!==Fd(yt=Zf(t)).position&&"absolute"===p&&(fn="scrollHeight",Mr="scrollWidth"),(i===Eo||(i===bo||i===Ea)&&u===a0)&&(_t=wa,le-=(M&&yt===ft&&ft.visualViewport?ft.visualViewport.height:yt[fn])-r.height,le*=v?1:-1),i!==bo&&(i!==Eo&&i!==wa||u!==a0)||(wt=Ea,$-=(M&&yt===ft&&ft.visualViewport?ft.visualViewport.width:yt[Mr])-r.width,$*=v?1:-1)}var Rn,tn=Object.assign({position:p},I&&Jee),ds=!0===A?function Xee(n){var t=n.y,i=window.devicePixelRatio||1;return{x:l0(n.x*i)/i||0,y:l0(t*i)/i||0}}({x:$,y:le}):{x:$,y:le};return $=ds.x,le=ds.y,Object.assign({},tn,v?((Rn={})[_t]=dt?"0":"",Rn[wt]=lt?"0":"",Rn.transform=(ft.devicePixelRatio||1)<=1?"translate("+$+"px, "+le+"px)":"translate3d("+$+"px, "+le+"px, 0)",Rn):((e={})[_t]=dt?le+"px":"",e[wt]=lt?$+"px":"",e.transform="",e))}const pU={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function ete(n){var e=n.state,t=n.options,r=t.gpuAcceleration,i=void 0===r||r,u=t.adaptive,c=void 0===u||u,p=t.roundOffsets,v=void 0===p||p,A={placement:cc(e.placement),variation:d0(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:"fixed"===e.options.strategy};null!=e.modifiersData.popperOffsets&&(e.styles.popper=Object.assign({},e.styles.popper,f5(Object.assign({},A,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:c,roundOffsets:v})))),null!=e.modifiersData.arrow&&(e.styles.arrow=Object.assign({},e.styles.arrow,f5(Object.assign({},A,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:v})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})},data:{}};var TN={passive:!0};const gU={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function tte(n){var e=n.state,t=n.instance,r=n.options,i=r.scroll,u=void 0===i||i,c=r.resize,p=void 0===c||c,v=su(e.elements.popper),I=[].concat(e.scrollParents.reference,e.scrollParents.popper);return u&&I.forEach(function(A){A.addEventListener("scroll",t.update,TN)}),p&&v.addEventListener("resize",t.update,TN),function(){u&&I.forEach(function(A){A.removeEventListener("scroll",t.update,TN)}),p&&v.removeEventListener("resize",t.update,TN)}},data:{}};var nte={left:"right",right:"left",bottom:"top",top:"bottom"};function SN(n){return n.replace(/left|right|bottom|top/g,function(e){return nte[e]})}var rte={start:"end",end:"start"};function p5(n){return n.replace(/start|end/g,function(e){return rte[e]})}function mU(n){var e=su(n);return{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function _U(n){return c0(Zf(n)).left+mU(n).scrollLeft}function yU(n){var e=Fd(n);return/auto|scroll|overlay|hidden/.test(e.overflow+e.overflowY+e.overflowX)}function g5(n){return["html","body","#document"].indexOf(lc(n))>=0?n.ownerDocument.body:ou(n)&&yU(n)?n:g5(DN(n))}function OC(n,e){var t;void 0===e&&(e=[]);var r=g5(n),i=r===(null==(t=n.ownerDocument)?void 0:t.body),u=su(r),c=i?[u].concat(u.visualViewport||[],yU(r)?r:[]):r,p=e.concat(c);return i?p:p.concat(OC(DN(c)))}function vU(n){return Object.assign({},n,{left:n.x,top:n.y,right:n.x+n.width,bottom:n.y+n.height})}function m5(n,e,t){return e===oU?vU(function ite(n,e){var t=su(n),r=Zf(n),i=t.visualViewport,u=r.clientWidth,c=r.clientHeight,p=0,v=0;if(i){u=i.width,c=i.height;var I=o5();(I||!I&&"fixed"===e)&&(p=i.offsetLeft,v=i.offsetTop)}return{width:u,height:c,x:p+_U(n),y:v}}(n,t)):xm(e)?function ote(n,e){var t=c0(n,!1,"fixed"===e);return t.top=t.top+n.clientTop,t.left=t.left+n.clientLeft,t.bottom=t.top+n.clientHeight,t.right=t.left+n.clientWidth,t.width=n.clientWidth,t.height=n.clientHeight,t.x=t.left,t.y=t.top,t}(e,t):vU(function ste(n){var e,t=Zf(n),r=mU(n),i=null==(e=n.ownerDocument)?void 0:e.body,u=Nm(t.scrollWidth,t.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),c=Nm(t.scrollHeight,t.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),p=-r.scrollLeft+_U(n),v=-r.scrollTop;return"rtl"===Fd(i||t).direction&&(p+=Nm(t.clientWidth,i?i.clientWidth:0)-u),{width:u,height:c,x:p,y:v}}(Zf(n)))}function _5(n){var v,e=n.reference,t=n.element,r=n.placement,i=r?cc(r):null,u=r?d0(r):null,c=e.x+e.width/2-t.width/2,p=e.y+e.height/2-t.height/2;switch(i){case Eo:v={x:c,y:e.y-t.height};break;case wa:v={x:c,y:e.y+e.height};break;case Ea:v={x:e.x+e.width,y:p};break;case bo:v={x:e.x-t.width,y:p};break;default:v={x:e.x,y:e.y}}var I=i?fU(i):null;if(null!=I){var A="y"===I?"height":"width";switch(u){case Am:v[I]=v[I]-(e[A]/2-t[A]/2);break;case a0:v[I]=v[I]+(e[A]/2-t[A]/2)}}return v}function h0(n,e){void 0===e&&(e={});var r=e.placement,i=void 0===r?n.placement:r,u=e.strategy,c=void 0===u?n.strategy:u,p=e.boundary,v=void 0===p?ZG:p,I=e.rootBoundary,A=void 0===I?oU:I,M=e.elementContext,P=void 0===M?u0:M,$=e.altBoundary,Q=void 0!==$&&$,le=e.padding,ye=void 0===le?0:le,lt=c5("number"!=typeof ye?ye:d5(ye,o0)),wt=n.rects.popper,_t=n.elements[Q?P===u0?KG:u0:P],ft=function ute(n,e,t,r){var i="clippingParents"===e?function ate(n){var e=OC(DN(n)),r=["absolute","fixed"].indexOf(Fd(n).position)>=0&&ou(n)?RC(n):n;return xm(r)?e.filter(function(i){return xm(i)&&a5(i,r)&&"body"!==lc(i)}):[]}(n):[].concat(e),u=[].concat(i,[t]),p=u.reduce(function(v,I){var A=m5(n,I,r);return v.top=Nm(A.top,v.top),v.right=CN(A.right,v.right),v.bottom=CN(A.bottom,v.bottom),v.left=Nm(A.left,v.left),v},m5(n,u[0],r));return p.width=p.right-p.left,p.height=p.bottom-p.top,p.x=p.left,p.y=p.top,p}(xm(_t)?_t:_t.contextElement||Zf(n.elements.popper),v,A,c),yt=c0(n.elements.reference),fn=_5({reference:yt,element:wt,strategy:"absolute",placement:i}),Mr=vU(Object.assign({},wt,fn)),ji=P===u0?Mr:yt,$i={top:ft.top-ji.top+lt.top,bottom:ji.bottom-ft.bottom+lt.bottom,left:ft.left-ji.left+lt.left,right:ji.right-ft.right+lt.right},tn=n.modifiersData.offset;if(P===u0&&tn){var ds=tn[i];Object.keys($i).forEach(function(Rn){var Io=[Ea,wa].indexOf(Rn)>=0?1:-1,lr=[Eo,wa].indexOf(Rn)>=0?"y":"x";$i[Rn]+=ds[lr]*Io})}return $i}const y5={name:"flip",enabled:!0,phase:"main",fn:function dte(n){var e=n.state,t=n.options,r=n.name;if(!e.modifiersData[r]._skip){for(var i=t.mainAxis,u=void 0===i||i,c=t.altAxis,p=void 0===c||c,v=t.fallbackPlacements,I=t.padding,A=t.boundary,M=t.rootBoundary,P=t.altBoundary,$=t.flipVariations,Q=void 0===$||$,le=t.allowedAutoPlacements,ye=e.options.placement,lt=cc(ye),wt=v||(lt!==ye&&Q?function cte(n){if(cc(n)===IN)return[];var e=SN(n);return[p5(n),e,p5(e)]}(ye):[SN(ye)]),_t=[ye].concat(wt).reduce(function(np,hc){return np.concat(cc(hc)===IN?function lte(n,e){void 0===e&&(e={});var i=e.boundary,u=e.rootBoundary,c=e.padding,p=e.flipVariations,v=e.allowedAutoPlacements,I=void 0===v?uU:v,A=d0(e.placement),M=A?p?aU:aU.filter(function(Q){return d0(Q)===A}):o0,P=M.filter(function(Q){return I.indexOf(Q)>=0});0===P.length&&(P=M);var $=P.reduce(function(Q,le){return Q[le]=h0(n,{placement:le,boundary:i,rootBoundary:u,padding:c})[cc(le)],Q},{});return Object.keys($).sort(function(Q,le){return $[Q]-$[le]})}(e,{placement:hc,boundary:A,rootBoundary:M,padding:I,flipVariations:Q,allowedAutoPlacements:le}):hc)},[]),ft=e.rects.reference,yt=e.rects.popper,fn=new Map,Mr=!0,ji=_t[0],$i=0;$i<_t.length;$i++){var tn=_t[$i],ds=cc(tn),Rn=d0(tn)===Am,Io=[Eo,wa].indexOf(ds)>=0,lr=Io?"width":"height",Yt=h0(e,{placement:tn,boundary:A,rootBoundary:M,altBoundary:P,padding:I}),ni=Io?Rn?Ea:bo:Rn?wa:Eo;ft[lr]>yt[lr]&&(ni=SN(ni));var Fm=SN(ni),nl=[];if(u&&nl.push(Yt[ds]<=0),p&&nl.push(Yt[ni]<=0,Yt[Fm]<=0),nl.every(function(np){return np})){ji=tn,Mr=!1;break}fn.set(tn,nl)}if(Mr)for(var b0=function(hc){var Um=_t.find(function(Hs){var fc=fn.get(Hs);if(fc)return fc.slice(0,hc).every(function(rp){return rp})});if(Um)return ji=Um,"break"},rl=Q?3:1;rl>0&&"break"!==b0(rl);rl--);e.placement!==ji&&(e.modifiersData[r]._skip=!0,e.placement=ji,e.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function v5(n,e,t){return void 0===t&&(t={x:0,y:0}),{top:n.top-e.height-t.y,right:n.right-e.width+t.x,bottom:n.bottom-e.height+t.y,left:n.left-e.width-t.x}}function w5(n){return[Eo,Ea,wa,bo].some(function(e){return n[e]>=0})}const E5={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function hte(n){var e=n.state,t=n.name,r=e.rects.reference,i=e.rects.popper,u=e.modifiersData.preventOverflow,c=h0(e,{elementContext:"reference"}),p=h0(e,{altBoundary:!0}),v=v5(c,r),I=v5(p,i,u),A=w5(v),M=w5(I);e.modifiersData[t]={referenceClippingOffsets:v,popperEscapeOffsets:I,isReferenceHidden:A,hasPopperEscaped:M},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":A,"data-popper-escaped":M})}},b5={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function pte(n){var e=n.state,r=n.name,i=n.options.offset,u=void 0===i?[0,0]:i,c=uU.reduce(function(A,M){return A[M]=function fte(n,e,t){var r=cc(n),i=[bo,Eo].indexOf(r)>=0?-1:1,u="function"==typeof t?t(Object.assign({},e,{placement:n})):t,c=u[0],p=u[1];return c=c||0,p=(p||0)*i,[bo,Ea].indexOf(r)>=0?{x:p,y:c}:{x:c,y:p}}(M,e.rects,u),A},{}),p=c[e.placement],I=p.y;null!=e.modifiersData.popperOffsets&&(e.modifiersData.popperOffsets.x+=p.x,e.modifiersData.popperOffsets.y+=I),e.modifiersData[r]=c}},wU={name:"popperOffsets",enabled:!0,phase:"read",fn:function gte(n){var e=n.state;e.modifiersData[n.name]=_5({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})},data:{}},I5={name:"preventOverflow",enabled:!0,phase:"main",fn:function _te(n){var e=n.state,t=n.options,r=n.name,i=t.mainAxis,u=void 0===i||i,c=t.altAxis,p=void 0!==c&&c,P=t.tether,$=void 0===P||P,Q=t.tetherOffset,le=void 0===Q?0:Q,ye=h0(e,{boundary:t.boundary,rootBoundary:t.rootBoundary,padding:t.padding,altBoundary:t.altBoundary}),lt=cc(e.placement),dt=d0(e.placement),wt=!dt,_t=fU(lt),ft=function mte(n){return"x"===n?"y":"x"}(_t),yt=e.modifiersData.popperOffsets,fn=e.rects.reference,Mr=e.rects.popper,ji="function"==typeof le?le(Object.assign({},e.rects,{placement:e.placement})):le,$i="number"==typeof ji?{mainAxis:ji,altAxis:ji}:Object.assign({mainAxis:0,altAxis:0},ji),tn=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,ds={x:0,y:0};if(yt){if(u){var Rn,Io="y"===_t?Eo:bo,lr="y"===_t?wa:Ea,Yt="y"===_t?"height":"width",ni=yt[_t],Fm=ni+ye[Io],nl=ni-ye[lr],Zo=$?-Mr[Yt]/2:0,b0=dt===Am?fn[Yt]:Mr[Yt],rl=dt===Am?-Mr[Yt]:-fn[Yt],I0=e.elements.arrow,np=$&&I0?hU(I0):{width:0,height:0},hc=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},Um=hc[Io],Hs=hc[lr],fc=kC(0,fn[Yt],np[Yt]),rp=wt?fn[Yt]/2-Zo-fc-Um-$i.mainAxis:b0-fc-Um-$i.mainAxis,GU=wt?-fn[Yt]/2+Zo+fc+Hs+$i.mainAxis:rl+fc+Hs+$i.mainAxis,jC=e.elements.arrow&&RC(e.elements.arrow),$C=null!=(Rn=tn?.[_t])?Rn:0,Co=ni+GU-$C,XN=kC($?CN(Fm,ni+rp-$C-(jC?"y"===_t?jC.clientTop||0:jC.clientLeft||0:0)):Fm,ni,$?Nm(nl,Co):nl);yt[_t]=XN,ds[_t]=XN-ni}if(p){var eM,Hd=yt[ft],C0="y"===ft?"height":"width",tM=Hd+ye["x"===_t?Eo:bo],D0=Hd-ye["x"===_t?wa:Ea],pc=-1!==[Eo,bo].indexOf(lt),HC=null!=(eM=tn?.[ft])?eM:0,T0=pc?tM:Hd-fn[C0]-Mr[C0]-HC+$i.altAxis,GC=pc?Hd+fn[C0]+Mr[C0]-HC-$i.altAxis:D0,Vm=$&&pc?function Zee(n,e,t){var r=kC(n,e,t);return r>t?t:r}(T0,Hd,GC):kC($?T0:tM,Hd,$?GC:D0);yt[ft]=Vm,ds[ft]=Vm-Hd}e.modifiersData[r]=ds}},requiresIfExists:["offset"]};function Ete(n,e,t){void 0===t&&(t=!1);var r=ou(e),i=ou(e)&&function wte(n){var e=n.getBoundingClientRect(),t=l0(e.width)/n.offsetWidth||1,r=l0(e.height)/n.offsetHeight||1;return 1!==t||1!==r}(e),u=Zf(e),c=c0(n,i,t),p={scrollLeft:0,scrollTop:0},v={x:0,y:0};return(r||!r&&!t)&&(("body"!==lc(e)||yU(u))&&(p=function vte(n){return n!==su(n)&&ou(n)?function yte(n){return{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}}(n):mU(n)}(e)),ou(e)?((v=c0(e,!0)).x+=e.clientLeft,v.y+=e.clientTop):u&&(v.x=_U(u))),{x:c.left+p.scrollLeft-v.x,y:c.top+p.scrollTop-v.y,width:c.width,height:c.height}}function bte(n){var e=new Map,t=new Set,r=[];function i(u){t.add(u.name),[].concat(u.requires||[],u.requiresIfExists||[]).forEach(function(p){if(!t.has(p)){var v=e.get(p);v&&i(v)}}),r.push(u)}return n.forEach(function(u){e.set(u.name,u)}),n.forEach(function(u){t.has(u.name)||i(u)}),r}function Cte(n){var e;return function(){return e||(e=new Promise(function(t){Promise.resolve().then(function(){e=void 0,t(n())})})),e}}var C5={placement:"bottom",modifiers:[],strategy:"absolute"};function D5(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return!e.some(function(r){return!(r&&"function"==typeof r.getBoundingClientRect)})}function AN(n){void 0===n&&(n={});var t=n.defaultModifiers,r=void 0===t?[]:t,i=n.defaultOptions,u=void 0===i?C5:i;return function(p,v,I){void 0===I&&(I=u);var A={placement:"bottom",orderedModifiers:[],options:Object.assign({},C5,u),modifiersData:{},elements:{reference:p,popper:v},attributes:{},styles:{}},M=[],P=!1,$={state:A,setOptions:function(lt){var dt="function"==typeof lt?lt(A.options):lt;le(),A.options=Object.assign({},u,A.options,dt),A.scrollParents={reference:xm(p)?OC(p):p.contextElement?OC(p.contextElement):[],popper:OC(v)};var wt=function Ite(n){var e=bte(n);return s5.reduce(function(t,r){return t.concat(e.filter(function(i){return i.phase===r}))},[])}(function Dte(n){var e=n.reduce(function(t,r){var i=t[r.name];return t[r.name]=i?Object.assign({},i,r,{options:Object.assign({},i.options,r.options),data:Object.assign({},i.data,r.data)}):r,t},{});return Object.keys(e).map(function(t){return e[t]})}([].concat(r,A.options.modifiers)));return A.orderedModifiers=wt.filter(function(tn){return tn.enabled}),function Q(){A.orderedModifiers.forEach(function(ye){var dt=ye.options,_t=ye.effect;if("function"==typeof _t){var ft=_t({state:A,name:ye.name,instance:$,options:void 0===dt?{}:dt});M.push(ft||function(){})}})}(),$.update()},forceUpdate:function(){if(!P){var lt=A.elements,dt=lt.reference,wt=lt.popper;if(D5(dt,wt)){A.rects={reference:Ete(dt,RC(wt),"fixed"===A.options.strategy),popper:hU(wt)},A.reset=!1,A.placement=A.options.placement,A.orderedModifiers.forEach(function(tn){return A.modifiersData[tn.name]=Object.assign({},tn.data)});for(var ft=0;ft<A.orderedModifiers.length;ft++)if(!0!==A.reset){var yt=A.orderedModifiers[ft],fn=yt.fn,Mr=yt.options;"function"==typeof fn&&(A=fn({state:A,options:void 0===Mr?{}:Mr,name:yt.name,instance:$})||A)}else A.reset=!1,ft=-1}}},update:Cte(function(){return new Promise(function(ye){$.forceUpdate(),ye(A)})}),destroy:function(){le(),P=!0}};if(!D5(p,v))return $;function le(){M.forEach(function(ye){return ye()}),M=[]}return $.setOptions(I).then(function(ye){!P&&I.onFirstUpdate&&I.onFirstUpdate(ye)}),$}}var Tte=AN(),EU=AN({defaultModifiers:[gU,wU,pU,cU,b5,y5,I5,h5,E5]}),xte=AN({defaultModifiers:[gU,wU,pU,cU]});const bU="transitionend",Rte=n=>null==n?`${n}`:Object.prototype.toString.call(n).match(/\s([a-z]+)/i)[1].toLowerCase(),T5=n=>{let e=n.getAttribute("data-bs-target");if(!e||"#"===e){let t=n.getAttribute("href");if(!t||!t.includes("#")&&!t.startsWith("."))return null;t.includes("#")&&!t.startsWith("#")&&(t=`#${t.split("#")[1]}`),e=t&&"#"!==t?t.trim():null}return e},S5=n=>{const e=T5(n);return e&&document.querySelector(e)?e:null},Ud=n=>{const e=T5(n);return e?document.querySelector(e):null},A5=n=>{n.dispatchEvent(new Event(bU))},Vd=n=>!(!n||"object"!=typeof n)&&(typeof n.jquery<"u"&&(n=n[0]),typeof n.nodeType<"u"),Kf=n=>Vd(n)?n.jquery?n[0]:n:"string"==typeof n&&n.length>0?document.querySelector(n):null,f0=n=>{if(!Vd(n)||0===n.getClientRects().length)return!1;const e="visible"===getComputedStyle(n).getPropertyValue("visibility"),t=n.closest("details:not([open])");if(!t)return e;if(t!==n){const r=n.closest("summary");if(r&&r.parentNode!==t||null===r)return!1}return e},Yf=n=>!(n&&n.nodeType===Node.ELEMENT_NODE&&!n.classList.contains("disabled"))||(typeof n.disabled<"u"?n.disabled:n.hasAttribute("disabled")&&"false"!==n.getAttribute("disabled")),x5=n=>{if(!document.documentElement.attachShadow)return null;if("function"==typeof n.getRootNode){const e=n.getRootNode();return e instanceof ShadowRoot?e:null}return n instanceof ShadowRoot?n:n.parentNode?x5(n.parentNode):null},xN=()=>{},N5=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,IU=[],au=()=>"rtl"===document.documentElement.dir,uu=n=>{(n=>{"loading"===document.readyState?(IU.length||document.addEventListener("DOMContentLoaded",()=>{for(const e of IU)e()}),IU.push(n)):n()})(()=>{const e=N5();if(e){const t=n.NAME,r=e.fn[t];e.fn[t]=n.jQueryInterface,e.fn[t].Constructor=n,e.fn[t].noConflict=()=>(e.fn[t]=r,n.jQueryInterface)}})},Bd=n=>{"function"==typeof n&&n()},M5=(n,e,t=!0)=>{if(!t)return void Bd(n);const i=(n=>{if(!n)return 0;let{transitionDuration:e,transitionDelay:t}=window.getComputedStyle(n);const r=Number.parseFloat(e),i=Number.parseFloat(t);return r||i?(e=e.split(",")[0],t=t.split(",")[0],1e3*(Number.parseFloat(e)+Number.parseFloat(t))):0})(e)+5;let u=!1;const c=({target:p})=>{p===e&&(u=!0,e.removeEventListener(bU,c),Bd(n))};e.addEventListener(bU,c),setTimeout(()=>{u||A5(e)},i)},CU=(n,e,t,r)=>{const i=n.length;let u=n.indexOf(e);return-1===u?!t&&r?n[i-1]:n[0]:(u+=t?1:-1,r&&(u=(u+i)%i),n[Math.max(0,Math.min(u,i-1))])},Lte=/[^.]*(?=\..*)\.|.*/,Fte=/\..*/,Ute=/::\d+$/,DU={};let R5=1;const k5={mouseenter:"mouseover",mouseleave:"mouseout"},Vte=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function O5(n,e){return e&&`${e}::${R5++}`||n.uidEvent||R5++}function P5(n){const e=O5(n);return n.uidEvent=e,DU[e]=DU[e]||{},DU[e]}function L5(n,e,t=null){return Object.values(n).find(r=>r.callable===e&&r.delegationSelector===t)}function F5(n,e,t){const r="string"==typeof e,i=r?t:e||t;let u=V5(n);return Vte.has(u)||(u=n),[r,i,u]}function U5(n,e,t,r,i){if("string"!=typeof e||!n)return;let[u,c,p]=F5(e,t,r);var Q;e in k5&&(Q=c,c=function(le){if(!le.relatedTarget||le.relatedTarget!==le.delegateTarget&&!le.delegateTarget.contains(le.relatedTarget))return Q.call(this,le)});const v=P5(n),I=v[p]||(v[p]={}),A=L5(I,c,u?t:null);if(A)return void(A.oneOff=A.oneOff&&i);const M=O5(c,e.replace(Lte,"")),P=u?function jte(n,e,t){return function r(i){const u=n.querySelectorAll(e);for(let{target:c}=i;c&&c!==this;c=c.parentNode)for(const p of u)if(p===c)return SU(i,{delegateTarget:c}),r.oneOff&&ot.off(n,i.type,e,t),t.apply(c,[i])}}(n,t,c):function Bte(n,e){return function t(r){return SU(r,{delegateTarget:n}),t.oneOff&&ot.off(n,r.type,e),e.apply(n,[r])}}(n,c);P.delegationSelector=u?t:null,P.callable=c,P.oneOff=i,P.uidEvent=M,I[M]=P,n.addEventListener(p,P,u)}function TU(n,e,t,r,i){const u=L5(e[t],r,i);!u||(n.removeEventListener(t,u,Boolean(i)),delete e[t][u.uidEvent])}function $te(n,e,t,r){const i=e[t]||{};for(const u of Object.keys(i))if(u.includes(r)){const c=i[u];TU(n,e,t,c.callable,c.delegationSelector)}}function V5(n){return n=n.replace(Fte,""),k5[n]||n}const ot={on(n,e,t,r){U5(n,e,t,r,!1)},one(n,e,t,r){U5(n,e,t,r,!0)},off(n,e,t,r){if("string"!=typeof e||!n)return;const[i,u,c]=F5(e,t,r),p=c!==e,v=P5(n),I=v[c]||{},A=e.startsWith(".");if(typeof u<"u"){if(!Object.keys(I).length)return;TU(n,v,c,u,i?t:null)}else{if(A)for(const M of Object.keys(v))$te(n,v,M,e.slice(1));for(const M of Object.keys(I)){const P=M.replace(Ute,"");if(!p||e.includes(P)){const $=I[M];TU(n,v,c,$.callable,$.delegationSelector)}}}},trigger(n,e,t){if("string"!=typeof e||!n)return null;const r=N5();let c=null,p=!0,v=!0,I=!1;e!==V5(e)&&r&&(c=r.Event(e,t),r(n).trigger(c),p=!c.isPropagationStopped(),v=!c.isImmediatePropagationStopped(),I=c.isDefaultPrevented());let A=new Event(e,{bubbles:p,cancelable:!0});return A=SU(A,t),I&&A.preventDefault(),v&&n.dispatchEvent(A),A.defaultPrevented&&c&&c.preventDefault(),A}};function SU(n,e){for(const[t,r]of Object.entries(e||{}))try{n[t]=r}catch{Object.defineProperty(n,t,{configurable:!0,get:()=>r})}return n}const Qf=new Map,AU={set(n,e,t){Qf.has(n)||Qf.set(n,new Map);const r=Qf.get(n);r.has(e)||0===r.size?r.set(e,t):console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(r.keys())[0]}.`)},get:(n,e)=>Qf.has(n)&&Qf.get(n).get(e)||null,remove(n,e){if(!Qf.has(n))return;const t=Qf.get(n);t.delete(e),0===t.size&&Qf.delete(n)}};function B5(n){if("true"===n)return!0;if("false"===n)return!1;if(n===Number(n).toString())return Number(n);if(""===n||"null"===n)return null;if("string"!=typeof n)return n;try{return JSON.parse(decodeURIComponent(n))}catch{return n}}function xU(n){return n.replace(/[A-Z]/g,e=>`-${e.toLowerCase()}`)}const jd={setDataAttribute(n,e,t){n.setAttribute(`data-bs-${xU(e)}`,t)},removeDataAttribute(n,e){n.removeAttribute(`data-bs-${xU(e)}`)},getDataAttributes(n){if(!n)return{};const e={},t=Object.keys(n.dataset).filter(r=>r.startsWith("bs")&&!r.startsWith("bsConfig"));for(const r of t){let i=r.replace(/^bs/,"");i=i.charAt(0).toLowerCase()+i.slice(1,i.length),e[i]=B5(n.dataset[r])}return e},getDataAttribute:(n,e)=>B5(n.getAttribute(`data-bs-${xU(e)}`))};class LC{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(e){return e=this._mergeConfigObj(e),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}_configAfterMerge(e){return e}_mergeConfigObj(e,t){const r=Vd(t)?jd.getDataAttribute(t,"config"):{};return{...this.constructor.Default,..."object"==typeof r?r:{},...Vd(t)?jd.getDataAttributes(t):{},..."object"==typeof e?e:{}}}_typeCheckConfig(e,t=this.constructor.DefaultType){for(const r of Object.keys(t)){const i=t[r],u=e[r],c=Vd(u)?"element":Rte(u);if(!new RegExp(i).test(c))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${r}" provided type "${c}" but expected type "${i}".`)}}}class Xu extends LC{constructor(e,t){super(),(e=Kf(e))&&(this._element=e,this._config=this._getConfig(t),AU.set(this._element,this.constructor.DATA_KEY,this))}dispose(){AU.remove(this._element,this.constructor.DATA_KEY),ot.off(this._element,this.constructor.EVENT_KEY);for(const e of Object.getOwnPropertyNames(this))this[e]=null}_queueCallback(e,t,r=!0){M5(e,t,r)}_getConfig(e){return e=this._mergeConfigObj(e,this._element),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}static getInstance(e){return AU.get(Kf(e),this.DATA_KEY)}static getOrCreateInstance(e,t={}){return this.getInstance(e)||new this(e,"object"==typeof t?t:null)}static get VERSION(){return"5.2.3"}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(e){return`${e}${this.EVENT_KEY}`}}const NN=(n,e="hide")=>{const r=n.NAME;ot.on(document,`click.dismiss${n.EVENT_KEY}`,`[data-bs-dismiss="${r}"]`,function(i){if(["A","AREA"].includes(this.tagName)&&i.preventDefault(),Yf(this))return;const u=Ud(this)||this.closest(`.${r}`);n.getOrCreateInstance(u)[e]()})},j5=".bs.alert",Wte=`close${j5}`,zte=`closed${j5}`;class MN extends Xu{static get NAME(){return"alert"}close(){if(ot.trigger(this._element,Wte).defaultPrevented)return;this._element.classList.remove("show");const t=this._element.classList.contains("fade");this._queueCallback(()=>this._destroyElement(),this._element,t)}_destroyElement(){this._element.remove(),ot.trigger(this._element,zte),this.dispose()}static jQueryInterface(e){return this.each(function(){const t=MN.getOrCreateInstance(this);if("string"==typeof e){if(void 0===t[e]||e.startsWith("_")||"constructor"===e)throw new TypeError(`No method named "${e}"`);t[e](this)}})}}NN(MN,"close"),uu(MN);const $5='[data-bs-toggle="button"]';class RN extends Xu{static get NAME(){return"button"}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle("active"))}static jQueryInterface(e){return this.each(function(){const t=RN.getOrCreateInstance(this);"toggle"===e&&t[e]()})}}ot.on(document,"click.bs.button.data-api",$5,n=>{n.preventDefault();const e=n.target.closest($5);RN.getOrCreateInstance(e).toggle()}),uu(RN);const Pn={find:(n,e=document.documentElement)=>[].concat(...Element.prototype.querySelectorAll.call(e,n)),findOne:(n,e=document.documentElement)=>Element.prototype.querySelector.call(e,n),children:(n,e)=>[].concat(...n.children).filter(t=>t.matches(e)),parents(n,e){const t=[];let r=n.parentNode.closest(e);for(;r;)t.push(r),r=r.parentNode.closest(e);return t},prev(n,e){let t=n.previousElementSibling;for(;t;){if(t.matches(e))return[t];t=t.previousElementSibling}return[]},next(n,e){let t=n.nextElementSibling;for(;t;){if(t.matches(e))return[t];t=t.nextElementSibling}return[]},focusableChildren(n){const e=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(t=>`${t}:not([tabindex^="-"])`).join(",");return this.find(e,n).filter(t=>!Yf(t)&&f0(t))}},p0=".bs.swipe",tne=`touchstart${p0}`,nne=`touchmove${p0}`,rne=`touchend${p0}`,ine=`pointerdown${p0}`,sne=`pointerup${p0}`,cne={endCallback:null,leftCallback:null,rightCallback:null},dne={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class kN extends LC{constructor(e,t){super(),this._element=e,e&&kN.isSupported()&&(this._config=this._getConfig(t),this._deltaX=0,this._supportPointerEvents=Boolean(window.PointerEvent),this._initEvents())}static get Default(){return cne}static get DefaultType(){return dne}static get NAME(){return"swipe"}dispose(){ot.off(this._element,p0)}_start(e){this._supportPointerEvents?this._eventIsPointerPenTouch(e)&&(this._deltaX=e.clientX):this._deltaX=e.touches[0].clientX}_end(e){this._eventIsPointerPenTouch(e)&&(this._deltaX=e.clientX-this._deltaX),this._handleSwipe(),Bd(this._config.endCallback)}_move(e){this._deltaX=e.touches&&e.touches.length>1?0:e.touches[0].clientX-this._deltaX}_handleSwipe(){const e=Math.abs(this._deltaX);if(e<=40)return;const t=e/this._deltaX;this._deltaX=0,t&&Bd(t>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(ot.on(this._element,ine,e=>this._start(e)),ot.on(this._element,sne,e=>this._end(e)),this._element.classList.add("pointer-event")):(ot.on(this._element,tne,e=>this._start(e)),ot.on(this._element,nne,e=>this._move(e)),ot.on(this._element,rne,e=>this._end(e)))}_eventIsPointerPenTouch(e){return this._supportPointerEvents&&("pen"===e.pointerType||"touch"===e.pointerType)}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const Jf=".bs.carousel",H5=".data-api",FC="next",g0="prev",m0="left",ON="right",mne=`slide${Jf}`,NU=`slid${Jf}`,_ne=`keydown${Jf}`,yne=`mouseenter${Jf}`,vne=`mouseleave${Jf}`,wne=`dragstart${Jf}`,Ene=`load${Jf}${H5}`,bne=`click${Jf}${H5}`,G5="carousel",PN="active",kne={ArrowLeft:ON,ArrowRight:m0},One={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},Pne={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class UC extends Xu{constructor(e,t){super(e,t),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=Pn.findOne(".carousel-indicators",this._element),this._addEventListeners(),this._config.ride===G5&&this.cycle()}static get Default(){return One}static get DefaultType(){return Pne}static get NAME(){return"carousel"}next(){this._slide(FC)}nextWhenVisible(){!document.hidden&&f0(this._element)&&this.next()}prev(){this._slide(g0)}pause(){this._isSliding&&A5(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){if(this._config.ride){if(this._isSliding)return void ot.one(this._element,NU,()=>this.cycle());this.cycle()}}to(e){const t=this._getItems();if(e>t.length-1||e<0)return;if(this._isSliding)return void ot.one(this._element,NU,()=>this.to(e));const r=this._getItemIndex(this._getActive());r!==e&&this._slide(e>r?FC:g0,t[e])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(e){return e.defaultInterval=e.interval,e}_addEventListeners(){this._config.keyboard&&ot.on(this._element,_ne,e=>this._keydown(e)),"hover"===this._config.pause&&(ot.on(this._element,yne,()=>this.pause()),ot.on(this._element,vne,()=>this._maybeEnableCycle())),this._config.touch&&kN.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const r of Pn.find(".carousel-item img",this._element))ot.on(r,wne,i=>i.preventDefault());this._swipeHelper=new kN(this._element,{leftCallback:()=>this._slide(this._directionToOrder(m0)),rightCallback:()=>this._slide(this._directionToOrder(ON)),endCallback:()=>{"hover"===this._config.pause&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),500+this._config.interval))}})}_keydown(e){if(/input|textarea/i.test(e.target.tagName))return;const t=kne[e.key];t&&(e.preventDefault(),this._slide(this._directionToOrder(t)))}_getItemIndex(e){return this._getItems().indexOf(e)}_setActiveIndicatorElement(e){if(!this._indicatorsElement)return;const t=Pn.findOne(".active",this._indicatorsElement);t.classList.remove(PN),t.removeAttribute("aria-current");const r=Pn.findOne(`[data-bs-slide-to="${e}"]`,this._indicatorsElement);r&&(r.classList.add(PN),r.setAttribute("aria-current","true"))}_updateInterval(){const e=this._activeElement||this._getActive();if(!e)return;const t=Number.parseInt(e.getAttribute("data-bs-interval"),10);this._config.interval=t||this._config.defaultInterval}_slide(e,t=null){if(this._isSliding)return;const r=this._getActive(),i=e===FC,u=t||CU(this._getItems(),r,i,this._config.wrap);if(u===r)return;const c=this._getItemIndex(u),p=$=>ot.trigger(this._element,$,{relatedTarget:u,direction:this._orderToDirection(e),from:this._getItemIndex(r),to:c});if(p(mne).defaultPrevented||!r||!u)return;const I=Boolean(this._interval);this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(c),this._activeElement=u;const A=i?"carousel-item-start":"carousel-item-end",M=i?"carousel-item-next":"carousel-item-prev";u.classList.add(M),r.classList.add(A),u.classList.add(A),this._queueCallback(()=>{u.classList.remove(A,M),u.classList.add(PN),r.classList.remove(PN,M,A),this._isSliding=!1,p(NU)},r,this._isAnimated()),I&&this.cycle()}_isAnimated(){return this._element.classList.contains("slide")}_getActive(){return Pn.findOne(".active.carousel-item",this._element)}_getItems(){return Pn.find(".carousel-item",this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(e){return au()?e===m0?g0:FC:e===m0?FC:g0}_orderToDirection(e){return au()?e===g0?m0:ON:e===g0?ON:m0}static jQueryInterface(e){return this.each(function(){const t=UC.getOrCreateInstance(this,e);if("number"!=typeof e){if("string"==typeof e){if(void 0===t[e]||e.startsWith("_")||"constructor"===e)throw new TypeError(`No method named "${e}"`);t[e]()}}else t.to(e)})}}ot.on(document,bne,"[data-bs-slide], [data-bs-slide-to]",function(n){const e=Ud(this);if(!e||!e.classList.contains(G5))return;n.preventDefault();const t=UC.getOrCreateInstance(e),r=this.getAttribute("data-bs-slide-to");return r?(t.to(r),void t._maybeEnableCycle()):"next"===jd.getDataAttribute(this,"slide")?(t.next(),void t._maybeEnableCycle()):(t.prev(),void t._maybeEnableCycle())}),ot.on(window,Ene,()=>{const n=Pn.find('[data-bs-ride="carousel"]');for(const e of n)UC.getOrCreateInstance(e)}),uu(UC);const VC=".bs.collapse",Une=`show${VC}`,Vne=`shown${VC}`,Bne=`hide${VC}`,jne=`hidden${VC}`,$ne=`click${VC}.data-api`,MU="show",_0="collapse",LN="collapsing",Gne=`:scope .${_0} .${_0}`,RU='[data-bs-toggle="collapse"]',Kne={parent:null,toggle:!0},Yne={parent:"(null|element)",toggle:"boolean"};class Mm extends Xu{constructor(e,t){super(e,t),this._isTransitioning=!1,this._triggerArray=[];const r=Pn.find(RU);for(const i of r){const u=S5(i),c=Pn.find(u).filter(p=>p===this._element);null!==u&&c.length&&this._triggerArray.push(i)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return Kne}static get DefaultType(){return Yne}static get NAME(){return"collapse"}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let e=[];if(this._config.parent&&(e=this._getFirstLevelChildren(".collapse.show, .collapse.collapsing").filter(p=>p!==this._element).map(p=>Mm.getOrCreateInstance(p,{toggle:!1}))),e.length&&e[0]._isTransitioning||ot.trigger(this._element,Une).defaultPrevented)return;for(const p of e)p.hide();const r=this._getDimension();this._element.classList.remove(_0),this._element.classList.add(LN),this._element.style[r]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const c=`scroll${r[0].toUpperCase()+r.slice(1)}`;this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(LN),this._element.classList.add(_0,MU),this._element.style[r]="",ot.trigger(this._element,Vne)},this._element,!0),this._element.style[r]=`${this._element[c]}px`}hide(){if(this._isTransitioning||!this._isShown()||ot.trigger(this._element,Bne).defaultPrevented)return;const t=this._getDimension();this._element.style[t]=`${this._element.getBoundingClientRect()[t]}px`,this._element.classList.add(LN),this._element.classList.remove(_0,MU);for(const i of this._triggerArray){const u=Ud(i);u&&!this._isShown(u)&&this._addAriaAndCollapsedClass([i],!1)}this._isTransitioning=!0,this._element.style[t]="",this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(LN),this._element.classList.add(_0),ot.trigger(this._element,jne)},this._element,!0)}_isShown(e=this._element){return e.classList.contains(MU)}_configAfterMerge(e){return e.toggle=Boolean(e.toggle),e.parent=Kf(e.parent),e}_getDimension(){return this._element.classList.contains("collapse-horizontal")?"width":"height"}_initializeChildren(){if(!this._config.parent)return;const e=this._getFirstLevelChildren(RU);for(const t of e){const r=Ud(t);r&&this._addAriaAndCollapsedClass([t],this._isShown(r))}}_getFirstLevelChildren(e){const t=Pn.find(Gne,this._config.parent);return Pn.find(e,this._config.parent).filter(r=>!t.includes(r))}_addAriaAndCollapsedClass(e,t){if(e.length)for(const r of e)r.classList.toggle("collapsed",!t),r.setAttribute("aria-expanded",t)}static jQueryInterface(e){const t={};return"string"==typeof e&&/show|hide/.test(e)&&(t.toggle=!1),this.each(function(){const r=Mm.getOrCreateInstance(this,t);if("string"==typeof e){if(typeof r[e]>"u")throw new TypeError(`No method named "${e}"`);r[e]()}})}}ot.on(document,$ne,RU,function(n){("A"===n.target.tagName||n.delegateTarget&&"A"===n.delegateTarget.tagName)&&n.preventDefault();const e=S5(this),t=Pn.find(e);for(const r of t)Mm.getOrCreateInstance(r,{toggle:!1}).toggle()}),uu(Mm);const q5="dropdown",Rm=".bs.dropdown",kU=".data-api",Jne="ArrowUp",K5="ArrowDown",ere=`hide${Rm}`,tre=`hidden${Rm}`,nre=`show${Rm}`,rre=`shown${Rm}`,Y5=`click${Rm}${kU}`,Q5=`keydown${Rm}${kU}`,ire=`keyup${Rm}${kU}`,y0="show",km='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',cre=`${km}.show`,FN=".dropdown-menu",pre=au()?"top-end":"top-start",gre=au()?"top-start":"top-end",mre=au()?"bottom-end":"bottom-start",_re=au()?"bottom-start":"bottom-end",yre=au()?"left-start":"right-start",vre=au()?"right-start":"left-start",bre={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},Ire={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class dc extends Xu{constructor(e,t){super(e,t),this._popper=null,this._parent=this._element.parentNode,this._menu=Pn.next(this._element,FN)[0]||Pn.prev(this._element,FN)[0]||Pn.findOne(FN,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return bre}static get DefaultType(){return Ire}static get NAME(){return q5}toggle(){return this._isShown()?this.hide():this.show()}show(){if(Yf(this._element)||this._isShown())return;const e={relatedTarget:this._element};if(!ot.trigger(this._element,nre,e).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(".navbar-nav"))for(const r of[].concat(...document.body.children))ot.on(r,"mouseover",xN);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(y0),this._element.classList.add(y0),ot.trigger(this._element,rre,e)}}hide(){!Yf(this._element)&&this._isShown()&&this._completeHide({relatedTarget:this._element})}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(e){if(!ot.trigger(this._element,ere,e).defaultPrevented){if("ontouchstart"in document.documentElement)for(const r of[].concat(...document.body.children))ot.off(r,"mouseover",xN);this._popper&&this._popper.destroy(),this._menu.classList.remove(y0),this._element.classList.remove(y0),this._element.setAttribute("aria-expanded","false"),jd.removeDataAttribute(this._menu,"popper"),ot.trigger(this._element,tre,e)}}_getConfig(e){if("object"==typeof(e=super._getConfig(e)).reference&&!Vd(e.reference)&&"function"!=typeof e.reference.getBoundingClientRect)throw new TypeError(`${q5.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return e}_createPopper(){if(typeof O>"u")throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let e=this._element;"parent"===this._config.reference?e=this._parent:Vd(this._config.reference)?e=Kf(this._config.reference):"object"==typeof this._config.reference&&(e=this._config.reference);const t=this._getPopperConfig();this._popper=EU(e,this._menu,t)}_isShown(){return this._menu.classList.contains(y0)}_getPlacement(){const e=this._parent;if(e.classList.contains("dropend"))return yre;if(e.classList.contains("dropstart"))return vre;if(e.classList.contains("dropup-center"))return"top";if(e.classList.contains("dropdown-center"))return"bottom";const t="end"===getComputedStyle(this._menu).getPropertyValue("--bs-position").trim();return e.classList.contains("dropup")?t?gre:pre:t?_re:mre}_detectNavbar(){return null!==this._element.closest(".navbar")}_getOffset(){const{offset:e}=this._config;return"string"==typeof e?e.split(",").map(t=>Number.parseInt(t,10)):"function"==typeof e?t=>e(t,this._element):e}_getPopperConfig(){const e={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||"static"===this._config.display)&&(jd.setDataAttribute(this._menu,"popper","static"),e.modifiers=[{name:"applyStyles",enabled:!1}]),{...e,..."function"==typeof this._config.popperConfig?this._config.popperConfig(e):this._config.popperConfig}}_selectMenuItem({key:e,target:t}){const r=Pn.find(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",this._menu).filter(i=>f0(i));!r.length||CU(r,t,e===K5,!r.includes(t)).focus()}static jQueryInterface(e){return this.each(function(){const t=dc.getOrCreateInstance(this,e);if("string"==typeof e){if(typeof t[e]>"u")throw new TypeError(`No method named "${e}"`);t[e]()}})}static clearMenus(e){if(2===e.button||"keyup"===e.type&&"Tab"!==e.key)return;const t=Pn.find(cre);for(const r of t){const i=dc.getInstance(r);if(!i||!1===i._config.autoClose)continue;const u=e.composedPath(),c=u.includes(i._menu);if(u.includes(i._element)||"inside"===i._config.autoClose&&!c||"outside"===i._config.autoClose&&c||i._menu.contains(e.target)&&("keyup"===e.type&&"Tab"===e.key||/input|select|option|textarea|form/i.test(e.target.tagName)))continue;const p={relatedTarget:i._element};"click"===e.type&&(p.clickEvent=e),i._completeHide(p)}}static dataApiKeydownHandler(e){const t=/input|textarea/i.test(e.target.tagName),r="Escape"===e.key,i=[Jne,K5].includes(e.key);if(!i&&!r||t&&!r)return;e.preventDefault();const u=this.matches(km)?this:Pn.prev(this,km)[0]||Pn.next(this,km)[0]||Pn.findOne(km,e.delegateTarget.parentNode),c=dc.getOrCreateInstance(u);if(i)return e.stopPropagation(),c.show(),void c._selectMenuItem(e);c._isShown()&&(e.stopPropagation(),c.hide(),u.focus())}}ot.on(document,Q5,km,dc.dataApiKeydownHandler),ot.on(document,Q5,FN,dc.dataApiKeydownHandler),ot.on(document,Y5,dc.clearMenus),ot.on(document,ire,dc.clearMenus),ot.on(document,Y5,km,function(n){n.preventDefault(),dc.getOrCreateInstance(this).toggle()}),uu(dc);const J5=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",X5=".sticky-top",UN="padding-right",e8="margin-right";class OU{constructor(){this._element=document.body}getWidth(){const e=document.documentElement.clientWidth;return Math.abs(window.innerWidth-e)}hide(){const e=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,UN,t=>t+e),this._setElementAttributes(J5,UN,t=>t+e),this._setElementAttributes(X5,e8,t=>t-e)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,UN),this._resetElementAttributes(J5,UN),this._resetElementAttributes(X5,e8)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(e,t,r){const i=this.getWidth();this._applyManipulationCallback(e,c=>{if(c!==this._element&&window.innerWidth>c.clientWidth+i)return;this._saveInitialAttribute(c,t);const p=window.getComputedStyle(c).getPropertyValue(t);c.style.setProperty(t,`${r(Number.parseFloat(p))}px`)})}_saveInitialAttribute(e,t){const r=e.style.getPropertyValue(t);r&&jd.setDataAttribute(e,t,r)}_resetElementAttributes(e,t){this._applyManipulationCallback(e,i=>{const u=jd.getDataAttribute(i,t);null!==u?(jd.removeDataAttribute(i,t),i.style.setProperty(t,u)):i.style.removeProperty(t)})}_applyManipulationCallback(e,t){if(Vd(e))t(e);else for(const r of Pn.find(e,this._element))t(r)}}const t8="backdrop",r8=`mousedown.bs.${t8}`,Dre={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},Tre={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class i8 extends LC{constructor(e){super(),this._config=this._getConfig(e),this._isAppended=!1,this._element=null}static get Default(){return Dre}static get DefaultType(){return Tre}static get NAME(){return t8}show(e){if(!this._config.isVisible)return void Bd(e);this._append();this._getElement().classList.add("show"),this._emulateAnimation(()=>{Bd(e)})}hide(e){this._config.isVisible?(this._getElement().classList.remove("show"),this._emulateAnimation(()=>{this.dispose(),Bd(e)})):Bd(e)}dispose(){!this._isAppended||(ot.off(this._element,r8),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const e=document.createElement("div");e.className=this._config.className,this._config.isAnimated&&e.classList.add("fade"),this._element=e}return this._element}_configAfterMerge(e){return e.rootElement=Kf(e.rootElement),e}_append(){if(this._isAppended)return;const e=this._getElement();this._config.rootElement.append(e),ot.on(e,r8,()=>{Bd(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(e){M5(e,this._getElement(),this._config.isAnimated)}}const VN=".bs.focustrap",Are=`focusin${VN}`,xre=`keydown.tab${VN}`,s8="backward",Rre={autofocus:!0,trapElement:null},kre={autofocus:"boolean",trapElement:"element"};class o8 extends LC{constructor(e){super(),this._config=this._getConfig(e),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return Rre}static get DefaultType(){return kre}static get NAME(){return"focustrap"}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),ot.off(document,VN),ot.on(document,Are,e=>this._handleFocusin(e)),ot.on(document,xre,e=>this._handleKeydown(e)),this._isActive=!0)}deactivate(){!this._isActive||(this._isActive=!1,ot.off(document,VN))}_handleFocusin(e){const{trapElement:t}=this._config;if(e.target===document||e.target===t||t.contains(e.target))return;const r=Pn.focusableChildren(t);0===r.length?t.focus():this._lastTabNavDirection===s8?r[r.length-1].focus():r[0].focus()}_handleKeydown(e){"Tab"===e.key&&(this._lastTabNavDirection=e.shiftKey?s8:"forward")}}const el=".bs.modal",Fre=`hide${el}`,Ure=`hidePrevented${el}`,a8=`hidden${el}`,u8=`show${el}`,Vre=`shown${el}`,Bre=`resize${el}`,jre=`click.dismiss${el}`,$re=`mousedown.dismiss${el}`,Hre=`keydown.dismiss${el}`,Gre=`click${el}.data-api`,l8="modal-open",PU="modal-static",Yre={backdrop:!0,focus:!0,keyboard:!0},Qre={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class Xf extends Xu{constructor(e,t){super(e,t),this._dialog=Pn.findOne(".modal-dialog",this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new OU,this._addEventListeners()}static get Default(){return Yre}static get DefaultType(){return Qre}static get NAME(){return"modal"}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){this._isShown||this._isTransitioning||ot.trigger(this._element,u8,{relatedTarget:e}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(l8),this._adjustDialog(),this._backdrop.show(()=>this._showElement(e)))}hide(){!this._isShown||this._isTransitioning||ot.trigger(this._element,Fre).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove("show"),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated()))}dispose(){for(const e of[window,this._dialog])ot.off(e,el);this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new i8({isVisible:Boolean(this._config.backdrop),isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new o8({trapElement:this._element})}_showElement(e){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const t=Pn.findOne(".modal-body",this._dialog);t&&(t.scrollTop=0),this._element.classList.add("show"),this._queueCallback(()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,ot.trigger(this._element,Vre,{relatedTarget:e})},this._dialog,this._isAnimated())}_addEventListeners(){ot.on(this._element,Hre,e=>{if("Escape"===e.key){if(this._config.keyboard)return e.preventDefault(),void this.hide();this._triggerBackdropTransition()}}),ot.on(window,Bre,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),ot.on(this._element,$re,e=>{ot.one(this._element,jre,t=>{if(this._element===e.target&&this._element===t.target){if("static"===this._config.backdrop)return void this._triggerBackdropTransition();this._config.backdrop&&this.hide()}})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(l8),this._resetAdjustments(),this._scrollBar.reset(),ot.trigger(this._element,a8)})}_isAnimated(){return this._element.classList.contains("fade")}_triggerBackdropTransition(){if(ot.trigger(this._element,Ure).defaultPrevented)return;const t=this._element.scrollHeight>document.documentElement.clientHeight,r=this._element.style.overflowY;"hidden"===r||this._element.classList.contains(PU)||(t||(this._element.style.overflowY="hidden"),this._element.classList.add(PU),this._queueCallback(()=>{this._element.classList.remove(PU),this._queueCallback(()=>{this._element.style.overflowY=r},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const e=this._element.scrollHeight>document.documentElement.clientHeight,t=this._scrollBar.getWidth(),r=t>0;if(r&&!e){const i=au()?"paddingLeft":"paddingRight";this._element.style[i]=`${t}px`}if(!r&&e){const i=au()?"paddingRight":"paddingLeft";this._element.style[i]=`${t}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(e,t){return this.each(function(){const r=Xf.getOrCreateInstance(this,e);if("string"==typeof e){if(typeof r[e]>"u")throw new TypeError(`No method named "${e}"`);r[e](t)}})}}ot.on(document,Gre,'[data-bs-toggle="modal"]',function(n){const e=Ud(this);["A","AREA"].includes(this.tagName)&&n.preventDefault(),ot.one(e,u8,i=>{i.defaultPrevented||ot.one(e,a8,()=>{f0(this)&&this.focus()})});const t=Pn.findOne(".modal.show");t&&Xf.getInstance(t).hide(),Xf.getOrCreateInstance(e).toggle(this)}),NN(Xf),uu(Xf);const $d=".bs.offcanvas",d8=".data-api",Xre=`load${$d}${d8}`,f8="showing",g8=".offcanvas.show",nie=`show${$d}`,rie=`shown${$d}`,iie=`hide${$d}`,m8=`hidePrevented${$d}`,_8=`hidden${$d}`,sie=`resize${$d}`,oie=`click${$d}${d8}`,aie=`keydown.dismiss${$d}`,lie={backdrop:!0,keyboard:!0,scroll:!1},cie={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class ep extends Xu{constructor(e,t){super(e,t),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return lie}static get DefaultType(){return cie}static get NAME(){return"offcanvas"}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){this._isShown||ot.trigger(this._element,nie,{relatedTarget:e}).defaultPrevented||(this._isShown=!0,this._backdrop.show(),this._config.scroll||(new OU).hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(f8),this._queueCallback(()=>{(!this._config.scroll||this._config.backdrop)&&this._focustrap.activate(),this._element.classList.add("show"),this._element.classList.remove(f8),ot.trigger(this._element,rie,{relatedTarget:e})},this._element,!0))}hide(){this._isShown&&!ot.trigger(this._element,iie).defaultPrevented&&(this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add("hiding"),this._backdrop.hide(),this._queueCallback(()=>{this._element.classList.remove("show","hiding"),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||(new OU).reset(),ot.trigger(this._element,_8)},this._element,!0))}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const t=Boolean(this._config.backdrop);return new i8({className:"offcanvas-backdrop",isVisible:t,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:t?()=>{"static"!==this._config.backdrop?this.hide():ot.trigger(this._element,m8)}:null})}_initializeFocusTrap(){return new o8({trapElement:this._element})}_addEventListeners(){ot.on(this._element,aie,e=>{if("Escape"===e.key){if(!this._config.keyboard)return void ot.trigger(this._element,m8);this.hide()}})}static jQueryInterface(e){return this.each(function(){const t=ep.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===t[e]||e.startsWith("_")||"constructor"===e)throw new TypeError(`No method named "${e}"`);t[e](this)}})}}ot.on(document,oie,'[data-bs-toggle="offcanvas"]',function(n){const e=Ud(this);if(["A","AREA"].includes(this.tagName)&&n.preventDefault(),Yf(this))return;ot.one(e,_8,()=>{f0(this)&&this.focus()});const t=Pn.findOne(g8);t&&t!==e&&ep.getInstance(t).hide(),ep.getOrCreateInstance(e).toggle(this)}),ot.on(window,Xre,()=>{for(const n of Pn.find(g8))ep.getOrCreateInstance(n).show()}),ot.on(window,sie,()=>{for(const n of Pn.find("[aria-modal][class*=show][class*=offcanvas-]"))"fixed"!==getComputedStyle(n).position&&ep.getOrCreateInstance(n).hide()}),NN(ep),uu(ep);const die=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),fie=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^#&/:?]*(?:[#/?]|$))/i,pie=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[\d+/a-z]+=*$/i,gie=(n,e)=>{const t=n.nodeName.toLowerCase();return e.includes(t)?!die.has(t)||Boolean(fie.test(n.nodeValue)||pie.test(n.nodeValue)):e.filter(r=>r instanceof RegExp).some(r=>r.test(t))},y8={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},yie={allowList:y8,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},vie={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},wie={entry:"(string|element|function|null)",selector:"(string|element)"};class Eie extends LC{constructor(e){super(),this._config=this._getConfig(e)}static get Default(){return yie}static get DefaultType(){return vie}static get NAME(){return"TemplateFactory"}getContent(){return Object.values(this._config.content).map(e=>this._resolvePossibleFunction(e)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(e){return this._checkContent(e),this._config.content={...this._config.content,...e},this}toHtml(){const e=document.createElement("div");e.innerHTML=this._maybeSanitize(this._config.template);for(const[i,u]of Object.entries(this._config.content))this._setContent(e,u,i);const t=e.children[0],r=this._resolvePossibleFunction(this._config.extraClass);return r&&t.classList.add(...r.split(" ")),t}_typeCheckConfig(e){super._typeCheckConfig(e),this._checkContent(e.content)}_checkContent(e){for(const[t,r]of Object.entries(e))super._typeCheckConfig({selector:t,entry:r},wie)}_setContent(e,t,r){const i=Pn.findOne(r,e);if(i){if(!(t=this._resolvePossibleFunction(t)))return void i.remove();if(Vd(t))return void this._putElementInTemplate(Kf(t),i);if(this._config.html)return void(i.innerHTML=this._maybeSanitize(t));i.textContent=t}}_maybeSanitize(e){return this._config.sanitize?function mie(n,e,t){if(!n.length)return n;if(t&&"function"==typeof t)return t(n);const i=(new window.DOMParser).parseFromString(n,"text/html"),u=[].concat(...i.body.querySelectorAll("*"));for(const c of u){const p=c.nodeName.toLowerCase();if(!Object.keys(e).includes(p)){c.remove();continue}const v=[].concat(...c.attributes),I=[].concat(e["*"]||[],e[p]||[]);for(const A of v)gie(A,I)||c.removeAttribute(A.nodeName)}return i.body.innerHTML}(e,this._config.allowList,this._config.sanitizeFn):e}_resolvePossibleFunction(e){return"function"==typeof e?e(this):e}_putElementInTemplate(e,t){if(this._config.html)return t.innerHTML="",void t.append(e);t.textContent=e.textContent}}const Iie=new Set(["sanitize","allowList","sanitizeFn"]),LU="fade",BN="show",w8="hide.bs.modal",BC="hover",FU="focus",Uie={AUTO:"auto",TOP:"top",RIGHT:au()?"left":"right",BOTTOM:"bottom",LEFT:au()?"right":"left"},Vie={allowList:y8,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,0],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},Bie={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class Om extends Xu{constructor(e,t){if(typeof O>"u")throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(e,t),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return Vie}static get DefaultType(){return Bie}static get NAME(){return"tooltip"}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){if(this._isEnabled){if(this._activeTrigger.click=!this._activeTrigger.click,this._isShown())return void this._leave();this._enter()}}dispose(){clearTimeout(this._timeout),ot.off(this._element.closest(".modal"),w8,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if("none"===this._element.style.display)throw new Error("Please use show on visible elements");if(!this._isWithContent()||!this._isEnabled)return;const e=ot.trigger(this._element,this.constructor.eventName("show")),r=(x5(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(e.defaultPrevented||!r)return;this._disposePopper();const i=this._getTipElement();this._element.setAttribute("aria-describedby",i.getAttribute("id"));const{container:u}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(u.append(i),ot.trigger(this._element,this.constructor.eventName("inserted"))),this._popper=this._createPopper(i),i.classList.add(BN),"ontouchstart"in document.documentElement)for(const p of[].concat(...document.body.children))ot.on(p,"mouseover",xN);this._queueCallback(()=>{ot.trigger(this._element,this.constructor.eventName("shown")),!1===this._isHovered&&this._leave(),this._isHovered=!1},this.tip,this._isAnimated())}hide(){if(this._isShown()&&!ot.trigger(this._element,this.constructor.eventName("hide")).defaultPrevented){if(this._getTipElement().classList.remove(BN),"ontouchstart"in document.documentElement)for(const i of[].concat(...document.body.children))ot.off(i,"mouseover",xN);this._activeTrigger.click=!1,this._activeTrigger[FU]=!1,this._activeTrigger[BC]=!1,this._isHovered=null,this._queueCallback(()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),ot.trigger(this._element,this.constructor.eventName("hidden")))},this.tip,this._isAnimated())}}update(){this._popper&&this._popper.update()}_isWithContent(){return Boolean(this._getTitle())}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(e){const t=this._getTemplateFactory(e).toHtml();if(!t)return null;t.classList.remove(LU,BN),t.classList.add(`bs-${this.constructor.NAME}-auto`);const r=(n=>{do{n+=Math.floor(1e6*Math.random())}while(document.getElementById(n));return n})(this.constructor.NAME).toString();return t.setAttribute("id",r),this._isAnimated()&&t.classList.add(LU),t}setContent(e){this._newContent=e,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(e){return this._templateFactory?this._templateFactory.changeContent(e):this._templateFactory=new Eie({...this._config,content:e,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{".tooltip-inner":this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(e){return this.constructor.getOrCreateInstance(e.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(LU)}_isShown(){return this.tip&&this.tip.classList.contains(BN)}_createPopper(e){const t="function"==typeof this._config.placement?this._config.placement.call(this,e,this._element):this._config.placement,r=Uie[t.toUpperCase()];return EU(this._element,e,this._getPopperConfig(r))}_getOffset(){const{offset:e}=this._config;return"string"==typeof e?e.split(",").map(t=>Number.parseInt(t,10)):"function"==typeof e?t=>e(t,this._element):e}_resolvePossibleFunction(e){return"function"==typeof e?e.call(this._element):e}_getPopperConfig(e){const t={placement:e,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:r=>{this._getTipElement().setAttribute("data-popper-placement",r.state.placement)}}]};return{...t,..."function"==typeof this._config.popperConfig?this._config.popperConfig(t):this._config.popperConfig}}_setListeners(){const e=this._config.trigger.split(" ");for(const t of e)if("click"===t)ot.on(this._element,this.constructor.eventName("click"),this._config.selector,r=>{this._initializeOnDelegatedTarget(r).toggle()});else if("manual"!==t){const r=this.constructor.eventName(t===BC?"mouseenter":"focusin"),i=this.constructor.eventName(t===BC?"mouseleave":"focusout");ot.on(this._element,r,this._config.selector,u=>{const c=this._initializeOnDelegatedTarget(u);c._activeTrigger["focusin"===u.type?FU:BC]=!0,c._enter()}),ot.on(this._element,i,this._config.selector,u=>{const c=this._initializeOnDelegatedTarget(u);c._activeTrigger["focusout"===u.type?FU:BC]=c._element.contains(u.relatedTarget),c._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},ot.on(this._element.closest(".modal"),w8,this._hideModalHandler)}_fixTitle(){const e=this._element.getAttribute("title");!e||(!this._element.getAttribute("aria-label")&&!this._element.textContent.trim()&&this._element.setAttribute("aria-label",e),this._element.setAttribute("data-bs-original-title",e),this._element.removeAttribute("title"))}_enter(){this._isShown()||this._isHovered?this._isHovered=!0:(this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show))}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(e,t){clearTimeout(this._timeout),this._timeout=setTimeout(e,t)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(e){const t=jd.getDataAttributes(this._element);for(const r of Object.keys(t))Iie.has(r)&&delete t[r];return e={...t,..."object"==typeof e&&e?e:{}},e=this._mergeConfigObj(e),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}_configAfterMerge(e){return e.container=!1===e.container?document.body:Kf(e.container),"number"==typeof e.delay&&(e.delay={show:e.delay,hide:e.delay}),"number"==typeof e.title&&(e.title=e.title.toString()),"number"==typeof e.content&&(e.content=e.content.toString()),e}_getDelegateConfig(){const e={};for(const t in this._config)this.constructor.Default[t]!==this._config[t]&&(e[t]=this._config[t]);return e.selector=!1,e.trigger="manual",e}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(e){return this.each(function(){const t=Om.getOrCreateInstance(this,e);if("string"==typeof e){if(typeof t[e]>"u")throw new TypeError(`No method named "${e}"`);t[e]()}})}}uu(Om);const Gie={...Om.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},Wie={...Om.DefaultType,content:"(null|string|element|function)"};class UU extends Om{static get Default(){return Gie}static get DefaultType(){return Wie}static get NAME(){return"popover"}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{".popover-header":this._getTitle(),".popover-body":this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(e){return this.each(function(){const t=UU.getOrCreateInstance(this,e);if("string"==typeof e){if(typeof t[e]>"u")throw new TypeError(`No method named "${e}"`);t[e]()}})}}uu(UU);const VU=".bs.scrollspy",Zie=`activate${VU}`,E8=`click${VU}`,Kie=`load${VU}.data-api`,v0="active",BU="[href]",b8=".nav-link",Xie=`${b8}, .nav-item > ${b8}, .list-group-item`,nse={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},rse={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class jN extends Xu{constructor(e,t){super(e,t),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement="visible"===getComputedStyle(this._element).overflowY?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return nse}static get DefaultType(){return rse}static get NAME(){return"scrollspy"}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const e of this._observableSections.values())this._observer.observe(e)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(e){return e.target=Kf(e.target)||document.body,e.rootMargin=e.offset?`${e.offset}px 0px -30%`:e.rootMargin,"string"==typeof e.threshold&&(e.threshold=e.threshold.split(",").map(t=>Number.parseFloat(t))),e}_maybeEnableSmoothScroll(){!this._config.smoothScroll||(ot.off(this._config.target,E8),ot.on(this._config.target,E8,BU,e=>{const t=this._observableSections.get(e.target.hash);if(t){e.preventDefault();const r=this._rootElement||window,i=t.offsetTop-this._element.offsetTop;if(r.scrollTo)return void r.scrollTo({top:i,behavior:"smooth"});r.scrollTop=i}}))}_getNewObserver(){return new IntersectionObserver(t=>this._observerCallback(t),{root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin})}_observerCallback(e){const t=c=>this._targetLinks.get(`#${c.target.id}`),r=c=>{this._previousScrollData.visibleEntryTop=c.target.offsetTop,this._process(t(c))},i=(this._rootElement||document.documentElement).scrollTop,u=i>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=i;for(const c of e){if(!c.isIntersecting){this._activeTarget=null,this._clearActiveClass(t(c));continue}const p=c.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(u&&p){if(r(c),!i)return}else!u&&!p&&r(c)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const e=Pn.find(BU,this._config.target);for(const t of e){if(!t.hash||Yf(t))continue;const r=Pn.findOne(t.hash,this._element);f0(r)&&(this._targetLinks.set(t.hash,t),this._observableSections.set(t.hash,r))}}_process(e){this._activeTarget!==e&&(this._clearActiveClass(this._config.target),this._activeTarget=e,e.classList.add(v0),this._activateParents(e),ot.trigger(this._element,Zie,{relatedTarget:e}))}_activateParents(e){if(e.classList.contains("dropdown-item"))Pn.findOne(".dropdown-toggle",e.closest(".dropdown")).classList.add(v0);else for(const t of Pn.parents(e,".nav, .list-group"))for(const r of Pn.prev(t,Xie))r.classList.add(v0)}_clearActiveClass(e){e.classList.remove(v0);const t=Pn.find(`${BU}.${v0}`,e);for(const r of t)r.classList.remove(v0)}static jQueryInterface(e){return this.each(function(){const t=jN.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===t[e]||e.startsWith("_")||"constructor"===e)throw new TypeError(`No method named "${e}"`);t[e]()}})}}ot.on(window,Kie,()=>{for(const n of Pn.find('[data-bs-spy="scroll"]'))jN.getOrCreateInstance(n)}),uu(jN);const Pm=".bs.tab",sse=`hide${Pm}`,ose=`hidden${Pm}`,ase=`show${Pm}`,use=`shown${Pm}`,lse=`click${Pm}`,cse=`keydown${Pm}`,dse=`load${Pm}`,hse="ArrowLeft",I8="ArrowRight",fse="ArrowUp",C8="ArrowDown",Lm="active",jU="show",$U=":not(.dropdown-toggle)",T8='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',HU=`.nav-link${$U}, .list-group-item${$U}, [role="tab"]${$U}, ${T8}`,wse=`.${Lm}[data-bs-toggle="tab"], .${Lm}[data-bs-toggle="pill"], .${Lm}[data-bs-toggle="list"]`;class w0 extends Xu{constructor(e){super(e),this._parent=this._element.closest('.list-group, .nav, [role="tablist"]'),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),ot.on(this._element,cse,t=>this._keydown(t)))}static get NAME(){return"tab"}show(){const e=this._element;if(this._elemIsActive(e))return;const t=this._getActiveElem(),r=t?ot.trigger(t,sse,{relatedTarget:e}):null;ot.trigger(e,ase,{relatedTarget:t}).defaultPrevented||r&&r.defaultPrevented||(this._deactivate(t,e),this._activate(e,t))}_activate(e,t){e&&(e.classList.add(Lm),this._activate(Ud(e)),this._queueCallback(()=>{"tab"===e.getAttribute("role")?(e.removeAttribute("tabindex"),e.setAttribute("aria-selected",!0),this._toggleDropDown(e,!0),ot.trigger(e,use,{relatedTarget:t})):e.classList.add(jU)},e,e.classList.contains("fade")))}_deactivate(e,t){e&&(e.classList.remove(Lm),e.blur(),this._deactivate(Ud(e)),this._queueCallback(()=>{"tab"===e.getAttribute("role")?(e.setAttribute("aria-selected",!1),e.setAttribute("tabindex","-1"),this._toggleDropDown(e,!1),ot.trigger(e,ose,{relatedTarget:t})):e.classList.remove(jU)},e,e.classList.contains("fade")))}_keydown(e){if(![hse,I8,fse,C8].includes(e.key))return;e.stopPropagation(),e.preventDefault();const t=[I8,C8].includes(e.key),r=CU(this._getChildren().filter(i=>!Yf(i)),e.target,t,!0);r&&(r.focus({preventScroll:!0}),w0.getOrCreateInstance(r).show())}_getChildren(){return Pn.find(HU,this._parent)}_getActiveElem(){return this._getChildren().find(e=>this._elemIsActive(e))||null}_setInitialAttributes(e,t){this._setAttributeIfNotExists(e,"role","tablist");for(const r of t)this._setInitialAttributesOnChild(r)}_setInitialAttributesOnChild(e){e=this._getInnerElement(e);const t=this._elemIsActive(e),r=this._getOuterElement(e);e.setAttribute("aria-selected",t),r!==e&&this._setAttributeIfNotExists(r,"role","presentation"),t||e.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(e,"role","tab"),this._setInitialAttributesOnTargetPanel(e)}_setInitialAttributesOnTargetPanel(e){const t=Ud(e);!t||(this._setAttributeIfNotExists(t,"role","tabpanel"),e.id&&this._setAttributeIfNotExists(t,"aria-labelledby",`#${e.id}`))}_toggleDropDown(e,t){const r=this._getOuterElement(e);if(!r.classList.contains("dropdown"))return;const i=(u,c)=>{const p=Pn.findOne(u,r);p&&p.classList.toggle(c,t)};i(".dropdown-toggle",Lm),i(".dropdown-menu",jU),r.setAttribute("aria-expanded",t)}_setAttributeIfNotExists(e,t,r){e.hasAttribute(t)||e.setAttribute(t,r)}_elemIsActive(e){return e.classList.contains(Lm)}_getInnerElement(e){return e.matches(HU)?e:Pn.findOne(HU,e)}_getOuterElement(e){return e.closest(".nav-item, .list-group-item")||e}static jQueryInterface(e){return this.each(function(){const t=w0.getOrCreateInstance(this);if("string"==typeof e){if(void 0===t[e]||e.startsWith("_")||"constructor"===e)throw new TypeError(`No method named "${e}"`);t[e]()}})}}ot.on(document,lse,T8,function(n){["A","AREA"].includes(this.tagName)&&n.preventDefault(),!Yf(this)&&w0.getOrCreateInstance(this).show()}),ot.on(window,dse,()=>{for(const n of Pn.find(wse))w0.getOrCreateInstance(n)}),uu(w0);const tp=".bs.toast",bse=`mouseover${tp}`,Ise=`mouseout${tp}`,Cse=`focusin${tp}`,Dse=`focusout${tp}`,Tse=`hide${tp}`,Sse=`hidden${tp}`,Ase=`show${tp}`,xse=`shown${tp}`,$N="show",HN="showing",Mse={animation:"boolean",autohide:"boolean",delay:"number"},Rse={animation:!0,autohide:!0,delay:5e3};class GN extends Xu{constructor(e,t){super(e,t),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return Rse}static get DefaultType(){return Mse}static get NAME(){return"toast"}show(){ot.trigger(this._element,Ase).defaultPrevented||(this._clearTimeout(),this._config.animation&&this._element.classList.add("fade"),this._element.classList.remove("hide"),this._element.classList.add($N,HN),this._queueCallback(()=>{this._element.classList.remove(HN),ot.trigger(this._element,xse),this._maybeScheduleHide()},this._element,this._config.animation))}hide(){this.isShown()&&!ot.trigger(this._element,Tse).defaultPrevented&&(this._element.classList.add(HN),this._queueCallback(()=>{this._element.classList.add("hide"),this._element.classList.remove(HN,$N),ot.trigger(this._element,Sse)},this._element,this._config.animation))}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove($N),super.dispose()}isShown(){return this._element.classList.contains($N)}_maybeScheduleHide(){!this._config.autohide||this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay))}_onInteraction(e,t){switch(e.type){case"mouseover":case"mouseout":this._hasMouseInteraction=t;break;case"focusin":case"focusout":this._hasKeyboardInteraction=t}if(t)return void this._clearTimeout();const r=e.relatedTarget;this._element===r||this._element.contains(r)||this._maybeScheduleHide()}_setListeners(){ot.on(this._element,bse,e=>this._onInteraction(e,!0)),ot.on(this._element,Ise,e=>this._onInteraction(e,!1)),ot.on(this._element,Cse,e=>this._onInteraction(e,!0)),ot.on(this._element,Dse,e=>this._onInteraction(e,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(e){return this.each(function(){const t=GN.getOrCreateInstance(this,e);if("string"==typeof e){if(typeof t[e]>"u")throw new TypeError(`No method named "${e}"`);t[e](this)}})}}function kse(n,e){if(1&n&&(h.TgZ(0,"option",42),h._uU(1),h.qZA()),2&n){const t=e.$implicit;h.Q6J("value",t.value.name),h.xp6(1),h.Oqu(t.value.name)}}function Ose(n,e){if(1&n){const t=h.EpF();h.TgZ(0,"tr",43)(1,"td"),h._uU(2),h.qZA(),h.TgZ(3,"td"),h._uU(4),h.ALo(5,"date"),h.qZA(),h.TgZ(6,"td"),h._uU(7),h.qZA(),h.TgZ(8,"td"),h._uU(9),h.qZA(),h.TgZ(10,"td"),h._uU(11),h.qZA(),h.TgZ(12,"td"),h._uU(13),h.ALo(14,"date"),h.qZA(),h.TgZ(15,"a",44),h.NdJ("click",function(){const u=h.CHM(t).$implicit,c=h.oxw();return h.KtG(c.view_order(u.key))}),h.qZA()()}if(2&n){const t=e.$implicit;h.xp6(2),h.Oqu(t.value.info),h.xp6(2),h.Oqu(h.xi3(5,6,t.value.created_ts,"short")),h.xp6(3),h.Oqu(t.value.customer_name),h.xp6(2),h.Oqu(t.value.pathway),h.xp6(2),h.Oqu(t.value.checkpoints[t.value.reached_idx].name),h.xp6(2),h.Oqu(h.xi3(14,9,t.value.checkpoints[t.value.reached_idx].reached_ts,"short"))}}function Pse(n,e){if(1&n&&(h.TgZ(0,"option",42),h._uU(1),h.qZA()),2&n){const t=e.$implicit;h.Q6J("value",t.key),h.xp6(1),h.Oqu(t.value.name)}}function Lse(n,e){1&n&&(h.TgZ(0,"div",45)(1,"span",46),h._uU(2,"Loading..."),h.qZA()())}function Fse(n,e){1&n&&(h.ynx(0),h._uU(1," (Finished)"),h.BQk())}function Use(n,e){if(1&n&&(h.TgZ(0,"p",62),h._uU(1),h.qZA()),2&n){const t=h.oxw(2).$implicit;h.xp6(1),h.hij(" ",t.desc," ")}}function Vse(n,e){if(1&n&&(h.TgZ(0,"p",62),h._uU(1),h.qZA()),2&n){const t=h.oxw(2).$implicit;h.xp6(1),h.hij(" ",t.extra_info," ")}}function Bse(n,e){if(1&n){const t=h.EpF();h.TgZ(0,"div",55)(1,"h2",56)(2,"button",57),h.NdJ("click",function(i){h.CHM(t);const u=h.oxw().index,c=h.oxw(2);return h.KtG(c.toggle_order_modal_accordian("#collapse"+u,i.currentTarget))}),h.TgZ(3,"span"),h._uU(4),h.qZA(),h.TgZ(5,"span",58),h._uU(6),h.ALo(7,"date"),h.qZA()()(),h.TgZ(8,"div",59)(9,"div",60),h.YNc(10,Use,2,1,"p",61),h.YNc(11,Vse,2,1,"p",61),h.qZA()()()}if(2&n){const t=h.oxw(),r=t.$implicit,i=t.index;h.xp6(4),h.Oqu(r.name),h.xp6(2),h.hij(" ",h.xi3(7,5,r.reached_ts,"short")," "),h.xp6(2),h.MGl("id","collapse",i,""),h.xp6(2),h.Q6J("ngIf",r.desc),h.xp6(1),h.Q6J("ngIf",r.extra_info)}}function jse(n,e){if(1&n&&(h.ynx(0),h.YNc(1,Bse,12,8,"div",54),h.BQk()),2&n){const t=e.index,r=h.oxw().ngIf;h.xp6(1),h.Q6J("ngIf",t<=r.reached_idx)}}function $se(n,e){if(1&n){const t=h.EpF();h.ynx(0),h.TgZ(1,"h2",63),h._uU(2),h.qZA(),h._UZ(3,"textarea",64),h.TgZ(4,"button",65),h.NdJ("click",function(){h.CHM(t);const i=h.oxw(2);return h.KtG(i.complete_checkpoint())}),h._uU(5,"Complete"),h.qZA(),h.BQk()}if(2&n){const t=h.oxw().ngIf,r=h.oxw();h.xp6(2),h.hij('Mark Stage "',t.checkpoints[t.reached_idx+1].name,'" as Completed:'),h.xp6(1),h.Q6J("formControl",r.viewOrderExtraInfo)}}function Hse(n,e){if(1&n){const t=h.EpF();h.TgZ(0,"div",22)(1,"div",23)(2,"h5",24),h._uU(3),h.qZA(),h._UZ(4,"button",47),h.qZA(),h.TgZ(5,"div",27)(6,"p"),h._uU(7),h.qZA(),h.TgZ(8,"p"),h._uU(9),h.ALo(10,"date"),h.qZA(),h._UZ(11,"br"),h.TgZ(12,"h2",48),h._uU(13,"Progress"),h.YNc(14,Fse,2,0,"ng-container",49),h._uU(15,":"),h.qZA(),h.TgZ(16,"div",50),h.YNc(17,jse,2,1,"ng-container",51),h.qZA(),h.YNc(18,$se,6,2,"ng-container",49),h.qZA(),h.TgZ(19,"div",36)(20,"button",52),h.NdJ("click",function(){h.CHM(t);const i=h.oxw();return h.KtG(i.copy_permalink(i.current_order))}),h._UZ(21,"i",53),h._uU(22," Copy Link"),h.qZA(),h.TgZ(23,"button",37),h._uU(24,"Close"),h.qZA()()()}if(2&n){const t=e.ngIf;h.xp6(3),h.AsE("View Order: ",t.info," (",t.pathway,")"),h.xp6(4),h.hij("Customer Name: ",t.customer_name,""),h.xp6(2),h.hij("Created: ",h.xi3(10,7,t.created_ts,"medium"),""),h.xp6(5),h.Q6J("ngIf",t.done),h.xp6(3),h.Q6J("ngForOf",t.checkpoints),h.xp6(1),h.Q6J("ngIf",!t.done)}}NN(GN),uu(GN);const Gse=function(){return{}};var tl=(()=>(function(n){n[n.ID=0]="ID",n[n.CREATED=1]="CREATED",n[n.NAME=2]="NAME",n[n.TEMPLATE=3]="TEMPLATE",n[n.STAGE=4]="STAGE",n[n.UPDATED=5]="UPDATED"}(tl||(tl={})),tl))();function E0(n,e,t){return n<e!==t?-1:n>e!==t?1:0}class WN{constructor(e,t,r){this.fb=e,this.auth=t,this.db=r,this.all_pathways=Dt({}),this.all_orders=Dt({}),this.order_form=this.fb.group({pathway:[""],customer_name:[""],order_info:[""]}),this.order_create_loading=!1,this.current_order=null,this.viewOrderExtraInfo=new gg(""),this.SORTS=tl,this.cur_sort_field=tl.UPDATED,this.cur_sort_asc=!1,this.pathway_filter_model="",this.text_filter_model="",this.uncompleted_filter_model=!1}ngOnInit(){var e=this;return(0,ke.Z)(function*(){let t=(yield e.auth.currentUser)?.uid;null!=t&&(e.all_pathways=e.db.list(`pathways/${t}`).snapshotChanges().pipe((0,At.U)(r=>Object.fromEntries(r.map(i=>[i.payload.key,i.payload.val()])))),e.all_orders=e.db.list(`orders/${t}`).snapshotChanges().pipe((0,At.U)(r=>Object.fromEntries(r.map(i=>[i.payload.key,i.payload.val()])))),console.log(t),new Xf("#view-order-modal"))})()}create_order(){var e=this;return(0,ke.Z)(function*(){if(e.order_create_loading)return;e.order_form.disable(),e.order_create_loading=!0;let t=new Promise(u=>setTimeout(u,1e3)),r=e.create_order_actual(),i=(yield Promise.all([t,r]))[1];document.getElementById("order-create-close")?.click(),e.order_form.reset(),e.order_form.enable(),e.order_create_loading=!1,i&&e.view_order(i)})()}create_order_actual(){var e=this;return(0,ke.Z)(function*(){let t=+new Date,r=e.order_form.value,i=(yield sU(e.all_pathways))[r.pathway],u={customer_name:r.customer_name,info:r.order_info,pathway:i.name,created_ts:t,done:!1,reached_idx:0,checkpoints:i.checkpoints};u.checkpoints[0].reached_ts=t;let c=(yield e.auth.currentUser)?.uid;return null==c?null:(yield e.db.list(`orders/${c}`).push(u)).key})()}view_order(e){this.current_order=e,Xf.getInstance("#view-order-modal")?.show()}toggle_order_modal_accordian(e,t){Mm.getOrCreateInstance(e).toggle(),t.classList.toggle("collapsed")}complete_checkpoint(){var e=this;return(0,ke.Z)(function*(){let t=e.current_order,r=(yield sU(e.all_orders))[t],i=+new Date;r.reached_idx++,r.checkpoints[r.reached_idx].reached_ts=i,e.viewOrderExtraInfo.value&&(r.checkpoints[r.reached_idx].extra_info=e.viewOrderExtraInfo.value),e.viewOrderExtraInfo.reset(),r.reached_idx==r.checkpoints.length-1&&(r.done=!0);let u=(yield e.auth.currentUser)?.uid;null!=u&&(yield e.db.object(`orders/${u}/${t}`).set(r))})()}copy_permalink(e){var t=this;return(0,ke.Z)(function*(){console.log(e);let r=(yield t.auth.currentUser)?.uid;if(null==r)return;let i=new URL(`/track/${r}/${e}`,document.location.href)+"";yield navigator.clipboard.writeText(i)})()}toggle_sort(e){e==this.cur_sort_field?this.cur_sort_asc=!this.cur_sort_asc:(this.cur_sort_field=e,this.cur_sort_asc=!0)}keyEvent(e){return"K"!==e.key&&"k"!=e.key||!e.ctrlKey||(document.getElementById("filter-textbox")?.focus(),e.stopPropagation(),!1)}do_filter(e){if(null===e)return[];let r=Object.entries(e).map(function(i){return{key:i[0],value:i[1]}}).filter(i=>{let u=i.value;if(this.uncompleted_filter_model&&u.reached_idx==u.checkpoints.length-1||this.pathway_filter_model&&u.pathway!=this.pathway_filter_model)return!1;let c=this.text_filter_model.trim();return!(c&&!u.customer_name.includes(c)&&!u.info.includes(c)&&!u.checkpoints[u.reached_idx].name.includes(c))});return this.cur_sort_field==tl.ID?r.sort((i,u)=>E0(i.value.info,u.value.info,!this.cur_sort_asc)):this.cur_sort_field==tl.CREATED?r.sort((i,u)=>E0(i.value.created_ts,u.value.created_ts,!this.cur_sort_asc)):this.cur_sort_field==tl.NAME?r.sort((i,u)=>E0(i.value.customer_name,u.value.customer_name,!this.cur_sort_asc)):this.cur_sort_field==tl.TEMPLATE?r.sort((i,u)=>E0(i.value.pathway,u.value.pathway,!this.cur_sort_asc)):this.cur_sort_field==tl.STAGE?r.sort((i,u)=>E0(i.value.checkpoints[i.value.reached_idx].name,u.value.checkpoints[u.value.reached_idx].name,!this.cur_sort_asc)):this.cur_sort_field==tl.UPDATED?r.sort((i,u)=>E0(i.value.checkpoints[i.value.reached_idx].reached_ts,u.value.checkpoints[u.value.reached_idx].reached_ts,!this.cur_sort_asc)):r}static#e=this.\u0275fac=function(t){return new(t||WN)(h.Y36($l),h.Y36(to),h.Y36(Sv))};static#t=this.\u0275cmp=h.Xpm({type:WN,selectors:[["app-dashboard"]],hostBindings:function(t,r){1&t&&h.NdJ("keydown",function(u){return r.keyEvent(u)},!1,h.Jf7)},decls:81,vars:34,consts:[[1,"container"],[1,"mt-5"],[2,"width","100%"],["routerLink","/new-template",1,"btn","btn-success","ms-3",2,"float","right"],[1,"bi","bi-plus-lg"],["type","button","id","temptemp","data-bs-toggle","modal","data-bs-target","#new-order-modal",1,"btn","btn-success","ms-3",2,"float","right"],[1,"mt-5","mb-3"],[1,"mb-3"],[1,"input-group",2,"display","inline-flex"],[1,"input-group-text"],[1,"bi","bi-funnel-fill","me-2"],["id","filter-textbox","placeholder","Search (Ctrl-K)",1,"form-control",2,"flex","10",3,"ngModel","ngModelChange"],["type","checkbox","value","","id","filtercheck",1,"form-check-input","me-2","mt-0",3,"ngModel","ngModelChange"],["for","filtercheck"],[1,"form-select",2,"flex","3",3,"ngModel","ngModelChange"],["value",""],[3,"value",4,"ngFor","ngForOf"],[1,"table","table-hover",2,"font-size","14pt"],[3,"click"],["style","position: relative;",4,"ngFor","ngForOf"],["id","new-order-modal","tabindex","-1",1,"modal","modal-lg"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close","id","order-create-close",1,"btn-close"],["ngNativeValidate","",3,"formGroup","ngSubmit"],[1,"modal-body"],["for","order-pathway",1,"col-form-label"],["formControlName","pathway","required","",1,"form-select"],["value","","hidden",""],["for","customer-name",1,"col-form-label"],["formControlName","customer_name","id","customer-name","required","",1,"form-control"],["for","order-info",1,"col-form-label"],["formControlName","order_info","id","order-info","required","",1,"form-control"],[1,"form-text"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],["type","submit",1,"btn","btn-primary"],["class","spinner-border spinner-border-sm ms-2","role","status",4,"ngIf"],["id","view-order-modal","tabindex","-1",1,"modal","modal-lg"],["class","modal-content",4,"ngIf"],[3,"value"],[2,"position","relative"],["href","javascript:void(0);",1,"stretched-link",2,"padding","0",3,"click"],["role","status",1,"spinner-border","spinner-border-sm","ms-2"],[1,"visually-hidden"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"fs-5"],[4,"ngIf"],["id","order-accordion",1,"accordion"],[4,"ngFor","ngForOf"],["type","button",1,"btn","btn-primary",3,"click"],[1,"bi","bi-clipboard2-fill"],["class","accordion-item",4,"ngIf"],[1,"accordion-item"],[1,"accordion-header"],["type","button",1,"accordion-button","collapsed",2,"display","grid","grid-template-columns","1fr max-content max-content","align-items","center","grid-gap","10px",3,"click"],[2,"padding-right","20px"],[1,"accordion-collapse","collapse",3,"id"],[1,"accordion-body"],["class","desc-prespace",4,"ngIf"],[1,"desc-prespace"],[1,"fs-5","mt-5"],["placeholder","Extra Info (Optional)",1,"form-control",3,"formControl"],["type","button",1,"btn","btn-success","mt-2",3,"click"]],template:function(t,r){1&t&&(h.TgZ(0,"div",0)(1,"h1",1),h._uU(2,"Dashboard"),h.qZA(),h.TgZ(3,"div",2)(4,"a",3),h._UZ(5,"i",4),h._uU(6," New Template"),h.qZA(),h.TgZ(7,"button",5),h._UZ(8,"i",4),h._uU(9," Create Order"),h.qZA()(),h.TgZ(10,"h2",6),h._uU(11,"Orders:"),h.qZA(),h.TgZ(12,"div",7)(13,"div",8)(14,"div",9),h._UZ(15,"i",10),h._uU(16," Filter: "),h.qZA(),h.TgZ(17,"input",11),h.NdJ("ngModelChange",function(u){return r.text_filter_model=u}),h.qZA(),h.TgZ(18,"div",9)(19,"input",12),h.NdJ("ngModelChange",function(u){return r.uncompleted_filter_model=u}),h.qZA(),h.TgZ(20,"label",13),h._uU(21,"Only Uncompleted Orders"),h.qZA()(),h.TgZ(22,"select",14),h.NdJ("ngModelChange",function(u){return r.pathway_filter_model=u}),h.TgZ(23,"option",15),h._uU(24,"No Template Filter..."),h.qZA(),h.YNc(25,kse,2,2,"option",16),h.ALo(26,"keyvalue"),h.ALo(27,"async"),h.qZA()()(),h.TgZ(28,"table",17)(29,"thead")(30,"tr")(31,"th",18),h.NdJ("click",function(){return r.toggle_sort(r.SORTS.ID)}),h._uU(32," ID "),h.qZA(),h.TgZ(33,"th",18),h.NdJ("click",function(){return r.toggle_sort(r.SORTS.CREATED)}),h._uU(34," Created "),h.qZA(),h.TgZ(35,"th",18),h.NdJ("click",function(){return r.toggle_sort(r.SORTS.NAME)}),h._uU(36," Customer Name "),h.qZA(),h.TgZ(37,"th",18),h.NdJ("click",function(){return r.toggle_sort(r.SORTS.TEMPLATE)}),h._uU(38," Template "),h.qZA(),h.TgZ(39,"th",18),h.NdJ("click",function(){return r.toggle_sort(r.SORTS.STAGE)}),h._uU(40," Current Stage "),h.qZA(),h.TgZ(41,"th",18),h.NdJ("click",function(){return r.toggle_sort(r.SORTS.UPDATED)}),h._uU(42," Last Updated "),h.qZA()()(),h.TgZ(43,"tbody"),h.YNc(44,Ose,16,12,"tr",19),h.ALo(45,"async"),h.qZA()()(),h.TgZ(46,"div",20)(47,"div",21)(48,"div",22)(49,"div",23)(50,"h5",24),h._uU(51,"Create Order"),h.qZA(),h._UZ(52,"button",25),h.qZA(),h.TgZ(53,"form",26),h.NdJ("ngSubmit",function(){return r.create_order()}),h.TgZ(54,"div",27)(55,"label",28),h._uU(56,"Template:"),h.qZA(),h.TgZ(57,"select",29)(58,"option",30),h._uU(59,"Select Template"),h.qZA(),h.YNc(60,Pse,2,2,"option",16),h.ALo(61,"keyvalue"),h.ALo(62,"async"),h.qZA(),h.TgZ(63,"label",31),h._uU(64,"Customer Name:"),h.qZA(),h._UZ(65,"input",32),h.TgZ(66,"label",33),h._uU(67,"Order ID:"),h.qZA(),h._UZ(68,"input",34),h.TgZ(69,"div",35),h._uU(70,"This should be an order number or identifier so you can identify which order is which. You can also use the corresponding order number from your POS, etc."),h.qZA()(),h.TgZ(71,"div",36)(72,"button",37),h._uU(73,"Cancel"),h.qZA(),h.TgZ(74,"button",38),h._uU(75," Create "),h.YNc(76,Lse,3,0,"div",39),h.qZA()()()()()(),h.TgZ(77,"div",40)(78,"div",21),h.YNc(79,Hse,25,10,"div",41),h.ALo(80,"async"),h.qZA()()),2&t&&(h.xp6(17),h.Q6J("ngModel",r.text_filter_model),h.xp6(2),h.Q6J("ngModel",r.uncompleted_filter_model),h.xp6(3),h.Q6J("ngModel",r.pathway_filter_model),h.xp6(3),h.Q6J("ngForOf",h.lcZ(26,21,h.lcZ(27,23,r.all_pathways))),h.xp6(6),h.Tol((r.cur_sort_field==r.SORTS.ID?r.cur_sort_asc?"up":"down":"")+" sortable-header"),h.xp6(2),h.Tol((r.cur_sort_field==r.SORTS.CREATED?r.cur_sort_asc?"up":"down":"")+" sortable-header"),h.xp6(2),h.Tol((r.cur_sort_field==r.SORTS.NAME?r.cur_sort_asc?"up":"down":"")+" sortable-header"),h.xp6(2),h.Tol((r.cur_sort_field==r.SORTS.TEMPLATE?r.cur_sort_asc?"up":"down":"")+" sortable-header"),h.xp6(2),h.Tol((r.cur_sort_field==r.SORTS.STAGE?r.cur_sort_asc?"up":"down":"")+" sortable-header"),h.xp6(2),h.Tol((r.cur_sort_field==r.SORTS.UPDATED?r.cur_sort_asc?"up":"down":"")+" sortable-header"),h.xp6(3),h.Q6J("ngForOf",r.do_filter(h.lcZ(45,25,r.all_orders))),h.xp6(9),h.Q6J("formGroup",r.order_form),h.xp6(7),h.Q6J("ngForOf",h.lcZ(61,27,h.lcZ(62,29,r.all_pathways))),h.xp6(16),h.Q6J("ngIf",r.order_create_loading),h.xp6(3),h.Q6J("ngIf",r.current_order&&(h.lcZ(80,31,r.all_orders)||h.DdM(33,Gse))[r.current_order]))},dependencies:[Sr,fs,nd,vg,BE,Ll,ry,Sy,cg,cy,Qh,Iy,Kh,Dy,Gh,ps,ka,fu]})}function Wse(n,e){if(1&n){const t=h.EpF();h.TgZ(0,"button",19),h.NdJ("click",function(){h.CHM(t);const i=h.oxw().index,u=h.oxw();return h.KtG(u.delete_checkpoint(i))}),h.qZA()}}function zse(n,e){if(1&n){const t=h.EpF();h.ynx(0),h.TgZ(1,"div",10),h.NdJ("dragstart",function(){const u=h.CHM(t).index,c=h.oxw();return h.KtG(c.onDragStart(u))})("dragenter",function(){const u=h.CHM(t).index,c=h.oxw();return h.KtG(c.onDragEnter(u))})("dragend",function(){h.CHM(t);const i=h.oxw();return h.KtG(i.onDragEnd())}),h.TgZ(2,"span",11),h.NdJ("mousedown",function(){const u=h.CHM(t).index,c=h.oxw();return h.KtG(c.onHandlePressed(u))})("mouseup",function(){h.CHM(t);const i=h.oxw();return h.KtG(i.onHandleReleased())}),h._UZ(3,"i",12),h.qZA(),h.TgZ(4,"div",13)(5,"label",14),h._uU(6,"Stage Name"),h.qZA(),h.YNc(7,Wse,1,0,"button",15),h._UZ(8,"input",16),h.TgZ(9,"label",17),h._uU(10,"Stage Description (Optional)"),h.qZA(),h._UZ(11,"textarea",18),h.qZA()(),h.BQk()}if(2&n){const t=e.index,r=h.oxw();h.xp6(1),h.ekj("dragging",t===r.draggingIndex),h.Q6J("formGroupName",t)("draggable",t===r.preDragIndex),h.xp6(4),h.s9C("for","checkname"+t),h.xp6(2),h.Q6J("ngIf",r.checkpoints.controls.length>2),h.xp6(1),h.s9C("id","checkname"+t),h.xp6(1),h.s9C("for","desc"+t),h.xp6(2),h.s9C("id","desc"+t)}}class zN{constructor(e,t,r,i){this.fb=e,this.auth=t,this.db=r,this.router=i,this.form=this.fb.group({name:[""],checkpoints:this.fb.array([this.new_checkpoint(),this.new_checkpoint()])}),this.is_submitting=!1,this.preDragIndex=-1,this.draggingIndex=-1}get checkpoints(){return this.form.controls.checkpoints}new_checkpoint(){return this.fb.group({name:[""],desc:[""]})}add_checkpoint(){this.checkpoints.push(this.new_checkpoint())}delete_checkpoint(e){this.checkpoints.removeAt(e)}onHandlePressed(e){this.preDragIndex=e}onHandleReleased(){this.preDragIndex=-1}onDragStart(e){this.draggingIndex=e}onDragEnter(e){if(this.draggingIndex!==e&&-1!==this.draggingIndex){const t=this.checkpoints.at(this.draggingIndex);this.checkpoints.removeAt(this.draggingIndex),this.checkpoints.insert(e,t),this.draggingIndex=e}}onDragEnd(){this.draggingIndex=-1,this.preDragIndex=-1}submit(){var e=this;return(0,ke.Z)(function*(){e.is_submitting=!0;let t=e.form.value,r=(yield e.auth.currentUser)?.uid;null!=r&&(yield e.db.list(`pathways/${r}`).push(t),yield e.router.navigate(["dashboard"]))})()}static#e=this.\u0275fac=function(t){return new(t||zN)(h.Y36($l),h.Y36(to),h.Y36(Sv),h.Y36(Ii))};static#t=this.\u0275cmp=h.Xpm({type:zN,selectors:[["app-new-pathway"]],decls:15,vars:3,consts:[[1,"container"],[1,"mt-5"],["ngNativeValidate","",3,"formGroup","ngSubmit"],["for","pathname",1,"form-label","mt-5"],["id","pathname","formControlName","name","placeholder","Template Name","required","",1,"form-control"],[1,"mt-5","mb-3"],["formArrayName","checkpoints"],[4,"ngFor","ngForOf"],["type","button",1,"btn","btn-success","mb-5",3,"click"],["type","submit",1,"btn","btn-primary",2,"float","right",3,"disabled"],[1,"card","mb-5","draggable",3,"formGroupName","draggable","dragstart","dragenter","dragend"],[1,"drag-handle",3,"mousedown","mouseup"],[1,"text-muted","bi","bi-grip-vertical"],[1,"card-body"],[1,"form-label",3,"for"],["type","button","class","btn-close btn-close-red","style","float:right;",3,"click",4,"ngIf"],["formControlName","name","placeholder","Stage Name","required","",1,"form-control",3,"id"],[1,"form-label","mt-3",3,"for"],["formControlName","desc","placeholder","Stage Description",1,"form-control",3,"id"],["type","button",1,"btn-close","btn-close-red",2,"float","right",3,"click"]],template:function(t,r){1&t&&(h.TgZ(0,"div",0)(1,"h1",1),h._uU(2,"Make New Template"),h.qZA(),h.TgZ(3,"form",2),h.NdJ("ngSubmit",function(){return r.submit()}),h.TgZ(4,"label",3),h._uU(5,"Name"),h.qZA(),h._UZ(6,"input",4),h.TgZ(7,"h4",5),h._uU(8," Stages: "),h.qZA(),h.ynx(9,6),h.YNc(10,zse,12,9,"ng-container",7),h.BQk(),h.TgZ(11,"button",8),h.NdJ("click",function(){return r.add_checkpoint()}),h._uU(12,"Add Additional Stage"),h.qZA(),h.TgZ(13,"button",9),h._uU(14,"Submit"),h.qZA()()()),2&t&&(h.xp6(3),h.Q6J("formGroup",r.form),h.xp6(7),h.Q6J("ngForOf",r.checkpoints.controls),h.xp6(3),h.Q6J("disabled",r.is_submitting))},dependencies:[Sr,fs,Ll,cg,cy,Qh,Kh,Dy,yg,Cy]})}class qN{static#e=this.\u0275fac=function(t){return new(t||qN)};static#t=this.\u0275cmp=h.Xpm({type:qN,selectors:[["app-page-not-found"]],decls:5,vars:0,consts:[[1,"container"],[1,"mt-5"],[1,"lead","mt-4"]],template:function(t,r){1&t&&(h.TgZ(0,"div",0)(1,"h2",1),h._uU(2,"Page Not Found"),h.qZA(),h.TgZ(3,"p",2),h._uU(4,"Sorry, we don't know that url."),h.qZA()())}})}const qse=["checkpointCircle"];function Zse(n,e){if(1&n&&(h.TgZ(0,"span",15),h._uU(1),h.qZA()),2&n){const t=e.ngIf;h.xp6(1),h.Oqu(t.display_name)}}function Kse(n,e){if(1&n&&(h.TgZ(0,"p",19),h._uU(1),h.qZA()),2&n){const t=h.oxw().ngIf;h.xp6(1),h.Oqu(t.desc)}}function Yse(n,e){if(1&n&&(h.TgZ(0,"p",19),h._uU(1),h.qZA()),2&n){const t=h.oxw().ngIf;h.xp6(1),h.Oqu(t.extra_info)}}function Qse(n,e){if(1&n&&(h.TgZ(0,"div",16)(1,"h3",17),h._uU(2),h.qZA(),h.TgZ(3,"p"),h._uU(4),h.ALo(5,"date"),h.qZA(),h.YNc(6,Kse,2,1,"p",18),h.YNc(7,Yse,2,1,"p",18),h.qZA()),2&n){const t=e.ngIf;h.xp6(2),h.hij("Status: ",t.name,""),h.xp6(2),h.hij("At ",h.xi3(5,4,t.reached_ts,"short"),""),h.xp6(2),h.Q6J("ngIf",t.desc),h.xp6(1),h.Q6J("ngIf",t.extra_info)}}const Jse=function(n,e){return{"checkpoint-circle":!0,current:n,reached:e}};function Xse(n,e){if(1&n&&(h.ynx(0),h._UZ(1,"div",20,21),h.ALo(3,"date"),h.BQk()),2&n){const t=e.$implicit,r=e.index,i=h.oxw().ngIf;h.xp6(1),h.zWS("data-bs-title","<p class='lead'>",t.name,"</p>",t.reached_ts?"Reached: "+h.xi3(3,3,t.reached_ts,"short"):"(pending)",""),h.Q6J("ngClass",h.WLB(6,Jse,r==i.reached_idx,r<=i.reached_idx))}}function eoe(n,e){if(1&n&&(h.TgZ(0,"p",19),h._uU(1),h.qZA()),2&n){const t=h.oxw(2).$implicit;h.xp6(1),h.hij(" ",t.desc," ")}}function toe(n,e){if(1&n&&(h.TgZ(0,"p",19),h._uU(1),h.qZA()),2&n){const t=h.oxw(2).$implicit;h.xp6(1),h.hij(" ",t.extra_info," ")}}function noe(n,e){if(1&n&&(h.TgZ(0,"div",27)(1,"div",28),h.YNc(2,eoe,2,1,"p",18),h.YNc(3,toe,2,1,"p",18),h.qZA()()),2&n){const t=h.oxw(),i=t.$implicit;h.MGl("id","collapse",t.index,""),h.xp6(2),h.Q6J("ngIf",i.desc),h.xp6(1),h.Q6J("ngIf",i.extra_info)}}function roe(n,e){if(1&n){const t=h.EpF();h.ynx(0),h.TgZ(1,"div",22)(2,"h2",23)(3,"button",24),h.NdJ("click",function(i){const c=h.CHM(t).index,p=h.oxw(2);return h.KtG(p.toggle_order_modal_accordian("#collapse"+c,i.currentTarget))}),h.TgZ(4,"span"),h._uU(5),h.qZA(),h.TgZ(6,"span",25),h._uU(7),h.ALo(8,"date"),h.qZA()()(),h.YNc(9,noe,4,3,"div",26),h.qZA(),h.BQk()}if(2&n){const t=e.$implicit,r=e.index,i=h.oxw().ngIf;h.xp6(3),h.Q6J("disabled",r>i.reached_idx),h.xp6(2),h.Oqu(t.name),h.xp6(2),h.hij(" ",h.xi3(8,4,t.reached_ts,"short")," "),h.xp6(2),h.Q6J("ngIf",r<=i.reached_idx)}}function ioe(n,e){if(1&n&&(h.TgZ(0,"div",5)(1,"h1",6),h._uU(2),h.TgZ(3,"span",7),h._uU(4),h.qZA(),h.YNc(5,Zse,2,1,"span",8),h.ALo(6,"async"),h.qZA(),h.TgZ(7,"h3",9)(8,"span"),h._uU(9),h.qZA(),h.TgZ(10,"span",10),h._uU(11),h.ALo(12,"date"),h.qZA()(),h.YNc(13,Qse,8,7,"div",11),h.TgZ(14,"div",12),h.YNc(15,Xse,4,9,"ng-container",13),h.qZA(),h.TgZ(16,"h4",6),h._uU(17,"History:"),h.qZA(),h.TgZ(18,"div",14),h.YNc(19,roe,10,7,"ng-container",13),h.qZA()()),2&n){const t=e.ngIf,r=h.oxw();h.xp6(2),h.hij(" Track ",t.pathway," "),h.xp6(2),h.hij("(",t.info,")"),h.xp6(1),h.Q6J("ngIf",h.lcZ(6,8,r.branding_obv)),h.xp6(4),h.hij("For ",t.customer_name,""),h.xp6(2),h.hij("Created: ",h.xi3(12,10,t.created_ts,"short"),""),h.xp6(2),h.Q6J("ngIf",t.checkpoints[t.reached_idx]),h.xp6(2),h.Q6J("ngForOf",t.checkpoints),h.xp6(4),h.Q6J("ngForOf",t.checkpoints)}}class ZN{constructor(e,t,r){this.db=e,this.route=t,this.router=r,this.order_obv=Dt(null),this.branding_obv=Dt(null)}static#e=this.hide_nav=!0;ngOnInit(){var e=this;return(0,ke.Z)(function*(){const t=e.route.snapshot.params.uid,r=e.route.snapshot.params.oid;t&&r?(e.order_obv=e.db.object(`orders/${t}/${r}`).valueChanges(),e.branding_obv=e.db.object(`branding/${t}`).valueChanges(),(yield sU(e.order_obv))||(yield e.router.navigate(["404"]))):yield e.router.navigate(["404"])})()}ngAfterViewInit(){let e=()=>{[...document.querySelectorAll('[data-bs-toggle="tooltip"]')].map(i=>Om.getOrCreateInstance(i))};e(),this.checkpoint_circle_refs.changes.subscribe(e)}toggle_order_modal_accordian(e,t){Mm.getOrCreateInstance(e).toggle(),t.classList.toggle("collapsed")}static#t=this.\u0275fac=function(t){return new(t||ZN)(h.Y36(Sv),h.Y36(Lu),h.Y36(Ii))};static#n=this.\u0275cmp=h.Xpm({type:ZN,selectors:[["app-track"]],viewQuery:function(t,r){if(1&t&&h.Gf(qse,5),2&t){let i;h.iGM(i=h.CRH())&&(r.checkpoint_circle_refs=i)}},decls:8,vars:3,consts:[["class","container",4,"ngIf"],[2,"flex","1"],[1,"bg-dark","text-light"],[1,"pt-2","pb-2",2,"text-align","center"],["routerLink","/",1,"text-light"],[1,"container"],[1,"mt-5"],[1,"text-muted","ms-3"],["class","h2","style","float: right;",4,"ngIf"],[1,"text-med","mt-4"],[1,"fs-5",2,"float","right"],["style","text-align: center;","class","lead",4,"ngIf"],[1,"mt-5","progress-container"],[4,"ngFor","ngForOf"],["id","order-accordion",1,"accordion","mt-3"],[1,"h2",2,"float","right"],[1,"lead",2,"text-align","center"],[1,"mt-5","mb-3",2,"text-align","center"],["class","desc-prespace",4,"ngIf"],[1,"desc-prespace"],["data-bs-toggle","tooltip","data-bs-placement","top","data-bs-custom-class","checkpoint-tooltip","data-bs-html","true",3,"ngClass"],["checkpointCircle",""],[1,"accordion-item"],[1,"accordion-header"],["type","button",1,"accordion-button","collapsed",2,"display","grid","grid-template-columns","1fr max-content max-content","align-items","center","grid-gap","10px",3,"disabled","click"],[2,"padding-right","20px"],["class","accordion-collapse collapse",3,"id",4,"ngIf"],[1,"accordion-collapse","collapse",3,"id"],[1,"accordion-body"]],template:function(t,r){1&t&&(h.YNc(0,ioe,20,13,"div",0),h.ALo(1,"async"),h._UZ(2,"div",1),h.TgZ(3,"footer",2)(4,"div",3),h._uU(5," Powered by "),h.TgZ(6,"a",4),h._uU(7,"Tellotrack"),h.qZA()()()),2&t&&h.Q6J("ngIf",h.lcZ(1,1,r.order_obv))},dependencies:[St,Sr,fs,nd,ps,ka]})}var soe=V(8247);function ooe(n,e){if(1&n&&(h.TgZ(0,"div",12)(1,"span",5),h._uU(2,"Sign-In Method:"),h.qZA(),h._uU(3),h.qZA()),2&n){const t=e.ngIf,r=h.oxw(2);h.xp6(3),h.hij("",r.SigninMethodTable[t[0].providerId]," ")}}function aoe(n,e){if(1&n&&(h.TgZ(0,"div",12)(1,"label",13),h._uU(2,"Email:"),h.qZA(),h._UZ(3,"input",14),h.qZA()),2&n){const t=h.oxw().ngIf;h.xp6(3),h.s9C("value",t.email)}}function uoe(n,e){1&n&&(h.TgZ(0,"div",15)(1,"span",16),h._uU(2,"Loading..."),h.qZA()())}function loe(n,e){1&n&&(h.TgZ(0,"div",21)(1,"span",16),h._uU(2,"Loading..."),h.qZA()())}function coe(n,e){if(1&n&&(h.ynx(0),h._uU(1," Send Reset Password Email "),h.YNc(2,loe,3,0,"div",20),h.BQk()),2&n){const t=h.oxw(3);h.xp6(2),h.Q6J("ngIf",t.reset_email_loading)}}function doe(n,e){1&n&&(h.ynx(0),h._uU(1,"Reset Password Email Sent"),h.BQk())}function hoe(n,e){if(1&n){const t=h.EpF();h.ynx(0),h._UZ(1,"hr"),h.TgZ(2,"h2",17),h._uU(3,"Security"),h.qZA(),h.TgZ(4,"div",18)(5,"button",19),h.NdJ("click",function(){h.CHM(t);const i=h.oxw(2);return h.KtG(i.send_reset_email())}),h.YNc(6,coe,3,1,"ng-container",0),h.YNc(7,doe,2,0,"ng-container",0),h.qZA()(),h.BQk()}if(2&n){const t=h.oxw(2);h.xp6(5),h.Q6J("disabled",t.reset_email_sent||t.reset_email_loading),h.xp6(1),h.Q6J("ngIf",!t.reset_email_sent),h.xp6(1),h.Q6J("ngIf",t.reset_email_sent)}}const foe=function(){return{standalone:!0}},A8=function(){return[null]};function poe(n,e){if(1&n){const t=h.EpF();h.ynx(0),h.TgZ(1,"div",1)(2,"h1",2),h._uU(3,"Account Settings"),h.qZA(),h.YNc(4,ooe,4,1,"div",3),h.YNc(5,aoe,4,1,"div",3),h.TgZ(6,"div",4)(7,"span",5),h._uU(8,"Manage Subscription:"),h.qZA(),h.TgZ(9,"button",6),h.NdJ("click",function(){h.CHM(t);const i=h.oxw();return h.KtG(i.open_stripe_portal())}),h._uU(10," Open Stripe Portal "),h.YNc(11,uoe,3,0,"div",7),h.qZA()(),h._UZ(12,"hr"),h.TgZ(13,"h2",2),h._uU(14,"Branding"),h.qZA(),h.TgZ(15,"div",4)(16,"form",8),h.NdJ("ngSubmit",function(){const u=h.CHM(t).ngIf,c=h.oxw();return h.KtG(c.update_display_name(u))}),h.TgZ(17,"label",9),h._uU(18,"Display Name:"),h.qZA(),h.TgZ(19,"input",10),h.NdJ("ngModelChange",function(i){h.CHM(t);const u=h.oxw();return h.KtG(u.display_name_input=i)}),h.qZA(),h.TgZ(20,"button",11),h._uU(21,"Save"),h.qZA()()(),h.YNc(22,hoe,8,3,"ng-container",0),h.qZA(),h.BQk()}if(2&n){const t=e.ngIf,r=h.oxw();h.xp6(4),h.Q6J("ngIf",t.providerData),h.xp6(1),h.Q6J("ngIf",t.email),h.xp6(4),h.Q6J("disabled",r.is_portal_loading),h.xp6(2),h.Q6J("ngIf",r.is_portal_loading),h.xp6(8),h.Q6J("ngModelOptions",h.DdM(8,foe))("ngModel",r.display_name_input),h.xp6(1),h.Q6J("disabled",!(r.display_name_input&&r.display_name_input!=t.displayName)),h.xp6(2),h.Q6J("ngIf",t.email&&"password"===(null==(t.providerData||h.DdM(9,A8))[0]?null:(t.providerData||h.DdM(10,A8))[0].providerId))}}class KN{constructor(e,t,r){this.firebase_auth=e,this.db=t,this.fns=r,this.SigninMethodTable={password:"Email and Password","google.com":"Google"},this.is_portal_loading=!1,this.reset_email_sent=!1,this.reset_email_loading=!1}ngOnInit(){this.firebase_auth.user.subscribe(e=>{this.display_name_input=e?.displayName})}update_display_name(e){var t=this;return(0,ke.Z)(function*(){let r=(0,soe.af)(e,{displayName:t.display_name_input}),i=t.db.object(`branding/${e.uid}`).update({display_name:t.display_name_input});yield Promise.all([r,i])})()}open_stripe_portal(){var e=this;return(0,ke.Z)(function*(){e.is_portal_loading=!0;const r=yield e.fns.httpsCallable("ext-firestore-stripe-payments-createPortalLink")({returnUrl:document.location.href}).toPromise();window.location.assign(r.url)})()}send_reset_email(){var e=this;return(0,ke.Z)(function*(){e.reset_email_loading=!0;let t=(yield e.firebase_auth.currentUser)?.email;t?e.firebase_auth.sendPasswordResetEmail(t).then(()=>{e.reset_email_sent=!0}).catch(r=>{alert(JSON.stringify(r)),e.reset_email_loading=!1}):e.reset_email_loading=!1})()}static#e=this.\u0275fac=function(t){return new(t||KN)(h.Y36(to),h.Y36(Sv),h.Y36(tU))};static#t=this.\u0275cmp=h.Xpm({type:KN,selectors:[["app-settings"]],decls:2,vars:3,consts:[[4,"ngIf"],[1,"container",2,"font-size","16pt"],[1,"mt-5","mb-5"],["class","mb-4",4,"ngIf"],[1,"mb-5"],[1,"me-3"],[1,"btn","btn-success",3,"disabled","click"],["class","spinner-border spinner-border-sm ms-2","style","display: inline-block;","role","status",4,"ngIf"],[3,"ngSubmit"],["for","display-name",1,"form-label","me-3"],["id","display-name",1,"form-control","me-3",2,"width","400px","display","inline-block",3,"ngModelOptions","ngModel","ngModelChange"],["type","submit",1,"btn","btn-primary",3,"disabled"],[1,"mb-4"],["for","user-email",1,"form-label","me-3"],["disabled","","id","user-email",1,"form-control",2,"width","400px","display","inline-block",3,"value"],["role","status",1,"spinner-border","spinner-border-sm","ms-2",2,"display","inline-block"],[1,"visually-hidden"],[1,"mb-5","mt-5"],["id","reset-link",1,"mb-5"],[1,"btn","btn-primary","btn-lg",3,"disabled","click"],["class","spinner-border ms-3","style","display: inline-block; vertical-align: bottom;","role","status",4,"ngIf"],["role","status",1,"spinner-border","ms-3",2,"display","inline-block","vertical-align","bottom"]],template:function(t,r){1&t&&(h.YNc(0,poe,23,11,"ng-container",0),h.ALo(1,"async")),2&t&&h.Q6J("ngIf",h.lcZ(1,1,r.firebase_auth.user))},dependencies:[fs,ld,Ll,cg,cy,Gh,fg,ps]})}function goe(n,e){if(1&n){const t=h.EpF();h.TgZ(0,"div",2)(1,"h1",3),h._uU(2,"Account Subscription"),h.qZA(),h.TgZ(3,"h2",4),h._uU(4,"$2.49/month"),h.qZA(),h.TgZ(5,"button",5),h.NdJ("click",function(){h.CHM(t);const i=h.oxw();return h.KtG(i.gotoCheckout())}),h._uU(6," Pay with Stripe "),h.qZA()()}if(2&n){const t=h.oxw();h.xp6(5),h.Q6J("disabled",t.is_loading)}}function moe(n,e){1&n&&(h.TgZ(0,"div",8)(1,"span",9),h._uU(2,"Loading..."),h.qZA()())}function _oe(n,e){if(1&n&&(h.TgZ(0,"div",6),h.YNc(1,moe,3,0,"div",7),h.qZA()),2&n){const t=h.oxw();h.xp6(1),h.Q6J("ngIf",t.is_loading)}}class YN{constructor(e,t){this.firebase_auth=e,this.db=t,this.is_loading=!1}ngOnInit(){var e=this;return(0,ke.Z)(function*(){yield(yield e.firebase_auth.currentUser)?.getIdToken(!0);let t=yield(yield e.firebase_auth.currentUser)?.getIdTokenResult();console.log(t)})()}gotoCheckout(){var e=this;return(0,ke.Z)(function*(){let t=(yield e.firebase_auth.currentUser)?.uid;null!=t&&(e.is_loading=!0,(yield e.db.collection("customers").doc(t).collection("checkout_sessions").add({price:"price_1MCp5rD6M2UKk7XjtYLHGsYD",success_url:window.location.origin,cancel_url:window.location.origin})).onSnapshot(i=>{const{error:u,url:c}=i.data()||{};u&&(alert(`An error occured: ${u.message}`),e.is_loading=!1),c&&window.location.assign(c)}))})()}static#e=this.\u0275fac=function(t){return new(t||YN)(h.Y36(to),h.Y36($G))};static#t=this.\u0275cmp=h.Xpm({type:YN,selectors:[["app-payment"]],decls:2,vars:2,consts:[["class","container",4,"ngIf"],["style","display: flex; justify-content: center;",4,"ngIf"],[1,"container"],[1,"mb-3",2,"text-align","center","margin-top","20%"],[1,"mb-5",2,"text-align","center"],[1,"btn","btn-lg","btn-success",2,"margin","0 auto","display","block",3,"disabled","click"],[2,"display","flex","justify-content","center"],["class","spinner-border text-primary","style","width: 200px; height: 200px; border-width: 15px; margin-top: 30vh;","role","status",4,"ngIf"],["role","status",1,"spinner-border","text-primary",2,"width","200px","height","200px","border-width","15px","margin-top","30vh"],[1,"visually-hidden"]],template:function(t,r){1&t&&(h.YNc(0,goe,7,1,"div",0),h.YNc(1,_oe,2,1,"div",1)),2&t&&(h.Q6J("ngIf",!r.is_loading),h.xp6(1),h.Q6J("ngIf",r.is_loading))},dependencies:[fs]})}class QN{static#e=this.\u0275fac=function(t){return new(t||QN)};static#t=this.\u0275mod=h.oAB({type:QN,bootstrap:[wN]});static#n=this.\u0275inj=h.cJS({providers:[Sb,Jy,Sb,Jy,{provide:HG,useValue:"us-central1"}],imports:[Il,gS.forRoot([{path:"",title:"Tellotrack",component:EN,...qG},{path:"login",title:"Login",component:bN,...qG},{path:"payment",title:"Payment",component:YN,...Vee},{path:"dashboard",title:"Dashboard",component:WN,...iU},{path:"settings",title:"Account Settings",component:KN,...iU},{path:"new-template",title:"New Template",component:zN,...iU},{path:"track/:uid/:oid",component:ZN},{path:"404",component:qN},{path:"**",redirectTo:"/404"}]),Dr.hO.initializeApp(nU_firebase),QO,sK,Iee,xO,See,Ree.forRoot(kee),KE(()=>za(nU_firebase)),f3(()=>{const e=new ub("6Ld6Q4ojAAAAAEWOWwA7NP0VGk3yVXtiisevNaLG");return p3(void 0,{provider:e,isTokenAutoRefreshEnabled:!0})}),wg,QS]})}I_().bootstrapModule(QN).catch(n=>console.error(n))},4159:(we,pe,V)=>{var O;!function(){var h=window.CustomEvent;function he(J){for(;J;){if("dialog"===J.localName)return J;J=J.parentElement}return null}function De(J){J&&J.blur&&J!==document.body&&J.blur()}function xe(J,X){for(var ae=0;ae<J.length;++ae)if(J[ae]===X)return!0;return!1}function Ne(J){return!(!J||!J.hasAttribute("method"))&&"dialog"===J.getAttribute("method").toLowerCase()}function be(J){if(this.dialog_=J,this.replacedStyleTop_=!1,this.openAsModal_=!1,J.hasAttribute("role")||J.setAttribute("role","dialog"),J.show=this.show.bind(this),J.showModal=this.showModal.bind(this),J.close=this.close.bind(this),"returnValue"in J||(J.returnValue=""),"MutationObserver"in window)new MutationObserver(this.maybeHideModal.bind(this)).observe(J,{attributes:!0,attributeFilter:["open"]});else{var Fe,ae=!1,Se=function(){ae?this.downgradeModal():this.maybeHideModal(),ae=!1}.bind(this),He=function(Ue){if(Ue.target===J){var Be="DOMNodeRemoved";ae|=Ue.type.substr(0,Be.length)===Be,window.clearTimeout(Fe),Fe=window.setTimeout(Se,0)}};["DOMAttrModified","DOMNodeRemoved","DOMNodeRemovedFromDocument"].forEach(function(Ue){J.addEventListener(Ue,He)})}Object.defineProperty(J,"open",{set:this.setOpen.bind(this),get:J.hasAttribute.bind(J,"open")}),this.backdrop_=document.createElement("div"),this.backdrop_.className="backdrop",this.backdrop_.addEventListener("click",this.backdropClick_.bind(this))}(!h||"object"==typeof h)&&((h=function(X,ae){ae=ae||{};var Se=document.createEvent("CustomEvent");return Se.initCustomEvent(X,!!ae.bubbles,!!ae.cancelable,ae.detail||null),Se}).prototype=window.Event.prototype),be.prototype={get dialog(){return this.dialog_},maybeHideModal:function(){this.dialog_.hasAttribute("open")&&document.body.contains(this.dialog_)||this.downgradeModal()},downgradeModal:function(){!this.openAsModal_||(this.openAsModal_=!1,this.dialog_.style.zIndex="",this.replacedStyleTop_&&(this.dialog_.style.top="",this.replacedStyleTop_=!1),this.backdrop_.parentNode&&this.backdrop_.parentNode.removeChild(this.backdrop_),ge.dm.removeDialog(this))},setOpen:function(J){J?this.dialog_.hasAttribute("open")||this.dialog_.setAttribute("open",""):(this.dialog_.removeAttribute("open"),this.maybeHideModal())},backdropClick_:function(J){if(this.dialog_.hasAttribute("tabindex"))this.dialog_.focus();else{var X=document.createElement("div");this.dialog_.insertBefore(X,this.dialog_.firstChild),X.tabIndex=-1,X.focus(),this.dialog_.removeChild(X)}var ae=document.createEvent("MouseEvents");ae.initMouseEvent(J.type,J.bubbles,J.cancelable,window,J.detail,J.screenX,J.screenY,J.clientX,J.clientY,J.ctrlKey,J.altKey,J.shiftKey,J.metaKey,J.button,J.relatedTarget),this.dialog_.dispatchEvent(ae),J.stopPropagation()},focus_:function(){var J=this.dialog_.querySelector("[autofocus]:not([disabled])");if(!J&&this.dialog_.tabIndex>=0&&(J=this.dialog_),!J){var ae=["button","input","keygen","select","textarea"].map(function(Se){return Se+":not([disabled])"});ae.push('[tabindex]:not([disabled]):not([tabindex=""])'),J=this.dialog_.querySelector(ae.join(", "))}De(document.activeElement),J&&J.focus()},updateZIndex:function(J,X){if(J<X)throw new Error("dialogZ should never be < backdropZ");this.dialog_.style.zIndex=J,this.backdrop_.style.zIndex=X},show:function(){this.dialog_.open||(this.setOpen(!0),this.focus_())},showModal:function(){if(this.dialog_.hasAttribute("open"))throw new Error("Failed to execute 'showModal' on dialog: The element is already open, and therefore cannot be opened modally.");if(!document.body.contains(this.dialog_))throw new Error("Failed to execute 'showModal' on dialog: The element is not in a Document.");if(!ge.dm.pushDialog(this))throw new Error("Failed to execute 'showModal' on dialog: There are too many open modal dialogs.");(function G(J){for(;J&&J!==document.body;){var X=window.getComputedStyle(J),ae=function(Se,Fe){return!(void 0===X[Se]||X[Se]===Fe)};if(X.opacity<1||ae("zIndex","auto")||ae("transform","none")||ae("mixBlendMode","normal")||ae("filter","none")||ae("perspective","none")||"isolate"===X.isolation||"fixed"===X.position||"touch"===X.webkitOverflowScrolling)return!0;J=J.parentElement}return!1})(this.dialog_.parentElement)&&console.warn("A dialog is being shown inside a stacking context. This may cause it to be unusable. For more information, see this link: https://github.com/GoogleChrome/dialog-polyfill/#stacking-context"),this.setOpen(!0),this.openAsModal_=!0,ge.needsCentering(this.dialog_)?(ge.reposition(this.dialog_),this.replacedStyleTop_=!0):this.replacedStyleTop_=!1,this.dialog_.parentNode.insertBefore(this.backdrop_,this.dialog_.nextSibling),this.focus_()},close:function(J){if(!this.dialog_.hasAttribute("open"))throw new Error("Failed to execute 'close' on dialog: The element does not have an 'open' attribute, and therefore cannot be closed.");this.setOpen(!1),void 0!==J&&(this.dialog_.returnValue=J);var X=new h("close",{bubbles:!1,cancelable:!1});this.dialog_.dispatchEvent(X)}};var ge={reposition:function(J){var X=document.body.scrollTop||document.documentElement.scrollTop,ae=X+(window.innerHeight-J.offsetHeight)/2;J.style.top=Math.max(X,ae)+"px"},isInlinePositionSetByStylesheet:function(J){for(var X=0;X<document.styleSheets.length;++X){var ae=document.styleSheets[X],Se=null;try{Se=ae.cssRules}catch{}if(Se)for(var Fe=0;Fe<Se.length;++Fe){var He=Se[Fe],Ue=null;try{Ue=document.querySelectorAll(He.selectorText)}catch{}if(Ue&&xe(Ue,J)){var Be=He.style.getPropertyValue("top"),it=He.style.getPropertyValue("bottom");if(Be&&"auto"!==Be||it&&"auto"!==it)return!0}}}return!1},needsCentering:function(J){return!("absolute"!==window.getComputedStyle(J).position||"auto"!==J.style.top&&""!==J.style.top||"auto"!==J.style.bottom&&""!==J.style.bottom||ge.isInlinePositionSetByStylesheet(J))},forceRegisterDialog:function(J){if((window.HTMLDialogElement||J.showModal)&&console.warn("This browser already supports <dialog>, the polyfill may not work correctly",J),"dialog"!==J.localName)throw new Error("Failed to register dialog: The element is not a dialog.");new be(J)},registerDialog:function(J){J.showModal||ge.forceRegisterDialog(J)},DialogManager:function(){this.pendingDialogStack=[];var J=this.checkDOM_.bind(this);this.overlay=document.createElement("div"),this.overlay.className="_dialog_overlay",this.overlay.addEventListener("click",function(X){this.forwardTab_=void 0,X.stopPropagation(),J([])}.bind(this)),this.handleKey_=this.handleKey_.bind(this),this.handleFocus_=this.handleFocus_.bind(this),this.zIndexLow_=1e5,this.zIndexHigh_=100150,this.forwardTab_=void 0,"MutationObserver"in window&&(this.mo_=new MutationObserver(function(X){var ae=[];X.forEach(function(Se){for(var He,Fe=0;He=Se.removedNodes[Fe];++Fe)He instanceof Element&&("dialog"===He.localName&&ae.push(He),ae=ae.concat(He.querySelectorAll("dialog")))}),ae.length&&J(ae)}))}};if(ge.DialogManager.prototype.blockDocument=function(){document.documentElement.addEventListener("focus",this.handleFocus_,!0),document.addEventListener("keydown",this.handleKey_),this.mo_&&this.mo_.observe(document,{childList:!0,subtree:!0})},ge.DialogManager.prototype.unblockDocument=function(){document.documentElement.removeEventListener("focus",this.handleFocus_,!0),document.removeEventListener("keydown",this.handleKey_),this.mo_&&this.mo_.disconnect()},ge.DialogManager.prototype.updateStacking=function(){for(var ae,J=this.zIndexHigh_,X=0;ae=this.pendingDialogStack[X];++X)ae.updateZIndex(--J,--J),0===X&&(this.overlay.style.zIndex=--J);var Se=this.pendingDialogStack[0];Se?(Se.dialog.parentNode||document.body).appendChild(this.overlay):this.overlay.parentNode&&this.overlay.parentNode.removeChild(this.overlay)},ge.DialogManager.prototype.containedByTopDialog_=function(J){for(;J=he(J);){for(var ae,X=0;ae=this.pendingDialogStack[X];++X)if(ae.dialog===J)return 0===X;J=J.parentElement}return!1},ge.DialogManager.prototype.handleFocus_=function(J){if(!this.containedByTopDialog_(J.target)&&(J.preventDefault(),J.stopPropagation(),De(J.target),void 0!==this.forwardTab_)){var X=this.pendingDialogStack[0];return X.dialog.compareDocumentPosition(J.target)&Node.DOCUMENT_POSITION_PRECEDING&&(this.forwardTab_?X.focus_():document.documentElement.focus()),!1}},ge.DialogManager.prototype.handleKey_=function(J){if(this.forwardTab_=void 0,27===J.keyCode){J.preventDefault(),J.stopPropagation();var X=new h("cancel",{bubbles:!1,cancelable:!0}),ae=this.pendingDialogStack[0];ae&&ae.dialog.dispatchEvent(X)&&ae.dialog.close()}else 9===J.keyCode&&(this.forwardTab_=!J.shiftKey)},ge.DialogManager.prototype.checkDOM_=function(J){this.pendingDialogStack.slice().forEach(function(ae){-1!==J.indexOf(ae.dialog)?ae.downgradeModal():ae.maybeHideModal()})},ge.DialogManager.prototype.pushDialog=function(J){return!(this.pendingDialogStack.length>=(this.zIndexHigh_-this.zIndexLow_)/2-1||(1===this.pendingDialogStack.unshift(J)&&this.blockDocument(),this.updateStacking(),0))},ge.DialogManager.prototype.removeDialog=function(J){var X=this.pendingDialogStack.indexOf(J);-1!==X&&(this.pendingDialogStack.splice(X,1),0===this.pendingDialogStack.length&&this.unblockDocument(),this.updateStacking())},ge.dm=new ge.DialogManager,ge.formSubmitter=null,ge.useValue=null,void 0===window.HTMLDialogElement){var ne=document.createElement("form");if(ne.setAttribute("method","dialog"),"dialog"!==ne.method){var te=Object.getOwnPropertyDescriptor(HTMLFormElement.prototype,"method");if(te){var ce=te.get;te.get=function(){return Ne(this)?"dialog":ce.call(this)};var We=te.set;te.set=function(J){return"string"==typeof J&&"dialog"===J.toLowerCase()?this.setAttribute("method",J):We.call(this,J)},Object.defineProperty(HTMLFormElement.prototype,"method",te)}}document.addEventListener("click",function(J){if(ge.formSubmitter=null,ge.useValue=null,!J.defaultPrevented){var X=J.target;if(X&&Ne(X.form)){if(!("submit"===X.type&&["button","input"].indexOf(X.localName)>-1)){if("input"!==X.localName||"image"!==X.type)return;ge.useValue=J.offsetX+","+J.offsetY}!he(X)||(ge.formSubmitter=X)}}},!1);var de=HTMLFormElement.prototype.submit;HTMLFormElement.prototype.submit=function(){if(!Ne(this))return de.call(this);var J=he(this);J&&J.close()},document.addEventListener("submit",function(J){var X=J.target;if(Ne(X)){J.preventDefault();var ae=he(X);if(ae){var Se=ge.formSubmitter;Se&&Se.form===X?ae.close(ge.useValue||Se.value):ae.close(),ge.formSubmitter=null}}},!0)}ge.forceRegisterDialog=ge.forceRegisterDialog,ge.registerDialog=ge.registerDialog,"amd"in V.amdD?void 0!==(O=function(){return ge}.call(pe,V,pe,we))&&(we.exports=O):"object"==typeof we.exports?we.exports=ge:window.dialogPolyfill=ge}()},7982:(we,pe,V)=>{"use strict";V.d(pe,{Gb:()=>O.Gb});var O=V(579)},5867:(we,pe,V)=>{"use strict";V.d(pe,{C6:()=>O.getApps,KN:()=>O.registerVersion,Mq:()=>O.getApp,ZF:()=>O.initializeApp});var O=V(9681);(0,O.registerVersion)("firebase","9.14.0","app")},127:(we,pe,V)=>{"use strict";V.d(pe,{Z:()=>O.Z});var O=V(3942);O.Z.registerVersion("firebase","9.14.0","app-compat")},5881:(we,pe,V)=>{"use strict";V.r(pe);var O=V(5861),h=V(3942),G=V(8247),he=V(2090),Ne=(V(9681),V(1877),V(4859));function be(){return window}function te(){return(te=(0,O.Z)(function*(U,k,j){var ie;const{BuildInfo:Ce}=be();(0,G.ap)(k.sessionId,"AuthEvent did not contain a session ID");const Je=yield ae(k.sessionId),Ze={};return(0,G.aq)()?Ze.ibi=Ce.packageName:(0,G.ar)()?Ze.apn=Ce.packageName:(0,G.as)(U,"operation-not-supported-in-this-environment"),Ce.displayName&&(Ze.appDisplayName=Ce.displayName),Ze.sessionId=Je,(0,G.at)(U,j,k.type,void 0,null!==(ie=k.eventId)&&void 0!==ie?ie:void 0,Ze)})).apply(this,arguments)}function We(){return(We=(0,O.Z)(function*(U){const{BuildInfo:k}=be(),j={};(0,G.aq)()?j.iosBundleId=k.packageName:(0,G.ar)()?j.androidPackageName=k.packageName:(0,G.as)(U,"operation-not-supported-in-this-environment"),yield(0,G.au)(U,j)})).apply(this,arguments)}function J(){return(J=(0,O.Z)(function*(U,k,j){const{cordova:ie}=be();let Ce=()=>{};try{yield new Promise((Je,Ze)=>{let Tt=null;function gt(){var zt;Je();const Wn=null===(zt=ie.plugins.browsertab)||void 0===zt?void 0:zt.close;"function"==typeof Wn&&Wn(),"function"==typeof j?.close&&j.close()}function Jt(){Tt||(Tt=window.setTimeout(()=>{Ze((0,G.aw)(U,"redirect-cancelled-by-user"))},2e3))}function Jn(){"visible"===document?.visibilityState&&Jt()}k.addPassiveListener(gt),document.addEventListener("resume",Jt,!1),(0,G.ar)()&&document.addEventListener("visibilitychange",Jn,!1),Ce=()=>{k.removePassiveListener(gt),document.removeEventListener("resume",Jt,!1),document.removeEventListener("visibilitychange",Jn,!1),Tt&&window.clearTimeout(Tt)}})}finally{Ce()}})).apply(this,arguments)}function ae(U){return Se.apply(this,arguments)}function Se(){return(Se=(0,O.Z)(function*(U){const k=Fe(U),j=yield crypto.subtle.digest("SHA-256",k);return Array.from(new Uint8Array(j)).map(Ce=>Ce.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function Fe(U){if((0,G.ap)(/[0-9a-zA-Z]+/.test(U),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(U);const k=new ArrayBuffer(U.length),j=new Uint8Array(k);for(let ie=0;ie<U.length;ie++)j[ie]=U.charCodeAt(ie);return j}class Ue extends G.ay{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(k=>{this.resolveInialized=k})}addPassiveListener(k){this.passiveListeners.add(k)}removePassiveListener(k){this.passiveListeners.delete(k)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(k){return this.resolveInialized(),this.passiveListeners.forEach(j=>j(k)),super.onEvent(k)}initialized(){var k=this;return(0,O.Z)(function*(){yield k.initPromise})()}}function ue(U){return Me.apply(this,arguments)}function Me(){return(Me=(0,O.Z)(function*(U){const k=yield me()._get(Ie(U));return k&&(yield me()._remove(Ie(U))),k})).apply(this,arguments)}function fe(){const U=[],k="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let j=0;j<20;j++){const ie=Math.floor(Math.random()*k.length);U.push(k.charAt(ie))}return U.join("")}function me(){return(0,G.az)(G.b)}function Ie(U){return(0,G.aA)("authEvent",U.config.apiKey,U.name)}function rt(U){if(!U?.includes("?"))return{};const[k,...j]=U.split("?");return(0,he.zd)(j.join("?"))}const Cn=class In{constructor(){this._redirectPersistence=G.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=G.aB,this._overrideRedirectResult=G.aC}_initialize(k){var j=this;return(0,O.Z)(function*(){const ie=k._key();let Ce=j.eventManagers.get(ie);return Ce||(Ce=new Ue(k),j.eventManagers.set(ie,Ce),j.attachCallbackListeners(k,Ce)),Ce})()}_openPopup(k){(0,G.as)(k,"operation-not-supported-in-this-environment")}_openRedirect(k,j,ie,Ce){var Je=this;return(0,O.Z)(function*(){!function X(U){var k,j,ie,Ce,Je,Ze,Tt,gt,Jt,Jn;const zt=be();(0,G.ax)("function"==typeof(null===(k=zt?.universalLinks)||void 0===k?void 0:k.subscribe),U,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,G.ax)(typeof(null===(j=zt?.BuildInfo)||void 0===j?void 0:j.packageName)<"u",U,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,G.ax)("function"==typeof(null===(Je=null===(Ce=null===(ie=zt?.cordova)||void 0===ie?void 0:ie.plugins)||void 0===Ce?void 0:Ce.browsertab)||void 0===Je?void 0:Je.openUrl),U,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,G.ax)("function"==typeof(null===(gt=null===(Tt=null===(Ze=zt?.cordova)||void 0===Ze?void 0:Ze.plugins)||void 0===Tt?void 0:Tt.browsertab)||void 0===gt?void 0:gt.isAvailable),U,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,G.ax)("function"==typeof(null===(Jn=null===(Jt=zt?.cordova)||void 0===Jt?void 0:Jt.InAppBrowser)||void 0===Jn?void 0:Jn.open),U,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(k);const Ze=yield Je._initialize(k);yield Ze.initialized(),Ze.resetRedirect(),(0,G.aD)(),yield Je._originValidation(k);const Tt=function Be(U,k,j=null){return{type:k,eventId:j,urlResponse:null,sessionId:fe(),postBody:null,tenantId:U.tenantId,error:(0,G.aw)(U,"no-auth-event")}}(k,ie,Ce);yield function it(U,k){return me()._set(Ie(U),k)}(k,Tt);const gt=yield function ne(U,k,j){return te.apply(this,arguments)}(k,Tt,j),Jt=yield function de(U){const{cordova:k}=be();return new Promise(j=>{k.plugins.browsertab.isAvailable(ie=>{let Ce=null;ie?k.plugins.browsertab.openUrl(U):Ce=k.InAppBrowser.open(U,(0,G.av)()?"_blank":"_system","location=yes"),j(Ce)})})}(gt);return function qe(U,k,j){return J.apply(this,arguments)}(k,Ze,Jt)})()}_isIframeWebStorageSupported(k,j){throw new Error("Method not implemented.")}_originValidation(k){const j=k._key();return this.originValidationPromises[j]||(this.originValidationPromises[j]=function ce(U){return We.apply(this,arguments)}(k)),this.originValidationPromises[j]}attachCallbackListeners(k,j){const{universalLinks:ie,handleOpenURL:Ce,BuildInfo:Je}=be(),Ze=setTimeout((0,O.Z)(function*(){yield ue(k),j.onEvent(Ft())}),500),Tt=function(){var Jn=(0,O.Z)(function*(zt){clearTimeout(Ze);const Wn=yield ue(k);let xo=null;Wn&&zt?.url&&(xo=function je(U,k){var j,ie;const Ce=function Te(U){const k=rt(U),j=k.link?decodeURIComponent(k.link):void 0,ie=rt(j).link,Ce=k.deep_link_id?decodeURIComponent(k.deep_link_id):void 0;return rt(Ce).link||Ce||ie||j||U}(k);if(Ce.includes("/__/auth/callback")){const Je=rt(Ce),Ze=Je.firebaseError?function Oe(U){try{return JSON.parse(U)}catch{return null}}(decodeURIComponent(Je.firebaseError)):null,Tt=null===(ie=null===(j=Ze?.code)||void 0===j?void 0:j.split("auth/"))||void 0===ie?void 0:ie[1],gt=Tt?(0,G.aw)(Tt):null;return gt?{type:U.type,eventId:U.eventId,tenantId:U.tenantId,error:gt,urlResponse:null,sessionId:null,postBody:null}:{type:U.type,eventId:U.eventId,tenantId:U.tenantId,sessionId:U.sessionId,urlResponse:Ce,postBody:null}}return null}(Wn,zt.url)),j.onEvent(xo||Ft())});return function(Wn){return Jn.apply(this,arguments)}}();typeof ie<"u"&&"function"==typeof ie.subscribe&&ie.subscribe(null,Tt);const gt=Ce,Jt=`${Je.packageName.toLowerCase()}://`;be().handleOpenURL=function(){var Jn=(0,O.Z)(function*(zt){if(zt.toLowerCase().startsWith(Jt)&&Tt({url:zt}),"function"==typeof gt)try{gt(zt)}catch(Wn){console.error(Wn)}});return function(zt){return Jn.apply(this,arguments)}}()}};function Ft(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,G.aw)("no-auth-event")}}function nn(){var U;return(null===(U=self?.location)||void 0===U?void 0:U.protocol)||null}function Fn(U=(0,he.z$)()){return!("file:"!==nn()&&"ionic:"!==nn()&&"capacitor:"!==nn()||!U.toLowerCase().match(/iphone|ipad|ipod|android/))}function ki(){try{const U=self.localStorage,k=G.aI();if(U)return U.setItem(k,"1"),U.removeItem(k),!function Or(U=(0,he.z$)()){return function mi(){return(0,he.w1)()&&11===document?.documentMode}()||function cr(U=(0,he.z$)()){return/Edge\/\d+/.test(U)}(U)}()||(0,he.hl)()}catch{return ri()&&(0,he.hl)()}return!1}function ri(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function wr(){return(function kt(){return"http:"===nn()||"https:"===nn()}()||(0,he.ru)()||Fn())&&!function kr(){return(0,he.b$)()||(0,he.UG)()}()&&ki()&&!ri()}function Br(){return Fn()&&typeof document<"u"}function jr(){return(jr=(0,O.Z)(function*(){return!!Br()&&new Promise(U=>{const k=setTimeout(()=>{U(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(k),U(!0)})})})).apply(this,arguments)}const It={LOCAL:"local",NONE:"none",SESSION:"session"},Er=G.ax,Qr="persistence";function $r(U){return Pr.apply(this,arguments)}function Pr(){return(Pr=(0,O.Z)(function*(U){yield U._initializationPromise;const k=Bn(),j=G.aA(Qr,U.config.apiKey,U.name);k&&k.setItem(j,U._getPersistence())})).apply(this,arguments)}function Bn(){var U;try{return(null===(U=function En(){return typeof window<"u"?window:null}())||void 0===U?void 0:U.sessionStorage)||null}catch{return null}}const Nt=G.ax;class ht{constructor(){this.browserResolver=G.az(G.k),this.cordovaResolver=G.az(Cn),this.underlyingResolver=null,this._redirectPersistence=G.a,this._completeRedirectFn=G.aB,this._overrideRedirectResult=G.aC}_initialize(k){var j=this;return(0,O.Z)(function*(){return yield j.selectUnderlyingResolver(),j.assertedUnderlyingResolver._initialize(k)})()}_openPopup(k,j,ie,Ce){var Je=this;return(0,O.Z)(function*(){return yield Je.selectUnderlyingResolver(),Je.assertedUnderlyingResolver._openPopup(k,j,ie,Ce)})()}_openRedirect(k,j,ie,Ce){var Je=this;return(0,O.Z)(function*(){return yield Je.selectUnderlyingResolver(),Je.assertedUnderlyingResolver._openRedirect(k,j,ie,Ce)})()}_isIframeWebStorageSupported(k,j){this.assertedUnderlyingResolver._isIframeWebStorageSupported(k,j)}_originValidation(k){return this.assertedUnderlyingResolver._originValidation(k)}get _shouldInitProactively(){return Br()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Nt(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var k=this;return(0,O.Z)(function*(){if(k.underlyingResolver)return;const j=yield function ii(){return jr.apply(this,arguments)}();k.underlyingResolver=j?k.cordovaResolver:k.browserResolver})()}}function Gn(U){return U.unwrap()}function br(U){return ar(U)}function ar(U){const{_tokenResponse:k}=U instanceof he.ZR?U.customData:U;if(!k)return null;if(!(U instanceof he.ZR)&&"temporaryProof"in k&&"phoneNumber"in k)return G.P.credentialFromResult(U);const j=k.providerId;if(!j||j===G.o.PASSWORD)return null;let ie;switch(j){case G.o.GOOGLE:ie=G.Q;break;case G.o.FACEBOOK:ie=G.N;break;case G.o.GITHUB:ie=G.T;break;case G.o.TWITTER:ie=G.W;break;default:const{oauthIdToken:Ce,oauthAccessToken:Je,oauthTokenSecret:Ze,pendingToken:Tt,nonce:gt}=k;return Je||Ze||Ce||Tt?Tt?j.startsWith("saml.")?G.aL._create(j,Tt):G.J._fromParams({providerId:j,signInMethod:j,pendingToken:Tt,idToken:Ce,accessToken:Je}):new G.U(j).credential({idToken:Ce,accessToken:Je,rawNonce:gt}):null}return U instanceof he.ZR?ie.credentialFromError(U):ie.credentialFromResult(U)}function Qn(U,k){return k.catch(j=>{throw j instanceof he.ZR&&function di(U,k){var j,ie;const Ce=null===(j=k.customData)||void 0===j?void 0:j._tokenResponse;if("auth/multi-factor-auth-required"===(null===(ie=k)||void 0===ie?void 0:ie.code))k.resolver=new rn(U,G.an(U,k));else if(Ce){const Je=ar(k),Ze=k;Je&&(Ze.credential=Je,Ze.tenantId=Ce.tenantId||void 0,Ze.email=Ce.email||void 0,Ze.phoneNumber=Ce.phoneNumber||void 0)}}(U,j),j}).then(j=>{const Ce=j.user;return{operationType:j.operationType,credential:br(j),additionalUserInfo:G.al(j),user:Gr.getOrCreate(Ce)}})}function Dn(U,k){return Lr.apply(this,arguments)}function Lr(){return(Lr=(0,O.Z)(function*(U,k){const j=yield k;return{verificationId:j.verificationId,confirm:ie=>Qn(U,j.confirm(ie))}})).apply(this,arguments)}class rn{constructor(k,j){this.resolver=j,this.auth=function Hr(U){return U.wrapped()}(k)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(k){return Qn(Gn(this.auth),this.resolver.resolveSignIn(k))}}class Gr{constructor(k){this._delegate=k,this.multiFactor=G.ao(k)}static getOrCreate(k){return Gr.USER_MAP.has(k)||Gr.USER_MAP.set(k,new Gr(k)),Gr.USER_MAP.get(k)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(k){return this._delegate.getIdTokenResult(k)}getIdToken(k){return this._delegate.getIdToken(k)}linkAndRetrieveDataWithCredential(k){return this.linkWithCredential(k)}linkWithCredential(k){var j=this;return(0,O.Z)(function*(){return Qn(j.auth,G.Z(j._delegate,k))})()}linkWithPhoneNumber(k,j){var ie=this;return(0,O.Z)(function*(){return Dn(ie.auth,G.l(ie._delegate,k,j))})()}linkWithPopup(k){var j=this;return(0,O.Z)(function*(){return Qn(j.auth,G.d(j._delegate,k,ht))})()}linkWithRedirect(k){var j=this;return(0,O.Z)(function*(){return yield $r(G.aE(j.auth)),G.g(j._delegate,k,ht)})()}reauthenticateAndRetrieveDataWithCredential(k){return this.reauthenticateWithCredential(k)}reauthenticateWithCredential(k){var j=this;return(0,O.Z)(function*(){return Qn(j.auth,G._(j._delegate,k))})()}reauthenticateWithPhoneNumber(k,j){return Dn(this.auth,G.r(this._delegate,k,j))}reauthenticateWithPopup(k){return Qn(this.auth,G.e(this._delegate,k,ht))}reauthenticateWithRedirect(k){var j=this;return(0,O.Z)(function*(){return yield $r(G.aE(j.auth)),G.h(j._delegate,k,ht)})()}sendEmailVerification(k){return G.ab(this._delegate,k)}unlink(k){var j=this;return(0,O.Z)(function*(){return yield G.ak(j._delegate,k),j})()}updateEmail(k){return G.ag(this._delegate,k)}updatePassword(k){return G.ah(this._delegate,k)}updatePhoneNumber(k){return G.u(this._delegate,k)}updateProfile(k){return G.af(this._delegate,k)}verifyBeforeUpdateEmail(k,j){return G.ac(this._delegate,k,j)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Gr.USER_MAP=new WeakMap;const Xe=G.ax;let ze=(()=>{class U{constructor(j,ie){if(this.app=j,ie.isInitialized())return this._delegate=ie.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:Ce}=j.options;Xe(Ce,"invalid-api-key",{appName:j.name}),Xe(Ce,"invalid-api-key",{appName:j.name});const Je=typeof window<"u"?ht:void 0;this._delegate=ie.initialize({options:{persistence:Ot(Ce,j.name),popupRedirectResolver:Je}}),this._delegate._updateErrorMap(G.B),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Gr.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(j){this._delegate.languageCode=j}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(j){this._delegate.tenantId=j}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(j,ie){G.G(this._delegate,j,ie)}applyActionCode(j){return G.a2(this._delegate,j)}checkActionCode(j){return G.a3(this._delegate,j)}confirmPasswordReset(j,ie){return G.a1(this._delegate,j,ie)}createUserWithEmailAndPassword(j,ie){var Ce=this;return(0,O.Z)(function*(){return Qn(Ce._delegate,G.a5(Ce._delegate,j,ie))})()}fetchProvidersForEmail(j){return this.fetchSignInMethodsForEmail(j)}fetchSignInMethodsForEmail(j){return G.aa(this._delegate,j)}isSignInWithEmailLink(j){return G.a8(this._delegate,j)}getRedirectResult(){var j=this;return(0,O.Z)(function*(){Xe(wr(),j._delegate,"operation-not-supported-in-this-environment");const ie=yield G.j(j._delegate,ht);return ie?Qn(j._delegate,Promise.resolve(ie)):{credential:null,user:null}})()}addFrameworkForLogging(j){!function en(U,k){(0,G.aE)(U)._logFramework(k)}(this._delegate,j)}onAuthStateChanged(j,ie,Ce){const{next:Je,error:Ze,complete:Tt}=pt(j,ie,Ce);return this._delegate.onAuthStateChanged(Je,Ze,Tt)}onIdTokenChanged(j,ie,Ce){const{next:Je,error:Ze,complete:Tt}=pt(j,ie,Ce);return this._delegate.onIdTokenChanged(Je,Ze,Tt)}sendSignInLinkToEmail(j,ie){return G.a7(this._delegate,j,ie)}sendPasswordResetEmail(j,ie){return G.a0(this._delegate,j,ie||void 0)}setPersistence(j){var ie=this;return(0,O.Z)(function*(){let Ce;switch(function Yn(U,k){Er(Object.values(It).includes(k),U,"invalid-persistence-type"),(0,he.b$)()?Er(k!==It.SESSION,U,"unsupported-persistence-type"):(0,he.UG)()?Er(k===It.NONE,U,"unsupported-persistence-type"):ri()?Er(k===It.NONE||k===It.LOCAL&&(0,he.hl)(),U,"unsupported-persistence-type"):Er(k===It.NONE||ki(),U,"unsupported-persistence-type")}(ie._delegate,j),j){case It.SESSION:Ce=G.a;break;case It.LOCAL:Ce=(yield G.az(G.i)._isAvailable())?G.i:G.b;break;case It.NONE:Ce=G.L;break;default:return G.as("argument-error",{appName:ie._delegate.name})}return ie._delegate.setPersistence(Ce)})()}signInAndRetrieveDataWithCredential(j){return this.signInWithCredential(j)}signInAnonymously(){return Qn(this._delegate,G.X(this._delegate))}signInWithCredential(j){return Qn(this._delegate,G.Y(this._delegate,j))}signInWithCustomToken(j){return Qn(this._delegate,G.$(this._delegate,j))}signInWithEmailAndPassword(j,ie){return Qn(this._delegate,G.a6(this._delegate,j,ie))}signInWithEmailLink(j,ie){return Qn(this._delegate,G.a9(this._delegate,j,ie))}signInWithPhoneNumber(j,ie){return Dn(this._delegate,G.s(this._delegate,j,ie))}signInWithPopup(j){var ie=this;return(0,O.Z)(function*(){return Xe(wr(),ie._delegate,"operation-not-supported-in-this-environment"),Qn(ie._delegate,G.c(ie._delegate,j,ht))})()}signInWithRedirect(j){var ie=this;return(0,O.Z)(function*(){return Xe(wr(),ie._delegate,"operation-not-supported-in-this-environment"),yield $r(ie._delegate),G.f(ie._delegate,j,ht)})()}updateCurrentUser(j){return this._delegate.updateCurrentUser(j)}verifyPasswordResetCode(j){return G.a4(this._delegate,j)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return U.Persistence=It,U})();function pt(U,k,j){let ie=U;"function"!=typeof U&&({next:ie,error:k,complete:j}=U);const Ce=ie;return{next:Ze=>Ce(Ze&&Gr.getOrCreate(Ze)),error:k,complete:j}}function Ot(U,k){const j=function bn(U,k){const j=Bn();if(!j)return[];const ie=G.aA(Qr,U,k);switch(j.getItem(ie)){case It.NONE:return[G.L];case It.LOCAL:return[G.i,G.a];case It.SESSION:return[G.a];default:return[]}}(U,k);if(typeof self<"u"&&!j.includes(G.i)&&j.push(G.i),typeof window<"u")for(const ie of[G.b,G.a])j.includes(ie)||j.push(ie);return j.includes(G.L)||j.push(G.L),j}class Ht{constructor(){this.providerId="phone",this._delegate=new G.P(Gn(h.Z.auth()))}static credential(k,j){return G.P.credential(k,j)}verifyPhoneNumber(k,j){return this._delegate.verifyPhoneNumber(k,j)}unwrap(){return this._delegate}}Ht.PHONE_SIGN_IN_METHOD=G.P.PHONE_SIGN_IN_METHOD,Ht.PROVIDER_ID=G.P.PROVIDER_ID;const dn=G.ax;class re{constructor(k,j,ie=h.Z.app()){var Ce;dn(null===(Ce=ie.options)||void 0===Ce?void 0:Ce.apiKey,"invalid-api-key",{appName:ie.name}),this._delegate=new G.R(k,j,ie.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function H(U){U.INTERNAL.registerComponent(new Ne.wA("auth-compat",k=>{const j=k.getProvider("app-compat").getImmediate(),ie=k.getProvider("auth");return new ze(j,ie)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:G.A.EMAIL_SIGNIN,PASSWORD_RESET:G.A.PASSWORD_RESET,RECOVER_EMAIL:G.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:G.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:G.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:G.A.VERIFY_EMAIL}},EmailAuthProvider:G.M,FacebookAuthProvider:G.N,GithubAuthProvider:G.T,GoogleAuthProvider:G.Q,OAuthProvider:G.U,SAMLAuthProvider:G.V,PhoneAuthProvider:Ht,PhoneMultiFactorGenerator:G.m,RecaptchaVerifier:re,TwitterAuthProvider:G.W,Auth:ze,AuthCredential:G.H,Error:he.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),U.registerVersion("@firebase/auth-compat","0.2.24")}(h.Z)},5473:()=>{!function(){"use strict";var we=function(V){this.element_=V,this.init()};window.MaterialButton=we,we.prototype.Constant_={},we.prototype.CssClasses_={RIPPLE_EFFECT:"mdl-js-ripple-effect",RIPPLE_CONTAINER:"mdl-button__ripple-container",RIPPLE:"mdl-ripple"},we.prototype.blurHandler_=function(pe){pe&&this.element_.blur()},we.prototype.disable=we.prototype.disable=function(){this.element_.disabled=!0},we.prototype.enable=we.prototype.enable=function(){this.element_.disabled=!1},we.prototype.init=function(){if(this.element_){if(this.element_.classList.contains(this.CssClasses_.RIPPLE_EFFECT)){var pe=document.createElement("span");pe.classList.add(this.CssClasses_.RIPPLE_CONTAINER),this.rippleElement_=document.createElement("span"),this.rippleElement_.classList.add(this.CssClasses_.RIPPLE),pe.appendChild(this.rippleElement_),this.boundRippleBlurHandler=this.blurHandler_.bind(this),this.rippleElement_.addEventListener("mouseup",this.boundRippleBlurHandler),this.element_.appendChild(pe)}this.boundButtonBlurHandler=this.blurHandler_.bind(this),this.element_.addEventListener("mouseup",this.boundButtonBlurHandler),this.element_.addEventListener("mouseleave",this.boundButtonBlurHandler)}},componentHandler.register({constructor:we,classAsString:"MaterialButton",cssClass:"mdl-js-button",widget:!0})}()},2125:()=>{var we={upgradeDom:function(pe,V){},upgradeElement:function(pe,V){},upgradeElements:function(pe){},upgradeAllRegistered:function(){},registerUpgradedCallback:function(pe,V){},register:function(pe){},downgradeElements:function(pe){}};(we=function(){"use strict";var pe=[],V=[],O="mdlComponentConfigInternal_";function h(de,qe){for(var J=0;J<pe.length;J++)if(pe[J].className===de)return typeof qe<"u"&&(pe[J]=qe),pe[J];return!1}function G(de){var qe=de.getAttribute("data-upgraded");return null===qe?[""]:qe.split(",")}function he(de,qe){return-1!==G(de).indexOf(qe)}function De(de,qe,J){if("CustomEvent"in window&&"function"==typeof window.CustomEvent)return new CustomEvent(de,{bubbles:qe,cancelable:J});var X=document.createEvent("Events");return X.initEvent(de,qe,J),X}function xe(de,qe){if(typeof de>"u"&&typeof qe>"u")for(var J=0;J<pe.length;J++)xe(pe[J].className,pe[J].cssClass);else{var X=de;if(typeof qe>"u"){var ae=h(X);ae&&(qe=ae.cssClass)}for(var Se=document.querySelectorAll("."+qe),Fe=0;Fe<Se.length;Fe++)Ne(Se[Fe],X)}}function Ne(de,qe){if(!("object"==typeof de&&de instanceof Element))throw new Error("Invalid argument provided to upgrade MDL element.");var J=De("mdl-componentupgrading",!0,!0);if(de.dispatchEvent(J),!J.defaultPrevented){var X=G(de),ae=[];if(qe)he(de,qe)||ae.push(h(qe));else{var Se=de.classList;pe.forEach(function(je){Se.contains(je.cssClass)&&-1===ae.indexOf(je)&&!he(de,je.className)&&ae.push(je)})}for(var Ue,Fe=0,He=ae.length;Fe<He;Fe++){if(!(Ue=ae[Fe]))throw new Error("Unable to find a registered component for the given class.");X.push(Ue.className),de.setAttribute("data-upgraded",X.join(","));var Be=new Ue.classConstructor(de);Be[O]=Ue,V.push(Be);for(var it=0,ue=Ue.callbacks.length;it<ue;it++)Ue.callbacks[it](de);Ue.widget&&(de[Ue.className]=Be);var Me=De("mdl-componentupgraded",!0,!1);de.dispatchEvent(Me)}}}function ce(de){if(de){var qe=V.indexOf(de);V.splice(qe,1);var J=de.element_.getAttribute("data-upgraded").split(","),X=J.indexOf(de[O].classAsString);J.splice(X,1),de.element_.setAttribute("data-upgraded",J.join(","));var ae=De("mdl-componentdowngraded",!0,!1);de.element_.dispatchEvent(ae)}}return{upgradeDom:xe,upgradeElement:Ne,upgradeElements:function be(de){Array.isArray(de)||(de=de instanceof Element?[de]:Array.prototype.slice.call(de));for(var X,qe=0,J=de.length;qe<J;qe++)(X=de[qe])instanceof HTMLElement&&(Ne(X),X.children.length>0&&be(X.children))},upgradeAllRegistered:function te(){for(var de=0;de<pe.length;de++)xe(pe[de].className)},registerUpgradedCallback:function ne(de,qe){var J=h(de);J&&J.callbacks.push(qe)},register:function ge(de){var J=!0;typeof de.widget>"u"&&typeof de.widget>"u"||(J=de.widget||de.widget);var X={classConstructor:de.constructor||de.constructor,className:de.classAsString||de.classAsString,cssClass:de.cssClass||de.cssClass,widget:J,callbacks:[]};if(pe.forEach(function(Se){if(Se.cssClass===X.cssClass)throw new Error("The provided cssClass has already been registered: "+Se.cssClass);if(Se.className===X.className)throw new Error("The provided className has already been registered")}),de.constructor.prototype.hasOwnProperty(O))throw new Error("MDL component classes must not have "+O+" defined as a property.");h(de.classAsString,X)||pe.push(X)},downgradeElements:function We(de){var qe=function(X){V.filter(function(ae){return ae.element_===X}).forEach(ce)};if(de instanceof Array||de instanceof NodeList)for(var J=0;J<de.length;J++)qe(de[J]);else{if(!(de instanceof Node))throw new Error("Invalid argument provided to downgrade MDL nodes.");qe(de)}}}}()).upgradeDom=we.upgradeDom,we.upgradeElement=we.upgradeElement,we.upgradeElements=we.upgradeElements,we.upgradeAllRegistered=we.upgradeAllRegistered,we.registerUpgradedCallback=we.registerUpgradedCallback,we.register=we.register,we.downgradeElements=we.downgradeElements,window.componentHandler=we,window.componentHandler=we,window.addEventListener("load",function(){"use strict";"classList"in document.createElement("div")&&"querySelector"in document&&"addEventListener"in window&&Array.prototype.forEach?(document.documentElement.classList.add("mdl-js"),we.upgradeAllRegistered()):(we.upgradeElement=function(){},we.register=function(){})})},9812:()=>{!function(){"use strict";var we=function(V){this.element_=V,this.init()};window.MaterialProgress=we,we.prototype.Constant_={},we.prototype.CssClasses_={INDETERMINATE_CLASS:"mdl-progress__indeterminate"},we.prototype.setProgress=we.prototype.setProgress=function(pe){this.element_.classList.contains(this.CssClasses_.INDETERMINATE_CLASS)||(this.progressbar_.style.width=pe+"%")},we.prototype.setBuffer=we.prototype.setBuffer=function(pe){this.bufferbar_.style.width=pe+"%",this.auxbar_.style.width=100-pe+"%"},we.prototype.init=function(){if(this.element_){var pe=document.createElement("div");pe.className="progressbar bar bar1",this.element_.appendChild(pe),this.progressbar_=pe,(pe=document.createElement("div")).className="bufferbar bar bar2",this.element_.appendChild(pe),this.bufferbar_=pe,(pe=document.createElement("div")).className="auxbar bar bar3",this.element_.appendChild(pe),this.auxbar_=pe,this.progressbar_.style.width="0%",this.bufferbar_.style.width="100%",this.auxbar_.style.width="0%",this.element_.classList.add("is-upgraded")}},componentHandler.register({constructor:we,classAsString:"MaterialProgress",cssClass:"mdl-js-progress",widget:!0})}()},7792:()=>{!function(){"use strict";var we=function(V){this.element_=V,this.init()};window.MaterialSpinner=we,we.prototype.Constant_={MDL_SPINNER_LAYER_COUNT:4},we.prototype.CssClasses_={MDL_SPINNER_LAYER:"mdl-spinner__layer",MDL_SPINNER_CIRCLE_CLIPPER:"mdl-spinner__circle-clipper",MDL_SPINNER_CIRCLE:"mdl-spinner__circle",MDL_SPINNER_GAP_PATCH:"mdl-spinner__gap-patch",MDL_SPINNER_LEFT:"mdl-spinner__left",MDL_SPINNER_RIGHT:"mdl-spinner__right"},we.prototype.createLayer=we.prototype.createLayer=function(pe){var V=document.createElement("div");V.classList.add(this.CssClasses_.MDL_SPINNER_LAYER),V.classList.add(this.CssClasses_.MDL_SPINNER_LAYER+"-"+pe);var O=document.createElement("div");O.classList.add(this.CssClasses_.MDL_SPINNER_CIRCLE_CLIPPER),O.classList.add(this.CssClasses_.MDL_SPINNER_LEFT);var h=document.createElement("div");h.classList.add(this.CssClasses_.MDL_SPINNER_GAP_PATCH);var G=document.createElement("div");G.classList.add(this.CssClasses_.MDL_SPINNER_CIRCLE_CLIPPER),G.classList.add(this.CssClasses_.MDL_SPINNER_RIGHT);for(var he=[O,h,G],De=0;De<he.length;De++){var xe=document.createElement("div");xe.classList.add(this.CssClasses_.MDL_SPINNER_CIRCLE),he[De].appendChild(xe)}V.appendChild(O),V.appendChild(h),V.appendChild(G),this.element_.appendChild(V)},we.prototype.stop=we.prototype.stop=function(){this.element_.classList.remove("is-active")},we.prototype.start=we.prototype.start=function(){this.element_.classList.add("is-active")},we.prototype.init=function(){if(this.element_){for(var pe=1;pe<=this.Constant_.MDL_SPINNER_LAYER_COUNT;pe++)this.createLayer(pe);this.element_.classList.add("is-upgraded")}},componentHandler.register({constructor:we,classAsString:"MaterialSpinner",cssClass:"mdl-js-spinner",widget:!0})}()},2910:()=>{!function(){"use strict";var we=function(V){this.element_=V,this.maxRows=this.Constant_.NO_MAX_ROWS,this.init()};window.MaterialTextfield=we,we.prototype.Constant_={NO_MAX_ROWS:-1,MAX_ROWS_ATTRIBUTE:"maxrows"},we.prototype.CssClasses_={LABEL:"mdl-textfield__label",INPUT:"mdl-textfield__input",IS_DIRTY:"is-dirty",IS_FOCUSED:"is-focused",IS_DISABLED:"is-disabled",IS_INVALID:"is-invalid",IS_UPGRADED:"is-upgraded",HAS_PLACEHOLDER:"has-placeholder"},we.prototype.onKeyDown_=function(pe){var V=pe.target.value.split("\n").length;13===pe.keyCode&&V>=this.maxRows&&pe.preventDefault()},we.prototype.onFocus_=function(pe){this.element_.classList.add(this.CssClasses_.IS_FOCUSED)},we.prototype.onBlur_=function(pe){this.element_.classList.remove(this.CssClasses_.IS_FOCUSED)},we.prototype.onReset_=function(pe){this.updateClasses_()},we.prototype.updateClasses_=function(){this.checkDisabled(),this.checkValidity(),this.checkDirty(),this.checkFocus()},we.prototype.checkDisabled=we.prototype.checkDisabled=function(){this.input_.disabled?this.element_.classList.add(this.CssClasses_.IS_DISABLED):this.element_.classList.remove(this.CssClasses_.IS_DISABLED)},we.prototype.checkFocus=we.prototype.checkFocus=function(){Boolean(this.element_.querySelector(":focus"))?this.element_.classList.add(this.CssClasses_.IS_FOCUSED):this.element_.classList.remove(this.CssClasses_.IS_FOCUSED)},we.prototype.checkValidity=we.prototype.checkValidity=function(){this.input_.validity&&(this.input_.validity.valid?this.element_.classList.remove(this.CssClasses_.IS_INVALID):this.element_.classList.add(this.CssClasses_.IS_INVALID))},we.prototype.checkDirty=we.prototype.checkDirty=function(){this.input_.value&&this.input_.value.length>0?this.element_.classList.add(this.CssClasses_.IS_DIRTY):this.element_.classList.remove(this.CssClasses_.IS_DIRTY)},we.prototype.disable=we.prototype.disable=function(){this.input_.disabled=!0,this.updateClasses_()},we.prototype.enable=we.prototype.enable=function(){this.input_.disabled=!1,this.updateClasses_()},we.prototype.change=we.prototype.change=function(pe){this.input_.value=pe||"",this.updateClasses_()},we.prototype.init=function(){if(this.element_&&(this.label_=this.element_.querySelector("."+this.CssClasses_.LABEL),this.input_=this.element_.querySelector("."+this.CssClasses_.INPUT),this.input_)){this.input_.hasAttribute(this.Constant_.MAX_ROWS_ATTRIBUTE)&&(this.maxRows=parseInt(this.input_.getAttribute(this.Constant_.MAX_ROWS_ATTRIBUTE),10),isNaN(this.maxRows)&&(this.maxRows=this.Constant_.NO_MAX_ROWS)),this.input_.hasAttribute("placeholder")&&this.element_.classList.add(this.CssClasses_.HAS_PLACEHOLDER),this.boundUpdateClassesHandler=this.updateClasses_.bind(this),this.boundFocusHandler=this.onFocus_.bind(this),this.boundBlurHandler=this.onBlur_.bind(this),this.boundResetHandler=this.onReset_.bind(this),this.input_.addEventListener("input",this.boundUpdateClassesHandler),this.input_.addEventListener("focus",this.boundFocusHandler),this.input_.addEventListener("blur",this.boundBlurHandler),this.input_.addEventListener("reset",this.boundResetHandler),this.maxRows!==this.Constant_.NO_MAX_ROWS&&(this.boundKeyDownHandler=this.onKeyDown_.bind(this),this.input_.addEventListener("keydown",this.boundKeyDownHandler));var pe=this.element_.classList.contains(this.CssClasses_.IS_INVALID);this.updateClasses_(),this.element_.classList.add(this.CssClasses_.IS_UPGRADED),pe&&this.element_.classList.add(this.CssClasses_.IS_INVALID),this.input_.hasAttribute("autofocus")&&(this.element_.focus(),this.checkFocus())}},componentHandler.register({constructor:we,classAsString:"MaterialTextfield",cssClass:"mdl-js-textfield",widget:!0})}()},9751:(we,pe,V)=>{"use strict";V.d(pe,{y:()=>be});var O=V(930),h=V(727),G=V(8822),he=V(9635),De=V(2416),xe=V(576),Ne=V(2806);let be=(()=>{class ce{constructor(de){de&&(this._subscribe=de)}lift(de){const qe=new ce;return qe.source=this,qe.operator=de,qe}subscribe(de,qe,J){const X=function te(ce){return ce&&ce instanceof O.Lv||function ne(ce){return ce&&(0,xe.m)(ce.next)&&(0,xe.m)(ce.error)&&(0,xe.m)(ce.complete)}(ce)&&(0,h.Nn)(ce)}(de)?de:new O.Hp(de,qe,J);return(0,Ne.x)(()=>{const{operator:ae,source:Se}=this;X.add(ae?ae.call(X,Se):Se?this._subscribe(X):this._trySubscribe(X))}),X}_trySubscribe(de){try{return this._subscribe(de)}catch(qe){de.error(qe)}}forEach(de,qe){return new(qe=ge(qe))((J,X)=>{const ae=new O.Hp({next:Se=>{try{de(Se)}catch(Fe){X(Fe),ae.unsubscribe()}},error:X,complete:J});this.subscribe(ae)})}_subscribe(de){var qe;return null===(qe=this.source)||void 0===qe?void 0:qe.subscribe(de)}[G.L](){return this}pipe(...de){return(0,he.U)(de)(this)}toPromise(de){return new(de=ge(de))((qe,J)=>{let X;this.subscribe(ae=>X=ae,ae=>J(ae),()=>qe(X))})}}return ce.create=We=>new ce(We),ce})();function ge(ce){var We;return null!==(We=ce??De.v.Promise)&&void 0!==We?We:Promise}},7579:(we,pe,V)=>{"use strict";V.d(pe,{x:()=>Ne});var O=V(9751),h=V(727);const he=(0,V(3888).d)(ge=>function(){ge(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var De=V(8737),xe=V(2806);let Ne=(()=>{class ge extends O.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(te){const ce=new be(this,this);return ce.operator=te,ce}_throwIfClosed(){if(this.closed)throw new he}next(te){(0,xe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const ce of this.currentObservers)ce.next(te)}})}error(te){(0,xe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=te;const{observers:ce}=this;for(;ce.length;)ce.shift().error(te)}})}complete(){(0,xe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:te}=this;for(;te.length;)te.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var te;return(null===(te=this.observers)||void 0===te?void 0:te.length)>0}_trySubscribe(te){return this._throwIfClosed(),super._trySubscribe(te)}_subscribe(te){return this._throwIfClosed(),this._checkFinalizedStatuses(te),this._innerSubscribe(te)}_innerSubscribe(te){const{hasError:ce,isStopped:We,observers:de}=this;return ce||We?h.Lc:(this.currentObservers=null,de.push(te),new h.w0(()=>{this.currentObservers=null,(0,De.P)(de,te)}))}_checkFinalizedStatuses(te){const{hasError:ce,thrownError:We,isStopped:de}=this;ce?te.error(We):de&&te.complete()}asObservable(){const te=new O.y;return te.source=this,te}}return ge.create=(ne,te)=>new be(ne,te),ge})();class be extends Ne{constructor(ne,te){super(),this.destination=ne,this.source=te}next(ne){var te,ce;null===(ce=null===(te=this.destination)||void 0===te?void 0:te.next)||void 0===ce||ce.call(te,ne)}error(ne){var te,ce;null===(ce=null===(te=this.destination)||void 0===te?void 0:te.error)||void 0===ce||ce.call(te,ne)}complete(){var ne,te;null===(te=null===(ne=this.destination)||void 0===ne?void 0:ne.complete)||void 0===te||te.call(ne)}_subscribe(ne){var te,ce;return null!==(ce=null===(te=this.source)||void 0===te?void 0:te.subscribe(ne))&&void 0!==ce?ce:h.Lc}}},930:(we,pe,V)=>{"use strict";V.d(pe,{Hp:()=>J,Lv:()=>ce});var O=V(576),h=V(727),G=V(2416),he=V(7849),De=V(5032);const xe=ge("C",void 0,void 0);function ge(He,Ue,Be){return{kind:He,value:Ue,error:Be}}var ne=V(3410),te=V(2806);class ce extends h.w0{constructor(Ue){super(),this.isStopped=!1,Ue?(this.destination=Ue,(0,h.Nn)(Ue)&&Ue.add(this)):this.destination=Fe}static create(Ue,Be,it){return new J(Ue,Be,it)}next(Ue){this.isStopped?Se(function be(He){return ge("N",He,void 0)}(Ue),this):this._next(Ue)}error(Ue){this.isStopped?Se(function Ne(He){return ge("E",void 0,He)}(Ue),this):(this.isStopped=!0,this._error(Ue))}complete(){this.isStopped?Se(xe,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Ue){this.destination.next(Ue)}_error(Ue){try{this.destination.error(Ue)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const We=Function.prototype.bind;function de(He,Ue){return We.call(He,Ue)}class qe{constructor(Ue){this.partialObserver=Ue}next(Ue){const{partialObserver:Be}=this;if(Be.next)try{Be.next(Ue)}catch(it){X(it)}}error(Ue){const{partialObserver:Be}=this;if(Be.error)try{Be.error(Ue)}catch(it){X(it)}else X(Ue)}complete(){const{partialObserver:Ue}=this;if(Ue.complete)try{Ue.complete()}catch(Be){X(Be)}}}class J extends ce{constructor(Ue,Be,it){let ue;if(super(),(0,O.m)(Ue)||!Ue)ue={next:Ue??void 0,error:Be??void 0,complete:it??void 0};else{let Me;this&&G.v.useDeprecatedNextContext?(Me=Object.create(Ue),Me.unsubscribe=()=>this.unsubscribe(),ue={next:Ue.next&&de(Ue.next,Me),error:Ue.error&&de(Ue.error,Me),complete:Ue.complete&&de(Ue.complete,Me)}):ue=Ue}this.destination=new qe(ue)}}function X(He){G.v.useDeprecatedSynchronousErrorHandling?(0,te.O)(He):(0,he.h)(He)}function Se(He,Ue){const{onStoppedNotification:Be}=G.v;Be&&ne.z.setTimeout(()=>Be(He,Ue))}const Fe={closed:!0,next:De.Z,error:function ae(He){throw He},complete:De.Z}},727:(we,pe,V)=>{"use strict";V.d(pe,{Lc:()=>xe,w0:()=>De,Nn:()=>Ne});var O=V(576);const G=(0,V(3888).d)(ge=>function(te){ge(this),this.message=te?`${te.length} errors occurred during unsubscription:\n${te.map((ce,We)=>`${We+1}) ${ce.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=te});var he=V(8737);class De{constructor(ne){this.initialTeardown=ne,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let ne;if(!this.closed){this.closed=!0;const{_parentage:te}=this;if(te)if(this._parentage=null,Array.isArray(te))for(const de of te)de.remove(this);else te.remove(this);const{initialTeardown:ce}=this;if((0,O.m)(ce))try{ce()}catch(de){ne=de instanceof G?de.errors:[de]}const{_finalizers:We}=this;if(We){this._finalizers=null;for(const de of We)try{be(de)}catch(qe){ne=ne??[],qe instanceof G?ne=[...ne,...qe.errors]:ne.push(qe)}}if(ne)throw new G(ne)}}add(ne){var te;if(ne&&ne!==this)if(this.closed)be(ne);else{if(ne instanceof De){if(ne.closed||ne._hasParent(this))return;ne._addParent(this)}(this._finalizers=null!==(te=this._finalizers)&&void 0!==te?te:[]).push(ne)}}_hasParent(ne){const{_parentage:te}=this;return te===ne||Array.isArray(te)&&te.includes(ne)}_addParent(ne){const{_parentage:te}=this;this._parentage=Array.isArray(te)?(te.push(ne),te):te?[te,ne]:ne}_removeParent(ne){const{_parentage:te}=this;te===ne?this._parentage=null:Array.isArray(te)&&(0,he.P)(te,ne)}remove(ne){const{_finalizers:te}=this;te&&(0,he.P)(te,ne),ne instanceof De&&ne._removeParent(this)}}De.EMPTY=(()=>{const ge=new De;return ge.closed=!0,ge})();const xe=De.EMPTY;function Ne(ge){return ge instanceof De||ge&&"closed"in ge&&(0,O.m)(ge.remove)&&(0,O.m)(ge.add)&&(0,O.m)(ge.unsubscribe)}function be(ge){(0,O.m)(ge)?ge():ge.unsubscribe()}},2416:(we,pe,V)=>{"use strict";V.d(pe,{v:()=>O});const O={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(we,pe,V)=>{"use strict";V.d(pe,{E:()=>h});const h=new(V(9751).y)(De=>De.complete())},8996:(we,pe,V)=>{"use strict";V.d(pe,{D:()=>Ue});var O=V(8421),h=V(5363),G=V(9468),xe=V(9751),be=V(2202),ge=V(576),ne=V(9672);function ce(Be,it){if(!Be)throw new Error("Iterable cannot be null");return new xe.y(ue=>{(0,ne.f)(ue,it,()=>{const Me=Be[Symbol.asyncIterator]();(0,ne.f)(ue,it,()=>{Me.next().then(je=>{je.done?ue.complete():ue.next(je.value)})},0,!0)})})}var We=V(3670),de=V(8239),qe=V(1144),J=V(6495),X=V(2206),ae=V(4532),Se=V(3260);function Ue(Be,it){return it?function He(Be,it){if(null!=Be){if((0,We.c)(Be))return function he(Be,it){return(0,O.Xf)(Be).pipe((0,G.R)(it),(0,h.Q)(it))}(Be,it);if((0,qe.z)(Be))return function Ne(Be,it){return new xe.y(ue=>{let Me=0;return it.schedule(function(){Me===Be.length?ue.complete():(ue.next(Be[Me++]),ue.closed||this.schedule())})})}(Be,it);if((0,de.t)(Be))return function De(Be,it){return(0,O.Xf)(Be).pipe((0,G.R)(it),(0,h.Q)(it))}(Be,it);if((0,X.D)(Be))return ce(Be,it);if((0,J.T)(Be))return function te(Be,it){return new xe.y(ue=>{let Me;return(0,ne.f)(ue,it,()=>{Me=Be[be.h](),(0,ne.f)(ue,it,()=>{let je,fe;try{({value:je,done:fe}=Me.next())}catch(me){return void ue.error(me)}fe?ue.complete():ue.next(je)},0,!0)}),()=>(0,ge.m)(Me?.return)&&Me.return()})}(Be,it);if((0,Se.L)(Be))return function Fe(Be,it){return ce((0,Se.Q)(Be),it)}(Be,it)}throw(0,ae.z)(Be)}(Be,it):(0,O.Xf)(Be)}},8421:(we,pe,V)=>{"use strict";V.d(pe,{Xf:()=>We});var O=V(655),h=V(1144),G=V(8239),he=V(9751),De=V(3670),xe=V(2206),Ne=V(4532),be=V(6495),ge=V(3260),ne=V(576),te=V(7849),ce=V(8822);function We(He){if(He instanceof he.y)return He;if(null!=He){if((0,De.c)(He))return function de(He){return new he.y(Ue=>{const Be=He[ce.L]();if((0,ne.m)(Be.subscribe))return Be.subscribe(Ue);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(He);if((0,h.z)(He))return function qe(He){return new he.y(Ue=>{for(let Be=0;Be<He.length&&!Ue.closed;Be++)Ue.next(He[Be]);Ue.complete()})}(He);if((0,G.t)(He))return function J(He){return new he.y(Ue=>{He.then(Be=>{Ue.closed||(Ue.next(Be),Ue.complete())},Be=>Ue.error(Be)).then(null,te.h)})}(He);if((0,xe.D)(He))return ae(He);if((0,be.T)(He))return function X(He){return new he.y(Ue=>{for(const Be of He)if(Ue.next(Be),Ue.closed)return;Ue.complete()})}(He);if((0,ge.L)(He))return function Se(He){return ae((0,ge.Q)(He))}(He)}throw(0,Ne.z)(He)}function ae(He){return new he.y(Ue=>{(function Fe(He,Ue){var Be,it,ue,Me;return(0,O.mG)(this,void 0,void 0,function*(){try{for(Be=(0,O.KL)(He);!(it=yield Be.next()).done;)if(Ue.next(it.value),Ue.closed)return}catch(je){ue={error:je}}finally{try{it&&!it.done&&(Me=Be.return)&&(yield Me.call(Be))}finally{if(ue)throw ue.error}}Ue.complete()})})(He,Ue).catch(Be=>Ue.error(Be))})}},6451:(we,pe,V)=>{"use strict";V.d(pe,{T:()=>xe});var O=V(8189),h=V(8421),G=V(515),he=V(7669),De=V(8996);function xe(...Ne){const be=(0,he.yG)(Ne),ge=(0,he._6)(Ne,1/0),ne=Ne;return ne.length?1===ne.length?(0,h.Xf)(ne[0]):(0,O.J)(ge)((0,De.D)(ne,be)):G.E}},5403:(we,pe,V)=>{"use strict";V.d(pe,{Q:()=>G,x:()=>h});var O=V(930);function h(he,De,xe,Ne,be){return new G(he,De,xe,Ne,be)}class G extends O.Lv{constructor(De,xe,Ne,be,ge,ne){super(De),this.onFinalize=ge,this.shouldUnsubscribe=ne,this._next=xe?function(te){try{xe(te)}catch(ce){De.error(ce)}}:super._next,this._error=be?function(te){try{be(te)}catch(ce){De.error(ce)}finally{this.unsubscribe()}}:super._error,this._complete=Ne?function(){try{Ne()}catch(te){De.error(te)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var De;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:xe}=this;super.unsubscribe(),!xe&&(null===(De=this.onFinalize)||void 0===De||De.call(this))}}}},4004:(we,pe,V)=>{"use strict";V.d(pe,{U:()=>G});var O=V(4482),h=V(5403);function G(he,De){return(0,O.e)((xe,Ne)=>{let be=0;xe.subscribe((0,h.x)(Ne,ge=>{Ne.next(he.call(De,ge,be++))}))})}},8189:(we,pe,V)=>{"use strict";V.d(pe,{J:()=>G});var O=V(5577),h=V(4671);function G(he=1/0){return(0,O.z)(h.y,he)}},5577:(we,pe,V)=>{"use strict";V.d(pe,{z:()=>be});var O=V(4004),h=V(8421),G=V(4482),he=V(9672),De=V(5403),Ne=V(576);function be(ge,ne,te=1/0){return(0,Ne.m)(ne)?be((ce,We)=>(0,O.U)((de,qe)=>ne(ce,de,We,qe))((0,h.Xf)(ge(ce,We))),te):("number"==typeof ne&&(te=ne),(0,G.e)((ce,We)=>function xe(ge,ne,te,ce,We,de,qe,J){const X=[];let ae=0,Se=0,Fe=!1;const He=()=>{Fe&&!X.length&&!ae&&ne.complete()},Ue=it=>ae<ce?Be(it):X.push(it),Be=it=>{de&&ne.next(it),ae++;let ue=!1;(0,h.Xf)(te(it,Se++)).subscribe((0,De.x)(ne,Me=>{We?.(Me),de?Ue(Me):ne.next(Me)},()=>{ue=!0},void 0,()=>{if(ue)try{for(ae--;X.length&&ae<ce;){const Me=X.shift();qe?(0,he.f)(ne,qe,()=>Be(Me)):Be(Me)}He()}catch(Me){ne.error(Me)}}))};return ge.subscribe((0,De.x)(ne,Ue,()=>{Fe=!0,He()})),()=>{J?.()}}(ce,We,ge,te)))}},5363:(we,pe,V)=>{"use strict";V.d(pe,{Q:()=>he});var O=V(9672),h=V(4482),G=V(5403);function he(De,xe=0){return(0,h.e)((Ne,be)=>{Ne.subscribe((0,G.x)(be,ge=>(0,O.f)(be,De,()=>be.next(ge),xe),()=>(0,O.f)(be,De,()=>be.complete(),xe),ge=>(0,O.f)(be,De,()=>be.error(ge),xe)))})}},3099:(we,pe,V)=>{"use strict";V.d(pe,{B:()=>De});var O=V(8421),h=V(7579),G=V(930),he=V(4482);function De(Ne={}){const{connector:be=(()=>new h.x),resetOnError:ge=!0,resetOnComplete:ne=!0,resetOnRefCountZero:te=!0}=Ne;return ce=>{let We,de,qe,J=0,X=!1,ae=!1;const Se=()=>{de?.unsubscribe(),de=void 0},Fe=()=>{Se(),We=qe=void 0,X=ae=!1},He=()=>{const Ue=We;Fe(),Ue?.unsubscribe()};return(0,he.e)((Ue,Be)=>{J++,!ae&&!X&&Se();const it=qe=qe??be();Be.add(()=>{J--,0===J&&!ae&&!X&&(de=xe(He,te))}),it.subscribe(Be),!We&&J>0&&(We=new G.Hp({next:ue=>it.next(ue),error:ue=>{ae=!0,Se(),de=xe(Fe,ge,ue),it.error(ue)},complete:()=>{X=!0,Se(),de=xe(Fe,ne),it.complete()}}),(0,O.Xf)(Ue).subscribe(We))})(ce)}}function xe(Ne,be,...ge){if(!0===be)return void Ne();if(!1===be)return;const ne=new G.Hp({next:()=>{ne.unsubscribe(),Ne()}});return be(...ge).subscribe(ne)}},9468:(we,pe,V)=>{"use strict";V.d(pe,{R:()=>h});var O=V(4482);function h(G,he=0){return(0,O.e)((De,xe)=>{xe.add(G.schedule(()=>De.subscribe(xe),he))})}},8505:(we,pe,V)=>{"use strict";V.d(pe,{b:()=>De});var O=V(576),h=V(4482),G=V(5403),he=V(4671);function De(xe,Ne,be){const ge=(0,O.m)(xe)||Ne||be?{next:xe,error:Ne,complete:be}:xe;return ge?(0,h.e)((ne,te)=>{var ce;null===(ce=ge.subscribe)||void 0===ce||ce.call(ge);let We=!0;ne.subscribe((0,G.x)(te,de=>{var qe;null===(qe=ge.next)||void 0===qe||qe.call(ge,de),te.next(de)},()=>{var de;We=!1,null===(de=ge.complete)||void 0===de||de.call(ge),te.complete()},de=>{var qe;We=!1,null===(qe=ge.error)||void 0===qe||qe.call(ge,de),te.error(de)},()=>{var de,qe;We&&(null===(de=ge.unsubscribe)||void 0===de||de.call(ge)),null===(qe=ge.finalize)||void 0===qe||qe.call(ge)}))}):he.y}},4408:(we,pe,V)=>{"use strict";V.d(pe,{o:()=>De});var O=V(727);class h extends O.w0{constructor(Ne,be){super()}schedule(Ne,be=0){return this}}const G={setInterval(xe,Ne,...be){const{delegate:ge}=G;return ge?.setInterval?ge.setInterval(xe,Ne,...be):setInterval(xe,Ne,...be)},clearInterval(xe){const{delegate:Ne}=G;return(Ne?.clearInterval||clearInterval)(xe)},delegate:void 0};var he=V(8737);class De extends h{constructor(Ne,be){super(Ne,be),this.scheduler=Ne,this.work=be,this.pending=!1}schedule(Ne,be=0){var ge;if(this.closed)return this;this.state=Ne;const ne=this.id,te=this.scheduler;return null!=ne&&(this.id=this.recycleAsyncId(te,ne,be)),this.pending=!0,this.delay=be,this.id=null!==(ge=this.id)&&void 0!==ge?ge:this.requestAsyncId(te,this.id,be),this}requestAsyncId(Ne,be,ge=0){return G.setInterval(Ne.flush.bind(Ne,this),ge)}recycleAsyncId(Ne,be,ge=0){if(null!=ge&&this.delay===ge&&!1===this.pending)return be;null!=be&&G.clearInterval(be)}execute(Ne,be){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const ge=this._execute(Ne,be);if(ge)return ge;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Ne,be){let ne,ge=!1;try{this.work(Ne)}catch(te){ge=!0,ne=te||new Error("Scheduled action threw falsy error")}if(ge)return this.unsubscribe(),ne}unsubscribe(){if(!this.closed){const{id:Ne,scheduler:be}=this,{actions:ge}=be;this.work=this.state=this.scheduler=null,this.pending=!1,(0,he.P)(ge,this),null!=Ne&&(this.id=this.recycleAsyncId(be,Ne,null)),this.delay=null,super.unsubscribe()}}}},7565:(we,pe,V)=>{"use strict";V.d(pe,{v:()=>G});var O=V(6063);class h{constructor(De,xe=h.now){this.schedulerActionCtor=De,this.now=xe}schedule(De,xe=0,Ne){return new this.schedulerActionCtor(this,De).schedule(Ne,xe)}}h.now=O.l.now;class G extends h{constructor(De,xe=h.now){super(De,xe),this.actions=[],this._active=!1}flush(De){const{actions:xe}=this;if(this._active)return void xe.push(De);let Ne;this._active=!0;do{if(Ne=De.execute(De.state,De.delay))break}while(De=xe.shift());if(this._active=!1,Ne){for(;De=xe.shift();)De.unsubscribe();throw Ne}}}},4986:(we,pe,V)=>{"use strict";V.d(pe,{z:()=>G});var O=V(4408);const G=new(V(7565).v)(O.o)},6063:(we,pe,V)=>{"use strict";V.d(pe,{l:()=>O});const O={now:()=>(O.delegate||Date).now(),delegate:void 0}},3410:(we,pe,V)=>{"use strict";V.d(pe,{z:()=>O});const O={setTimeout(h,G,...he){const{delegate:De}=O;return De?.setTimeout?De.setTimeout(h,G,...he):setTimeout(h,G,...he)},clearTimeout(h){const{delegate:G}=O;return(G?.clearTimeout||clearTimeout)(h)},delegate:void 0}},2202:(we,pe,V)=>{"use strict";V.d(pe,{h:()=>h});const h=function O(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(we,pe,V)=>{"use strict";V.d(pe,{L:()=>O});const O="function"==typeof Symbol&&Symbol.observable||"@@observable"},7669:(we,pe,V)=>{"use strict";V.d(pe,{_6:()=>xe,jO:()=>he,yG:()=>De});var O=V(576);function G(Ne){return Ne[Ne.length-1]}function he(Ne){return(0,O.m)(G(Ne))?Ne.pop():void 0}function De(Ne){return function h(Ne){return Ne&&(0,O.m)(Ne.schedule)}(G(Ne))?Ne.pop():void 0}function xe(Ne,be){return"number"==typeof G(Ne)?Ne.pop():be}},8737:(we,pe,V)=>{"use strict";function O(h,G){if(h){const he=h.indexOf(G);0<=he&&h.splice(he,1)}}V.d(pe,{P:()=>O})},3888:(we,pe,V)=>{"use strict";function O(h){const he=h(De=>{Error.call(De),De.stack=(new Error).stack});return he.prototype=Object.create(Error.prototype),he.prototype.constructor=he,he}V.d(pe,{d:()=>O})},2806:(we,pe,V)=>{"use strict";V.d(pe,{O:()=>he,x:()=>G});var O=V(2416);let h=null;function G(De){if(O.v.useDeprecatedSynchronousErrorHandling){const xe=!h;if(xe&&(h={errorThrown:!1,error:null}),De(),xe){const{errorThrown:Ne,error:be}=h;if(h=null,Ne)throw be}}else De()}function he(De){O.v.useDeprecatedSynchronousErrorHandling&&h&&(h.errorThrown=!0,h.error=De)}},9672:(we,pe,V)=>{"use strict";function O(h,G,he,De=0,xe=!1){const Ne=G.schedule(function(){he(),xe?h.add(this.schedule(null,De)):this.unsubscribe()},De);if(h.add(Ne),!xe)return Ne}V.d(pe,{f:()=>O})},4671:(we,pe,V)=>{"use strict";function O(h){return h}V.d(pe,{y:()=>O})},1144:(we,pe,V)=>{"use strict";V.d(pe,{z:()=>O});const O=h=>h&&"number"==typeof h.length&&"function"!=typeof h},2206:(we,pe,V)=>{"use strict";V.d(pe,{D:()=>h});var O=V(576);function h(G){return Symbol.asyncIterator&&(0,O.m)(G?.[Symbol.asyncIterator])}},576:(we,pe,V)=>{"use strict";function O(h){return"function"==typeof h}V.d(pe,{m:()=>O})},3670:(we,pe,V)=>{"use strict";V.d(pe,{c:()=>G});var O=V(8822),h=V(576);function G(he){return(0,h.m)(he[O.L])}},6495:(we,pe,V)=>{"use strict";V.d(pe,{T:()=>G});var O=V(2202),h=V(576);function G(he){return(0,h.m)(he?.[O.h])}},8239:(we,pe,V)=>{"use strict";V.d(pe,{t:()=>h});var O=V(576);function h(G){return(0,O.m)(G?.then)}},3260:(we,pe,V)=>{"use strict";V.d(pe,{L:()=>he,Q:()=>G});var O=V(655),h=V(576);function G(De){return(0,O.FC)(this,arguments,function*(){const Ne=De.getReader();try{for(;;){const{value:be,done:ge}=yield(0,O.qq)(Ne.read());if(ge)return yield(0,O.qq)(void 0);yield yield(0,O.qq)(be)}}finally{Ne.releaseLock()}})}function he(De){return(0,h.m)(De?.getReader)}},4482:(we,pe,V)=>{"use strict";V.d(pe,{A:()=>h,e:()=>G});var O=V(576);function h(he){return(0,O.m)(he?.lift)}function G(he){return De=>{if(h(De))return De.lift(function(xe){try{return he(xe,this)}catch(Ne){this.error(Ne)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(we,pe,V)=>{"use strict";function O(){}V.d(pe,{Z:()=>O})},9635:(we,pe,V)=>{"use strict";V.d(pe,{U:()=>G,z:()=>h});var O=V(4671);function h(...he){return G(he)}function G(he){return 0===he.length?O.y:1===he.length?he[0]:function(xe){return he.reduce((Ne,be)=>be(Ne),xe)}}},7849:(we,pe,V)=>{"use strict";V.d(pe,{h:()=>G});var O=V(2416),h=V(3410);function G(he){h.z.setTimeout(()=>{const{onUnhandledError:De}=O.v;if(!De)throw he;De(he)})}},4532:(we,pe,V)=>{"use strict";function O(h){return new TypeError(`You provided ${null!==h&&"object"==typeof h?"an invalid object":`'${h}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}V.d(pe,{z:()=>O})},655:(we,pe,V)=>{"use strict";function he(fe,me){var Ie={};for(var Oe in fe)Object.prototype.hasOwnProperty.call(fe,Oe)&&me.indexOf(Oe)<0&&(Ie[Oe]=fe[Oe]);if(null!=fe&&"function"==typeof Object.getOwnPropertySymbols){var Te=0;for(Oe=Object.getOwnPropertySymbols(fe);Te<Oe.length;Te++)me.indexOf(Oe[Te])<0&&Object.prototype.propertyIsEnumerable.call(fe,Oe[Te])&&(Ie[Oe[Te]]=fe[Oe[Te]])}return Ie}function be(fe,me,Ie,Oe){return new(Ie||(Ie=Promise))(function(rt,xt){function In(en){try{Ft(Oe.next(en))}catch(Wt){xt(Wt)}}function Cn(en){try{Ft(Oe.throw(en))}catch(Wt){xt(Wt)}}function Ft(en){en.done?rt(en.value):function Te(rt){return rt instanceof Ie?rt:new Ie(function(xt){xt(rt)})}(en.value).then(In,Cn)}Ft((Oe=Oe.apply(fe,me||[])).next())})}function X(fe){return this instanceof X?(this.v=fe,this):new X(fe)}function ae(fe,me,Ie){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Te,Oe=Ie.apply(fe,me||[]),rt=[];return Te={},xt("next"),xt("throw"),xt("return"),Te[Symbol.asyncIterator]=function(){return this},Te;function xt(Zn){Oe[Zn]&&(Te[Zn]=function(Rr){return new Promise(function(nn,kt){rt.push([Zn,Rr,nn,kt])>1||In(Zn,Rr)})})}function In(Zn,Rr){try{!function Cn(Zn){Zn.value instanceof X?Promise.resolve(Zn.value.v).then(Ft,en):Wt(rt[0][2],Zn)}(Oe[Zn](Rr))}catch(nn){Wt(rt[0][3],nn)}}function Ft(Zn){In("next",Zn)}function en(Zn){In("throw",Zn)}function Wt(Zn,Rr){Zn(Rr),rt.shift(),rt.length&&In(rt[0][0],rt[0][1])}}function Fe(fe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ie,me=fe[Symbol.asyncIterator];return me?me.call(fe):(fe=function ce(fe){var me="function"==typeof Symbol&&Symbol.iterator,Ie=me&&fe[me],Oe=0;if(Ie)return Ie.call(fe);if(fe&&"number"==typeof fe.length)return{next:function(){return fe&&Oe>=fe.length&&(fe=void 0),{value:fe&&fe[Oe++],done:!fe}}};throw new TypeError(me?"Object is not iterable.":"Symbol.iterator is not defined.")}(fe),Ie={},Oe("next"),Oe("throw"),Oe("return"),Ie[Symbol.asyncIterator]=function(){return this},Ie);function Oe(rt){Ie[rt]=fe[rt]&&function(xt){return new Promise(function(In,Cn){!function Te(rt,xt,In,Cn){Promise.resolve(Cn).then(function(Ft){rt({value:Ft,done:In})},xt)}(In,Cn,(xt=fe[rt](xt)).done,xt.value)})}}}V.d(pe,{FC:()=>ae,KL:()=>Fe,_T:()=>he,mG:()=>be,qq:()=>X})},4650:(we,pe,V)=>{"use strict";V.d(pe,{$8M:()=>ch,$Z:()=>ES,AFp:()=>v1,ALo:()=>ev,AaK:()=>be,AsE:()=>JE,BQk:()=>Yh,CHM:()=>fw,CRH:()=>av,CZH:()=>Zl,CqO:()=>GS,D6c:()=>MP,DdM:()=>Xy,EJc:()=>fv,EpF:()=>jE,F4k:()=>jl,FYo:()=>rE,FiY:()=>Ba,Gf:()=>Fb,GfV:()=>JT,Gpc:()=>te,JOm:()=>mr,Jf7:()=>uE,KtG:()=>Dp,LFG:()=>Xe,Lbi:()=>E1,Lck:()=>qO,MGl:()=>ky,MMx:()=>Cb,NdJ:()=>My,OlP:()=>ur,Oqu:()=>QE,P3R:()=>tg,PXZ:()=>A1,Q6J:()=>Ty,QGY:()=>Ny,QP$:()=>_i,Qsj:()=>QR,R0b:()=>Vn,RDi:()=>DT,Rgc:()=>cf,SBq:()=>ty,Sil:()=>Zb,Suo:()=>JA,TTD:()=>mu,TgZ:()=>vg,Tol:()=>Yk,WLB:()=>BA,X6Q:()=>L1,XFs:()=>It,Xpm:()=>Aa,Xts:()=>Jw,Y36:()=>ho,YKP:()=>RA,YNc:()=>HS,Yjl:()=>dr,Yz7:()=>kt,Z0I:()=>cr,ZZ4:()=>Ev,_Bn:()=>MA,_UZ:()=>xy,_Vd:()=>sg,_c5:()=>xP,_uU:()=>YE,aQg:()=>ec,c2e:()=>hv,cJS:()=>kr,cg1:()=>Tg,dDg:()=>IP,dqk:()=>bn,eFA:()=>N1,ekj:()=>KE,eoX:()=>Zr,f3M:()=>pt,g9A:()=>w1,h0i:()=>Og,hGG:()=>NP,hij:()=>Uy,iGM:()=>QA,ifc:()=>Ce,ip1:()=>dv,jDz:()=>OA,kL8:()=>pA,lG2:()=>jt,lcZ:()=>GA,lqb:()=>Pl,lri:()=>D1,n5z:()=>S_,oAB:()=>_e,oxw:()=>$E,q4F:()=>XT,qLn:()=>Fh,qOj:()=>RE,qZA:()=>Ay,rWj:()=>gf,s9C:()=>Ry,sBO:()=>oI,sIi:()=>wy,s_b:()=>Fg,soG:()=>po,tb:()=>Kl,tp0:()=>Al,uIk:()=>Gh,vHH:()=>X,vpe:()=>Bo,wAp:()=>Qt,xi3:()=>Lg,xp6:()=>rd,ynx:()=>VE,z2F:()=>wf,zSh:()=>kh,zWS:()=>_g,zs3:()=>id});var O=V(7579),h=V(727),G=V(9751),he=V(6451),De=V(3099);function xe(o){for(let a in o)if(o[a]===xe)return a;throw Error("Could not find renamed property on target object.")}function Ne(o,a){for(const l in a)a.hasOwnProperty(l)&&!o.hasOwnProperty(l)&&(o[l]=a[l])}function be(o){if("string"==typeof o)return o;if(Array.isArray(o))return"["+o.map(be).join(", ")+"]";if(null==o)return""+o;if(o.overriddenName)return`${o.overriddenName}`;if(o.name)return`${o.name}`;const a=o.toString();if(null==a)return""+a;const l=a.indexOf("\n");return-1===l?a:a.substring(0,l)}function ge(o,a){return null==o||""===o?null===a?"":a:null==a||""===a?o:o+" "+a}const ne=xe({__forward_ref__:xe});function te(o){return o.__forward_ref__=te,o.toString=function(){return be(this())},o}function ce(o){return We(o)?o():o}function We(o){return"function"==typeof o&&o.hasOwnProperty(ne)&&o.__forward_ref__===te}function de(o){return o&&!!o.\u0275providers}const J="https://g.co/ng/security#xss";class X extends Error{constructor(a,l){super(function ae(o,a){return`NG0${Math.abs(o)}${a?": "+a.trim():""}`}(a,l)),this.code=a}}function Se(o){return"string"==typeof o?o:null==o?"":String(o)}function it(o,a){throw new X(-201,!1)}function en(o,a){null==o&&function Wt(o,a,l,f){throw new Error(`ASSERTION ERROR: ${o}`+(null==f?"":` [Expected=> ${l} ${f} ${a} <=Actual]`))}(a,o,null,"!=")}function kt(o){return{token:o.token,providedIn:o.providedIn||null,factory:o.factory,value:void 0}}function kr(o){return{providers:o.providers||[],imports:o.imports||[]}}function mi(o){return Or(o,Br)||Or(o,jr)}function cr(o){return null!==mi(o)}function Or(o,a){return o.hasOwnProperty(a)?o[a]:null}function wr(o){return o&&(o.hasOwnProperty(ii)||o.hasOwnProperty(En))?o[ii]:null}const Br=xe({\u0275prov:xe}),ii=xe({\u0275inj:xe}),jr=xe({ngInjectableDef:xe}),En=xe({ngInjectorDef:xe});var It=(()=>((It=It||{})[It.Default=0]="Default",It[It.Host=1]="Host",It[It.Self=2]="Self",It[It.SkipSelf=4]="SkipSelf",It[It.Optional=8]="Optional",It))();let Er;function Yn(o){const a=Er;return Er=o,a}function $r(o,a,l){const f=mi(o);return f&&"root"==f.providedIn?void 0===f.value?f.value=f.factory():f.value:l&It.Optional?null:void 0!==a?a:void it(be(o))}const bn=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Gn={},Hr="__NG_DI_FLAG__",br="ngTempTokenPath",ar=/\n/gm,Dn="__source";let Lr;function rn(o){const a=Lr;return Lr=o,a}function Gr(o,a=It.Default){if(void 0===Lr)throw new X(-203,!1);return null===Lr?$r(o,void 0,a):Lr.get(o,a&It.Optional?null:void 0,a)}function Xe(o,a=It.Default){return(function Qr(){return Er}()||Gr)(ce(o),a)}function pt(o,a=It.Default){return Xe(o,Ot(a))}function Ot(o){return typeof o>"u"||"number"==typeof o?o:0|(o.optional&&8)|(o.host&&1)|(o.self&&2)|(o.skipSelf&&4)}function Ht(o){const a=[];for(let l=0;l<o.length;l++){const f=ce(o[l]);if(Array.isArray(f)){if(0===f.length)throw new X(900,!1);let g,_=It.Default;for(let b=0;b<f.length;b++){const T=f[b],N=re(T);"number"==typeof N?-1===N?g=T.token:_|=N:g=T}a.push(Xe(g,_))}else a.push(Xe(f))}return a}function dn(o,a){return o[Hr]=a,o.prototype[Hr]=a,o}function re(o){return o[Hr]}function U(o){return{toString:o}.toString()}var k=(()=>((k=k||{})[k.OnPush=0]="OnPush",k[k.Default=1]="Default",k))(),Ce=(()=>{return(o=Ce||(Ce={}))[o.Emulated=0]="Emulated",o[o.None=2]="None",o[o.ShadowDom=3]="ShadowDom",Ce;var o})();const Je={},Ze=[],Tt=xe({\u0275cmp:xe}),gt=xe({\u0275dir:xe}),Jt=xe({\u0275pipe:xe}),Jn=xe({\u0275mod:xe}),zt=xe({\u0275fac:xe}),Wn=xe({__NG_ELEMENT_ID__:xe});let xo=0;function Aa(o){return U(()=>{const l=!0===o.standalone,f={},g={type:o.type,providersResolver:null,decls:o.decls,vars:o.vars,factory:null,template:o.template||null,consts:o.consts||null,ngContentSelectors:o.ngContentSelectors,hostBindings:o.hostBindings||null,hostVars:o.hostVars||0,hostAttrs:o.hostAttrs||null,contentQueries:o.contentQueries||null,declaredInputs:f,inputs:null,outputs:null,exportAs:o.exportAs||null,onPush:o.changeDetection===k.OnPush,directiveDefs:null,pipeDefs:null,standalone:l,dependencies:l&&o.dependencies||null,getStandaloneInjector:null,selectors:o.selectors||Ze,viewQuery:o.viewQuery||null,features:o.features||null,data:o.data||{},encapsulation:o.encapsulation||Ce.Emulated,id:"c"+xo++,styles:o.styles||Ze,_:null,setInput:null,schemas:o.schemas||null,tView:null,findHostDirectiveDefs:null,hostDirectives:null},_=o.dependencies,b=o.features;return g.inputs=st(o.inputs,f),g.outputs=st(o.outputs),b&&b.forEach(T=>T(g)),g.directiveDefs=_?()=>("function"==typeof _?_():_).map(cu).filter(Fr):null,g.pipeDefs=_?()=>("function"==typeof _?_():_).map(jn).filter(Fr):null,g})}function cu(o){return Pt(o)||Tn(o)}function Fr(o){return null!==o}function _e(o){return U(()=>({type:o.type,bootstrap:o.bootstrap||Ze,declarations:o.declarations||Ze,imports:o.imports||Ze,exports:o.exports||Ze,transitiveCompileScopes:null,schemas:o.schemas||null,id:o.id||null}))}function st(o,a){if(null==o)return Je;const l={};for(const f in o)if(o.hasOwnProperty(f)){let g=o[f],_=g;Array.isArray(g)&&(_=g[1],g=g[0]),l[g]=f,a&&(a[g]=_)}return l}const jt=Aa;function dr(o){return{type:o.type,name:o.name,factory:null,pure:!1!==o.pure,standalone:!0===o.standalone,onDestroy:o.type.prototype.ngOnDestroy||null}}function Pt(o){return o[Tt]||null}function Tn(o){return o[gt]||null}function jn(o){return o[Jt]||null}function _i(o){const a=Pt(o)||Tn(o)||jn(o);return null!==a&&a.standalone}function hr(o,a){const l=o[Jn]||null;if(!l&&!0===a)throw new Error(`Type ${be(o)} does not have '\u0275mod' property.`);return l}function Pi(o){return Array.isArray(o)&&"object"==typeof o[1]}function gs(o){return Array.isArray(o)&&!0===o[1]}function Ro(o){return 0!=(4&o.flags)}function hl(o){return o.componentOffset>-1}function ka(o){return 1==(1&o.flags)}function Li(o){return null!==o.template}function s_(o){return 0!=(256&o[2])}function Ns(o,a){return o.hasOwnProperty(zt)?o[zt]:null}class gl{constructor(a,l,f){this.previousValue=a,this.currentValue=l,this.firstChange=f}isFirstChange(){return this.firstChange}}function mu(){return _u}function _u(o){return o.type.prototype.ngOnChanges&&(o.setInput=Jd),Zs}function Zs(){const o=Xd(this),a=o?.current;if(a){const l=o.previous;if(l===Je)o.previous=a;else for(let f in a)l[f]=a[f];o.current=null,this.ngOnChanges(a)}}function Jd(o,a,l,f){const g=this.declaredInputs[l],_=Xd(o)||function Ic(o,a){return o[lo]=a}(o,{previous:Je,current:null}),b=_.current||(_.current={}),T=_.previous,N=T[g];b[g]=new gl(N&&N.currentValue,a,T===Je),o[f]=a}mu.ngInherit=!0;const lo="__ngSimpleChanges__";function Xd(o){return o[lo]||null}function Ge(o){for(;Array.isArray(o);)o=o[0];return o}function hn(o,a){return Ge(a[o])}function $n(o,a){return Ge(a[o.index])}function Ar(o,a){return o.data[a]}function Kt(o,a){return o[a]}function Wr(o,a){const l=a[o];return Pi(l)?l:l[0]}function Xo(o){return 64==(64&o[2])}function Ki(o,a){return null==a?null:o[a]}function yl(o){o[18]=0}function vu(o,a){o[5]+=a;let l=o,f=o[3];for(;null!==f&&(1===a&&1===l[5]||-1===a&&0===l[5]);)f[5]+=a,l=f,f=f[3]}const Zt={lFrame:tT(null),bindingsEnabled:!0};function hw(){return Zt.bindingsEnabled}function Ye(){return Zt.lFrame.lView}function kn(){return Zt.lFrame.tView}function fw(o){return Zt.lFrame.contextLView=o,o[8]}function Dp(o){return Zt.lFrame.contextLView=null,o}function Yi(){let o=Cc();for(;null!==o&&64===o.type;)o=o.parent;return o}function Cc(){return Zt.lFrame.currentTNode}function Ks(o,a){const l=Zt.lFrame;l.currentTNode=o,l.isParent=a}function Tc(){return Zt.lFrame.isParent}function na(){Zt.lFrame.isParent=!1}function Qi(){const o=Zt.lFrame;let a=o.bindingRootIndex;return-1===a&&(a=o.bindingRootIndex=o.tView.bindingStartIndex),a}function ko(){return Zt.lFrame.bindingIndex++}function ra(o){const a=Zt.lFrame,l=a.bindingIndex;return a.bindingIndex=a.bindingIndex+o,l}function JD(o,a){const l=Zt.lFrame;l.bindingIndex=l.bindingRootIndex=o,h_(a)}function h_(o){Zt.lFrame.currentDirectiveIndex=o}function yw(){return Zt.lFrame.currentQueryIndex}function Sp(o){Zt.lFrame.currentQueryIndex=o}function _R(o){const a=o[1];return 2===a.type?a.declTNode:1===a.type?o[6]:null}function vw(o,a,l){if(l&It.SkipSelf){let g=a,_=o;for(;!(g=g.parent,null!==g||l&It.Host||(g=_R(_),null===g||(_=_[15],10&g.type))););if(null===g)return!1;a=g,o=_}const f=Zt.lFrame=eT();return f.currentTNode=a,f.lView=o,!0}function f_(o){const a=eT(),l=o[1];Zt.lFrame=a,a.currentTNode=l.firstChild,a.lView=o,a.tView=l,a.contextLView=o,a.bindingIndex=l.bindingStartIndex,a.inI18n=!1}function eT(){const o=Zt.lFrame,a=null===o?null:o.child;return null===a?tT(o):a}function tT(o){const a={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:o,child:null,inI18n:!1};return null!==o&&(o.child=a),a}function Ap(){const o=Zt.lFrame;return Zt.lFrame=o.parent,o.currentTNode=null,o.lView=null,o}const wu=Ap;function eh(){const o=Ap();o.isParent=!0,o.tView=null,o.selectedIndex=-1,o.contextLView=null,o.elementDepthCount=0,o.currentDirectiveIndex=-1,o.currentNamespace=null,o.bindingRootIndex=-1,o.bindingIndex=-1,o.currentQueryIndex=0}function ms(){return Zt.lFrame.selectedIndex}function Eu(o){Zt.lFrame.selectedIndex=o}function fr(){const o=Zt.lFrame;return Ar(o.tView,o.selectedIndex)}function th(o,a){for(let l=a.directiveStart,f=a.directiveEnd;l<f;l++){const _=o.data[l].type.prototype,{ngAfterContentInit:b,ngAfterContentChecked:T,ngAfterViewInit:N,ngAfterViewChecked:R,ngOnDestroy:F}=_;b&&(o.contentHooks||(o.contentHooks=[])).push(-l,b),T&&((o.contentHooks||(o.contentHooks=[])).push(l,T),(o.contentCheckHooks||(o.contentCheckHooks=[])).push(l,T)),N&&(o.viewHooks||(o.viewHooks=[])).push(-l,N),R&&((o.viewHooks||(o.viewHooks=[])).push(l,R),(o.viewCheckHooks||(o.viewCheckHooks=[])).push(l,R)),null!=F&&(o.destroyHooks||(o.destroyHooks=[])).push(l,F)}}function xp(o,a,l){Cu(o,a,3,l)}function Sc(o,a,l,f){(3&o[2])===l&&Cu(o,a,l,f)}function Ac(o,a){let l=o[2];(3&l)===a&&(l&=2047,l+=1,o[2]=l)}function Cu(o,a,l,f){const _=f??-1,b=a.length-1;let T=0;for(let N=void 0!==f?65535&o[18]:0;N<b;N++)if("number"==typeof a[N+1]){if(T=a[N],null!=f&&T>=f)break}else a[N]<0&&(o[18]+=65536),(T<_||-1==_)&&(m_(o,l,a,N),o[18]=(4294901760&o[18])+N+2),N++}function m_(o,a,l,f){const g=l[f]<0,_=l[f+1],T=o[g?-l[f]:l[f]];if(g){if(o[2]>>11<o[18]>>16&&(3&o[2])===a){o[2]+=2048;try{_.call(T)}finally{}}}else try{_.call(T)}finally{}}class Ms{constructor(a,l,f){this.factory=a,this.resolving=!1,this.canSeeViewProviders=l,this.injectImpl=f}}function nh(o,a,l){let f=0;for(;f<l.length;){const g=l[f];if("number"==typeof g){if(0!==g)break;f++;const _=l[f++],b=l[f++],T=l[f++];o.setAttribute(a,b,T,_)}else{const _=g,b=l[++f];wl(_)?o.setProperty(a,_,b):o.setAttribute(a,_,b),f++}}return f}function Nc(o){return 3===o||4===o||6===o}function wl(o){return 64===o.charCodeAt(0)}function Mc(o,a){if(null!==a&&0!==a.length)if(null===o||0===o.length)o=a.slice();else{let l=-1;for(let f=0;f<a.length;f++){const g=a[f];"number"==typeof g?l=g:0===l||Fa(o,l,g,null,-1===l||2===l?a[++f]:null)}}return o}function Fa(o,a,l,f,g){let _=0,b=o.length;if(-1===a)b=-1;else for(;_<o.length;){const T=o[_++];if("number"==typeof T){if(T===a){b=-1;break}if(T>a){b=_-1;break}}}for(;_<o.length;){const T=o[_];if("number"==typeof T)break;if(T===l){if(null===f)return void(null!==g&&(o[_+1]=g));if(f===o[_+1])return void(o[_+2]=g)}_++,null!==f&&_++,null!==g&&_++}-1!==b&&(o.splice(b,0,a),_=b+1),o.splice(_++,0,l),null!==f&&o.splice(_++,0,f),null!==g&&o.splice(_++,0,g)}function Tu(o){return-1!==o}function rh(o){return 32767&o}function El(o,a){let l=function ih(o){return o>>16}(o),f=a;for(;l>0;)f=f[15],l--;return f}let Rc=!0;function sh(o){const a=Rc;return Rc=o,a}let bw=0;const ia={};function Mp(o,a){const l=Rp(o,a);if(-1!==l)return l;const f=a[1];f.firstCreatePass&&(o.injectorIndex=a.length,E_(f.data,o),E_(a,null),E_(f.blueprint,null));const g=uh(o,a),_=o.injectorIndex;if(Tu(g)){const b=rh(g),T=El(g,a),N=T[1].data;for(let R=0;R<8;R++)a[_+R]=T[b+R]|N[b+R]}return a[_+8]=g,_}function E_(o,a){o.push(0,0,0,0,0,0,0,0,a)}function Rp(o,a){return-1===o.injectorIndex||o.parent&&o.parent.injectorIndex===o.injectorIndex||null===a[o.injectorIndex+8]?-1:o.injectorIndex}function uh(o,a){if(o.parent&&-1!==o.parent.injectorIndex)return o.parent.injectorIndex;let l=0,f=null,g=a;for(;null!==g;){if(f=Cw(g),null===f)return-1;if(l++,g=g[15],-1!==f.injectorIndex)return f.injectorIndex|l<<16}return-1}function kp(o,a,l){!function ah(o,a,l){let f;"string"==typeof l?f=l.charCodeAt(0)||0:l.hasOwnProperty(Wn)&&(f=l[Wn]),null==f&&(f=l[Wn]=bw++);const g=255&f;a.data[o+(g>>5)]|=1<<g}(o,a,l)}function Op(o,a,l){if(l&It.Optional||void 0!==o)return o;it()}function Pp(o,a,l,f){if(l&It.Optional&&void 0===f&&(f=null),0==(l&(It.Self|It.Host))){const g=o[9],_=Yn(void 0);try{return g?g.get(a,f,l&It.Optional):$r(a,f,l&It.Optional)}finally{Yn(_)}}return Op(f,0,l)}function I_(o,a,l,f=It.Default,g){if(null!==o){if(1024&a[2]){const b=function oT(o,a,l,f,g){let _=o,b=a;for(;null!==_&&null!==b&&1024&b[2]&&!(256&b[2]);){const T=bl(_,b,l,f|It.Self,ia);if(T!==ia)return T;let N=_.parent;if(!N){const R=b[21];if(R){const F=R.get(l,ia,f);if(F!==ia)return F}N=Cw(b),b=b[15]}_=N}return g}(o,a,l,f,ia);if(b!==ia)return b}const _=bl(o,a,l,f,ia);if(_!==ia)return _}return Pp(a,l,f,g)}function bl(o,a,l,f,g){const _=function D_(o){if("string"==typeof o)return o.charCodeAt(0)||0;const a=o.hasOwnProperty(Wn)?o[Wn]:void 0;return"number"==typeof a?a>=0?255&a:Lp:a}(l);if("function"==typeof _){if(!vw(a,o,f))return f&It.Host?Op(g,0,f):Pp(a,l,f,g);try{const b=_(f);if(null!=b||f&It.Optional)return b;it()}finally{wu()}}else if("number"==typeof _){let b=null,T=Rp(o,a),N=-1,R=f&It.Host?a[16][6]:null;for((-1===T||f&It.SkipSelf)&&(N=-1===T?uh(o,a):a[T+8],-1!==N&&Iw(f,!1)?(b=a[1],T=rh(N),a=El(N,a)):T=-1);-1!==T;){const F=a[1];if(T_(_,T,F.data)){const K=C_(T,a,l,b,f,R);if(K!==ia)return K}N=a[T+8],-1!==N&&Iw(f,a[1].data[T+8]===R)&&T_(_,T,a)?(b=F,T=rh(N),a=El(N,a)):T=-1}}return g}function C_(o,a,l,f,g,_){const b=a[1],T=b.data[o+8],F=kc(T,b,l,null==f?hl(T)&&Rc:f!=b&&0!=(3&T.type),g&It.Host&&_===T);return null!==F?Il(a,b,F,T):ia}function kc(o,a,l,f,g){const _=o.providerIndexes,b=a.data,T=1048575&_,N=o.directiveStart,F=_>>20,oe=g?T+F:o.directiveEnd;for(let Ee=f?T:T+F;Ee<oe;Ee++){const $e=b[Ee];if(Ee<N&&l===$e||Ee>=N&&$e.type===l)return Ee}if(g){const Ee=b[N];if(Ee&&Li(Ee)&&Ee.type===l)return N}return null}function Il(o,a,l,f){let g=o[l];const _=a.data;if(function __(o){return o instanceof Ms}(g)){const b=g;b.resolving&&function He(o,a){const l=a?`. Dependency path: ${a.join(" > ")} > ${o}`:"";throw new X(-200,`Circular dependency in DI detected for ${o}${l}`)}(function Fe(o){return"function"==typeof o?o.name||o.toString():"object"==typeof o&&null!=o&&"function"==typeof o.type?o.type.name||o.type.toString():Se(o)}(_[l]));const T=sh(b.canSeeViewProviders);b.resolving=!0;const N=b.injectImpl?Yn(b.injectImpl):null;vw(o,f,It.Default);try{g=o[l]=b.factory(void 0,_,o,f),a.firstCreatePass&&l>=f.directiveStart&&function Ew(o,a,l){const{ngOnChanges:f,ngOnInit:g,ngDoCheck:_}=a.type.prototype;if(f){const b=_u(a);(l.preOrderHooks||(l.preOrderHooks=[])).push(o,b),(l.preOrderCheckHooks||(l.preOrderCheckHooks=[])).push(o,b)}g&&(l.preOrderHooks||(l.preOrderHooks=[])).push(0-o,g),_&&((l.preOrderHooks||(l.preOrderHooks=[])).push(o,_),(l.preOrderCheckHooks||(l.preOrderCheckHooks=[])).push(o,_))}(l,_[l],a)}finally{null!==N&&Yn(N),sh(T),b.resolving=!1,wu()}}return g}function T_(o,a,l){return!!(l[a+(o>>5)]&1<<o)}function Iw(o,a){return!(o&It.Self||o&It.Host&&a)}class Cl{constructor(a,l){this._tNode=a,this._lView=l}get(a,l,f){return I_(this._tNode,this._lView,a,Ot(f),l)}}function Lp(){return new Cl(Yi(),Ye())}function S_(o){return U(()=>{const a=o.prototype.constructor,l=a[zt]||lh(a),f=Object.prototype;let g=Object.getPrototypeOf(o.prototype).constructor;for(;g&&g!==f;){const _=g[zt]||lh(g);if(_&&_!==l)return _;g=Object.getPrototypeOf(g)}return _=>new _})}function lh(o){return We(o)?()=>{const a=lh(ce(o));return a&&a()}:Ns(o)}function Cw(o){const a=o[1],l=a.type;return 2===l?a.declTNode:1===l?o[6]:null}function ch(o){return function b_(o,a){if("class"===a)return o.classes;if("style"===a)return o.styles;const l=o.attrs;if(l){const f=l.length;let g=0;for(;g<f;){const _=l[g];if(Nc(_))break;if(0===_)g+=2;else if("number"==typeof _)for(g++;g<f&&"string"==typeof l[g];)g++;else{if(_===a)return l[g+1];g+=2}}}return null}(Yi(),o)}const Dl="__parameters__";function Oc(o,a,l){return U(()=>{const f=function Tl(o){return function(...l){if(o){const f=o(...l);for(const g in f)this[g]=f[g]}}}(a);function g(..._){if(this instanceof g)return f.apply(this,_),this;const b=new g(..._);return T.annotation=b,T;function T(N,R,F){const K=N.hasOwnProperty(Dl)?N[Dl]:Object.defineProperty(N,Dl,{value:[]})[Dl];for(;K.length<=F;)K.push(null);return(K[F]=K[F]||[]).push(b),N}}return l&&(g.prototype=Object.create(l.prototype)),g.prototype.ngMetadataName=o,g.annotationCls=g,g})}class ur{constructor(a,l){this._desc=a,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof l?this.__NG_ELEMENT_ID__=l:void 0!==l&&(this.\u0275prov=kt({token:this,providedIn:l.providedIn||"root",factory:l.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Qs(o,a){void 0===a&&(a=o);for(let l=0;l<o.length;l++){let f=o[l];Array.isArray(f)?(a===o&&(a=o.slice(0,l)),Qs(f,a)):a!==o&&a.push(f)}return a}function Hn(o,a){o.forEach(l=>Array.isArray(l)?Hn(l,a):a(l))}function Oo(o,a,l){a>=o.length?o.push(l):o.splice(a,0,l)}function Dt(o,a){return a>=o.length-1?o.pop():o.splice(a,1)[0]}function _s(o,a,l){let f=Va(o,a);return f>=0?o[1|f]=l:(f=~f,function Su(o,a,l,f){let g=o.length;if(g==a)o.push(l,f);else if(1===g)o.push(f,o[0]),o[0]=l;else{for(g--,o.push(o[g-1],o[g]);g>a;)o[g]=o[g-2],g--;o[a]=l,o[a+1]=f}}(o,f,a,l)),f}function fh(o,a){const l=Va(o,a);if(l>=0)return o[1|l]}function Va(o,a){return function Au(o,a,l){let f=0,g=o.length>>l;for(;g!==f;){const _=f+(g-f>>1),b=o[_<<l];if(a===b)return _<<l;b>a?g=_:f=_+1}return~(g<<l)}(o,a,1)}const Ba=dn(Oc("Optional"),8),Al=dn(Oc("SkipSelf"),4);var mr=(()=>((mr=mr||{})[mr.Important=1]="Important",mr[mr.DashCase=2]="DashCase",mr))();const wh=new Map;let Ow=0;const E="__ngContext__";function S(o,a){Pi(a)?(o[E]=a[20],function Pw(o){wh.set(o[20],o)}(a)):o[E]=a}function Nl(o,a){return undefined(o,a)}function la(o){const a=o[3];return gs(a)?a[3]:a}function bh(o){return Ih(o[13])}function zp(o){return Ih(o[4])}function Ih(o){for(;null!==o&&!gs(o);)o=o[4];return o}function Ou(o,a,l,f,g){if(null!=f){let _,b=!1;gs(f)?_=f:Pi(f)&&(b=!0,f=f[0]);const T=Ge(f);0===o&&null!==l?null==g?Dh(a,l,T):Pu(a,l,T,g||null,!0):1===o&&null!==l?Pu(a,l,T,g||null,!0):2===o?function Gw(o,a,l){const f=Kp(o,a);f&&function jw(o,a,l,f){o.removeChild(a,l,f)}(o,f,a,l)}(a,T,b):3===o&&a.destroyNode(T),null!=_&&function AR(o,a,l,f,g){const _=l[7];_!==Ge(l)&&Ou(a,o,f,_,g);for(let T=10;T<l.length;T++){const N=l[T];Yp(N[1],N,o,a,f,_)}}(a,o,_,l,g)}}function gT(o,a,l){return o.createElement(a,l)}function Uw(o,a){const l=o[9],f=l.indexOf(a),g=a[3];512&a[2]&&(a[2]&=-513,vu(g,-1)),l.splice(f,1)}function V_(o,a){if(o.length<=10)return;const l=10+a,f=o[l];if(f){const g=f[17];null!==g&&g!==o&&Uw(g,f),a>0&&(o[l-1][4]=f[4]);const _=Dt(o,10+a);!function bR(o,a){Yp(o,a,a[11],2,null,null),a[0]=null,a[6]=null}(f[1],f);const b=_[19];null!==b&&b.detachView(_[1]),f[3]=null,f[4]=null,f[2]&=-65}return f}function Vw(o,a){if(!(128&a[2])){const l=a[11];l.destroyNode&&Yp(o,a,l,3,null,null),function qp(o){let a=o[13];if(!a)return Rl(o[1],o);for(;a;){let l=null;if(Pi(a))l=a[13];else{const f=a[10];f&&(l=f)}if(!l){for(;a&&!a[4]&&a!==o;)Pi(a)&&Rl(a[1],a),a=a[3];null===a&&(a=o),Pi(a)&&Rl(a[1],a),l=a&&a[4]}a=l}}(a)}}function Rl(o,a){if(!(128&a[2])){a[2]&=-65,a[2]|=128,function TR(o,a){let l;if(null!=o&&null!=(l=o.destroyHooks))for(let f=0;f<l.length;f+=2){const g=a[l[f]];if(!(g instanceof Ms)){const _=l[f+1];if(Array.isArray(_))for(let b=0;b<_.length;b+=2){const T=g[_[b]],N=_[b+1];try{N.call(T)}finally{}}else try{_.call(g)}finally{}}}}(o,a),function DR(o,a){const l=o.cleanup,f=a[7];let g=-1;if(null!==l)for(let _=0;_<l.length-1;_+=2)if("string"==typeof l[_]){const b=l[_+3];b>=0?f[g=b]():f[g=-b].unsubscribe(),_+=2}else{const b=f[g=l[_+1]];l[_].call(b)}if(null!==f){for(let _=g+1;_<f.length;_++)(0,f[_])();a[7]=null}}(o,a),1===a[1].type&&a[11].destroy();const l=a[17];if(null!==l&&gs(a[3])){l!==a[3]&&Uw(l,a);const f=a[19];null!==f&&f.detachView(o)}!function $p(o){wh.delete(o[20])}(a)}}function Bw(o,a,l){return function mT(o,a,l){let f=a;for(;null!==f&&40&f.type;)f=(a=f).parent;if(null===f)return l[0];{const{componentOffset:g}=f;if(g>-1){const{encapsulation:_}=o.data[f.directiveStart+g];if(_===Ce.None||_===Ce.Emulated)return null}return $n(f,l)}}(o,a.parent,l)}function Pu(o,a,l,f,g){o.insertBefore(a,l,f,g)}function Dh(o,a,l){o.appendChild(a,l)}function _T(o,a,l,f,g){null!==f?Pu(o,a,l,f,g):Dh(o,a,l)}function Kp(o,a){return o.parentNode(a)}let Lu,Kc,kl=function B_(o,a,l){return 40&o.type?$n(o,l):null};function j_(o,a,l,f){const g=Bw(o,f,a),_=a[11],T=function Ha(o,a,l){return kl(o,a,l)}(f.parent||a[6],f,a);if(null!=g)if(Array.isArray(l))for(let N=0;N<l.length;N++)_T(_,g,l[N],T,!1);else _T(_,g,l,T,!1)}function $_(o,a){if(null!==a){const l=a.type;if(3&l)return $n(a,o);if(4&l)return Hw(-1,o[a.index]);if(8&l){const f=a.child;if(null!==f)return $_(o,f);{const g=o[a.index];return gs(g)?Hw(-1,g):Ge(g)}}if(32&l)return Nl(a,o)()||Ge(o[a.index]);{const f=vT(o,a);return null!==f?Array.isArray(f)?f[0]:$_(la(o[16]),f):$_(o,a.next)}}return null}function vT(o,a){return null!==a?o[16][6].projection[a.projection]:null}function Hw(o,a){const l=10+o+1;if(l<a.length){const f=a[l],g=f[1].firstChild;if(null!==g)return $_(f,g)}return a[7]}function Ww(o,a,l,f,g,_,b){for(;null!=l;){const T=f[l.index],N=l.type;if(b&&0===a&&(T&&S(Ge(T),f),l.flags|=2),32!=(32&l.flags))if(8&N)Ww(o,a,l.child,f,g,_,!1),Ou(a,o,g,T,_);else if(32&N){const R=Nl(l,f);let F;for(;F=R();)Ou(a,o,g,F,_);Ou(a,o,g,T,_)}else 16&N?wT(o,a,f,l,g,_):Ou(a,o,g,T,_);l=b?l.projectionNext:l.next}}function Yp(o,a,l,f,g,_){Ww(l,f,o.firstChild,a,g,_,!1)}function wT(o,a,l,f,g,_){const b=l[16],N=b[6].projection[f.projection];if(Array.isArray(N))for(let R=0;R<N.length;R++)Ou(a,o,g,N[R],_);else Ww(o,a,N,b[3],g,_,!0)}function IT(o,a,l){""===l?o.removeAttribute(a,"class"):o.setAttribute(a,"class",l)}function zw(o,a,l){const{mergedAttrs:f,classes:g,styles:_}=l;null!==f&&nh(o,a,f),null!==g&&IT(o,a,g),null!==_&&function bT(o,a,l){o.setAttribute(a,"style",l)}(o,a,_)}function DT(o){Lu=o}function W_(o){return function H_(){if(void 0===Kc&&(Kc=null,bn.trustedTypes))try{Kc=bn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:o=>o,createScript:o=>o,createScriptURL:o=>o})}catch{}return Kc}()?.createScriptURL(o)||o}class z_{constructor(a){this.changingThisBreaksApplicationSecurity=a}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${J})`}}function Fu(o){return o instanceof z_?o.changingThisBreaksApplicationSecurity:o}function xh(o,a){const l=function ST(o){return o instanceof z_&&o.getTypeName()||null}(o);if(null!=l&&l!==a){if("ResourceURL"===l&&"URL"===a)return!0;throw new Error(`Required a safe ${a}, got a ${l} (see ${J})`)}return l===a}const xB=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;var bi=(()=>((bi=bi||{})[bi.NONE=0]="NONE",bi[bi.HTML=1]="HTML",bi[bi.STYLE=2]="STYLE",bi[bi.SCRIPT=3]="SCRIPT",bi[bi.URL=4]="URL",bi[bi.RESOURCE_URL=5]="RESOURCE_URL",bi))();function PT(o){const a=rg();return a?a.sanitize(bi.URL,o)||"":xh(o,"URL")?Fu(o):function MT(o){return(o=String(o)).match(xB)?o:"unsafe:"+o}(Se(o))}function LT(o){const a=rg();if(a)return W_(a.sanitize(bi.RESOURCE_URL,o)||"");if(xh(o,"ResourceURL"))return W_(Fu(o));throw new X(904,!1)}function tg(o,a,l){return function Qw(o,a){return"src"===a&&("embed"===o||"frame"===o||"iframe"===o||"media"===o||"script"===o)||"href"===a&&("base"===o||"link"===o)?LT:PT}(a,l)(o)}function rg(){const o=Ye();return o&&o[12]}const Jw=new ur("ENVIRONMENT_INITIALIZER"),FT=new ur("INJECTOR",-1),UT=new ur("INJECTOR_DEF_TYPES");class VT{get(a,l=Gn){if(l===Gn){const f=new Error(`NullInjectorError: No provider for ${be(a)}!`);throw f.name="NullInjectorError",f}return l}}function HR(...o){return{\u0275providers:BT(0,o),\u0275fromNgModule:!0}}function BT(o,...a){const l=[],f=new Set;let g;return Hn(a,_=>{const b=_;eE(b,l,[],f)&&(g||(g=[]),g.push(b))}),void 0!==g&&Xw(g,l),l}function Xw(o,a){for(let l=0;l<o.length;l++){const{providers:g}=o[l];X_(g,_=>{a.push(_)})}}function eE(o,a,l,f){if(!(o=ce(o)))return!1;let g=null,_=wr(o);const b=!_&&Pt(o);if(_||b){if(b&&!b.standalone)return!1;g=o}else{const N=o.ngModule;if(_=wr(N),!_)return!1;g=N}const T=f.has(g);if(b){if(T)return!1;if(f.add(g),b.dependencies){const N="function"==typeof b.dependencies?b.dependencies():b.dependencies;for(const R of N)eE(R,a,l,f)}}else{if(!_)return!1;{if(null!=_.imports&&!T){let R;f.add(g);try{Hn(_.imports,F=>{eE(F,a,l,f)&&(R||(R=[]),R.push(F))})}finally{}void 0!==R&&Xw(R,a)}if(!T){const R=Ns(g)||(()=>new g);a.push({provide:g,useFactory:R,deps:Ze},{provide:UT,useValue:g,multi:!0},{provide:Jw,useValue:()=>Xe(g),multi:!0})}const N=_.providers;null==N||T||X_(N,F=>{a.push(F)})}}return g!==o&&void 0!==o.providers}function X_(o,a){for(let l of o)de(l)&&(l=l.\u0275providers),Array.isArray(l)?X_(l,a):a(l)}const tE=xe({provide:String,useValue:xe});function Rh(o){return null!==o&&"object"==typeof o&&tE in o}function Jc(o){return"function"==typeof o}const kh=new ur("Set Injector scope."),ig={},GT={};let Oh;function Xc(){return void 0===Oh&&(Oh=new VT),Oh}class Pl{}class Ph extends Pl{constructor(a,l,f,g){super(),this.parent=l,this.source=f,this.scopes=g,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,nE(a,b=>this.processProvider(b)),this.records.set(FT,Lh(void 0,this)),g.has("environment")&&this.records.set(Pl,Lh(void 0,this));const _=this.records.get(kh);null!=_&&"string"==typeof _.value&&this.scopes.add(_.value),this.injectorDefTypes=new Set(this.get(UT.multi,Ze,It.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const a of this._ngOnDestroyHooks)a.ngOnDestroy();for(const a of this._onDestroyHooks)a()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(a){this._onDestroyHooks.push(a)}runInContext(a){this.assertNotDestroyed();const l=rn(this),f=Yn(void 0);try{return a()}finally{rn(l),Yn(f)}}get(a,l=Gn,f=It.Default){this.assertNotDestroyed(),f=Ot(f);const g=rn(this),_=Yn(void 0);try{if(!(f&It.SkipSelf)){let T=this.records.get(a);if(void 0===T){const N=function ZR(o){return"function"==typeof o||"object"==typeof o&&o instanceof ur}(a)&&mi(a);T=N&&this.injectableDefInScope(N)?Lh(ey(a),ig):null,this.records.set(a,T)}if(null!=T)return this.hydrate(a,T)}return(f&It.Self?Xc():this.parent).get(a,l=f&It.Optional&&l===Gn?null:l)}catch(b){if("NullInjectorError"===b.name){if((b[br]=b[br]||[]).unshift(be(a)),g)throw b;return function Y(o,a,l,f){const g=o[br];throw a[Dn]&&g.unshift(a[Dn]),o.message=function H(o,a,l,f=null){o=o&&"\n"===o.charAt(0)&&"\u0275"==o.charAt(1)?o.slice(2):o;let g=be(a);if(Array.isArray(a))g=a.map(be).join(" -> ");else if("object"==typeof a){let _=[];for(let b in a)if(a.hasOwnProperty(b)){let T=a[b];_.push(b+":"+("string"==typeof T?JSON.stringify(T):be(T)))}g=`{${_.join(", ")}}`}return`${l}${f?"("+f+")":""}[${g}]: ${o.replace(ar,"\n  ")}`}("\n"+o.message,g,l,f),o.ngTokenPath=g,o[br]=null,o}(b,a,"R3InjectorError",this.source)}throw b}finally{Yn(_),rn(g)}}resolveInjectorInitializers(){const a=rn(this),l=Yn(void 0);try{const f=this.get(Jw.multi,Ze,It.Self);for(const g of f)g()}finally{rn(a),Yn(l)}}toString(){const a=[],l=this.records;for(const f of l.keys())a.push(be(f));return`R3Injector[${a.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new X(205,!1)}processProvider(a){let l=Jc(a=ce(a))?a:ce(a&&a.provide);const f=function zR(o){return Rh(o)?Lh(void 0,o.useValue):Lh(WT(o),ig)}(a);if(Jc(a)||!0!==a.multi)this.records.get(l);else{let g=this.records.get(l);g||(g=Lh(void 0,ig,!0),g.factory=()=>Ht(g.multi),this.records.set(l,g)),l=a,g.multi.push(a)}this.records.set(l,f)}hydrate(a,l){return l.value===ig&&(l.value=GT,l.value=l.factory()),"object"==typeof l.value&&l.value&&function zT(o){return null!==o&&"object"==typeof o&&"function"==typeof o.ngOnDestroy}(l.value)&&this._ngOnDestroyHooks.add(l.value),l.value}injectableDefInScope(a){if(!a.providedIn)return!1;const l=ce(a.providedIn);return"string"==typeof l?"any"===l||this.scopes.has(l):this.injectorDefTypes.has(l)}}function ey(o){const a=mi(o),l=null!==a?a.factory:Ns(o);if(null!==l)return l;if(o instanceof ur)throw new X(204,!1);if(o instanceof Function)return function WR(o){const a=o.length;if(a>0)throw function Fi(o,a){const l=[];for(let f=0;f<o;f++)l.push(a);return l}(a,"?"),new X(204,!1);const l=function ki(o){const a=o&&(o[Br]||o[jr]);if(a){const l=function ri(o){if(o.hasOwnProperty("name"))return o.name;const a=(""+o).match(/^function\s*([^\s(]+)/);return null===a?"":a[1]}(o);return console.warn(`DEPRECATED: DI is instantiating a token "${l}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${l}" class.`),a}return null}(o);return null!==l?()=>l.factory(o):()=>new o}(o);throw new X(204,!1)}function WT(o,a,l){let f;if(Jc(o)){const g=ce(o);return Ns(g)||ey(g)}if(Rh(o))f=()=>ce(o.useValue);else if(function HT(o){return!(!o||!o.useFactory)}(o))f=()=>o.useFactory(...Ht(o.deps||[]));else if(function $T(o){return!(!o||!o.useExisting)}(o))f=()=>Xe(ce(o.useExisting));else{const g=ce(o&&(o.useClass||o.provide));if(!function qR(o){return!!o.deps}(o))return Ns(g)||ey(g);f=()=>new g(...Ht(o.deps))}return f}function Lh(o,a,l=!1){return{factory:o,value:a,multi:l?[]:void 0}}function nE(o,a){for(const l of o)Array.isArray(l)?nE(l,a):l&&de(l)?nE(l.\u0275providers,a):a(l)}class KR{}class qT{}class KT{resolveComponentFactory(a){throw function YR(o){const a=Error(`No component factory found for ${be(o)}. Did you add it to @NgModule.entryComponents?`);return a.ngComponent=o,a}(a)}}let sg=(()=>{class o{}return o.NULL=new KT,o})();function YT(){return ed(Yi(),Ye())}function ed(o,a){return new ty($n(o,a))}let ty=(()=>{class o{constructor(l){this.nativeElement=l}}return o.__NG_ELEMENT_ID__=YT,o})();function QT(o){return o instanceof ty?o.nativeElement:o}class rE{}let QR=(()=>{class o{}return o.__NG_ELEMENT_ID__=()=>function JR(){const o=Ye(),l=Wr(Yi().index,o);return(Pi(l)?l:o)[11]}(),o})(),XR=(()=>{class o{}return o.\u0275prov=kt({token:o,providedIn:"root",factory:()=>null}),o})();class JT{constructor(a){this.full=a,this.major=a.split(".")[0],this.minor=a.split(".")[1],this.patch=a.split(".").slice(2).join(".")}}const XT=new JT("15.0.2"),iE={};function oE(o){return o.ngOriginalError}class Fh{constructor(){this._console=console}handleError(a){const l=this._findOriginalError(a);this._console.error("ERROR",a),l&&this._console.error("ORIGINAL ERROR",l)}_findOriginalError(a){let l=a&&oE(a);for(;l&&oE(l);)l=oE(l);return l||null}}function uE(o){return o.ownerDocument.defaultView}function Uu(o){return o instanceof Function?o():o}function nS(o,a,l){let f=o.length;for(;;){const g=o.indexOf(a,l);if(-1===g)return g;if(0===g||o.charCodeAt(g-1)<=32){const _=a.length;if(g+_===f||o.charCodeAt(g+_)<=32)return g}l=g+1}}const rS="ng-template";function ik(o,a,l){let f=0;for(;f<o.length;){let g=o[f++];if(l&&"class"===g){if(g=o[f],-1!==nS(g.toLowerCase(),a,0))return!0}else if(1===g){for(;f<o.length&&"string"==typeof(g=o[f++]);)if(g.toLowerCase()===a)return!0;return!1}}return!1}function iS(o){return 4===o.type&&o.value!==rS}function sk(o,a,l){return a===(4!==o.type||l?o.value:rS)}function ok(o,a,l){let f=4;const g=o.attrs||[],_=function ak(o){for(let a=0;a<o.length;a++)if(Nc(o[a]))return a;return o.length}(g);let b=!1;for(let T=0;T<a.length;T++){const N=a[T];if("number"!=typeof N){if(!b)if(4&f){if(f=2|1&f,""!==N&&!sk(o,N,l)||""===N&&1===a.length){if(Uo(f))return!1;b=!0}}else{const R=8&f?N:a[++T];if(8&f&&null!==o.attrs){if(!ik(o.attrs,R,l)){if(Uo(f))return!1;b=!0}continue}const K=Ii(8&f?"class":N,g,iS(o),l);if(-1===K){if(Uo(f))return!1;b=!0;continue}if(""!==R){let oe;oe=K>_?"":g[K+1].toLowerCase();const Ee=8&f?oe:null;if(Ee&&-1!==nS(Ee,R,0)||2&f&&R!==oe){if(Uo(f))return!1;b=!0}}}}else{if(!b&&!Uo(f)&&!Uo(N))return!1;if(b&&Uo(N))continue;b=!1,f=N|1&f}}return Uo(f)||b}function Uo(o){return 0==(1&o)}function Ii(o,a,l,f){if(null===a)return-1;let g=0;if(f||!l){let _=!1;for(;g<a.length;){const b=a[g];if(b===o)return g;if(3===b||6===b)_=!0;else{if(1===b||2===b){let T=a[++g];for(;"string"==typeof T;)T=a[++g];continue}if(4===b)break;if(0===b){g+=4;continue}}g+=_?1:2}return-1}return function uk(o,a){let l=o.indexOf(4);if(l>-1)for(l++;l<o.length;){const f=o[l];if("number"==typeof f)return-1;if(f===a)return l;l++}return-1}(a,o)}function sS(o,a,l=!1){for(let f=0;f<a.length;f++)if(ok(o,a[f],l))return!0;return!1}function lk(o,a){return o?":not("+a.trim()+")":a}function BB(o){let a=o[0],l=1,f=2,g="",_=!1;for(;l<o.length;){let b=o[l];if("string"==typeof b)if(2&f){const T=o[++l];g+="["+b+(T.length>0?'="'+T+'"':"")+"]"}else 8&f?g+="."+b:4&f&&(g+=" "+b);else""!==g&&!Uo(b)&&(a+=lk(_,g),g=""),f=b,_=_||!Uo(f);l++}return""!==g&&(a+=lk(_,g)),a}const gn={};function rd(o){dk(kn(),Ye(),ms()+o,!1)}function dk(o,a,l,f){if(!f)if(3==(3&a[2])){const _=o.preOrderCheckHooks;null!==_&&xp(a,_,l)}else{const _=o.preOrderHooks;null!==_&&Sc(a,_,0,l)}Eu(l)}function dS(o,a=null,l=null,f){const g=hS(o,a,l,f);return g.resolveInjectorInitializers(),g}function hS(o,a=null,l=null,f,g=new Set){const _=[l||Ze,HR(o)];return f=f||("object"==typeof o?void 0:be(o)),new Ph(_,a||Xc(),f||null,g)}let id=(()=>{class o{static create(l,f){if(Array.isArray(l))return dS({name:""},f,l,"");{const g=l.name??"";return dS({name:g},l.parent,l.providers,g)}}}return o.THROW_IF_NOT_FOUND=Gn,o.NULL=new VT,o.\u0275prov=kt({token:o,providedIn:"any",factory:()=>Xe(FT)}),o.__NG_ELEMENT_ID__=-1,o})();function ho(o,a=It.Default){const l=Ye();return null===l?Xe(o,a):I_(Yi(),l,ce(o),a)}function ES(){throw new Error("invalid")}function pE(o,a){const l=o.contentQueries;if(null!==l)for(let f=0;f<l.length;f+=2){const g=l[f],_=l[f+1];if(-1!==_){const b=o.data[_];Sp(g),b.contentQueries(2,a[_],_)}}}function lg(o,a,l,f,g,_,b,T,N,R,F){const K=a.blueprint.slice();return K[0]=g,K[2]=76|f,(null!==F||o&&1024&o[2])&&(K[2]|=1024),yl(K),K[3]=K[15]=o,K[8]=l,K[10]=b||o&&o[10],K[11]=T||o&&o[11],K[12]=N||o&&o[12]||null,K[9]=R||o&&o[9]||null,K[6]=_,K[20]=function P_(){return Ow++}(),K[21]=F,K[16]=2==a.type?o[16]:K,K}function od(o,a,l,f,g){let _=o.data[a];if(null===_)_=function iy(o,a,l,f,g){const _=Cc(),b=Tc(),N=o.data[a]=function yE(o,a,l,f,g,_){return{type:l,index:f,insertBeforeIndex:null,injectorIndex:a?a.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:g,attrs:_,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:a,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,b?_:_&&_.parent,l,a,f,g);return null===o.firstChild&&(o.firstChild=N),null!==_&&(b?null==_.child&&null!==N.parent&&(_.child=N):null===_.next&&(_.next=N)),N}(o,a,l,f,g),function QD(){return Zt.lFrame.inI18n}()&&(_.flags|=32);else if(64&_.type){_.type=l,_.value=f,_.attrs=g;const b=function Dc(){const o=Zt.lFrame,a=o.currentTNode;return o.isParent?a:a.parent}();_.injectorIndex=null===b?-1:b.injectorIndex}return Ks(_,!0),_}function jh(o,a,l,f){if(0===l)return-1;const g=a.length;for(let _=0;_<l;_++)a.push(f),o.blueprint.push(f),o.data.push(null);return g}function sy(o,a,l){f_(a);try{const f=o.viewQuery;null!==f&&dg(1,f,l);const g=o.template;null!==g&&gE(o,a,g,1,l),o.firstCreatePass&&(o.firstCreatePass=!1),o.staticContentQueries&&pE(o,a),o.staticViewQueries&&dg(2,o.viewQuery,l);const _=o.components;null!==_&&function IS(o,a){for(let l=0;l<a.length;l++)Ak(o,a[l])}(a,_)}catch(f){throw o.firstCreatePass&&(o.incompleteFirstPass=!0,o.firstCreatePass=!1),f}finally{a[2]&=-5,eh()}}function ad(o,a,l,f){const g=a[2];if(128!=(128&g)){f_(a);try{yl(a),function gw(o){return Zt.lFrame.bindingIndex=o}(o.bindingStartIndex),null!==l&&gE(o,a,l,2,f);const b=3==(3&g);if(b){const R=o.preOrderCheckHooks;null!==R&&xp(a,R,null)}else{const R=o.preOrderHooks;null!==R&&Sc(a,R,0,null),Ac(a,0)}if(function NS(o){for(let a=bh(o);null!==a;a=zp(a)){if(!a[2])continue;const l=a[9];for(let f=0;f<l.length;f++){const g=l[f],_=g[3];0==(512&g[2])&&vu(_,1),g[2]|=512}}}(a),function Tk(o){for(let a=bh(o);null!==a;a=zp(a))for(let l=10;l<a.length;l++){const f=a[l],g=f[1];Xo(f)&&ad(g,f,g.template,f[8])}}(a),null!==o.contentQueries&&pE(o,a),b){const R=o.contentCheckHooks;null!==R&&xp(a,R)}else{const R=o.contentHooks;null!==R&&Sc(a,R,1),Ac(a,1)}!function WB(o,a){const l=o.hostBindingOpCodes;if(null!==l)try{for(let f=0;f<l.length;f++){const g=l[f];if(g<0)Eu(~g);else{const _=g,b=l[++f],T=l[++f];JD(b,_),T(2,a[_])}}}finally{Eu(-1)}}(o,a);const T=o.components;null!==T&&function bS(o,a){for(let l=0;l<a.length;l++)Sk(o,a[l])}(a,T);const N=o.viewQuery;if(null!==N&&dg(2,N,f),b){const R=o.viewCheckHooks;null!==R&&xp(a,R)}else{const R=o.viewHooks;null!==R&&Sc(a,R,2),Ac(a,2)}!0===o.firstUpdatePass&&(o.firstUpdatePass=!1),a[2]&=-41,512&a[2]&&(a[2]&=-513,vu(a[3],-1))}finally{eh()}}}function gE(o,a,l,f,g){const _=ms(),b=2&f;try{Eu(-1),b&&a.length>22&&dk(o,a,22,!1),l(f,g)}finally{Eu(_)}}function oy(o,a,l){if(Ro(a)){const g=a.directiveEnd;for(let _=a.directiveStart;_<g;_++){const b=o.data[_];b.contentQueries&&b.contentQueries(1,l[_],_)}}}function ay(o,a,l){!hw()||(function qB(o,a,l,f){const g=l.directiveStart,_=l.directiveEnd;o.firstCreatePass||Mp(l,a),S(f,a);const b=l.initialInputs;for(let T=g;T<_;T++){const N=o.data[T],R=Li(N);R&&KB(a,l,N);const F=Il(a,o,T,l);S(F,a),null!==b&&YB(0,T-g,F,N,0,b),R&&(Wr(l.index,a)[8]=F)}}(o,a,l,$n(l,a)),64==(64&l.flags)&&cg(o,a,l))}function uy(o,a,l=$n){const f=a.localNames;if(null!==f){let g=a.index+1;for(let _=0;_<f.length;_+=2){const b=f[_+1],T=-1===b?l(a,o):o[b];o[g++]=T}}}function CS(o){const a=o.tView;return null===a||a.incompleteFirstPass?o.tView=ly(1,null,o.template,o.decls,o.vars,o.directiveDefs,o.pipeDefs,o.viewQuery,o.schemas,o.consts):a}function ly(o,a,l,f,g,_,b,T,N,R){const F=22+f,K=F+g,oe=function DS(o,a){const l=[];for(let f=0;f<a;f++)l.push(f<o?null:gn);return l}(F,K),Ee="function"==typeof R?R():R;return oe[1]={type:o,blueprint:oe,template:l,queries:null,viewQuery:T,declTNode:a,data:oe.slice().fill(null,F),bindingStartIndex:F,expandoStartIndex:K,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof _?_():_,pipeRegistry:"function"==typeof b?b():b,firstChild:null,schemas:N,consts:Ee,incompleteFirstPass:!1}}function _E(o,a,l,f){const g=hy(a);null===l?g.push(f):(g.push(l),o.firstCreatePass&&MS(o).push(f,g.length-1))}function vE(o,a,l,f){for(let g in o)if(o.hasOwnProperty(g)){l=null===l?{}:l;const _=o[g];null===f?wE(l,a,g,_):f.hasOwnProperty(g)&&wE(l,a,f[g],_)}return l}function wE(o,a,l,f){o.hasOwnProperty(l)?o[l].push(a,f):o[l]=[a,f]}function vs(o,a,l,f,g,_,b,T){const N=$n(a,l);let F,R=a.inputs;!T&&null!=R&&(F=R[f])?(fy(o,l,F,f,g),hl(a)&&bE(l,a.index)):3&a.type&&(f=function EE(o){return"class"===o?"className":"for"===o?"htmlFor":"formaction"===o?"formAction":"innerHtml"===o?"innerHTML":"readonly"===o?"readOnly":"tabindex"===o?"tabIndex":o}(f),g=null!=b?b(g,a.value||"",f):g,_.setProperty(N,f,g))}function bE(o,a){const l=Wr(a,o);16&l[2]||(l[2]|=32)}function us(o,a,l,f){let g=!1;if(hw()){const _=null===f?null:{"":-1},b=function IE(o,a){const l=o.directiveRegistry;let f=null,g=null;if(l)for(let _=0;_<l.length;_++){const b=l[_];if(sS(a,b.selectors,!1))if(f||(f=[]),Li(b))if(null!==b.findHostDirectiveDefs){const T=[];g=g||new Map,b.findHostDirectiveDefs(b,T,g),f.unshift(...T,b),$h(o,a,T.length)}else f.unshift(b),$h(o,a,0);else g=g||new Map,b.findHostDirectiveDefs?.(b,f,g),f.push(b)}return null===f?null:[f,g]}(o,l);let T,N;null===b?T=N=null:[T,N]=b,null!==T&&(g=!0,Vu(o,a,l,T,_,N)),_&&function Ik(o,a,l){if(a){const f=o.localNames=[];for(let g=0;g<a.length;g+=2){const _=l[a[g+1]];if(null==_)throw new X(-301,!1);f.push(a[g],_)}}}(l,f,_)}return l.mergedAttrs=Mc(l.mergedAttrs,l.attrs),g}function Vu(o,a,l,f,g,_){for(let R=0;R<f.length;R++)kp(Mp(l,a),o,f[R].type);!function Ck(o,a,l){o.flags|=1,o.directiveStart=a,o.directiveEnd=a+l,o.providerIndexes=a}(l,o.data.length,f.length);for(let R=0;R<f.length;R++){const F=f[R];F.providersResolver&&F.providersResolver(F)}let b=!1,T=!1,N=jh(o,a,f.length,null);for(let R=0;R<f.length;R++){const F=f[R];l.mergedAttrs=Mc(l.mergedAttrs,F.hostAttrs),ZB(o,l,a,N,F),CE(N,F,g),null!==F.contentQueries&&(l.flags|=4),(null!==F.hostBindings||null!==F.hostAttrs||0!==F.hostVars)&&(l.flags|=64);const K=F.type.prototype;!b&&(K.ngOnChanges||K.ngOnInit||K.ngDoCheck)&&((o.preOrderHooks||(o.preOrderHooks=[])).push(l.index),b=!0),!T&&(K.ngOnChanges||K.ngDoCheck)&&((o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(l.index),T=!0),N++}!function TS(o,a,l){const g=a.directiveEnd,_=o.data,b=a.attrs,T=[];let N=null,R=null;for(let F=a.directiveStart;F<g;F++){const K=_[F],oe=l?l.get(K):null,$e=oe?oe.outputs:null;N=vE(K.inputs,F,N,oe?oe.inputs:null),R=vE(K.outputs,F,R,$e);const at=null===N||null===b||iS(a)?null:QB(N,F,b);T.push(at)}null!==N&&(N.hasOwnProperty("class")&&(a.flags|=8),N.hasOwnProperty("style")&&(a.flags|=16)),a.initialInputs=T,a.inputs=N,a.outputs=R}(o,l,_)}function cg(o,a,l){const f=l.directiveStart,g=l.directiveEnd,_=l.index,b=function XD(){return Zt.lFrame.currentDirectiveIndex}();try{Eu(_);for(let T=f;T<g;T++){const N=o.data[T],R=a[T];h_(T),(null!==N.hostBindings||0!==N.hostVars||null!==N.hostAttrs)&&cy(N,R)}}finally{Eu(-1),h_(b)}}function cy(o,a){null!==o.hostBindings&&o.hostBindings(1,a)}function $h(o,a,l){a.componentOffset=l,(o.components||(o.components=[])).push(a.index)}function CE(o,a,l){if(l){if(a.exportAs)for(let f=0;f<a.exportAs.length;f++)l[a.exportAs[f]]=o;Li(a)&&(l[""]=o)}}function ZB(o,a,l,f,g){o.data[f]=g;const _=g.factory||(g.factory=Ns(g.type)),b=new Ms(_,Li(g),ho);o.blueprint[f]=b,l[f]=b,function AS(o,a,l,f,g){const _=g.hostBindings;if(_){let b=o.hostBindingOpCodes;null===b&&(b=o.hostBindingOpCodes=[]);const T=~a.index;(function zB(o){let a=o.length;for(;a>0;){const l=o[--a];if("number"==typeof l&&l<0)return l}return 0})(b)!=T&&b.push(T),b.push(l,f,_)}}(o,a,f,jh(o,l,g.hostVars,gn),g)}function KB(o,a,l){const f=$n(a,o),g=CS(l),_=o[10],b=Fl(o,lg(o,g,null,l.onPush?32:16,f,a,_,_.createRenderer(f,l),null,null,null));o[a.index]=b}function Bu(o,a,l,f,g,_){const b=$n(o,a);!function xS(o,a,l,f,g,_,b){if(null==_)o.removeAttribute(a,g,l);else{const T=null==b?Se(_):b(_,f||"",g);o.setAttribute(a,g,T,l)}}(a[11],b,_,o.value,l,f,g)}function YB(o,a,l,f,g,_){const b=_[a];if(null!==b){const T=f.setInput;for(let N=0;N<b.length;){const R=b[N++],F=b[N++],K=b[N++];null!==T?f.setInput(l,K,R,F):l[F]=K}}}function QB(o,a,l){let f=null,g=0;for(;g<l.length;){const _=l[g];if(0!==_)if(5!==_){if("number"==typeof _)break;if(o.hasOwnProperty(_)){null===f&&(f=[]);const b=o[_];for(let T=0;T<b.length;T+=2)if(b[T]===a){f.push(_,b[T+1],l[g+1]);break}}g+=2}else g+=2;else g+=4}return f}function Dk(o,a,l,f){return[o,!0,!1,a,null,0,f,l,null,null]}function Sk(o,a){const l=Wr(a,o);if(Xo(l)){const f=l[1];48&l[2]?ad(f,l,f.template,l[8]):l[5]>0&&DE(l)}}function DE(o){for(let f=bh(o);null!==f;f=zp(f))for(let g=10;g<f.length;g++){const _=f[g];if(Xo(_))if(512&_[2]){const b=_[1];ad(b,_,b.template,_[8])}else _[5]>0&&DE(_)}const l=o[1].components;if(null!==l)for(let f=0;f<l.length;f++){const g=Wr(l[f],o);Xo(g)&&g[5]>0&&DE(g)}}function Ak(o,a){const l=Wr(a,o),f=l[1];(function TE(o,a){for(let l=a.length;l<o.blueprint.length;l++)a.push(o.blueprint[l])})(f,l),sy(f,l,l[8])}function Fl(o,a){return o[13]?o[14][4]=a:o[13]=a,o[14]=a,a}function Hh(o){for(;o;){o[2]|=32;const a=la(o);if(s_(o)&&!a)return o;o=a}return null}function ju(o,a,l,f=!0){const g=a[10];g.begin&&g.begin();try{ad(o,a,o.template,l)}catch(b){throw f&&SE(a,b),b}finally{g.end&&g.end()}}function dg(o,a,l){Sp(0),a(o,l)}function hy(o){return o[7]||(o[7]=[])}function MS(o){return o.cleanup||(o.cleanup=[])}function SE(o,a){const l=o[9],f=l?l.get(Fh,null):null;f&&f.handleError(a)}function fy(o,a,l,f,g){for(let _=0;_<l.length;){const b=l[_++],T=l[_++],N=a[b],R=o.data[b];null!==R.setInput?R.setInput(N,g,f,T):N[T]=g}}function Vo(o,a,l){const f=hn(a,o);!function Ml(o,a,l){o.setValue(a,l)}(o[11],f,l)}function Ul(o,a,l){let f=l?o.styles:null,g=l?o.classes:null,_=0;if(null!==a)for(let b=0;b<a.length;b++){const T=a[b];"number"==typeof T?_=T:1==_?g=ge(g,T):2==_&&(f=ge(f,T+": "+a[++b]+";"))}l?o.styles=f:o.stylesWithoutHost=f,l?o.classes=g:o.classesWithoutHost=g}function AE(o,a,l,f,g=!1){for(;null!==l;){const _=a[l.index];if(null!==_&&f.push(Ge(_)),gs(_))for(let T=10;T<_.length;T++){const N=_[T],R=N[1].firstChild;null!==R&&AE(N[1],N,R,f)}const b=l.type;if(8&b)AE(o,a,l.child,f);else if(32&b){const T=Nl(l,a);let N;for(;N=T();)f.push(N)}else if(16&b){const T=vT(a,l);if(Array.isArray(T))f.push(...T);else{const N=la(a[16]);AE(N[1],N,T,f,!0)}}l=g?l.projectionNext:l.next}return f}class py{constructor(a,l){this._lView=a,this._cdRefInjectingView=l,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const a=this._lView,l=a[1];return AE(l,a,l.firstChild,[])}get context(){return this._lView[8]}set context(a){this._lView[8]=a}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const a=this._lView[3];if(gs(a)){const l=a[8],f=l?l.indexOf(this):-1;f>-1&&(V_(a,f),Dt(l,f))}this._attachedToViewContainer=!1}Vw(this._lView[1],this._lView)}onDestroy(a){_E(this._lView[1],this._lView,null,a)}markForCheck(){Hh(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){ju(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new X(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function CR(o,a){Yp(o,a,a[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(a){if(this._attachedToViewContainer)throw new X(902,!1);this._appRef=a}}class RS extends py{constructor(a){super(a),this._view=a}detectChanges(){const a=this._view;ju(a[1],a,a[8],!1)}checkNoChanges(){}get context(){return null}}class xk extends sg{constructor(a){super(),this.ngModule=a}resolveComponentFactory(a){const l=Pt(a);return new $u(l,this.ngModule)}}function ud(o){const a=[];for(let l in o)o.hasOwnProperty(l)&&a.push({propName:o[l],templateName:l});return a}class my{constructor(a,l){this.injector=a,this.parentInjector=l}get(a,l,f){f=Ot(f);const g=this.injector.get(a,iE,f);return g!==iE||l===iE?g:this.parentInjector.get(a,l,f)}}class $u extends qT{constructor(a,l){super(),this.componentDef=a,this.ngModule=l,this.componentType=a.type,this.selector=function ck(o){return o.map(BB).join(",")}(a.selectors),this.ngContentSelectors=a.ngContentSelectors?a.ngContentSelectors:[],this.isBoundToModule=!!l}get inputs(){return ud(this.componentDef.inputs)}get outputs(){return ud(this.componentDef.outputs)}create(a,l,f,g){let _=(g=g||this.ngModule)instanceof Pl?g:g?.injector;_&&null!==this.componentDef.getStandaloneInjector&&(_=this.componentDef.getStandaloneInjector(_)||_);const b=_?new my(a,_):a,T=b.get(rE,null);if(null===T)throw new X(407,!1);const N=b.get(XR,null),R=T.createRenderer(null,this.componentDef),F=this.componentDef.selectors[0][0]||"div",K=f?function mE(o,a,l){return o.selectRootElement(a,l===Ce.ShadowDom)}(R,f,this.componentDef.encapsulation):gT(R,F,function gy(o){const a=o.toLowerCase();return"svg"===a?"svg":"math"===a?"math":null}(F)),oe=this.componentDef.onPush?288:272,Ee=ly(0,null,null,1,0,null,null,null,null,null),$e=lg(null,Ee,null,oe,null,null,T,R,N,b,null);let at,vt;f_($e);try{const Mt=this.componentDef;let Xt,et=null;Mt.findHostDirectiveDefs?(Xt=[],et=new Map,Mt.findHostDirectiveDefs(Mt,Xt,et),Xt.push(Mt)):Xt=[Mt];const ln=function Nk(o,a){const l=o[1];return o[22]=a,od(l,22,2,"#host",null)}($e,K),Kr=function NE(o,a,l,f,g,_,b,T){const N=g[1];!function yy(o,a,l,f){for(const g of o)a.mergedAttrs=Mc(a.mergedAttrs,g.hostAttrs);null!==a.mergedAttrs&&(Ul(a,a.mergedAttrs,!0),null!==l&&zw(f,l,a))}(f,o,a,b);const R=_.createRenderer(a,l),F=lg(g,CS(l),null,l.onPush?32:16,g[o.index],o,_,R,T||null,null,null);return N.firstCreatePass&&$h(N,o,f.length-1),Fl(g,F),g[o.index]=F}(ln,K,Mt,Xt,$e,T,R);vt=Ar(Ee,22),K&&function Rk(o,a,l,f){if(f)nh(o,l,["ng-version",XT.full]);else{const{attrs:g,classes:_}=function cE(o){const a=[],l=[];let f=1,g=2;for(;f<o.length;){let _=o[f];if("string"==typeof _)2===g?""!==_&&a.push(_,o[++f]):8===g&&l.push(_);else{if(!Uo(g))break;g=_}f++}return{attrs:a,classes:l}}(a.selectors[0]);g&&nh(o,l,g),_&&_.length>0&&IT(o,l,_.join(" "))}}(R,Mt,K,f),void 0!==l&&function kS(o,a,l){const f=o.projection=[];for(let g=0;g<a.length;g++){const _=l[g];f.push(null!=_?Array.from(_):null)}}(vt,this.ngContentSelectors,l),at=function Mk(o,a,l,f,g,_){const b=Yi(),T=g[1],N=$n(b,g);Vu(T,g,b,l,null,f);for(let F=0;F<l.length;F++)S(Il(g,T,b.directiveStart+F,b),g);cg(T,g,b),N&&S(N,g);const R=Il(g,T,b.directiveStart+b.componentOffset,b);if(o[8]=g[8]=R,null!==_)for(const F of _)F(R,a);return oy(T,b,o),R}(Kr,Mt,Xt,et,$e,[kk]),sy(Ee,$e,null)}finally{eh()}return new _y(this.componentType,at,ed(vt,$e),$e,vt)}}class _y extends KR{constructor(a,l,f,g,_){super(),this.location=f,this._rootLView=g,this._tNode=_,this.instance=l,this.hostView=this.changeDetectorRef=new RS(g),this.componentType=a}setInput(a,l){const f=this._tNode.inputs;let g;if(null!==f&&(g=f[a])){const _=this._rootLView;fy(_[1],_,g,a,l),bE(_,this._tNode.index)}}get injector(){return new Cl(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(a){this.hostView.onDestroy(a)}}function kk(){const o=Yi();th(Ye()[1],o)}function RE(o){let a=function ME(o){return Object.getPrototypeOf(o.prototype).constructor}(o.type),l=!0;const f=[o];for(;a;){let g;if(Li(o))g=a.\u0275cmp||a.\u0275dir;else{if(a.\u0275cmp)throw new X(903,!1);g=a.\u0275dir}if(g){if(l){f.push(g);const b=o;b.inputs=kE(o.inputs),b.declaredInputs=kE(o.declaredInputs),b.outputs=kE(o.outputs);const T=g.hostBindings;T&&t3(o,T);const N=g.viewQuery,R=g.contentQueries;if(N&&OE(o,N),R&&e3(o,R),Ne(o.inputs,g.inputs),Ne(o.declaredInputs,g.declaredInputs),Ne(o.outputs,g.outputs),Li(g)&&g.data.animation){const F=o.data;F.animation=(F.animation||[]).concat(g.data.animation)}}const _=g.features;if(_)for(let b=0;b<_.length;b++){const T=_[b];T&&T.ngInherit&&T(o),T===RE&&(l=!1)}}a=Object.getPrototypeOf(a)}!function XB(o){let a=0,l=null;for(let f=o.length-1;f>=0;f--){const g=o[f];g.hostVars=a+=g.hostVars,g.hostAttrs=Mc(g.hostAttrs,l=Mc(l,g.hostAttrs))}}(f)}function kE(o){return o===Je?{}:o===Ze?[]:o}function OE(o,a){const l=o.viewQuery;o.viewQuery=l?(f,g)=>{a(f,g),l(f,g)}:a}function e3(o,a){const l=o.contentQueries;o.contentQueries=l?(f,g,_)=>{a(f,g,_),l(f,g,_)}:a}function t3(o,a){const l=o.hostBindings;o.hostBindings=l?(f,g)=>{a(f,g),l(f,g)}:a}let pg=null;function Vl(){if(!pg){const o=bn.Symbol;if(o&&o.iterator)pg=o.iterator;else{const a=Object.getOwnPropertyNames(Map.prototype);for(let l=0;l<a.length;++l){const f=a[l];"entries"!==f&&"size"!==f&&Map.prototype[f]===Map.prototype.entries&&(pg=f)}}}return pg}function wy(o){return!!FS(o)&&(Array.isArray(o)||!(o instanceof Map)&&Vl()in o)}function FS(o){return null!==o&&("function"==typeof o||"object"==typeof o)}function Hu(o,a,l){return o[a]=l}function ws(o,a,l){return!Object.is(o[a],l)&&(o[a]=l,!0)}function Bl(o,a,l,f){const g=ws(o,a,l);return ws(o,a+1,f)||g}function Gh(o,a,l,f){const g=Ye();return ws(g,ko(),a)&&(kn(),Bu(fr(),g,o,a,l,f)),Gh}function Wh(o,a,l,f){return ws(o,ko(),l)?a+Se(l)+f:gn}function cd(o,a,l,f,g,_){const T=Bl(o,function Ys(){return Zt.lFrame.bindingIndex}(),l,g);return ra(2),T?a+Se(l)+f+Se(g)+_:gn}function _g(o,a,l,f,g,_,b,T){const N=Ye(),R=cd(N,a,l,f,g,_);return R!==gn&&Bu(fr(),N,o,R,b,T),_g}function HS(o,a,l,f,g,_,b,T){const N=Ye(),R=kn(),F=o+22,K=R.firstCreatePass?function $S(o,a,l,f,g,_,b,T,N){const R=a.consts,F=od(a,o,4,b||null,Ki(R,T));us(a,l,F,Ki(R,N)),th(a,F);const K=F.tViews=ly(2,F,f,g,_,a.directiveRegistry,a.pipeRegistry,null,a.schemas,R);return null!==a.queries&&(a.queries.template(a,F),K.queries=a.queries.embeddedTView(F)),F}(F,R,N,a,l,f,g,_,b):R.data[F];Ks(K,!1);const oe=N[11].createComment("");j_(R,N,oe,K),S(oe,N),Fl(N,N[F]=Dk(oe,N,oe,K)),ka(K)&&ay(R,N,K),null!=b&&uy(N,K,T)}function Ty(o,a,l){const f=Ye();return ws(f,ko(),a)&&vs(kn(),fr(),f,o,a,f[11],l,!1),Ty}function UE(o,a,l,f,g){const b=g?"class":"style";fy(o,l,a.inputs[b],b,f)}function vg(o,a,l,f){const g=Ye(),_=kn(),b=22+o,T=g[11],N=g[b]=gT(T,a,function g_(){return Zt.lFrame.currentNamespace}()),R=_.firstCreatePass?function Sy(o,a,l,f,g,_,b){const T=a.consts,R=od(a,o,2,g,Ki(T,_));return us(a,l,R,Ki(T,b)),null!==R.attrs&&Ul(R,R.attrs,!1),null!==R.mergedAttrs&&Ul(R,R.mergedAttrs,!0),null!==a.queries&&a.queries.elementStart(a,R),R}(b,_,g,0,a,l,f):_.data[b];return Ks(R,!0),zw(T,N,R),32!=(32&R.flags)&&j_(_,g,N,R),0===function zr(){return Zt.lFrame.elementDepthCount}()&&S(N,g),function KD(){Zt.lFrame.elementDepthCount++}(),ka(R)&&(ay(_,g,R),oy(_,R,g)),null!==f&&uy(g,R),vg}function Ay(){let o=Yi();Tc()?na():(o=o.parent,Ks(o,!1));const a=o;!function l_(){Zt.lFrame.elementDepthCount--}();const l=kn();return l.firstCreatePass&&(th(l,o),Ro(o)&&l.queries.elementEnd(o)),null!=a.classesWithoutHost&&function y_(o){return 0!=(8&o.flags)}(a)&&UE(l,a,Ye(),a.classesWithoutHost,!0),null!=a.stylesWithoutHost&&function Np(o){return 0!=(16&o.flags)}(a)&&UE(l,a,Ye(),a.stylesWithoutHost,!1),Ay}function xy(o,a,l,f){return vg(o,a,l,f),Ay(),xy}function VE(o,a,l){const f=Ye(),g=kn(),_=o+22,b=g.firstCreatePass?function Vk(o,a,l,f,g){const _=a.consts,b=Ki(_,f),T=od(a,o,8,"ng-container",b);return null!==b&&Ul(T,b,!0),us(a,l,T,Ki(_,g)),null!==a.queries&&a.queries.elementStart(a,T),T}(_,g,f,a,l):g.data[_];Ks(b,!0);const T=f[_]=f[11].createComment("");return j_(g,f,T,b),S(T,f),ka(b)&&(ay(g,f,b),oy(g,b,f)),null!=l&&uy(f,b),VE}function Yh(){let o=Yi();const a=kn();return Tc()?na():(o=o.parent,Ks(o,!1)),a.firstCreatePass&&(th(a,o),Ro(o)&&a.queries.elementEnd(o)),Yh}function jE(){return Ye()}function Ny(o){return!!o&&"function"==typeof o.then}function jl(o){return!!o&&"function"==typeof o.subscribe}const GS=jl;function My(o,a,l,f){const g=Ye(),_=kn(),b=Yi();return function qS(o,a,l,f,g,_,b){const T=ka(f),R=o.firstCreatePass&&MS(o),F=a[8],K=hy(a);let oe=!0;if(3&f.type||b){const at=$n(f,a),vt=b?b(at):at,Mt=K.length,Xt=b?ln=>b(Ge(ln[f.index])):f.index;let et=null;if(!b&&T&&(et=function zS(o,a,l,f){const g=o.cleanup;if(null!=g)for(let _=0;_<g.length-1;_+=2){const b=g[_];if(b===l&&g[_+1]===f){const T=a[7],N=g[_+2];return T.length>N?T[N]:null}"string"==typeof b&&(_+=2)}return null}(o,a,g,f.index)),null!==et)(et.__ngLastListenerFn__||et).__ngNextListenerFn__=_,et.__ngLastListenerFn__=_,oe=!1;else{_=Qh(f,a,F,_,!1);const ln=l.listen(vt,g,_);K.push(_,ln),R&&R.push(g,Xt,Mt,Mt+1)}}else _=Qh(f,a,F,_,!1);const Ee=f.outputs;let $e;if(oe&&null!==Ee&&($e=Ee[g])){const at=$e.length;if(at)for(let vt=0;vt<at;vt+=2){const Kr=a[$e[vt]][$e[vt+1]].subscribe(_),pi=K.length;K.push(_,Kr),R&&R.push(g,f.index,pi,-(pi+1))}}}(_,g,g[11],b,o,a,f),My}function ZS(o,a,l,f){try{return!1!==l(f)}catch(g){return SE(o,g),!1}}function Qh(o,a,l,f,g){return function _(b){if(b===Function)return f;Hh(o.componentOffset>-1?Wr(o.index,a):a);let N=ZS(a,0,f,b),R=_.__ngNextListenerFn__;for(;R;)N=ZS(a,0,R,b)&&N,R=R.__ngNextListenerFn__;return g&&!1===N&&(b.preventDefault(),b.returnValue=!1),N}}function $E(o=1){return function nT(o){return(Zt.lFrame.contextLView=function rT(o,a){for(;o>0;)a=a[15],o--;return a}(o,Zt.lFrame.contextLView))[8]}(o)}function Ry(o,a,l){return ky(o,"",a,"",l),Ry}function ky(o,a,l,f,g){const _=Ye(),b=Wh(_,a,l,f);return b!==gn&&vs(kn(),fr(),_,o,b,_[11],g,!1),ky}function wg(o,a){return o<<17|a<<2}function Gu(o){return o>>17&32767}function Oy(o){return 2|o}function $l(o){return(131068&o)>>2}function JS(o,a){return-131069&o|a<<2}function XS(o){return 1|o}function eA(o,a,l,f,g){const _=o[l+1],b=null===a;let T=f?Gu(_):$l(_),N=!1;for(;0!==T&&(!1===N||b);){const F=o[T+1];tA(o[T],a)&&(N=!0,o[T+1]=f?XS(F):Oy(F)),T=f?Gu(F):$l(F)}N&&(o[l+1]=f?Oy(_):XS(_))}function tA(o,a){return null===o||null==a||(Array.isArray(o)?o[1]:o)===a||!(!Array.isArray(o)||"string"!=typeof a)&&Va(o,a)>=0}const si={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function _n(o){return o.substring(si.key,si.keyEnd)}function qE(o,a){const l=si.textEnd;return l===a?-1:(a=si.keyEnd=function o3(o,a,l){for(;a<l&&o.charCodeAt(a)>32;)a++;return a}(o,si.key=a,l),pd(o,a,l))}function pd(o,a,l){for(;a<l&&o.charCodeAt(a)<=32;)a++;return a}function KE(o,a){return function qa(o,a,l,f){const g=Ye(),_=kn(),b=ra(2);_.firstUpdatePass&&ke(_,o,b,f),a!==gn&&ws(g,b,a)&&bg(_,_.data[ms()],g,g[11],o,g[b+1]=function eO(o,a){return null==o||("string"==typeof a?o+=a:"object"==typeof o&&(o=be(Fu(o)))),o}(a,l),f,b)}(o,a,null,!0),KE}function Yk(o){!function Za(o,a,l,f){const g=kn(),_=ra(2);g.firstUpdatePass&&ke(g,null,_,f);const b=Ye();if(l!==gn&&ws(b,_,l)){const T=g.data[ms()];if(iA(T,f)&&!Qk(g,_)){let N=f?T.classesWithoutHost:T.stylesWithoutHost;null!==N&&(l=ge(N,l||"")),UE(g,T,b,l,f)}else!function Xk(o,a,l,f,g,_,b,T){g===gn&&(g=Ze);let N=0,R=0,F=0<g.length?g[0]:null,K=0<_.length?_[0]:null;for(;null!==F||null!==K;){const oe=N<g.length?g[N+1]:void 0,Ee=R<_.length?_[R+1]:void 0;let at,$e=null;F===K?(N+=2,R+=2,oe!==Ee&&($e=K,at=Ee)):null===K||null!==F&&F<K?(N+=2,$e=F):(R+=2,$e=K,at=Ee),null!==$e&&bg(o,a,l,f,$e,at,b,T),F=N<g.length?g[N]:null,K=R<_.length?_[R]:null}}(g,T,b,b[11],b[_+1],b[_+1]=function Jk(o,a,l){if(null==l||""===l)return Ze;const f=[],g=Fu(l);if(Array.isArray(g))for(let _=0;_<g.length;_++)o(f,g[_],!0);else if("object"==typeof g)for(const _ in g)g.hasOwnProperty(_)&&o(f,_,g[_]);else"string"==typeof g&&a(f,g);return f}(o,a,l),f,_)}}(_s,za,o,!0)}function za(o,a){for(let l=function zE(o){return function Jh(o){si.key=0,si.keyEnd=0,si.value=0,si.valueEnd=0,si.textEnd=o.length}(o),qE(o,pd(o,0,si.textEnd))}(a);l>=0;l=qE(a,l))_s(o,_n(a),!0)}function Qk(o,a){return a>=o.expandoStartIndex}function ke(o,a,l,f){const g=o.data;if(null===g[l+1]){const _=g[ms()],b=Qk(o,l);iA(_,f)&&null===a&&!b&&(a=!1),a=function eo(o,a,l,f){const g=function _w(o){const a=Zt.lFrame.currentDirectiveIndex;return-1===a?null:o[a]}(o);let _=f?a.residualClasses:a.residualStyles;if(null===g)0===(f?a.classBindings:a.styleBindings)&&(l=Xh(l=Eg(null,o,a,l,f),a.attrs,f),_=null);else{const b=a.directiveStylingLast;if(-1===b||o[b]!==g)if(l=Eg(g,o,a,l,f),null===_){let N=function zu(o,a,l){const f=l?a.classBindings:a.styleBindings;if(0!==$l(f))return o[Gu(f)]}(o,a,f);void 0!==N&&Array.isArray(N)&&(N=Eg(null,o,a,N[1],f),N=Xh(N,a.attrs,f),function q(o,a,l,f){o[Gu(l?a.classBindings:a.styleBindings)]=f}(o,a,f,N))}else _=function da(o,a,l){let f;const g=a.directiveEnd;for(let _=1+a.directiveStylingLast;_<g;_++)f=Xh(f,o[_].hostAttrs,l);return Xh(f,a.attrs,l)}(o,a,f)}return void 0!==_&&(f?a.residualClasses=_:a.residualStyles=_),l}(g,_,a,f),function fd(o,a,l,f,g,_){let b=_?a.classBindings:a.styleBindings,T=Gu(b),N=$l(b);o[f]=l;let F,R=!1;if(Array.isArray(l)){const K=l;F=K[1],(null===F||Va(K,F)>0)&&(R=!0)}else F=l;if(g)if(0!==N){const oe=Gu(o[T+1]);o[f+1]=wg(oe,T),0!==oe&&(o[oe+1]=JS(o[oe+1],f)),o[T+1]=function i3(o,a){return 131071&o|a<<17}(o[T+1],f)}else o[f+1]=wg(T,0),0!==T&&(o[T+1]=JS(o[T+1],f)),T=f;else o[f+1]=wg(N,0),0===T?T=f:o[N+1]=JS(o[N+1],f),N=f;R&&(o[f+1]=Oy(o[f+1])),eA(o,F,f,!0),eA(o,F,f,!1),function zk(o,a,l,f,g){const _=g?o.residualClasses:o.residualStyles;null!=_&&"string"==typeof a&&Va(_,a)>=0&&(l[f+1]=XS(l[f+1]))}(a,F,o,f,_),b=wg(T,N),_?a.classBindings=b:a.styleBindings=b}(g,_,a,l,b,f)}}function Eg(o,a,l,f,g){let _=null;const b=l.directiveEnd;let T=l.directiveStylingLast;for(-1===T?T=l.directiveStart:T++;T<b&&(_=a[T],f=Xh(f,_.hostAttrs,g),_!==o);)T++;return null!==o&&(l.directiveStylingLast=T),f}function Xh(o,a,l){const f=l?1:2;let g=-1;if(null!==a)for(let _=0;_<a.length;_++){const b=a[_];"number"==typeof b?g=b:g===f&&(Array.isArray(o)||(o=void 0===o?[]:["",o]),_s(o,b,!!l||a[++_]))}return void 0===o?null:o}function bg(o,a,l,f,g,_,b,T){if(!(3&a.type))return;const N=o.data,R=N[T+1],F=function s3(o){return 1==(1&o)}(R)?Ly(N,a,l,g,$l(R),b):void 0;Fy(F)||(Fy(_)||function r3(o){return 2==(2&o)}(R)&&(_=Ly(N,null,l,g,T,b)),function ET(o,a,l,f,g){if(a)g?o.addClass(l,f):o.removeClass(l,f);else{let _=-1===f.indexOf("-")?void 0:mr.DashCase;null==g?o.removeStyle(l,f,_):("string"==typeof g&&g.endsWith("!important")&&(g=g.slice(0,-10),_|=mr.Important),o.setStyle(l,f,g,_))}}(f,b,hn(ms(),l),g,_))}function Ly(o,a,l,f,g,_){const b=null===a;let T;for(;g>0;){const N=o[g],R=Array.isArray(N),F=R?N[1]:N,K=null===F;let oe=l[g+1];oe===gn&&(oe=K?Ze:void 0);let Ee=K?fh(oe,f):F===f?oe:void 0;if(R&&!Fy(Ee)&&(Ee=fh(N,f)),Fy(Ee)&&(T=Ee,b))return T;const $e=o[g+1];g=b?Gu($e):$l($e)}if(null!==a){let N=_?a.residualClasses:a.residualStyles;null!=N&&(T=fh(N,f))}return T}function Fy(o){return void 0!==o}function iA(o,a){return 0!=(o.flags&(a?8:16))}function YE(o,a=""){const l=Ye(),f=kn(),g=o+22,_=f.firstCreatePass?od(f,g,1,a,null):f.data[g],b=l[g]=function Lw(o,a){return o.createText(a)}(l[11],a);j_(f,l,b,_),Ks(_,!1)}function QE(o){return Uy("",o,""),QE}function Uy(o,a,l){const f=Ye(),g=Wh(f,o,a,l);return g!==gn&&Vo(f,ms(),g),Uy}function JE(o,a,l,f,g){const _=Ye(),b=cd(_,o,a,l,f,g);return b!==gn&&Vo(_,ms(),b),JE}const gd=void 0;var zy=["en",[["a","p"],["AM","PM"],gd],[["AM","PM"],gd,gd],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],gd,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],gd,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",gd,"{1} 'at' {0}",gd],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function cO(o){const l=Math.floor(Math.abs(o)),f=o.toString().replace(/^[^.]*\.?/,"").length;return 1===l&&0===f?1:5}];let Gl={};function Tg(o){const a=function hO(o){return o.toLowerCase().replace(/_/g,"-")}(o);let l=ob(a);if(l)return l;const f=a.split("-")[0];if(l=ob(f),l)return l;if("en"===f)return zy;throw new X(701,!1)}function pA(o){return Tg(o)[Qt.PluralCase]}function ob(o){return o in Gl||(Gl[o]=bn.ng&&bn.ng.common&&bn.ng.common.locales&&bn.ng.common.locales[o]),Gl[o]}var Qt=(()=>((Qt=Qt||{})[Qt.LocaleId=0]="LocaleId",Qt[Qt.DayPeriodsFormat=1]="DayPeriodsFormat",Qt[Qt.DayPeriodsStandalone=2]="DayPeriodsStandalone",Qt[Qt.DaysFormat=3]="DaysFormat",Qt[Qt.DaysStandalone=4]="DaysStandalone",Qt[Qt.MonthsFormat=5]="MonthsFormat",Qt[Qt.MonthsStandalone=6]="MonthsStandalone",Qt[Qt.Eras=7]="Eras",Qt[Qt.FirstDayOfWeek=8]="FirstDayOfWeek",Qt[Qt.WeekendRange=9]="WeekendRange",Qt[Qt.DateFormat=10]="DateFormat",Qt[Qt.TimeFormat=11]="TimeFormat",Qt[Qt.DateTimeFormat=12]="DateTimeFormat",Qt[Qt.NumberSymbols=13]="NumberSymbols",Qt[Qt.NumberFormats=14]="NumberFormats",Qt[Qt.CurrencyCode=15]="CurrencyCode",Qt[Qt.CurrencySymbol=16]="CurrencySymbol",Qt[Qt.CurrencyName=17]="CurrencyName",Qt[Qt.Currencies=18]="Currencies",Qt[Qt.Directionality=19]="Directionality",Qt[Qt.PluralCase=20]="PluralCase",Qt[Qt.ExtraData=21]="ExtraData",Qt))();const tf="en-US";let Ag=tf;function Eb(o,a,l,f,g){if(o=ce(o),Array.isArray(o))for(let _=0;_<o.length;_++)Eb(o[_],a,l,f,g);else{const _=kn(),b=Ye();let T=Jc(o)?o:ce(o.provide),N=WT(o);const R=Yi(),F=1048575&R.providerIndexes,K=R.directiveStart,oe=R.providerIndexes>>20;if(Jc(o)||!o.multi){const Ee=new Ms(N,g,ho),$e=kg(T,a,g?F:F+oe,K);-1===$e?(kp(Mp(R,b),_,T),bb(_,o,a.length),a.push(T),R.directiveStart++,R.directiveEnd++,g&&(R.providerIndexes+=1048576),l.push(Ee),b.push(Ee)):(l[$e]=Ee,b[$e]=Ee)}else{const Ee=kg(T,a,F+oe,K),$e=kg(T,a,F,F+oe),at=Ee>=0&&l[Ee],vt=$e>=0&&l[$e];if(g&&!vt||!g&&!at){kp(Mp(R,b),_,T);const Mt=function b3(o,a,l,f,g){const _=new Ms(o,l,ho);return _.multi=[],_.index=a,_.componentProviders=0,GO(_,g,f&&!l),_}(g?zO:WO,l.length,g,f,N);!g&&vt&&(l[$e].providerFactory=Mt),bb(_,o,a.length,0),a.push(T),R.directiveStart++,R.directiveEnd++,g&&(R.providerIndexes+=1048576),l.push(Mt),b.push(Mt)}else bb(_,o,Ee>-1?Ee:$e,GO(l[g?$e:Ee],N,!g&&f));!g&&f&&vt&&l[$e].componentProviders++}}}function bb(o,a,l,f){const g=Jc(a),_=function GR(o){return!!o.useClass}(a);if(g||_){const N=(_?ce(a.useClass):a).prototype.ngOnDestroy;if(N){const R=o.destroyHooks||(o.destroyHooks=[]);if(!g&&a.multi){const F=R.indexOf(l);-1===F?R.push(l,[f,N]):R[F+1].push(f,N)}else R.push(l,N)}}}function GO(o,a,l){return l&&o.componentProviders++,o.multi.push(a)-1}function kg(o,a,l,f){for(let g=l;g<f;g++)if(a[g]===o)return g;return-1}function WO(o,a,l,f){return NA(this.multi,[])}function zO(o,a,l,f){const g=this.multi;let _;if(this.providerFactory){const b=this.providerFactory.componentProviders,T=Il(l,l[1],this.providerFactory.index,f);_=T.slice(0,b),NA(g,_);for(let N=b;N<T.length;N++)_.push(T[N])}else _=[],NA(g,_);return _}function NA(o,a){for(let l=0;l<o.length;l++)a.push((0,o[l])());return a}function MA(o,a=[]){return l=>{l.providersResolver=(f,g)=>function wb(o,a,l){const f=kn();if(f.firstCreatePass){const g=Li(o);Eb(l,f.data,f.blueprint,g,!0),Eb(a,f.data,f.blueprint,g,!1)}}(f,g?g(o):o,a)}}class Og{}class RA{}function qO(o,a){return new kA(o,a??null)}class kA extends Og{constructor(a,l){super(),this._parent=l,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new xk(this);const f=hr(a);this._bootstrapComponents=Uu(f.bootstrap),this._r3Injector=hS(a,l,[{provide:Og,useValue:this},{provide:sg,useValue:this.componentFactoryResolver}],be(a),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(a)}get injector(){return this._r3Injector}destroy(){const a=this._r3Injector;!a.destroyed&&a.destroy(),this.destroyCbs.forEach(l=>l()),this.destroyCbs=null}onDestroy(a){this.destroyCbs.push(a)}}class Ib extends RA{constructor(a){super(),this.moduleType=a}create(a){return new kA(this.moduleType,a)}}class ZO extends Og{constructor(a,l,f){super(),this.componentFactoryResolver=new xk(this),this.instance=null;const g=new Ph([...a,{provide:Og,useValue:this},{provide:sg,useValue:this.componentFactoryResolver}],l||Xc(),f,new Set(["environment"]));this.injector=g,g.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(a){this.injector.onDestroy(a)}}function Cb(o,a,l=null){return new ZO(o,a,l).injector}let KO=(()=>{class o{constructor(l){this._injector=l,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(l){if(!l.standalone)return null;if(!this.cachedInjectors.has(l.id)){const f=BT(0,l.type),g=f.length>0?Cb([f],this._injector,`Standalone[${l.type.name}]`):null;this.cachedInjectors.set(l.id,g)}return this.cachedInjectors.get(l.id)}ngOnDestroy(){try{for(const l of this.cachedInjectors.values())null!==l&&l.destroy()}finally{this.cachedInjectors.clear()}}}return o.\u0275prov=kt({token:o,providedIn:"environment",factory:()=>new o(Xe(Pl))}),o})();function OA(o){o.getStandaloneInjector=a=>a.get(KO).getOrCreateStandaloneInjector(o)}function Xy(o,a,l){const f=Qi()+o,g=Ye();return g[f]===gn?Hu(g,f,l?a.call(l):a()):function Ey(o,a){return o[a]}(g,f)}function BA(o,a,l,f,g){return Nb(Ye(),Qi(),o,a,l,f,g)}function qu(o,a){const l=o[a];return l===gn?void 0:l}function Nb(o,a,l,f,g,_,b){const T=a+l;return Bl(o,T,g,_)?Hu(o,T+2,b?f.call(b,g,_):f(g,_)):qu(o,T+2)}function ev(o,a){const l=kn();let f;const g=o+22;l.firstCreatePass?(f=function Ka(o,a){if(a)for(let l=a.length-1;l>=0;l--){const f=a[l];if(o===f.name)return f}}(a,l.pipeRegistry),l.data[g]=f,f.onDestroy&&(l.destroyHooks||(l.destroyHooks=[])).push(g,f.onDestroy)):f=l.data[g];const _=f.factory||(f.factory=Ns(f.type)),b=Yn(ho);try{const T=sh(!1),N=_();return sh(T),function Dy(o,a,l,f){l>=o.data.length&&(o.data[l]=null,o.blueprint[l]=null),a[l]=f}(l,Ye(),g,N),N}finally{Yn(b)}}function GA(o,a,l){const f=o+22,g=Ye(),_=Kt(g,f);return ha(g,f)?function Wl(o,a,l,f,g,_){const b=a+l;return ws(o,b,g)?Hu(o,b+1,_?f.call(_,g):f(g)):qu(o,b+1)}(g,Qi(),a,_.transform,l,_):_.transform(l)}function Lg(o,a,l,f){const g=o+22,_=Ye(),b=Kt(_,g);return ha(_,g)?Nb(_,Qi(),a,b.transform,l,f,b):b.transform(l,f)}function ha(o,a){return o[1].data[a].pure}function vd(o){return a=>{setTimeout(o,void 0,a)}}const Bo=class nP extends O.x{constructor(a=!1){super(),this.__isAsync=a}emit(a){super.next(a)}subscribe(a,l,f){let g=a,_=l||(()=>null),b=f;if(a&&"object"==typeof a){const N=a;g=N.next?.bind(N),_=N.error?.bind(N),b=N.complete?.bind(N)}this.__isAsync&&(_=vd(_),g&&(g=vd(g)),b&&(b=vd(b)));const T=super.subscribe({next:g,error:_,complete:b});return a instanceof h.w0&&a.add(T),T}};function WA(){return this._results[Vl()]()}class Ci{constructor(a=!1){this._emitDistinctChangesOnly=a,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const l=Vl(),f=Ci.prototype;f[l]||(f[l]=WA)}get changes(){return this._changes||(this._changes=new Bo)}get(a){return this._results[a]}map(a){return this._results.map(a)}filter(a){return this._results.filter(a)}find(a){return this._results.find(a)}reduce(a,l){return this._results.reduce(a,l)}forEach(a){this._results.forEach(a)}some(a){return this._results.some(a)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(a,l){const f=this;f.dirty=!1;const g=Qs(a);(this._changesDetected=!function Up(o,a,l){if(o.length!==a.length)return!1;for(let f=0;f<o.length;f++){let g=o[f],_=a[f];if(l&&(g=l(g),_=l(_)),_!==g)return!1}return!0}(f._results,g,l))&&(f._results=g,f.length=g.length,f.last=g[this.length-1],f.first=g[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let cf=(()=>{class o{}return o.__NG_ELEMENT_ID__=sP,o})();const rP=cf,iP=class extends rP{constructor(a,l,f){super(),this._declarationLView=a,this._declarationTContainer=l,this.elementRef=f}createEmbeddedView(a,l){const f=this._declarationTContainer.tViews,g=lg(this._declarationLView,f,a,16,null,f.declTNode,null,null,null,null,l||null);g[17]=this._declarationLView[this._declarationTContainer.index];const b=this._declarationLView[19];return null!==b&&(g[19]=b.createEmbeddedView(f)),sy(f,g,a),new py(g)}};function sP(){return tv(Yi(),Ye())}function tv(o,a){return 4&o.type?new iP(a,o,ed(o,a)):null}let Fg=(()=>{class o{}return o.__NG_ELEMENT_ID__=Rb,o})();function Rb(){return qA(Yi(),Ye())}const nv=Fg,wd=class extends nv{constructor(a,l,f){super(),this._lContainer=a,this._hostTNode=l,this._hostLView=f}get element(){return ed(this._hostTNode,this._hostLView)}get injector(){return new Cl(this._hostTNode,this._hostLView)}get parentInjector(){const a=uh(this._hostTNode,this._hostLView);if(Tu(a)){const l=El(a,this._hostLView),f=rh(a);return new Cl(l[1].data[f+8],l)}return new Cl(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(a){const l=zA(this._lContainer);return null!==l&&l[a]||null}get length(){return this._lContainer.length-10}createEmbeddedView(a,l,f){let g,_;"number"==typeof f?g=f:null!=f&&(g=f.index,_=f.injector);const b=a.createEmbeddedView(l||{},_);return this.insert(b,g),b}createComponent(a,l,f,g,_){const b=a&&!function Sl(o){return"function"==typeof o}(a);let T;if(b)T=l;else{const K=l||{};T=K.index,f=K.injector,g=K.projectableNodes,_=K.environmentInjector||K.ngModuleRef}const N=b?a:new $u(Pt(a)),R=f||this.parentInjector;if(!_&&null==N.ngModule){const oe=(b?R:this.parentInjector).get(Pl,null);oe&&(_=oe)}const F=N.create(R,g,void 0,_);return this.insert(F.hostView,T),F}insert(a,l){const f=a._lView,g=f[1];if(function La(o){return gs(o[3])}(f)){const F=this.indexOf(a);if(-1!==F)this.detach(F);else{const K=f[3],oe=new wd(K,K[6],K[3]);oe.detach(oe.indexOf(a))}}const _=this._adjustIndex(l),b=this._lContainer;!function Zp(o,a,l,f){const g=10+f,_=l.length;f>0&&(l[g-1][4]=a),f<_-10?(a[4]=l[g],Oo(l,10+f,a)):(l.push(a),a[4]=null),a[3]=l;const b=a[17];null!==b&&l!==b&&function Ch(o,a){const l=o[9];a[16]!==a[3][3][16]&&(o[2]=!0),null===l?o[9]=[a]:l.push(a)}(b,a);const T=a[19];null!==T&&T.insertView(o),a[2]|=64}(g,f,b,_);const T=Hw(_,b),N=f[11],R=Kp(N,b[7]);return null!==R&&function IR(o,a,l,f,g,_){f[0]=g,f[6]=a,Yp(o,f,l,1,g,_)}(g,b[6],N,f,R,T),a.attachToViewContainerRef(),Oo(Ed(b),_,a),a}move(a,l){return this.insert(a,l)}indexOf(a){const l=zA(this._lContainer);return null!==l?l.indexOf(a):-1}remove(a){const l=this._adjustIndex(a,-1),f=V_(this._lContainer,l);f&&(Dt(Ed(this._lContainer),l),Vw(f[1],f))}detach(a){const l=this._adjustIndex(a,-1),f=V_(this._lContainer,l);return f&&null!=Dt(Ed(this._lContainer),l)?new py(f):null}_adjustIndex(a,l=0){return a??this.length+l}};function zA(o){return o[8]}function Ed(o){return o[8]||(o[8]=[])}function qA(o,a){let l;const f=a[o.index];if(gs(f))l=f;else{let g;if(8&o.type)g=Ge(f);else{const _=a[11];g=_.createComment("");const b=$n(o,a);Pu(_,Kp(_,b),g,function yT(o,a){return o.nextSibling(a)}(_,b),!1)}a[o.index]=l=Dk(f,a,g,o),Fl(a,l)}return new wd(l,o,a)}class rv{constructor(a){this.queryList=a,this.matches=null}clone(){return new rv(this.queryList)}setDirty(){this.queryList.setDirty()}}class iv{constructor(a=[]){this.queries=a}createEmbeddedView(a){const l=a.queries;if(null!==l){const f=null!==a.contentQueries?a.contentQueries[0]:l.length,g=[];for(let _=0;_<f;_++){const b=l.getByIndex(_);g.push(this.queries[b.indexInDeclarationView].clone())}return new iv(g)}return null}insertView(a){this.dirtyQueriesWithMatches(a)}detachView(a){this.dirtyQueriesWithMatches(a)}dirtyQueriesWithMatches(a){for(let l=0;l<this.queries.length;l++)null!==Vb(a,l).matches&&this.queries[l].setDirty()}}class Ob{constructor(a,l,f=null){this.predicate=a,this.flags=l,this.read=f}}class sv{constructor(a=[]){this.queries=a}elementStart(a,l){for(let f=0;f<this.queries.length;f++)this.queries[f].elementStart(a,l)}elementEnd(a){for(let l=0;l<this.queries.length;l++)this.queries[l].elementEnd(a)}embeddedTView(a){let l=null;for(let f=0;f<this.length;f++){const g=null!==l?l.length:0,_=this.getByIndex(f).embeddedTView(a,g);_&&(_.indexInDeclarationView=f,null!==l?l.push(_):l=[_])}return null!==l?new sv(l):null}template(a,l){for(let f=0;f<this.queries.length;f++)this.queries[f].template(a,l)}getByIndex(a){return this.queries[a]}get length(){return this.queries.length}track(a){this.queries.push(a)}}class ov{constructor(a,l=-1){this.metadata=a,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=l}elementStart(a,l){this.isApplyingToNode(l)&&this.matchTNode(a,l)}elementEnd(a){this._declarationNodeIndex===a.index&&(this._appliesToNextNode=!1)}template(a,l){this.elementStart(a,l)}embeddedTView(a,l){return this.isApplyingToNode(a)?(this.crossesNgTemplate=!0,this.addMatch(-a.index,l),new ov(this.metadata)):null}isApplyingToNode(a){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const l=this._declarationNodeIndex;let f=a.parent;for(;null!==f&&8&f.type&&f.index!==l;)f=f.parent;return l===(null!==f?f.index:-1)}return this._appliesToNextNode}matchTNode(a,l){const f=this.metadata.predicate;if(Array.isArray(f))for(let g=0;g<f.length;g++){const _=f[g];this.matchTNodeWithReadOption(a,l,ZA(l,_)),this.matchTNodeWithReadOption(a,l,kc(l,a,_,!1,!1))}else f===cf?4&l.type&&this.matchTNodeWithReadOption(a,l,-1):this.matchTNodeWithReadOption(a,l,kc(l,a,f,!1,!1))}matchTNodeWithReadOption(a,l,f){if(null!==f){const g=this.metadata.read;if(null!==g)if(g===ty||g===Fg||g===cf&&4&l.type)this.addMatch(l.index,-2);else{const _=kc(l,a,g,!1,!1);null!==_&&this.addMatch(l.index,_)}else this.addMatch(l.index,f)}}addMatch(a,l){null===this.matches?this.matches=[a,l]:this.matches.push(a,l)}}function ZA(o,a){const l=o.localNames;if(null!==l)for(let f=0;f<l.length;f+=2)if(l[f]===a)return l[f+1];return null}function Pb(o,a,l,f){return-1===l?function KA(o,a){return 11&o.type?ed(o,a):4&o.type?tv(o,a):null}(a,o):-2===l?function YA(o,a,l){return l===ty?ed(a,o):l===cf?tv(a,o):l===Fg?qA(a,o):void 0}(o,a,f):Il(o,o[1],l,a)}function Lb(o,a,l,f){const g=a[19].queries[f];if(null===g.matches){const _=o.data,b=l.matches,T=[];for(let N=0;N<b.length;N+=2){const R=b[N];T.push(R<0?null:Pb(a,_[R],b[N+1],l.metadata.read))}g.matches=T}return g.matches}function Vg(o,a,l,f){const g=o.queries.getByIndex(l),_=g.matches;if(null!==_){const b=Lb(o,a,g,l);for(let T=0;T<_.length;T+=2){const N=_[T];if(N>0)f.push(b[T/2]);else{const R=_[T+1],F=a[-N];for(let K=10;K<F.length;K++){const oe=F[K];oe[17]===oe[3]&&Vg(oe[1],oe,R,f)}if(null!==F[9]){const K=F[9];for(let oe=0;oe<K.length;oe++){const Ee=K[oe];Vg(Ee[1],Ee,R,f)}}}}}return f}function QA(o){const a=Ye(),l=kn(),f=yw();Sp(f+1);const g=Vb(l,f);if(o.dirty&&function Pa(o){return 4==(4&o[2])}(a)===(2==(2&g.metadata.flags))){if(null===g.matches)o.reset([]);else{const _=g.crossesNgTemplate?Vg(l,a,f,[]):Lb(l,a,g,f);o.reset(_,QT),o.notifyOnChanges()}return!0}return!1}function Fb(o,a,l){const f=kn();f.firstCreatePass&&(XA(f,new Ob(o,a,l),-1),2==(2&a)&&(f.staticViewQueries=!0)),uv(f,Ye(),a)}function JA(o,a,l,f){const g=kn();if(g.firstCreatePass){const _=Yi();XA(g,new Ob(a,l,f),_.index),function aP(o,a){const l=o.contentQueries||(o.contentQueries=[]);a!==(l.length?l[l.length-1]:-1)&&l.push(o.queries.length-1,a)}(g,o),2==(2&l)&&(g.staticContentQueries=!0)}uv(g,Ye(),l)}function av(){return function Ub(o,a){return o[19].queries[a].queryList}(Ye(),yw())}function uv(o,a,l){const f=new Ci(4==(4&l));_E(o,a,f,f.destroy),null===a[19]&&(a[19]=new iv),a[19].queries.push(new rv(f))}function XA(o,a,l){null===o.queries&&(o.queries=new sv),o.queries.track(new ov(a,l))}function Vb(o,a){return o.queries.getByIndex(a)}function Gg(...o){}const dv=new ur("Application Initializer");let Zl=(()=>{class o{constructor(l){this.appInits=l,this.resolve=Gg,this.reject=Gg,this.initialized=!1,this.done=!1,this.donePromise=new Promise((f,g)=>{this.resolve=f,this.reject=g})}runInitializers(){if(this.initialized)return;const l=[],f=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let g=0;g<this.appInits.length;g++){const _=this.appInits[g]();if(Ny(_))l.push(_);else if(GS(_)){const b=new Promise((T,N)=>{_.subscribe({complete:T,error:N})});l.push(b)}}Promise.all(l).then(()=>{f()}).catch(g=>{this.reject(g)}),0===l.length&&f(),this.initialized=!0}}return o.\u0275fac=function(l){return new(l||o)(Xe(dv,8))},o.\u0275prov=kt({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();const v1=new ur("AppId",{providedIn:"root",factory:function Wb(){return`${zb()}${zb()}${zb()}`}});function zb(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const w1=new ur("Platform Initializer"),E1=new ur("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Kl=new ur("appBootstrapListener");let hv=(()=>{class o{log(l){console.log(l)}warn(l){console.warn(l)}}return o.\u0275fac=function(l){return new(l||o)},o.\u0275prov=kt({token:o,factory:o.\u0275fac,providedIn:"platform"}),o})();const po=new ur("LocaleId",{providedIn:"root",factory:()=>pt(po,It.Optional|It.SkipSelf)||function b1(){return typeof $localize<"u"&&$localize.locale||tf}()}),fv=new ur("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class wP{constructor(a,l){this.ngModuleFactory=a,this.componentFactories=l}}let Zb=(()=>{class o{compileModuleSync(l){return new Ib(l)}compileModuleAsync(l){return Promise.resolve(this.compileModuleSync(l))}compileModuleAndAllComponentsSync(l){const f=this.compileModuleSync(l),_=Uu(hr(l).declarations).reduce((b,T)=>{const N=Pt(T);return N&&b.push(new $u(N)),b},[]);return new wP(f,_)}compileModuleAndAllComponentsAsync(l){return Promise.resolve(this.compileModuleAndAllComponentsSync(l))}clearCache(){}clearCacheFor(l){}getModuleId(l){}}return o.\u0275fac=function(l){return new(l||o)},o.\u0275prov=kt({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();const C1=(()=>Promise.resolve(0))();function Jb(o){typeof Zone>"u"?C1.then(()=>{o&&o.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",o)}class Vn{constructor({enableLongStackTrace:a=!1,shouldCoalesceEventChangeDetection:l=!1,shouldCoalesceRunChangeDetection:f=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Bo(!1),this.onMicrotaskEmpty=new Bo(!1),this.onStable=new Bo(!1),this.onError=new Bo(!1),typeof Zone>"u")throw new X(908,!1);Zone.assertZonePatched();const g=this;g._nesting=0,g._outer=g._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(g._inner=g._inner.fork(new Zone.TaskTrackingZoneSpec)),a&&Zone.longStackTraceZoneSpec&&(g._inner=g._inner.fork(Zone.longStackTraceZoneSpec)),g.shouldCoalesceEventChangeDetection=!f&&l,g.shouldCoalesceRunChangeDetection=f,g.lastRequestAnimationFrameId=-1,g.nativeRequestAnimationFrame=function EP(){let o=bn.requestAnimationFrame,a=bn.cancelAnimationFrame;if(typeof Zone<"u"&&o&&a){const l=o[Zone.__symbol__("OriginalDelegate")];l&&(o=l);const f=a[Zone.__symbol__("OriginalDelegate")];f&&(a=f)}return{nativeRequestAnimationFrame:o,nativeCancelAnimationFrame:a}}().nativeRequestAnimationFrame,function eI(o){const a=()=>{!function pv(o){o.isCheckStableRunning||-1!==o.lastRequestAnimationFrameId||(o.lastRequestAnimationFrameId=o.nativeRequestAnimationFrame.call(bn,()=>{o.fakeTopEventTask||(o.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{o.lastRequestAnimationFrameId=-1,Yl(o),o.isCheckStableRunning=!0,Xb(o),o.isCheckStableRunning=!1},void 0,()=>{},()=>{})),o.fakeTopEventTask.invoke()}),Yl(o))}(o)};o._inner=o._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(l,f,g,_,b,T)=>{try{return Ja(o),l.invokeTask(g,_,b,T)}finally{(o.shouldCoalesceEventChangeDetection&&"eventTask"===_.type||o.shouldCoalesceRunChangeDetection)&&a(),pf(o)}},onInvoke:(l,f,g,_,b,T,N)=>{try{return Ja(o),l.invoke(g,_,b,T,N)}finally{o.shouldCoalesceRunChangeDetection&&a(),pf(o)}},onHasTask:(l,f,g,_)=>{l.hasTask(g,_),f===g&&("microTask"==_.change?(o._hasPendingMicrotasks=_.microTask,Yl(o),Xb(o)):"macroTask"==_.change&&(o.hasPendingMacrotasks=_.macroTask))},onHandleError:(l,f,g,_)=>(l.handleError(g,_),o.runOutsideAngular(()=>o.onError.emit(_)),!1)})}(g)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Vn.isInAngularZone())throw new X(909,!1)}static assertNotInAngularZone(){if(Vn.isInAngularZone())throw new X(909,!1)}run(a,l,f){return this._inner.run(a,l,f)}runTask(a,l,f,g){const _=this._inner,b=_.scheduleEventTask("NgZoneEvent: "+g,a,bP,Gg,Gg);try{return _.runTask(b,l,f)}finally{_.cancelTask(b)}}runGuarded(a,l,f){return this._inner.runGuarded(a,l,f)}runOutsideAngular(a){return this._outer.run(a)}}const bP={};function Xb(o){if(0==o._nesting&&!o.hasPendingMicrotasks&&!o.isStable)try{o._nesting++,o.onMicrotaskEmpty.emit(null)}finally{if(o._nesting--,!o.hasPendingMicrotasks)try{o.runOutsideAngular(()=>o.onStable.emit(null))}finally{o.isStable=!0}}}function Yl(o){o.hasPendingMicrotasks=!!(o._hasPendingMicrotasks||(o.shouldCoalesceEventChangeDetection||o.shouldCoalesceRunChangeDetection)&&-1!==o.lastRequestAnimationFrameId)}function Ja(o){o._nesting++,o.isStable&&(o.isStable=!1,o.onUnstable.emit(null))}function pf(o){o._nesting--,Xb(o)}class yn{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Bo,this.onMicrotaskEmpty=new Bo,this.onStable=new Bo,this.onError=new Bo}run(a,l,f){return a.apply(l,f)}runGuarded(a,l,f){return a.apply(l,f)}runOutsideAngular(a){return a()}runTask(a,l,f,g){return a.apply(l,f)}}const D1=new ur(""),gf=new ur("");let nI,IP=(()=>{class o{constructor(l,f,g){this._ngZone=l,this.registry=f,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,nI||(function tI(o){nI=o}(g),g.addToWindow(f)),this._watchAngularEvents(),l.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Vn.assertNotInAngularZone(),Jb(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Jb(()=>{for(;0!==this._callbacks.length;){let l=this._callbacks.pop();clearTimeout(l.timeoutId),l.doneCb(this._didWork)}this._didWork=!1});else{let l=this.getPendingTasks();this._callbacks=this._callbacks.filter(f=>!f.updateCb||!f.updateCb(l)||(clearTimeout(f.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(l=>({source:l.source,creationLocation:l.creationLocation,data:l.data})):[]}addCallback(l,f,g){let _=-1;f&&f>0&&(_=setTimeout(()=>{this._callbacks=this._callbacks.filter(b=>b.timeoutId!==_),l(this._didWork,this.getPendingTasks())},f)),this._callbacks.push({doneCb:l,timeoutId:_,updateCb:g})}whenStable(l,f,g){if(g&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(l,f,g),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(l){this.registry.registerApplication(l,this)}unregisterApplication(l){this.registry.unregisterApplication(l)}findProviders(l,f,g){return[]}}return o.\u0275fac=function(l){return new(l||o)(Xe(Vn),Xe(Zr),Xe(gf))},o.\u0275prov=kt({token:o,factory:o.\u0275fac}),o})(),Zr=(()=>{class o{constructor(){this._applications=new Map}registerApplication(l,f){this._applications.set(l,f)}unregisterApplication(l){this._applications.delete(l)}unregisterAllApplications(){this._applications.clear()}getTestability(l){return this._applications.get(l)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(l,f=!0){return nI?.findTestabilityInTree(this,l,f)??null}}return o.\u0275fac=function(l){return new(l||o)},o.\u0275prov=kt({token:o,factory:o.\u0275fac,providedIn:"platform"}),o})(),Xa=null;const Id=new ur("AllowMultipleToken"),zg=new ur("PlatformDestroyListeners");class A1{constructor(a,l){this.name=a,this.token=l}}function N1(o,a,l=[]){const f=`Platform: ${a}`,g=new ur(f);return(_=[])=>{let b=vf();if(!b||b.injector.get(Id,!1)){const T=[...l,..._,{provide:g,useValue:!0}];o?o(T):function x1(o){if(Xa&&!Xa.get(Id,!1))throw new X(400,!1);Xa=o;const a=o.get(M1);(function _f(o){const a=o.get(w1,null);a&&a.forEach(l=>l())})(o)}(function yf(o=[],a){return id.create({name:a,providers:[{provide:kh,useValue:"platform"},{provide:zg,useValue:new Set([()=>Xa=null])},...o]})}(T,f))}return function rI(o){const a=vf();if(!a)throw new X(401,!1);return a}()}}function vf(){return Xa?.get(M1)??null}let M1=(()=>{class o{constructor(l){this._injector=l,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(l,f){const g=function k1(o,a){let l;return l="noop"===o?new yn:("zone.js"===o?void 0:o)||new Vn(a),l}(f?.ngZone,function R1(o){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!o||!o.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!o||!o.ngZoneRunCoalescing)||!1}}(f)),_=[{provide:Vn,useValue:g}];return g.run(()=>{const b=id.create({providers:_,parent:this.injector,name:l.moduleType.name}),T=l.create(b),N=T.injector.get(Fh,null);if(!N)throw new X(402,!1);return g.runOutsideAngular(()=>{const R=g.onError.subscribe({next:F=>{N.handleError(F)}});T.onDestroy(()=>{_v(this._modules,T),R.unsubscribe()})}),function mv(o,a,l){try{const f=l();return Ny(f)?f.catch(g=>{throw a.runOutsideAngular(()=>o.handleError(g)),g}):f}catch(f){throw a.runOutsideAngular(()=>o.handleError(f)),f}}(N,g,()=>{const R=T.injector.get(Zl);return R.runInitializers(),R.donePromise.then(()=>(function ab(o){en(o,"Expected localeId to be defined"),"string"==typeof o&&(Ag=o.toLowerCase().replace(/_/g,"-"))}(T.injector.get(po,tf)||tf),this._moduleDoBootstrap(T),T))})})}bootstrapModule(l,f=[]){const g=O1({},f);return function T1(o,a,l){const f=new Ib(l);return Promise.resolve(f)}(0,0,l).then(_=>this.bootstrapModuleFactory(_,g))}_moduleDoBootstrap(l){const f=l.injector.get(wf);if(l._bootstrapComponents.length>0)l._bootstrapComponents.forEach(g=>f.bootstrap(g));else{if(!l.instance.ngDoBootstrap)throw new X(403,!1);l.instance.ngDoBootstrap(f)}this._modules.push(l)}onDestroy(l){this._destroyListeners.push(l)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new X(404,!1);this._modules.slice().forEach(f=>f.destroy()),this._destroyListeners.forEach(f=>f());const l=this._injector.get(zg,null);l&&(l.forEach(f=>f()),l.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return o.\u0275fac=function(l){return new(l||o)(Xe(id))},o.\u0275prov=kt({token:o,factory:o.\u0275fac,providedIn:"platform"}),o})();function O1(o,a){return Array.isArray(a)?a.reduce(O1,o):{...o,...a}}let wf=(()=>{class o{constructor(l,f,g){this._zone=l,this._injector=f,this._exceptionHandler=g,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const _=new G.y(T=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{T.next(this._stable),T.complete()})}),b=new G.y(T=>{let N;this._zone.runOutsideAngular(()=>{N=this._zone.onStable.subscribe(()=>{Vn.assertNotInAngularZone(),Jb(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,T.next(!0))})})});const R=this._zone.onUnstable.subscribe(()=>{Vn.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{T.next(!1)}))});return()=>{N.unsubscribe(),R.unsubscribe()}});this.isStable=(0,he.T)(_,b.pipe((0,De.B)()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(l,f){const g=l instanceof qT;if(!this._injector.get(Zl).done)throw!g&&_i(l),new X(405,false);let b;b=g?l:this._injector.get(sg).resolveComponentFactory(l),this.componentTypes.push(b.componentType);const T=function S1(o){return o.isBoundToModule}(b)?void 0:this._injector.get(Og),R=b.create(id.NULL,[],f||b.selector,T),F=R.location.nativeElement,K=R.injector.get(D1,null);return K?.registerApplication(F),R.onDestroy(()=>{this.detachView(R.hostView),_v(this.components,R),K?.unregisterApplication(F)}),this._loadComponent(R),R}tick(){if(this._runningTick)throw new X(101,!1);try{this._runningTick=!0;for(let l of this._views)l.detectChanges()}catch(l){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(l))}finally{this._runningTick=!1}}attachView(l){const f=l;this._views.push(f),f.attachToAppRef(this)}detachView(l){const f=l;_v(this._views,f),f.detachFromAppRef()}_loadComponent(l){this.attachView(l.hostView),this.tick(),this.components.push(l),this._injector.get(Kl,[]).concat(this._bootstrapListeners).forEach(g=>g(l))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(l=>l()),this._views.slice().forEach(l=>l.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(l){return this._destroyListeners.push(l),()=>_v(this._destroyListeners,l)}destroy(){if(this._destroyed)throw new X(406,!1);const l=this._injector;l.destroy&&!l.destroyed&&l.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return o.\u0275fac=function(l){return new(l||o)(Xe(Vn),Xe(Pl),Xe(Fh))},o.\u0275prov=kt({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();function _v(o,a){const l=o.indexOf(a);l>-1&&o.splice(l,1)}function L1(){return!1}let oI=(()=>{class o{}return o.__NG_ELEMENT_ID__=aI,o})();function aI(o){return function CP(o,a,l){if(hl(o)&&!l){const f=Wr(o.index,a);return new py(f,f)}return 47&o.type?new py(a[16],a):null}(Yi(),Ye(),16==(16&o))}class Kg{constructor(){}supports(a){return wy(a)}create(a){return new hI(a)}}const Td=(o,a)=>a;class hI{constructor(a){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=a||Td}forEachItem(a){let l;for(l=this._itHead;null!==l;l=l._next)a(l)}forEachOperation(a){let l=this._itHead,f=this._removalsHead,g=0,_=null;for(;l||f;){const b=!f||l&&l.currentIndex<bf(f,g,_)?l:f,T=bf(b,g,_),N=b.currentIndex;if(b===f)g--,f=f._nextRemoved;else if(l=l._next,null==b.previousIndex)g++;else{_||(_=[]);const R=T-g,F=N-g;if(R!=F){for(let oe=0;oe<R;oe++){const Ee=oe<_.length?_[oe]:_[oe]=0,$e=Ee+oe;F<=$e&&$e<R&&(_[oe]=Ee+1)}_[b.previousIndex]=F-R}}T!==N&&a(b,T,N)}}forEachPreviousItem(a){let l;for(l=this._previousItHead;null!==l;l=l._nextPrevious)a(l)}forEachAddedItem(a){let l;for(l=this._additionsHead;null!==l;l=l._nextAdded)a(l)}forEachMovedItem(a){let l;for(l=this._movesHead;null!==l;l=l._nextMoved)a(l)}forEachRemovedItem(a){let l;for(l=this._removalsHead;null!==l;l=l._nextRemoved)a(l)}forEachIdentityChange(a){let l;for(l=this._identityChangesHead;null!==l;l=l._nextIdentityChange)a(l)}diff(a){if(null==a&&(a=[]),!wy(a))throw new X(900,!1);return this.check(a)?this:null}onDestroy(){}check(a){this._reset();let g,_,b,l=this._itHead,f=!1;if(Array.isArray(a)){this.length=a.length;for(let T=0;T<this.length;T++)_=a[T],b=this._trackByFn(T,_),null!==l&&Object.is(l.trackById,b)?(f&&(l=this._verifyReinsertion(l,_,b,T)),Object.is(l.item,_)||this._addIdentityChange(l,_)):(l=this._mismatch(l,_,b,T),f=!0),l=l._next}else g=0,function LS(o,a){if(Array.isArray(o))for(let l=0;l<o.length;l++)a(o[l]);else{const l=o[Vl()]();let f;for(;!(f=l.next()).done;)a(f.value)}}(a,T=>{b=this._trackByFn(g,T),null!==l&&Object.is(l.trackById,b)?(f&&(l=this._verifyReinsertion(l,T,b,g)),Object.is(l.item,T)||this._addIdentityChange(l,T)):(l=this._mismatch(l,T,b,g),f=!0),l=l._next,g++}),this.length=g;return this._truncate(l),this.collection=a,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let a;for(a=this._previousItHead=this._itHead;null!==a;a=a._next)a._nextPrevious=a._next;for(a=this._additionsHead;null!==a;a=a._nextAdded)a.previousIndex=a.currentIndex;for(this._additionsHead=this._additionsTail=null,a=this._movesHead;null!==a;a=a._nextMoved)a.previousIndex=a.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(a,l,f,g){let _;return null===a?_=this._itTail:(_=a._prev,this._remove(a)),null!==(a=null===this._unlinkedRecords?null:this._unlinkedRecords.get(f,null))?(Object.is(a.item,l)||this._addIdentityChange(a,l),this._reinsertAfter(a,_,g)):null!==(a=null===this._linkedRecords?null:this._linkedRecords.get(f,g))?(Object.is(a.item,l)||this._addIdentityChange(a,l),this._moveAfter(a,_,g)):a=this._addAfter(new AP(l,f),_,g),a}_verifyReinsertion(a,l,f,g){let _=null===this._unlinkedRecords?null:this._unlinkedRecords.get(f,null);return null!==_?a=this._reinsertAfter(_,a._prev,g):a.currentIndex!=g&&(a.currentIndex=g,this._addToMoves(a,g)),a}_truncate(a){for(;null!==a;){const l=a._next;this._addToRemovals(this._unlink(a)),a=l}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(a,l,f){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(a);const g=a._prevRemoved,_=a._nextRemoved;return null===g?this._removalsHead=_:g._nextRemoved=_,null===_?this._removalsTail=g:_._prevRemoved=g,this._insertAfter(a,l,f),this._addToMoves(a,f),a}_moveAfter(a,l,f){return this._unlink(a),this._insertAfter(a,l,f),this._addToMoves(a,f),a}_addAfter(a,l,f){return this._insertAfter(a,l,f),this._additionsTail=null===this._additionsTail?this._additionsHead=a:this._additionsTail._nextAdded=a,a}_insertAfter(a,l,f){const g=null===l?this._itHead:l._next;return a._next=g,a._prev=l,null===g?this._itTail=a:g._prev=a,null===l?this._itHead=a:l._next=a,null===this._linkedRecords&&(this._linkedRecords=new Ho),this._linkedRecords.put(a),a.currentIndex=f,a}_remove(a){return this._addToRemovals(this._unlink(a))}_unlink(a){null!==this._linkedRecords&&this._linkedRecords.remove(a);const l=a._prev,f=a._next;return null===l?this._itHead=f:l._next=f,null===f?this._itTail=l:f._prev=l,a}_addToMoves(a,l){return a.previousIndex===l||(this._movesTail=null===this._movesTail?this._movesHead=a:this._movesTail._nextMoved=a),a}_addToRemovals(a){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Ho),this._unlinkedRecords.put(a),a.currentIndex=null,a._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=a,a._prevRemoved=null):(a._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=a),a}_addIdentityChange(a,l){return a.item=l,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=a:this._identityChangesTail._nextIdentityChange=a,a}}class AP{constructor(a,l){this.item=a,this.trackById=l,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class xr{constructor(){this._head=null,this._tail=null}add(a){null===this._head?(this._head=this._tail=a,a._nextDup=null,a._prevDup=null):(this._tail._nextDup=a,a._prevDup=this._tail,a._nextDup=null,this._tail=a)}get(a,l){let f;for(f=this._head;null!==f;f=f._nextDup)if((null===l||l<=f.currentIndex)&&Object.is(f.trackById,a))return f;return null}remove(a){const l=a._prevDup,f=a._nextDup;return null===l?this._head=f:l._nextDup=f,null===f?this._tail=l:f._prevDup=l,null===this._head}}class Ho{constructor(){this.map=new Map}put(a){const l=a.trackById;let f=this.map.get(l);f||(f=new xr,this.map.set(l,f)),f.add(a)}get(a,l){const g=this.map.get(a);return g?g.get(a,l):null}remove(a){const l=a.trackById;return this.map.get(l).remove(a)&&this.map.delete(l),a}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function bf(o,a,l){const f=o.previousIndex;if(null===f)return f;let g=0;return l&&f<l.length&&(g=l[f]),f+a+g}class wv{constructor(){}supports(a){return a instanceof Map||FS(a)}create(){return new F1}}class F1{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(a){let l;for(l=this._mapHead;null!==l;l=l._next)a(l)}forEachPreviousItem(a){let l;for(l=this._previousMapHead;null!==l;l=l._nextPrevious)a(l)}forEachChangedItem(a){let l;for(l=this._changesHead;null!==l;l=l._nextChanged)a(l)}forEachAddedItem(a){let l;for(l=this._additionsHead;null!==l;l=l._nextAdded)a(l)}forEachRemovedItem(a){let l;for(l=this._removalsHead;null!==l;l=l._nextRemoved)a(l)}diff(a){if(a){if(!(a instanceof Map||FS(a)))throw new X(900,!1)}else a=new Map;return this.check(a)?this:null}onDestroy(){}check(a){this._reset();let l=this._mapHead;if(this._appendAfter=null,this._forEach(a,(f,g)=>{if(l&&l.key===g)this._maybeAddToChanges(l,f),this._appendAfter=l,l=l._next;else{const _=this._getOrCreateRecordForKey(g,f);l=this._insertBeforeOrAppend(l,_)}}),l){l._prev&&(l._prev._next=null),this._removalsHead=l;for(let f=l;null!==f;f=f._nextRemoved)f===this._mapHead&&(this._mapHead=null),this._records.delete(f.key),f._nextRemoved=f._next,f.previousValue=f.currentValue,f.currentValue=null,f._prev=null,f._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(a,l){if(a){const f=a._prev;return l._next=a,l._prev=f,a._prev=l,f&&(f._next=l),a===this._mapHead&&(this._mapHead=l),this._appendAfter=a,a}return this._appendAfter?(this._appendAfter._next=l,l._prev=this._appendAfter):this._mapHead=l,this._appendAfter=l,null}_getOrCreateRecordForKey(a,l){if(this._records.has(a)){const g=this._records.get(a);this._maybeAddToChanges(g,l);const _=g._prev,b=g._next;return _&&(_._next=b),b&&(b._prev=_),g._next=null,g._prev=null,g}const f=new fI(a);return this._records.set(a,f),f.currentValue=l,this._addToAdditions(f),f}_reset(){if(this.isDirty){let a;for(this._previousMapHead=this._mapHead,a=this._previousMapHead;null!==a;a=a._next)a._nextPrevious=a._next;for(a=this._changesHead;null!==a;a=a._nextChanged)a.previousValue=a.currentValue;for(a=this._additionsHead;null!=a;a=a._nextAdded)a.previousValue=a.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(a,l){Object.is(l,a.currentValue)||(a.previousValue=a.currentValue,a.currentValue=l,this._addToChanges(a))}_addToAdditions(a){null===this._additionsHead?this._additionsHead=this._additionsTail=a:(this._additionsTail._nextAdded=a,this._additionsTail=a)}_addToChanges(a){null===this._changesHead?this._changesHead=this._changesTail=a:(this._changesTail._nextChanged=a,this._changesTail=a)}_forEach(a,l){a instanceof Map?a.forEach(l):Object.keys(a).forEach(f=>l(a[f],f))}}class fI{constructor(a){this.key=a,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Xl(){return new Ev([new Kg])}let Ev=(()=>{class o{constructor(l){this.factories=l}static create(l,f){if(null!=f){const g=f.factories.slice();l=l.concat(g)}return new o(l)}static extend(l){return{provide:o,useFactory:f=>o.create(l,f||Xl()),deps:[[o,new Al,new Ba]]}}find(l){const f=this.factories.find(g=>g.supports(l));if(null!=f)return f;throw new X(901,!1)}}return o.\u0275prov=kt({token:o,providedIn:"root",factory:Xl}),o})();function bv(){return new ec([new wv])}let ec=(()=>{class o{constructor(l){this.factories=l}static create(l,f){if(f){const g=f.factories.slice();l=l.concat(g)}return new o(l)}static extend(l){return{provide:o,useFactory:f=>o.create(l,f||bv()),deps:[[o,new Al,new Ba]]}}find(l){const f=this.factories.find(g=>g.supports(l));if(f)return f;throw new X(901,!1)}}return o.\u0275prov=kt({token:o,providedIn:"root",factory:bv}),o})();const xP=N1(null,"core",[]);let NP=(()=>{class o{constructor(l){}}return o.\u0275fac=function(l){return new(l||o)(Xe(wf))},o.\u0275mod=_e({type:o}),o.\u0275inj=kr({}),o})();function MP(o){return"boolean"==typeof o?o:null!=o&&"false"!==o}},579:(we,pe,V)=>{"use strict";V.d(pe,{EI:()=>ze,Gb:()=>Dn,Iv:()=>Gr,Kz:()=>Ot,Xd:()=>Hr,lT:()=>rn,xP:()=>Xe});var O=V(5861),h=V(9681),G=V(1877),he=V(2090),De=V(4859);V(2833);const Ne="analytics",be="firebase_id",te="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",ce="https://www.googletagmanager.com/gtag/js",We=new G.Yd("@firebase/analytics");function de(H){return Promise.all(H.map(U=>U.catch(k=>k)))}function qe(H,U){const k=document.createElement("script");k.src=`${ce}?l=${H}&id=${U}`,k.async=!0,document.head.appendChild(k)}function X(H,U,k,j,ie,Ce){return ae.apply(this,arguments)}function ae(){return(ae=(0,O.Z)(function*(H,U,k,j,ie,Ce){const Je=j[ie];try{if(Je)yield U[Je];else{const Tt=(yield de(k)).find(gt=>gt.measurementId===ie);Tt&&(yield U[Tt.appId])}}catch(Ze){We.error(Ze)}H("config",ie,Ce)})).apply(this,arguments)}function Se(H,U,k,j,ie){return Fe.apply(this,arguments)}function Fe(){return(Fe=(0,O.Z)(function*(H,U,k,j,ie){try{let Ce=[];if(ie&&ie.send_to){let Je=ie.send_to;Array.isArray(Je)||(Je=[Je]);const Ze=yield de(k);for(const Tt of Je){const gt=Ze.find(Jn=>Jn.measurementId===Tt),Jt=gt&&U[gt.appId];if(!Jt){Ce=[];break}Ce.push(Jt)}}0===Ce.length&&(Ce=Object.values(U)),yield Promise.all(Ce),H("event",j,ie||{})}catch(Ce){We.error(Ce)}})).apply(this,arguments)}function Be(H){const U=window.document.getElementsByTagName("script");for(const k of Object.values(U))if(k.src&&k.src.includes(ce)&&k.src.includes(H))return k;return null}const ue=new he.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),me=new class fe{constructor(U={},k=1e3){this.throttleMetadata=U,this.intervalMillis=k}getThrottleMetadata(U){return this.throttleMetadata[U]}setThrottleMetadata(U,k){this.throttleMetadata[U]=k}deleteThrottleMetadata(U){delete this.throttleMetadata[U]}};function Ie(H){return new Headers({Accept:"application/json","x-goog-api-key":H})}function Oe(H){return Te.apply(this,arguments)}function Te(){return(Te=(0,O.Z)(function*(H){var U;const{appId:k,apiKey:j}=H,ie={method:"GET",headers:Ie(j)},Ce=te.replace("{app-id}",k),Je=yield fetch(Ce,ie);if(200!==Je.status&&304!==Je.status){let Ze="";try{const Tt=yield Je.json();null!==(U=Tt.error)&&void 0!==U&&U.message&&(Ze=Tt.error.message)}catch{}throw ue.create("config-fetch-failed",{httpStatus:Je.status,responseMessage:Ze})}return Je.json()})).apply(this,arguments)}function rt(H){return xt.apply(this,arguments)}function xt(){return(xt=(0,O.Z)(function*(H,U=me,k){const{appId:j,apiKey:ie,measurementId:Ce}=H.options;if(!j)throw ue.create("no-app-id");if(!ie){if(Ce)return{measurementId:Ce,appId:j};throw ue.create("no-api-key")}const Je=U.getThrottleMetadata(j)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Ze=new Wt;return setTimeout((0,O.Z)(function*(){Ze.abort()}),void 0!==k?k:6e4),In({appId:j,apiKey:ie,measurementId:Ce},Je,Ze,U)})).apply(this,arguments)}function In(H,U,k){return Cn.apply(this,arguments)}function Cn(){return(Cn=(0,O.Z)(function*(H,{throttleEndTimeMillis:U,backoffCount:k},j,ie=me){var Ce,Je;const{appId:Ze,measurementId:Tt}=H;try{yield Ft(j,U)}catch(gt){if(Tt)return We.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Tt} provided in the "measurementId" field in the local Firebase config. [${null===(Ce=gt)||void 0===Ce?void 0:Ce.message}]`),{appId:Ze,measurementId:Tt};throw gt}try{const gt=yield Oe(H);return ie.deleteThrottleMetadata(Ze),gt}catch(gt){const Jt=gt;if(!en(Jt)){if(ie.deleteThrottleMetadata(Ze),Tt)return We.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Tt} provided in the "measurementId" field in the local Firebase config. [${Jt?.message}]`),{appId:Ze,measurementId:Tt};throw gt}const Jn=503===Number(null===(Je=Jt?.customData)||void 0===Je?void 0:Je.httpStatus)?(0,he.$s)(k,ie.intervalMillis,30):(0,he.$s)(k,ie.intervalMillis),zt={throttleEndTimeMillis:Date.now()+Jn,backoffCount:k+1};return ie.setThrottleMetadata(Ze,zt),We.debug(`Calling attemptFetch again in ${Jn} millis`),In(H,zt,j,ie)}})).apply(this,arguments)}function Ft(H,U){return new Promise((k,j)=>{const ie=Math.max(U-Date.now(),0),Ce=setTimeout(k,ie);H.addEventListener(()=>{clearTimeout(Ce),j(ue.create("fetch-throttle",{throttleEndTimeMillis:U}))})})}function en(H){if(!(H instanceof he.ZR&&H.customData))return!1;const U=Number(H.customData.httpStatus);return 429===U||500===U||503===U||504===U}class Wt{constructor(){this.listeners=[]}addEventListener(U){this.listeners.push(U)}abort(){this.listeners.forEach(U=>U())}}let Zn,wr;function nn(){return(nn=(0,O.Z)(function*(H,U,k,j,ie){if(ie&&ie.global)H("event",k,j);else{const Ce=yield U;H("event",k,Object.assign(Object.assign({},j),{send_to:Ce}))}})).apply(this,arguments)}function Fn(){return(Fn=(0,O.Z)(function*(H,U,k,j){if(j&&j.global)return H("set",{screen_name:k}),Promise.resolve();H("config",yield U,{update:!0,screen_name:k})})).apply(this,arguments)}function mi(){return(mi=(0,O.Z)(function*(H,U,k,j){if(j&&j.global)return H("set",{user_id:k}),Promise.resolve();H("config",yield U,{update:!0,user_id:k})})).apply(this,arguments)}function Or(){return(Or=(0,O.Z)(function*(H,U,k,j){if(j&&j.global){const ie={};for(const Ce of Object.keys(k))ie[`user_properties.${Ce}`]=k[Ce];return H("set",ie),Promise.resolve()}H("config",yield U,{update:!0,user_properties:k})})).apply(this,arguments)}function ri(){return(ri=(0,O.Z)(function*(H,U){const k=yield H;window[`ga-disable-${k}`]=!U})).apply(this,arguments)}function Br(H){wr=H}function ii(H){Zn=H}function jr(){return En.apply(this,arguments)}function En(){return(En=(0,O.Z)(function*(){var H;if(!(0,he.hl)())return We.warn(ue.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,he.eu)()}catch(U){return We.warn(ue.create("indexeddb-unavailable",{errorInfo:null===(H=U)||void 0===H?void 0:H.toString()}).message),!1}return!0})).apply(this,arguments)}function Er(){return(Er=(0,O.Z)(function*(H,U,k,j,ie,Ce,Je){var Ze;const Tt=rt(H);Tt.then(Wn=>{k[Wn.measurementId]=Wn.appId,H.options.measurementId&&Wn.measurementId!==H.options.measurementId&&We.warn(`The measurement ID in the local Firebase config (${H.options.measurementId}) does not match the measurement ID fetched from the server (${Wn.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Wn=>We.error(Wn)),U.push(Tt);const gt=jr().then(Wn=>{if(Wn)return j.getId()}),[Jt,Jn]=yield Promise.all([Tt,gt]);Be(Ce)||qe(Ce,Jt.measurementId),wr&&(ie("consent","default",wr),Br(void 0)),ie("js",new Date);const zt=null!==(Ze=Je?.config)&&void 0!==Ze?Ze:{};return zt.origin="firebase",zt.update=!0,null!=Jn&&(zt[be]=Jn),ie("config",Jt.measurementId,zt),Zn&&(ie("set",Zn),ii(void 0)),Jt.measurementId})).apply(this,arguments)}class Qr{constructor(U){this.app=U}_delete(){return delete Yn[this.app.options.appId],Promise.resolve()}}let Yn={},$r=[];const Pr={};let Nt,ht,bn="dataLayer",Bn="gtag",Gn=!1;function Hr(H){if(Gn)throw ue.create("already-initialized");H.dataLayerName&&(bn=H.dataLayerName),H.gtagName&&(Bn=H.gtagName)}function di(H,U,k){!function br(){const H=[];if((0,he.ru)()&&H.push("This is a browser extension environment."),(0,he.zI)()||H.push("Cookies are not available."),H.length>0){const U=H.map((j,ie)=>`(${ie+1}) ${j}`).join(" "),k=ue.create("invalid-analytics-context",{errorInfo:U});We.warn(k.message)}}();const j=H.options.appId;if(!j)throw ue.create("no-app-id");if(!H.options.apiKey){if(!H.options.measurementId)throw ue.create("no-api-key");We.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${H.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Yn[j])throw ue.create("already-exists",{id:j});if(!Gn){!function J(H){let U=[];Array.isArray(window[H])?U=window[H]:window[H]=U}(bn);const{wrappedGtag:Ce,gtagCore:Je}=function Ue(H,U,k,j,ie){let Ce=function(...Je){window[j].push(arguments)};return window[ie]&&"function"==typeof window[ie]&&(Ce=window[ie]),window[ie]=function He(H,U,k,j){function Ce(){return(Ce=(0,O.Z)(function*(Je,Ze,Tt){try{"event"===Je?yield Se(H,U,k,Ze,Tt):"config"===Je?yield X(H,U,k,j,Ze,Tt):"consent"===Je?H("consent","update",Tt):H("set",Ze)}catch(gt){We.error(gt)}})).apply(this,arguments)}return function ie(Je,Ze,Tt){return Ce.apply(this,arguments)}}(Ce,H,U,k),{gtagCore:Ce,wrappedGtag:window[ie]}}(Yn,$r,Pr,bn,Bn);ht=Ce,Nt=Je,Gn=!0}return Yn[j]=function It(H,U,k,j,ie,Ce,Je){return Er.apply(this,arguments)}(H,$r,Pr,U,Nt,bn,k),new Qr(H)}function Dn(){return Lr.apply(this,arguments)}function Lr(){return(Lr=(0,O.Z)(function*(){if((0,he.ru)()||!(0,he.zI)()||!(0,he.hl)())return!1;try{return yield(0,he.eu)()}catch{return!1}})).apply(this,arguments)}function rn(H,U,k){H=(0,he.m9)(H),function kt(H,U,k,j){return Fn.apply(this,arguments)}(ht,Yn[H.app.options.appId],U,k).catch(j=>We.error(j))}function Gr(H,U,k){H=(0,he.m9)(H),function kr(H,U,k,j){return mi.apply(this,arguments)}(ht,Yn[H.app.options.appId],U,k).catch(j=>We.error(j))}function Xe(H,U,k){H=(0,he.m9)(H),function cr(H,U,k,j){return Or.apply(this,arguments)}(ht,Yn[H.app.options.appId],U,k).catch(j=>We.error(j))}function ze(H,U){H=(0,he.m9)(H),function ki(H,U){return ri.apply(this,arguments)}(Yn[H.app.options.appId],U).catch(k=>We.error(k))}function Ot(H,U,k,j){H=(0,he.m9)(H),function Rr(H,U,k,j,ie){return nn.apply(this,arguments)}(ht,Yn[H.app.options.appId],U,k,j).catch(ie=>We.error(ie))}const dn="@firebase/analytics";!function Y(){(0,h._registerComponent)(new De.wA(Ne,(U,{options:k})=>di(U.getProvider("app").getImmediate(),U.getProvider("installations-internal").getImmediate(),k),"PUBLIC")),(0,h._registerComponent)(new De.wA("analytics-internal",function H(U){try{const k=U.getProvider(Ne).getImmediate();return{logEvent:(j,ie,Ce)=>Ot(k,j,ie,Ce)}}catch(k){throw ue.create("interop-component-reg-failed",{reason:k})}},"PRIVATE")),(0,h.registerVersion)(dn,"0.8.4"),(0,h.registerVersion)(dn,"0.8.4","esm2017")}()},3942:(we,pe,V)=>{"use strict";V.d(pe,{Z:()=>qe});var O=V(2090),h=V(4859),G=V(9681),he=V(1877);class De{constructor(X,ae){this._delegate=X,this.firebase=ae,(0,G._addComponent)(X,new h.wA("app-compat",()=>this,"PUBLIC")),this.container=X.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(X){this._delegate.automaticDataCollectionEnabled=X}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(X=>{this._delegate.checkDestroyed(),X()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,G.deleteApp)(this._delegate)))}_getService(X,ae=G._DEFAULT_ENTRY_NAME){var Se;this._delegate.checkDestroyed();const Fe=this._delegate.container.getProvider(X);return!Fe.isInitialized()&&"EXPLICIT"===(null===(Se=Fe.getComponent())||void 0===Se?void 0:Se.instantiationMode)&&Fe.initialize(),Fe.getImmediate({identifier:ae})}_removeServiceInstance(X,ae=G._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(X).clearInstance(ae)}_addComponent(X){(0,G._addComponent)(this._delegate,X)}_addOrOverwriteComponent(X){(0,G._addOrOverwriteComponent)(this._delegate,X)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Ne=new O.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),ne=function ge(){const J=function be(J){const X={},ae={__esModule:!0,initializeApp:function He(ue,Me={}){const je=G.initializeApp(ue,Me);if((0,O.r3)(X,je.name))return X[je.name];const fe=new J(je,ae);return X[je.name]=fe,fe},app:Fe,registerVersion:G.registerVersion,setLogLevel:G.setLogLevel,onLog:G.onLog,apps:null,SDK_VERSION:G.SDK_VERSION,INTERNAL:{registerComponent:function Be(ue){const Me=ue.name,je=Me.replace("-compat","");if(G._registerComponent(ue)&&"PUBLIC"===ue.type){const fe=(me=Fe())=>{if("function"!=typeof me[je])throw Ne.create("invalid-app-argument",{appName:Me});return me[je]()};void 0!==ue.serviceProps&&(0,O.ZB)(fe,ue.serviceProps),ae[je]=fe,J.prototype[je]=function(...me){return this._getService.bind(this,Me).apply(this,ue.multipleInstances?me:[])}}return"PUBLIC"===ue.type?ae[je]:null},removeApp:function Se(ue){delete X[ue]},useAsService:function it(ue,Me){return"serverAuth"===Me?null:Me},modularAPIs:G}};function Fe(ue){if(!(0,O.r3)(X,ue=ue||G._DEFAULT_ENTRY_NAME))throw Ne.create("no-app",{appName:ue});return X[ue]}return ae.default=ae,Object.defineProperty(ae,"apps",{get:function Ue(){return Object.keys(X).map(ue=>X[ue])}}),Fe.App=J,ae}(De);return J.INTERNAL=Object.assign(Object.assign({},J.INTERNAL),{createFirebaseNamespace:ge,extendNamespace:function X(ae){(0,O.ZB)(J,ae)},createSubscribe:O.ne,ErrorFactory:O.LL,deepExtend:O.ZB}),J}(),te=new he.Yd("@firebase/app-compat");if((0,O.jU)()&&void 0!==self.firebase){te.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const J=self.firebase.SDK_VERSION;J&&J.indexOf("LITE")>=0&&te.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const qe=ne;!function de(J){(0,G.registerVersion)("@firebase/app-compat","0.1.39",J)}()},9681:(we,pe,V)=>{"use strict";V.r(pe),V.d(pe,{FirebaseError:()=>he.ZR,SDK_VERSION:()=>ki,_DEFAULT_ENTRY_NAME:()=>Cn,_addComponent:()=>Zn,_addOrOverwriteComponent:()=>Rr,_apps:()=>en,_clearComponents:()=>kr,_components:()=>Wt,_getProvider:()=>kt,_registerComponent:()=>nn,_removeServiceInstance:()=>Fn,deleteApp:()=>ii,getApp:()=>wr,getApps:()=>Br,initializeApp:()=>ri,onLog:()=>It,registerVersion:()=>En,setLogLevel:()=>Er});var O=V(5861),h=V(4859),G=V(1877),he=V(2090),De=V(8766);class xe{constructor(ze){this.container=ze}getPlatformInfoString(){return this.container.getProviders().map(pt=>{if(function Ne(Xe){return"VERSION"===Xe.getComponent()?.type}(pt)){const Ot=pt.getImmediate();return`${Ot.library}/${Ot.version}`}return null}).filter(pt=>pt).join(" ")}}const be="@firebase/app",ne=new G.Yd("@firebase/app"),Cn="[DEFAULT]",Ft={[be]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},en=new Map,Wt=new Map;function Zn(Xe,ze){try{Xe.container.addComponent(ze)}catch(pt){ne.debug(`Component ${ze.name} failed to register with FirebaseApp ${Xe.name}`,pt)}}function Rr(Xe,ze){Xe.container.addOrOverwriteComponent(ze)}function nn(Xe){const ze=Xe.name;if(Wt.has(ze))return ne.debug(`There were multiple attempts to register component ${ze}.`),!1;Wt.set(ze,Xe);for(const pt of en.values())Zn(pt,Xe);return!0}function kt(Xe,ze){const pt=Xe.container.getProvider("heartbeat").getImmediate({optional:!0});return pt&&pt.triggerHeartbeat(),Xe.container.getProvider(ze)}function Fn(Xe,ze,pt=Cn){kt(Xe,ze).clearInstance(pt)}function kr(){Wt.clear()}const cr=new he.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Or{constructor(ze,pt,Ot){this._isDeleted=!1,this._options=Object.assign({},ze),this._config=Object.assign({},pt),this._name=pt.name,this._automaticDataCollectionEnabled=pt.automaticDataCollectionEnabled,this._container=Ot,this.container.addComponent(new h.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ze){this.checkDestroyed(),this._automaticDataCollectionEnabled=ze}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(ze){this._isDeleted=ze}checkDestroyed(){if(this.isDeleted)throw cr.create("app-deleted",{appName:this._name})}}const ki="9.14.0";function ri(Xe,ze={}){let pt=Xe;"object"!=typeof ze&&(ze={name:ze});const Ot=Object.assign({name:Cn,automaticDataCollectionEnabled:!1},ze),Ht=Ot.name;if("string"!=typeof Ht||!Ht)throw cr.create("bad-app-name",{appName:String(Ht)});if(pt||(pt=(0,he.aH)()),!pt)throw cr.create("no-options");const dn=en.get(Ht);if(dn){if((0,he.vZ)(pt,dn.options)&&(0,he.vZ)(Ot,dn.config))return dn;throw cr.create("duplicate-app",{appName:Ht})}const re=new h.H0(Ht);for(const H of Wt.values())re.addComponent(H);const Y=new Or(pt,Ot,re);return en.set(Ht,Y),Y}function wr(Xe=Cn){const ze=en.get(Xe);if(!ze&&Xe===Cn)return ri();if(!ze)throw cr.create("no-app",{appName:Xe});return ze}function Br(){return Array.from(en.values())}function ii(Xe){return jr.apply(this,arguments)}function jr(){return(jr=(0,O.Z)(function*(Xe){const ze=Xe.name;en.has(ze)&&(en.delete(ze),yield Promise.all(Xe.container.getProviders().map(pt=>pt.delete())),Xe.isDeleted=!0)})).apply(this,arguments)}function En(Xe,ze,pt){var Ot;let Ht=null!==(Ot=Ft[Xe])&&void 0!==Ot?Ot:Xe;pt&&(Ht+=`-${pt}`);const dn=Ht.match(/\s|\//),re=ze.match(/\s|\//);if(dn||re){const Y=[`Unable to register library "${Ht}" with version "${ze}":`];return dn&&Y.push(`library name "${Ht}" contains illegal characters (whitespace or "/")`),dn&&re&&Y.push("and"),re&&Y.push(`version name "${ze}" contains illegal characters (whitespace or "/")`),void ne.warn(Y.join(" "))}nn(new h.wA(`${Ht}-version`,()=>({library:Ht,version:ze}),"VERSION"))}function It(Xe,ze){if(null!==Xe&&"function"!=typeof Xe)throw cr.create("invalid-log-argument");(0,G.Am)(Xe,ze)}function Er(Xe){(0,G.Ub)(Xe)}const $r="firebase-heartbeat-store";let Pr=null;function bn(){return Pr||(Pr=(0,De.X3)("firebase-heartbeat-database",1,{upgrade:(Xe,ze)=>{0===ze&&Xe.createObjectStore($r)}}).catch(Xe=>{throw cr.create("idb-open",{originalErrorMessage:Xe.message})})),Pr}function Nt(){return(Nt=(0,O.Z)(function*(Xe){var ze;try{return(yield bn()).transaction($r).objectStore($r).get(Hr(Xe))}catch(pt){if(pt instanceof he.ZR)ne.warn(pt.message);else{const Ot=cr.create("idb-get",{originalErrorMessage:null===(ze=pt)||void 0===ze?void 0:ze.message});ne.warn(Ot.message)}}})).apply(this,arguments)}function ht(Xe,ze){return Gn.apply(this,arguments)}function Gn(){return(Gn=(0,O.Z)(function*(Xe,ze){var pt;try{const Ht=(yield bn()).transaction($r,"readwrite");return yield Ht.objectStore($r).put(ze,Hr(Xe)),Ht.done}catch(Ot){if(Ot instanceof he.ZR)ne.warn(Ot.message);else{const Ht=cr.create("idb-set",{originalErrorMessage:null===(pt=Ot)||void 0===pt?void 0:pt.message});ne.warn(Ht.message)}}})).apply(this,arguments)}function Hr(Xe){return`${Xe.name}!${Xe.options.appId}`}class ar{constructor(ze){this.container=ze,this._heartbeatsCache=null;const pt=this.container.getProvider("app").getImmediate();this._storage=new Lr(pt),this._heartbeatsCachePromise=this._storage.read().then(Ot=>(this._heartbeatsCache=Ot,Ot))}triggerHeartbeat(){var ze=this;return(0,O.Z)(function*(){const Ot=ze.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Ht=Qn();if(null===ze._heartbeatsCache&&(ze._heartbeatsCache=yield ze._heartbeatsCachePromise),ze._heartbeatsCache.lastSentHeartbeatDate!==Ht&&!ze._heartbeatsCache.heartbeats.some(dn=>dn.date===Ht))return ze._heartbeatsCache.heartbeats.push({date:Ht,agent:Ot}),ze._heartbeatsCache.heartbeats=ze._heartbeatsCache.heartbeats.filter(dn=>{const re=new Date(dn.date).valueOf();return Date.now()-re<=2592e6}),ze._storage.overwrite(ze._heartbeatsCache)})()}getHeartbeatsHeader(){var ze=this;return(0,O.Z)(function*(){if(null===ze._heartbeatsCache&&(yield ze._heartbeatsCachePromise),null===ze._heartbeatsCache||0===ze._heartbeatsCache.heartbeats.length)return"";const pt=Qn(),{heartbeatsToSend:Ot,unsentEntries:Ht}=function Dn(Xe,ze=1024){const pt=[];let Ot=Xe.slice();for(const Ht of Xe){const dn=pt.find(re=>re.agent===Ht.agent);if(dn){if(dn.dates.push(Ht.date),rn(pt)>ze){dn.dates.pop();break}}else if(pt.push({agent:Ht.agent,dates:[Ht.date]}),rn(pt)>ze){pt.pop();break}Ot=Ot.slice(1)}return{heartbeatsToSend:pt,unsentEntries:Ot}}(ze._heartbeatsCache.heartbeats),dn=(0,he.L)(JSON.stringify({version:2,heartbeats:Ot}));return ze._heartbeatsCache.lastSentHeartbeatDate=pt,Ht.length>0?(ze._heartbeatsCache.heartbeats=Ht,yield ze._storage.overwrite(ze._heartbeatsCache)):(ze._heartbeatsCache.heartbeats=[],ze._storage.overwrite(ze._heartbeatsCache)),dn})()}}function Qn(){return(new Date).toISOString().substring(0,10)}class Lr{constructor(ze){this.app=ze,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,O.Z)(function*(){return!!(0,he.hl)()&&(0,he.eu)().then(()=>!0).catch(()=>!1)})()}read(){var ze=this;return(0,O.Z)(function*(){return(yield ze._canUseIndexedDBPromise)&&(yield function Bn(Xe){return Nt.apply(this,arguments)}(ze.app))||{heartbeats:[]}})()}overwrite(ze){var pt=this;return(0,O.Z)(function*(){var Ot;if(yield pt._canUseIndexedDBPromise){const dn=yield pt.read();return ht(pt.app,{lastSentHeartbeatDate:null!==(Ot=ze.lastSentHeartbeatDate)&&void 0!==Ot?Ot:dn.lastSentHeartbeatDate,heartbeats:ze.heartbeats})}})()}add(ze){var pt=this;return(0,O.Z)(function*(){var Ot;if(yield pt._canUseIndexedDBPromise){const dn=yield pt.read();return ht(pt.app,{lastSentHeartbeatDate:null!==(Ot=ze.lastSentHeartbeatDate)&&void 0!==Ot?Ot:dn.lastSentHeartbeatDate,heartbeats:[...dn.heartbeats,...ze.heartbeats]})}})()}}function rn(Xe){return(0,he.L)(JSON.stringify({version:2,heartbeats:Xe})).length}!function Gr(Xe){nn(new h.wA("platform-logger",ze=>new xe(ze),"PRIVATE")),nn(new h.wA("heartbeat",ze=>new ar(ze),"PRIVATE")),En(be,"0.8.4",Xe),En(be,"0.8.4","esm2017"),En("fire-js","")}("")},4859:(we,pe,V)=>{"use strict";V.d(pe,{H0:()=>be,wA:()=>G,zt:()=>De});var O=V(5861),h=V(2090);class G{constructor(ne,te,ce){this.name=ne,this.instanceFactory=te,this.type=ce,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(ne){return this.instantiationMode=ne,this}setMultipleInstances(ne){return this.multipleInstances=ne,this}setServiceProps(ne){return this.serviceProps=ne,this}setInstanceCreatedCallback(ne){return this.onInstanceCreated=ne,this}}const he="[DEFAULT]";class De{constructor(ne,te){this.name=ne,this.container=te,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(ne){const te=this.normalizeInstanceIdentifier(ne);if(!this.instancesDeferred.has(te)){const ce=new h.BH;if(this.instancesDeferred.set(te,ce),this.isInitialized(te)||this.shouldAutoInitialize())try{const We=this.getOrInitializeService({instanceIdentifier:te});We&&ce.resolve(We)}catch{}}return this.instancesDeferred.get(te).promise}getImmediate(ne){var te;const ce=this.normalizeInstanceIdentifier(ne?.identifier),We=null!==(te=ne?.optional)&&void 0!==te&&te;if(!this.isInitialized(ce)&&!this.shouldAutoInitialize()){if(We)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:ce})}catch(de){if(We)return null;throw de}}getComponent(){return this.component}setComponent(ne){if(ne.name!==this.name)throw Error(`Mismatching Component ${ne.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=ne,this.shouldAutoInitialize()){if(function Ne(ge){return"EAGER"===ge.instantiationMode}(ne))try{this.getOrInitializeService({instanceIdentifier:he})}catch{}for(const[te,ce]of this.instancesDeferred.entries()){const We=this.normalizeInstanceIdentifier(te);try{const de=this.getOrInitializeService({instanceIdentifier:We});ce.resolve(de)}catch{}}}}clearInstance(ne=he){this.instancesDeferred.delete(ne),this.instancesOptions.delete(ne),this.instances.delete(ne)}delete(){var ne=this;return(0,O.Z)(function*(){const te=Array.from(ne.instances.values());yield Promise.all([...te.filter(ce=>"INTERNAL"in ce).map(ce=>ce.INTERNAL.delete()),...te.filter(ce=>"_delete"in ce).map(ce=>ce._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(ne=he){return this.instances.has(ne)}getOptions(ne=he){return this.instancesOptions.get(ne)||{}}initialize(ne={}){const{options:te={}}=ne,ce=this.normalizeInstanceIdentifier(ne.instanceIdentifier);if(this.isInitialized(ce))throw Error(`${this.name}(${ce}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const We=this.getOrInitializeService({instanceIdentifier:ce,options:te});for(const[de,qe]of this.instancesDeferred.entries())ce===this.normalizeInstanceIdentifier(de)&&qe.resolve(We);return We}onInit(ne,te){var ce;const We=this.normalizeInstanceIdentifier(te),de=null!==(ce=this.onInitCallbacks.get(We))&&void 0!==ce?ce:new Set;de.add(ne),this.onInitCallbacks.set(We,de);const qe=this.instances.get(We);return qe&&ne(qe,We),()=>{de.delete(ne)}}invokeOnInitCallbacks(ne,te){const ce=this.onInitCallbacks.get(te);if(ce)for(const We of ce)try{We(ne,te)}catch{}}getOrInitializeService({instanceIdentifier:ne,options:te={}}){let ce=this.instances.get(ne);if(!ce&&this.component&&(ce=this.component.instanceFactory(this.container,{instanceIdentifier:(ge=ne,ge===he?void 0:ge),options:te}),this.instances.set(ne,ce),this.instancesOptions.set(ne,te),this.invokeOnInitCallbacks(ce,ne),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,ne,ce)}catch{}var ge;return ce||null}normalizeInstanceIdentifier(ne=he){return this.component?this.component.multipleInstances?ne:he:ne}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class be{constructor(ne){this.name=ne,this.providers=new Map}addComponent(ne){const te=this.getProvider(ne.name);if(te.isComponentSet())throw new Error(`Component ${ne.name} has already been registered with ${this.name}`);te.setComponent(ne)}addOrOverwriteComponent(ne){this.getProvider(ne.name).isComponentSet()&&this.providers.delete(ne.name),this.addComponent(ne)}getProvider(ne){if(this.providers.has(ne))return this.providers.get(ne);const te=new De(ne,this);return this.providers.set(ne,te),te}getProviders(){return Array.from(this.providers.values())}}},2833:(we,pe,V)=>{"use strict";var O=V(5861),h=V(9681),G=V(4859),he=V(2090),De=V(8766);const xe="@firebase/installations",Ne="0.5.16",ge=`w:${Ne}`,ne="FIS_v2",J=new he.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function X(_e){return _e instanceof he.ZR&&_e.code.includes("request-failed")}function ae({projectId:_e}){return`https://firebaseinstallations.googleapis.com/v1/projects/${_e}/installations`}function Se(_e){return{token:_e.token,requestStatus:2,expiresIn:Me(_e.expiresIn),creationTime:Date.now()}}function Fe(_e,Ve){return He.apply(this,arguments)}function He(){return(He=(0,O.Z)(function*(_e,Ve){const jt=(yield Ve.json()).error;return J.create("request-failed",{requestName:_e,serverCode:jt.code,serverMessage:jt.message,serverStatus:jt.status})})).apply(this,arguments)}function Ue({apiKey:_e}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":_e})}function Be(_e,{refreshToken:Ve}){const st=Ue(_e);return st.append("Authorization",function je(_e){return`${ne} ${_e}`}(Ve)),st}function it(_e){return ue.apply(this,arguments)}function ue(){return(ue=(0,O.Z)(function*(_e){const Ve=yield _e();return Ve.status>=500&&Ve.status<600?_e():Ve})).apply(this,arguments)}function Me(_e){return Number(_e.replace("s","000"))}function fe(_e,Ve){return me.apply(this,arguments)}function me(){return(me=(0,O.Z)(function*({appConfig:_e,heartbeatServiceProvider:Ve},{fid:st}){const jt=ae(_e),dr=Ue(_e),Pt=Ve.getImmediate({optional:!0});if(Pt){const hr=yield Pt.getHeartbeatsHeader();hr&&dr.append("x-firebase-client",hr)}const jn={method:"POST",headers:dr,body:JSON.stringify({fid:st,authVersion:ne,appId:_e.appId,sdkVersion:ge})},_i=yield it(()=>fetch(jt,jn));if(_i.ok){const hr=yield _i.json();return{fid:hr.fid||st,registrationStatus:2,refreshToken:hr.refreshToken,authToken:Se(hr.authToken)}}throw yield Fe("Create Installation",_i)})).apply(this,arguments)}function Ie(_e){return new Promise(Ve=>{setTimeout(Ve,_e)})}const Te=/^[cdef][\w-]{21}$/;function xt(){try{const _e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(_e),_e[0]=112+_e[0]%16;const st=function In(_e){return function Oe(_e){return btoa(String.fromCharCode(..._e)).replace(/\+/g,"-").replace(/\//g,"_")}(_e).substr(0,22)}(_e);return Te.test(st)?st:""}catch{return""}}function Cn(_e){return`${_e.appName}!${_e.appId}`}const Ft=new Map;function en(_e,Ve){const st=Cn(_e);Rr(st,Ve),function nn(_e,Ve){const st=function Fn(){return!kt&&"BroadcastChannel"in self&&(kt=new BroadcastChannel("[Firebase] FID Change"),kt.onmessage=_e=>{Rr(_e.data.key,_e.data.fid)}),kt}();st&&st.postMessage({key:_e,fid:Ve}),function kr(){0===Ft.size&&kt&&(kt.close(),kt=null)}()}(st,Ve)}function Rr(_e,Ve){const st=Ft.get(_e);if(st)for(const jt of st)jt(Ve)}let kt=null;const Or="firebase-installations-store";let ki=null;function ri(){return ki||(ki=(0,De.X3)("firebase-installations-database",1,{upgrade:(_e,Ve)=>{0===Ve&&_e.createObjectStore(Or)}})),ki}function wr(_e,Ve){return Br.apply(this,arguments)}function Br(){return(Br=(0,O.Z)(function*(_e,Ve){const st=Cn(_e),dr=(yield ri()).transaction(Or,"readwrite"),Pt=dr.objectStore(Or),Tn=yield Pt.get(st);return yield Pt.put(Ve,st),yield dr.done,(!Tn||Tn.fid!==Ve.fid)&&en(_e,Ve.fid),Ve})).apply(this,arguments)}function ii(_e){return jr.apply(this,arguments)}function jr(){return(jr=(0,O.Z)(function*(_e){const Ve=Cn(_e),jt=(yield ri()).transaction(Or,"readwrite");yield jt.objectStore(Or).delete(Ve),yield jt.done})).apply(this,arguments)}function En(_e,Ve){return It.apply(this,arguments)}function It(){return(It=(0,O.Z)(function*(_e,Ve){const st=Cn(_e),dr=(yield ri()).transaction(Or,"readwrite"),Pt=dr.objectStore(Or),Tn=yield Pt.get(st),jn=Ve(Tn);return void 0===jn?yield Pt.delete(st):yield Pt.put(jn,st),yield dr.done,jn&&(!Tn||Tn.fid!==jn.fid)&&en(_e,jn.fid),jn})).apply(this,arguments)}function Er(_e){return Qr.apply(this,arguments)}function Qr(){return(Qr=(0,O.Z)(function*(_e){let Ve;const st=yield En(_e.appConfig,jt=>{const dr=Yn(jt),Pt=$r(_e,dr);return Ve=Pt.registrationPromise,Pt.installationEntry});return""===st.fid?{installationEntry:yield Ve}:{installationEntry:st,registrationPromise:Ve}})).apply(this,arguments)}function Yn(_e){return Gn(_e||{fid:xt(),registrationStatus:0})}function $r(_e,Ve){if(0===Ve.registrationStatus){if(!navigator.onLine)return{installationEntry:Ve,registrationPromise:Promise.reject(J.create("app-offline"))};const st={fid:Ve.fid,registrationStatus:1,registrationTime:Date.now()},jt=function Pr(_e,Ve){return bn.apply(this,arguments)}(_e,st);return{installationEntry:st,registrationPromise:jt}}return 1===Ve.registrationStatus?{installationEntry:Ve,registrationPromise:Bn(_e)}:{installationEntry:Ve}}function bn(){return(bn=(0,O.Z)(function*(_e,Ve){try{const st=yield fe(_e,Ve);return wr(_e.appConfig,st)}catch(st){throw X(st)&&409===st.customData.serverCode?yield ii(_e.appConfig):yield wr(_e.appConfig,{fid:Ve.fid,registrationStatus:0}),st}})).apply(this,arguments)}function Bn(_e){return Nt.apply(this,arguments)}function Nt(){return(Nt=(0,O.Z)(function*(_e){let Ve=yield ht(_e.appConfig);for(;1===Ve.registrationStatus;)yield Ie(100),Ve=yield ht(_e.appConfig);if(0===Ve.registrationStatus){const{installationEntry:st,registrationPromise:jt}=yield Er(_e);return jt||st}return Ve})).apply(this,arguments)}function ht(_e){return En(_e,Ve=>{if(!Ve)throw J.create("installation-not-found");return Gn(Ve)})}function Gn(_e){return function Hr(_e){return 1===_e.registrationStatus&&_e.registrationTime+1e4<Date.now()}(_e)?{fid:_e.fid,registrationStatus:0}:_e}function br(_e,Ve){return di.apply(this,arguments)}function di(){return(di=(0,O.Z)(function*({appConfig:_e,heartbeatServiceProvider:Ve},st){const jt=ar(_e,st),dr=Be(_e,st),Pt=Ve.getImmediate({optional:!0});if(Pt){const hr=yield Pt.getHeartbeatsHeader();hr&&dr.append("x-firebase-client",hr)}const jn={method:"POST",headers:dr,body:JSON.stringify({installation:{sdkVersion:ge,appId:_e.appId}})},_i=yield it(()=>fetch(jt,jn));if(_i.ok)return Se(yield _i.json());throw yield Fe("Generate Auth Token",_i)})).apply(this,arguments)}function ar(_e,{fid:Ve}){return`${ae(_e)}/${Ve}/authTokens:generate`}function Qn(_e){return Dn.apply(this,arguments)}function Dn(){return(Dn=(0,O.Z)(function*(_e,Ve=!1){let st;const jt=yield En(_e.appConfig,Pt=>{if(!pt(Pt))throw J.create("not-registered");const Tn=Pt.authToken;if(!Ve&&Ot(Tn))return Pt;if(1===Tn.requestStatus)return st=Lr(_e,Ve),Pt;{if(!navigator.onLine)throw J.create("app-offline");const jn=dn(Pt);return st=Xe(_e,jn),jn}});return st?yield st:jt.authToken})).apply(this,arguments)}function Lr(_e,Ve){return rn.apply(this,arguments)}function rn(){return(rn=(0,O.Z)(function*(_e,Ve){let st=yield Gr(_e.appConfig);for(;1===st.authToken.requestStatus;)yield Ie(100),st=yield Gr(_e.appConfig);const jt=st.authToken;return 0===jt.requestStatus?Qn(_e,Ve):jt})).apply(this,arguments)}function Gr(_e){return En(_e,Ve=>{if(!pt(Ve))throw J.create("not-registered");return function re(_e){return 1===_e.requestStatus&&_e.requestTime+1e4<Date.now()}(Ve.authToken)?Object.assign(Object.assign({},Ve),{authToken:{requestStatus:0}}):Ve})}function Xe(_e,Ve){return ze.apply(this,arguments)}function ze(){return(ze=(0,O.Z)(function*(_e,Ve){try{const st=yield br(_e,Ve),jt=Object.assign(Object.assign({},Ve),{authToken:st});return yield wr(_e.appConfig,jt),st}catch(st){if(!X(st)||401!==st.customData.serverCode&&404!==st.customData.serverCode){const jt=Object.assign(Object.assign({},Ve),{authToken:{requestStatus:0}});yield wr(_e.appConfig,jt)}else yield ii(_e.appConfig);throw st}})).apply(this,arguments)}function pt(_e){return void 0!==_e&&2===_e.registrationStatus}function Ot(_e){return 2===_e.requestStatus&&!function Ht(_e){const Ve=Date.now();return Ve<_e.creationTime||_e.creationTime+_e.expiresIn<Ve+36e5}(_e)}function dn(_e){const Ve={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},_e),{authToken:Ve})}function H(){return(H=(0,O.Z)(function*(_e){const Ve=_e,{installationEntry:st,registrationPromise:jt}=yield Er(Ve);return jt?jt.catch(console.error):Qn(Ve).catch(console.error),st.fid})).apply(this,arguments)}function k(){return(k=(0,O.Z)(function*(_e,Ve=!1){const st=_e;return yield j(st),(yield Qn(st,Ve)).token})).apply(this,arguments)}function j(_e){return ie.apply(this,arguments)}function ie(){return(ie=(0,O.Z)(function*(_e){const{registrationPromise:Ve}=yield Er(_e);Ve&&(yield Ve)})).apply(this,arguments)}function Wn(_e){return J.create("missing-app-config-values",{valueName:_e})}const xo="installations",Qo=_e=>{const Ve=_e.getProvider("app").getImmediate(),st=function zt(_e){if(!_e||!_e.options)throw Wn("App Configuration");if(!_e.name)throw Wn("App Name");const Ve=["projectId","apiKey","appId"];for(const st of Ve)if(!_e.options[st])throw Wn(st);return{appName:_e.name,projectId:_e.options.projectId,apiKey:_e.options.apiKey,appId:_e.options.appId}}(Ve);return{app:Ve,appConfig:st,heartbeatServiceProvider:(0,h._getProvider)(Ve,"heartbeat"),_delete:()=>Promise.resolve()}},cu=_e=>{const Ve=_e.getProvider("app").getImmediate(),st=(0,h._getProvider)(Ve,xo).getImmediate();return{getId:()=>function Y(_e){return H.apply(this,arguments)}(st),getToken:dr=>function U(_e){return k.apply(this,arguments)}(st,dr)}};(function Fr(){(0,h._registerComponent)(new G.wA(xo,Qo,"PUBLIC")),(0,h._registerComponent)(new G.wA("installations-internal",cu,"PRIVATE"))})(),(0,h.registerVersion)(xe,Ne),(0,h.registerVersion)(xe,Ne,"esm2017")},1877:(we,pe,V)=>{"use strict";V.d(pe,{Am:()=>ge,Ub:()=>be,Yd:()=>Ne,in:()=>h});const O=[];var h=(()=>{return(ne=h||(h={}))[ne.DEBUG=0]="DEBUG",ne[ne.VERBOSE=1]="VERBOSE",ne[ne.INFO=2]="INFO",ne[ne.WARN=3]="WARN",ne[ne.ERROR=4]="ERROR",ne[ne.SILENT=5]="SILENT",h;var ne})();const G={debug:h.DEBUG,verbose:h.VERBOSE,info:h.INFO,warn:h.WARN,error:h.ERROR,silent:h.SILENT},he=h.INFO,De={[h.DEBUG]:"log",[h.VERBOSE]:"log",[h.INFO]:"info",[h.WARN]:"warn",[h.ERROR]:"error"},xe=(ne,te,...ce)=>{if(te<ne.logLevel)return;const We=(new Date).toISOString(),de=De[te];if(!de)throw new Error(`Attempted to log a message with an invalid logType (value: ${te})`);console[de](`[${We}]  ${ne.name}:`,...ce)};class Ne{constructor(te){this.name=te,this._logLevel=he,this._logHandler=xe,this._userLogHandler=null,O.push(this)}get logLevel(){return this._logLevel}set logLevel(te){if(!(te in h))throw new TypeError(`Invalid value "${te}" assigned to \`logLevel\``);this._logLevel=te}setLogLevel(te){this._logLevel="string"==typeof te?G[te]:te}get logHandler(){return this._logHandler}set logHandler(te){if("function"!=typeof te)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=te}get userLogHandler(){return this._userLogHandler}set userLogHandler(te){this._userLogHandler=te}debug(...te){this._userLogHandler&&this._userLogHandler(this,h.DEBUG,...te),this._logHandler(this,h.DEBUG,...te)}log(...te){this._userLogHandler&&this._userLogHandler(this,h.VERBOSE,...te),this._logHandler(this,h.VERBOSE,...te)}info(...te){this._userLogHandler&&this._userLogHandler(this,h.INFO,...te),this._logHandler(this,h.INFO,...te)}warn(...te){this._userLogHandler&&this._userLogHandler(this,h.WARN,...te),this._logHandler(this,h.WARN,...te)}error(...te){this._userLogHandler&&this._userLogHandler(this,h.ERROR,...te),this._logHandler(this,h.ERROR,...te)}}function be(ne){O.forEach(te=>{te.setLogLevel(ne)})}function ge(ne,te){for(const ce of O){let We=null;te&&te.level&&(We=G[te.level]),ce.userLogHandler=null===ne?null:(de,qe,...J)=>{const X=J.map(ae=>{if(null==ae)return null;if("string"==typeof ae)return ae;if("number"==typeof ae||"boolean"==typeof ae)return ae.toString();if(ae instanceof Error)return ae.message;try{return JSON.stringify(ae)}catch{return null}}).filter(ae=>ae).join(" ");qe>=(We??de.logLevel)&&ne({level:h[qe].toLowerCase(),message:X,args:J,type:de.name})}}}},8766:(we,pe,V)=>{"use strict";V.d(pe,{Lj:()=>He,X3:()=>Fe});var O=V(5861);let G,he;const Ne=new WeakMap,be=new WeakMap,ge=new WeakMap,ne=new WeakMap,te=new WeakMap;let de={get(Me,je,fe){if(Me instanceof IDBTransaction){if("done"===je)return be.get(Me);if("objectStoreNames"===je)return Me.objectStoreNames||ge.get(Me);if("store"===je)return fe.objectStoreNames[1]?void 0:fe.objectStore(fe.objectStoreNames[0])}return ae(Me[je])},set:(Me,je,fe)=>(Me[je]=fe,!0),has:(Me,je)=>Me instanceof IDBTransaction&&("done"===je||"store"===je)||je in Me};function X(Me){return"function"==typeof Me?function J(Me){return Me!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function xe(){return he||(he=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(Me)?function(...je){return Me.apply(Se(this),je),ae(Ne.get(this))}:function(...je){return ae(Me.apply(Se(this),je))}:function(je,...fe){const me=Me.call(Se(this),je,...fe);return ge.set(me,je.sort?je.sort():[je]),ae(me)}}(Me):(Me instanceof IDBTransaction&&function We(Me){if(be.has(Me))return;const je=new Promise((fe,me)=>{const Ie=()=>{Me.removeEventListener("complete",Oe),Me.removeEventListener("error",Te),Me.removeEventListener("abort",Te)},Oe=()=>{fe(),Ie()},Te=()=>{me(Me.error||new DOMException("AbortError","AbortError")),Ie()};Me.addEventListener("complete",Oe),Me.addEventListener("error",Te),Me.addEventListener("abort",Te)});be.set(Me,je)}(Me),((Me,je)=>je.some(fe=>Me instanceof fe))(Me,function De(){return G||(G=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(Me,de):Me)}function ae(Me){if(Me instanceof IDBRequest)return function ce(Me){const je=new Promise((fe,me)=>{const Ie=()=>{Me.removeEventListener("success",Oe),Me.removeEventListener("error",Te)},Oe=()=>{fe(ae(Me.result)),Ie()},Te=()=>{me(Me.error),Ie()};Me.addEventListener("success",Oe),Me.addEventListener("error",Te)});return je.then(fe=>{fe instanceof IDBCursor&&Ne.set(fe,Me)}).catch(()=>{}),te.set(je,Me),je}(Me);if(ne.has(Me))return ne.get(Me);const je=X(Me);return je!==Me&&(ne.set(Me,je),te.set(je,Me)),je}const Se=Me=>te.get(Me);function Fe(Me,je,{blocked:fe,upgrade:me,blocking:Ie,terminated:Oe}={}){const Te=indexedDB.open(Me,je),rt=ae(Te);return me&&Te.addEventListener("upgradeneeded",xt=>{me(ae(Te.result),xt.oldVersion,xt.newVersion,ae(Te.transaction))}),fe&&Te.addEventListener("blocked",()=>fe()),rt.then(xt=>{Oe&&xt.addEventListener("close",()=>Oe()),Ie&&xt.addEventListener("versionchange",()=>Ie())}).catch(()=>{}),rt}function He(Me,{blocked:je}={}){const fe=indexedDB.deleteDatabase(Me);return je&&fe.addEventListener("blocked",()=>je()),ae(fe).then(()=>{})}const Ue=["get","getKey","getAll","getAllKeys","count"],Be=["put","add","delete","clear"],it=new Map;function ue(Me,je){if(!(Me instanceof IDBDatabase)||je in Me||"string"!=typeof je)return;if(it.get(je))return it.get(je);const fe=je.replace(/FromIndex$/,""),me=je!==fe,Ie=Be.includes(fe);if(!(fe in(me?IDBIndex:IDBObjectStore).prototype)||!Ie&&!Ue.includes(fe))return;const Oe=function(){var Te=(0,O.Z)(function*(rt,...xt){const In=this.transaction(rt,Ie?"readwrite":"readonly");let Cn=In.store;return me&&(Cn=Cn.index(xt.shift())),(yield Promise.all([Cn[fe](...xt),Ie&&In.done]))[0]});return function(xt){return Te.apply(this,arguments)}}();return it.set(je,Oe),Oe}!function qe(Me){de=Me(de)}(Me=>({...Me,get:(je,fe,me)=>ue(je,fe)||Me.get(je,fe,me),has:(je,fe)=>!!ue(je,fe)||Me.has(je,fe)}))},5861:(we,pe,V)=>{"use strict";function O(G,he,De,xe,Ne,be,ge){try{var ne=G[be](ge),te=ne.value}catch(ce){return void De(ce)}ne.done?he(te):Promise.resolve(te).then(xe,Ne)}function h(G){return function(){var he=this,De=arguments;return new Promise(function(xe,Ne){var be=G.apply(he,De);function ge(te){O(be,xe,Ne,ge,ne,"next",te)}function ne(te){O(be,xe,Ne,ge,ne,"throw",te)}ge(void 0)})}}V.d(pe,{Z:()=>h})}},we=>{we(we.s=3460)}]);